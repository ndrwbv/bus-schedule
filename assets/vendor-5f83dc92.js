function PN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const u=Object.getOwnPropertyDescriptor(r,i);u&&Object.defineProperty(e,i,u.get?u:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var xP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var LS={},ON={get exports(){return LS},set exports(e){LS=e}},My={},le={},CN={get exports(){return le},set exports(e){le=e}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=Symbol.for("react.element"),RN=Symbol.for("react.portal"),kN=Symbol.for("react.fragment"),LN=Symbol.for("react.strict_mode"),MN=Symbol.for("react.profiler"),DN=Symbol.for("react.provider"),NN=Symbol.for("react.context"),zN=Symbol.for("react.forward_ref"),BN=Symbol.for("react.suspense"),FN=Symbol.for("react.memo"),UN=Symbol.for("react.lazy"),MS=Symbol.iterator;function VN(e){return e===null||typeof e!="object"?null:(e=MS&&e[MS]||e["@@iterator"],typeof e=="function"?e:null)}var wP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EP=Object.assign,SP={};function Qd(e,t,n){this.props=e,this.context=t,this.refs=SP,this.updater=n||wP}Qd.prototype.isReactComponent={};Qd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function TP(){}TP.prototype=Qd.prototype;function Rb(e,t,n){this.props=e,this.context=t,this.refs=SP,this.updater=n||wP}var kb=Rb.prototype=new TP;kb.constructor=Rb;EP(kb,Qd.prototype);kb.isPureReactComponent=!0;var DS=Array.isArray,IP=Object.prototype.hasOwnProperty,Lb={current:null},AP={key:!0,ref:!0,__self:!0,__source:!0};function PP(e,t,n){var r,i={},u=null,f=null;if(t!=null)for(r in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(u=""+t.key),t)IP.call(t,r)&&!AP.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var y=Array(s),w=0;w<s;w++)y[w]=arguments[w+2];i.children=y}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:dm,type:e,key:u,ref:f,props:i,_owner:Lb.current}}function HN(e,t){return{$$typeof:dm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mb(e){return typeof e=="object"&&e!==null&&e.$$typeof===dm}function jN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var NS=/\/+/g;function T0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jN(""+e.key):t.toString(36)}function Gg(e,t,n,r,i){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case dm:case RN:f=!0}}if(f)return f=e,i=i(f),e=r===""?"."+T0(f,0):r,DS(i)?(n="",e!=null&&(n=e.replace(NS,"$&/")+"/"),Gg(i,t,n,"",function(w){return w})):i!=null&&(Mb(i)&&(i=HN(i,n+(!i.key||f&&f.key===i.key?"":(""+i.key).replace(NS,"$&/")+"/")+e)),t.push(i)),1;if(f=0,r=r===""?".":r+":",DS(e))for(var s=0;s<e.length;s++){u=e[s];var y=r+T0(u,s);f+=Gg(u,t,n,y,i)}else if(y=VN(e),typeof y=="function")for(e=y.call(e),s=0;!(u=e.next()).done;)u=u.value,y=r+T0(u,s++),f+=Gg(u,t,n,y,i);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function Xm(e,t,n){if(e==null)return e;var r=[],i=0;return Gg(e,r,"","",function(u){return t.call(n,u,i++)}),r}function $N(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Co={current:null},qg={transition:null},GN={ReactCurrentDispatcher:Co,ReactCurrentBatchConfig:qg,ReactCurrentOwner:Lb};Vn.Children={map:Xm,forEach:function(e,t,n){Xm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xm(e,function(){t++}),t},toArray:function(e){return Xm(e,function(t){return t})||[]},only:function(e){if(!Mb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vn.Component=Qd;Vn.Fragment=kN;Vn.Profiler=MN;Vn.PureComponent=Rb;Vn.StrictMode=LN;Vn.Suspense=BN;Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GN;Vn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=EP({},e.props),i=e.key,u=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,f=Lb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(y in t)IP.call(t,y)&&!AP.hasOwnProperty(y)&&(r[y]=t[y]===void 0&&s!==void 0?s[y]:t[y])}var y=arguments.length-2;if(y===1)r.children=n;else if(1<y){s=Array(y);for(var w=0;w<y;w++)s[w]=arguments[w+2];r.children=s}return{$$typeof:dm,type:e.type,key:i,ref:u,props:r,_owner:f}};Vn.createContext=function(e){return e={$$typeof:NN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DN,_context:e},e.Consumer=e};Vn.createElement=PP;Vn.createFactory=function(e){var t=PP.bind(null,e);return t.type=e,t};Vn.createRef=function(){return{current:null}};Vn.forwardRef=function(e){return{$$typeof:zN,render:e}};Vn.isValidElement=Mb;Vn.lazy=function(e){return{$$typeof:UN,_payload:{_status:-1,_result:e},_init:$N}};Vn.memo=function(e,t){return{$$typeof:FN,type:e,compare:t===void 0?null:t}};Vn.startTransition=function(e){var t=qg.transition;qg.transition={};try{e()}finally{qg.transition=t}};Vn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vn.useCallback=function(e,t){return Co.current.useCallback(e,t)};Vn.useContext=function(e){return Co.current.useContext(e)};Vn.useDebugValue=function(){};Vn.useDeferredValue=function(e){return Co.current.useDeferredValue(e)};Vn.useEffect=function(e,t){return Co.current.useEffect(e,t)};Vn.useId=function(){return Co.current.useId()};Vn.useImperativeHandle=function(e,t,n){return Co.current.useImperativeHandle(e,t,n)};Vn.useInsertionEffect=function(e,t){return Co.current.useInsertionEffect(e,t)};Vn.useLayoutEffect=function(e,t){return Co.current.useLayoutEffect(e,t)};Vn.useMemo=function(e,t){return Co.current.useMemo(e,t)};Vn.useReducer=function(e,t,n){return Co.current.useReducer(e,t,n)};Vn.useRef=function(e){return Co.current.useRef(e)};Vn.useState=function(e){return Co.current.useState(e)};Vn.useSyncExternalStore=function(e,t,n){return Co.current.useSyncExternalStore(e,t,n)};Vn.useTransition=function(){return Co.current.useTransition()};Vn.version="18.2.0";(function(e){e.exports=Vn})(CN);const Zr=bP(le),Rp=PN({__proto__:null,default:Zr},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN=le,WN=Symbol.for("react.element"),ZN=Symbol.for("react.fragment"),KN=Object.prototype.hasOwnProperty,XN=qN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YN={key:!0,ref:!0,__self:!0,__source:!0};function OP(e,t,n){var r,i={},u=null,f=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(f=t.ref);for(r in t)KN.call(t,r)&&!YN.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:WN,type:e,key:u,ref:f,props:i,_owner:XN.current}}My.Fragment=ZN;My.jsx=OP;My.jsxs=OP;(function(e){e.exports=My})(ON);var dh={},JN={get exports(){return dh},set exports(e){dh=e}},wa={},L1={},QN={get exports(){return L1},set exports(e){L1=e}},CP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Pe,et){var ze=Pe.length;Pe.push(et);e:for(;0<ze;){var rt=ze-1>>>1,Be=Pe[rt];if(0<i(Be,et))Pe[rt]=et,Pe[ze]=Be,ze=rt;else break e}}function n(Pe){return Pe.length===0?null:Pe[0]}function r(Pe){if(Pe.length===0)return null;var et=Pe[0],ze=Pe.pop();if(ze!==et){Pe[0]=ze;e:for(var rt=0,Be=Pe.length,qe=Be>>>1;rt<qe;){var $e=2*(rt+1)-1,Je=Pe[$e],Ae=$e+1,vt=Pe[Ae];if(0>i(Je,ze))Ae<Be&&0>i(vt,Je)?(Pe[rt]=vt,Pe[Ae]=ze,rt=Ae):(Pe[rt]=Je,Pe[$e]=ze,rt=$e);else if(Ae<Be&&0>i(vt,ze))Pe[rt]=vt,Pe[Ae]=ze,rt=Ae;else break e}}return et}function i(Pe,et){var ze=Pe.sortIndex-et.sortIndex;return ze!==0?ze:Pe.id-et.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,s=f.now();e.unstable_now=function(){return f.now()-s}}var y=[],w=[],I=1,A=null,R=3,O=!1,z=!1,V=!1,G=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Pe){for(var et=n(w);et!==null;){if(et.callback===null)r(w);else if(et.startTime<=Pe)r(w),et.sortIndex=et.expirationTime,t(y,et);else break;et=n(w)}}function Y(Pe){if(V=!1,j(Pe),!z)if(n(y)!==null)z=!0,Ye(Q);else{var et=n(w);et!==null&&pt(Y,et.startTime-Pe)}}function Q(Pe,et){z=!1,V&&(V=!1,F(se),se=-1),O=!0;var ze=R;try{for(j(et),A=n(y);A!==null&&(!(A.expirationTime>et)||Pe&&!Ee());){var rt=A.callback;if(typeof rt=="function"){A.callback=null,R=A.priorityLevel;var Be=rt(A.expirationTime<=et);et=e.unstable_now(),typeof Be=="function"?A.callback=Be:A===n(y)&&r(y),j(et)}else r(y);A=n(y)}if(A!==null)var qe=!0;else{var $e=n(w);$e!==null&&pt(Y,$e.startTime-et),qe=!1}return qe}finally{A=null,R=ze,O=!1}}var J=!1,ee=null,se=-1,ge=5,he=-1;function Ee(){return!(e.unstable_now()-he<ge)}function De(){if(ee!==null){var Pe=e.unstable_now();he=Pe;var et=!0;try{et=ee(!0,Pe)}finally{et?We():(J=!1,ee=null)}}else J=!1}var We;if(typeof B=="function")We=function(){B(De)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,tt=Fe.port2;Fe.port1.onmessage=De,We=function(){tt.postMessage(null)}}else We=function(){G(De,0)};function Ye(Pe){ee=Pe,J||(J=!0,We())}function pt(Pe,et){se=G(function(){Pe(e.unstable_now())},et)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Pe){Pe.callback=null},e.unstable_continueExecution=function(){z||O||(z=!0,Ye(Q))},e.unstable_forceFrameRate=function(Pe){0>Pe||125<Pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<Pe?Math.floor(1e3/Pe):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return n(y)},e.unstable_next=function(Pe){switch(R){case 1:case 2:case 3:var et=3;break;default:et=R}var ze=R;R=et;try{return Pe()}finally{R=ze}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Pe,et){switch(Pe){case 1:case 2:case 3:case 4:case 5:break;default:Pe=3}var ze=R;R=Pe;try{return et()}finally{R=ze}},e.unstable_scheduleCallback=function(Pe,et,ze){var rt=e.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?rt+ze:rt):ze=rt,Pe){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ze+Be,Pe={id:I++,callback:et,priorityLevel:Pe,startTime:ze,expirationTime:Be,sortIndex:-1},ze>rt?(Pe.sortIndex=ze,t(w,Pe),n(y)===null&&Pe===n(w)&&(V?(F(se),se=-1):V=!0,pt(Y,ze-rt))):(Pe.sortIndex=Be,t(y,Pe),z||O||(z=!0,Ye(Q))),Pe},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(Pe){var et=R;return function(){var ze=R;R=et;try{return Pe.apply(this,arguments)}finally{R=ze}}}})(CP);(function(e){e.exports=CP})(QN);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=le,xa=L1;function xt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kP=new Set,kp={};function bh(e,t){Fd(e,t),Fd(e+"Capture",t)}function Fd(e,t){for(kp[e]=t,e=0;e<t.length;e++)kP.add(t[e])}var Jl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M1=Object.prototype.hasOwnProperty,e4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zS={},BS={};function t4(e){return M1.call(BS,e)?!0:M1.call(zS,e)?!1:e4.test(e)?BS[e]=!0:(zS[e]=!0,!1)}function n4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r4(e,t,n,r){if(t===null||typeof t>"u"||n4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ro(e,t,n,r,i,u,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=f}var $i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$i[e]=new Ro(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$i[t]=new Ro(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$i[e]=new Ro(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$i[e]=new Ro(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$i[e]=new Ro(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$i[e]=new Ro(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$i[e]=new Ro(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$i[e]=new Ro(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$i[e]=new Ro(e,5,!1,e.toLowerCase(),null,!1,!1)});var Db=/[\-:]([a-z])/g;function Nb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Db,Nb);$i[t]=new Ro(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Db,Nb);$i[t]=new Ro(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Db,Nb);$i[t]=new Ro(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$i[e]=new Ro(e,1,!1,e.toLowerCase(),null,!1,!1)});$i.xlinkHref=new Ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$i[e]=new Ro(e,1,!1,e.toLowerCase(),null,!0,!0)});function zb(e,t,n,r){var i=$i.hasOwnProperty(t)?$i[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r4(t,n,i,r)&&(n=null),r||i===null?t4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ru=RP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ym=Symbol.for("react.element"),ud=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),Bb=Symbol.for("react.strict_mode"),D1=Symbol.for("react.profiler"),LP=Symbol.for("react.provider"),MP=Symbol.for("react.context"),Fb=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),z1=Symbol.for("react.suspense_list"),Ub=Symbol.for("react.memo"),Nu=Symbol.for("react.lazy"),DP=Symbol.for("react.offscreen"),FS=Symbol.iterator;function Mf(e){return e===null||typeof e!="object"?null:(e=FS&&e[FS]||e["@@iterator"],typeof e=="function"?e:null)}var Vr=Object.assign,I0;function Yf(e){if(I0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I0=t&&t[1]||""}return`
`+I0+e}var A0=!1;function P0(e,t){if(!e||A0)return"";A0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var r=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){r=w}e.call(t.prototype)}else{try{throw Error()}catch(w){r=w}e()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var i=w.stack.split(`
`),u=r.stack.split(`
`),f=i.length-1,s=u.length-1;1<=f&&0<=s&&i[f]!==u[s];)s--;for(;1<=f&&0<=s;f--,s--)if(i[f]!==u[s]){if(f!==1||s!==1)do if(f--,s--,0>s||i[f]!==u[s]){var y=`
`+i[f].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=f&&0<=s);break}}}finally{A0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yf(e):""}function i4(e){switch(e.tag){case 5:return Yf(e.type);case 16:return Yf("Lazy");case 13:return Yf("Suspense");case 19:return Yf("SuspenseList");case 0:case 2:case 15:return e=P0(e.type,!1),e;case 11:return e=P0(e.type.render,!1),e;case 1:return e=P0(e.type,!0),e;default:return""}}function B1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cd:return"Fragment";case ud:return"Portal";case D1:return"Profiler";case Bb:return"StrictMode";case N1:return"Suspense";case z1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MP:return(e.displayName||"Context")+".Consumer";case LP:return(e._context.displayName||"Context")+".Provider";case Fb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ub:return t=e.displayName||null,t!==null?t:B1(e.type)||"Memo";case Nu:t=e._payload,e=e._init;try{return B1(e(t))}catch{}}return null}function o4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B1(t);case 8:return t===Bb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function NP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a4(e){var t=NP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(f){r=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(f){r=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jm(e){e._valueTracker||(e._valueTracker=a4(e))}function zP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=NP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function F1(e,t){var n=t.checked;return Vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function US(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BP(e,t){t=t.checked,t!=null&&zb(e,"checked",t,!1)}function U1(e,t){BP(e,t);var n=cc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?V1(e,t.type,n):t.hasOwnProperty("defaultValue")&&V1(e,t.type,cc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function V1(e,t,n){(t!=="number"||bv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jf=Array.isArray;function Ed(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function H1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xt(91));return Vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function HS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xt(92));if(Jf(n)){if(1<n.length)throw Error(xt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cc(n)}}function FP(e,t){var n=cc(t.value),r=cc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function jS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qm,VP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qm=Qm||document.createElement("div"),Qm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s4=["Webkit","ms","Moz","O"];Object.keys(lp).forEach(function(e){s4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lp[t]=lp[e]})});function HP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lp.hasOwnProperty(e)&&lp[e]?(""+t).trim():t+"px"}function jP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var l4=Vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $1(e,t){if(t){if(l4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xt(62))}}function G1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q1=null;function Vb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W1=null,Sd=null,Td=null;function $S(e){if(e=mm(e)){if(typeof W1!="function")throw Error(xt(280));var t=e.stateNode;t&&(t=Fy(t),W1(e.stateNode,e.type,t))}}function $P(e){Sd?Td?Td.push(e):Td=[e]:Sd=e}function GP(){if(Sd){var e=Sd,t=Td;if(Td=Sd=null,$S(e),t)for(e=0;e<t.length;e++)$S(t[e])}}function qP(e,t){return e(t)}function WP(){}var O0=!1;function ZP(e,t,n){if(O0)return e(t,n);O0=!0;try{return qP(e,t,n)}finally{O0=!1,(Sd!==null||Td!==null)&&(WP(),GP())}}function Mp(e,t){var n=e.stateNode;if(n===null)return null;var r=Fy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xt(231,t,typeof n));return n}var Z1=!1;if(Jl)try{var Df={};Object.defineProperty(Df,"passive",{get:function(){Z1=!0}}),window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,Df)}catch{Z1=!1}function u4(e,t,n,r,i,u,f,s,y){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(I){this.onError(I)}}var up=!1,wv=null,Ev=!1,K1=null,c4={onError:function(e){up=!0,wv=e}};function h4(e,t,n,r,i,u,f,s,y){up=!1,wv=null,u4.apply(c4,arguments)}function d4(e,t,n,r,i,u,f,s,y){if(h4.apply(this,arguments),up){if(up){var w=wv;up=!1,wv=null}else throw Error(xt(198));Ev||(Ev=!0,K1=w)}}function wh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function KP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function GS(e){if(wh(e)!==e)throw Error(xt(188))}function f4(e){var t=e.alternate;if(!t){if(t=wh(e),t===null)throw Error(xt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var u=i.alternate;if(u===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return GS(i),e;if(u===r)return GS(i),t;u=u.sibling}throw Error(xt(188))}if(n.return!==r.return)n=i,r=u;else{for(var f=!1,s=i.child;s;){if(s===n){f=!0,n=i,r=u;break}if(s===r){f=!0,r=i,n=u;break}s=s.sibling}if(!f){for(s=u.child;s;){if(s===n){f=!0,n=u,r=i;break}if(s===r){f=!0,r=u,n=i;break}s=s.sibling}if(!f)throw Error(xt(189))}}if(n.alternate!==r)throw Error(xt(190))}if(n.tag!==3)throw Error(xt(188));return n.stateNode.current===n?e:t}function XP(e){return e=f4(e),e!==null?YP(e):null}function YP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=YP(e);if(t!==null)return t;e=e.sibling}return null}var JP=xa.unstable_scheduleCallback,qS=xa.unstable_cancelCallback,p4=xa.unstable_shouldYield,m4=xa.unstable_requestPaint,ti=xa.unstable_now,g4=xa.unstable_getCurrentPriorityLevel,Hb=xa.unstable_ImmediatePriority,QP=xa.unstable_UserBlockingPriority,Sv=xa.unstable_NormalPriority,v4=xa.unstable_LowPriority,eO=xa.unstable_IdlePriority,Dy=null,ul=null;function y4(e){if(ul&&typeof ul.onCommitFiberRoot=="function")try{ul.onCommitFiberRoot(Dy,e,void 0,(e.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:b4,_4=Math.log,x4=Math.LN2;function b4(e){return e>>>=0,e===0?32:31-(_4(e)/x4|0)|0}var eg=64,tg=4194304;function Qf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,u=e.pingedLanes,f=n&268435455;if(f!==0){var s=f&~i;s!==0?r=Qf(s):(u&=f,u!==0&&(r=Qf(u)))}else f=n&~i,f!==0?r=Qf(f):u!==0&&(r=Qf(u));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ts(t),i=1<<n,r|=e[n],t&=~i;return r}function w4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var f=31-Ts(u),s=1<<f,y=i[f];y===-1?(!(s&n)||s&r)&&(i[f]=w4(s,t)):y<=t&&(e.expiredLanes|=s),u&=~s}}function X1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tO(){var e=eg;return eg<<=1,!(eg&4194240)&&(eg=64),e}function C0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ts(t),e[t]=n}function S4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ts(n),u=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~u}}function jb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ts(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var cr=0;function nO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rO,$b,iO,oO,aO,Y1=!1,ng=[],Ku=null,Xu=null,Yu=null,Dp=new Map,Np=new Map,Bu=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WS(e,t){switch(e){case"focusin":case"focusout":Ku=null;break;case"dragenter":case"dragleave":Xu=null;break;case"mouseover":case"mouseout":Yu=null;break;case"pointerover":case"pointerout":Dp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Np.delete(t.pointerId)}}function Nf(e,t,n,r,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[i]},t!==null&&(t=mm(t),t!==null&&$b(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function I4(e,t,n,r,i){switch(t){case"focusin":return Ku=Nf(Ku,e,t,n,r,i),!0;case"dragenter":return Xu=Nf(Xu,e,t,n,r,i),!0;case"mouseover":return Yu=Nf(Yu,e,t,n,r,i),!0;case"pointerover":var u=i.pointerId;return Dp.set(u,Nf(Dp.get(u)||null,e,t,n,r,i)),!0;case"gotpointercapture":return u=i.pointerId,Np.set(u,Nf(Np.get(u)||null,e,t,n,r,i)),!0}return!1}function sO(e){var t=nh(e.target);if(t!==null){var n=wh(t);if(n!==null){if(t=n.tag,t===13){if(t=KP(n),t!==null){e.blockedOn=t,aO(e.priority,function(){iO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=J1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);q1=r,n.target.dispatchEvent(r),q1=null}else return t=mm(n),t!==null&&$b(t),e.blockedOn=n,!1;t.shift()}return!0}function ZS(e,t,n){Wg(e)&&n.delete(t)}function A4(){Y1=!1,Ku!==null&&Wg(Ku)&&(Ku=null),Xu!==null&&Wg(Xu)&&(Xu=null),Yu!==null&&Wg(Yu)&&(Yu=null),Dp.forEach(ZS),Np.forEach(ZS)}function zf(e,t){e.blockedOn===t&&(e.blockedOn=null,Y1||(Y1=!0,xa.unstable_scheduleCallback(xa.unstable_NormalPriority,A4)))}function zp(e){function t(i){return zf(i,e)}if(0<ng.length){zf(ng[0],e);for(var n=1;n<ng.length;n++){var r=ng[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ku!==null&&zf(Ku,e),Xu!==null&&zf(Xu,e),Yu!==null&&zf(Yu,e),Dp.forEach(t),Np.forEach(t),n=0;n<Bu.length;n++)r=Bu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bu.length&&(n=Bu[0],n.blockedOn===null);)sO(n),n.blockedOn===null&&Bu.shift()}var Id=ru.ReactCurrentBatchConfig,Iv=!0;function P4(e,t,n,r){var i=cr,u=Id.transition;Id.transition=null;try{cr=1,Gb(e,t,n,r)}finally{cr=i,Id.transition=u}}function O4(e,t,n,r){var i=cr,u=Id.transition;Id.transition=null;try{cr=4,Gb(e,t,n,r)}finally{cr=i,Id.transition=u}}function Gb(e,t,n,r){if(Iv){var i=J1(e,t,n,r);if(i===null)U0(e,t,r,Av,n),WS(e,r);else if(I4(i,e,t,n,r))r.stopPropagation();else if(WS(e,r),t&4&&-1<T4.indexOf(e)){for(;i!==null;){var u=mm(i);if(u!==null&&rO(u),u=J1(e,t,n,r),u===null&&U0(e,t,r,Av,n),u===i)break;i=u}i!==null&&r.stopPropagation()}else U0(e,t,r,null,n)}}var Av=null;function J1(e,t,n,r){if(Av=null,e=Vb(r),e=nh(e),e!==null)if(t=wh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=KP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Av=e,null}function lO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g4()){case Hb:return 1;case QP:return 4;case Sv:case v4:return 16;case eO:return 536870912;default:return 16}default:return 16}}var Gu=null,qb=null,Zg=null;function uO(){if(Zg)return Zg;var e,t=qb,n=t.length,r,i="value"in Gu?Gu.value:Gu.textContent,u=i.length;for(e=0;e<n&&t[e]===i[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===i[u-r];r++);return Zg=i.slice(e,1<r?1-r:void 0)}function Kg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rg(){return!0}function KS(){return!1}function Ea(e){function t(n,r,i,u,f){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(u):u[s]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?rg:KS,this.isPropagationStopped=KS,this}return Vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rg)},persist:function(){},isPersistent:rg}),t}var ef={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wb=Ea(ef),pm=Vr({},ef,{view:0,detail:0}),C4=Ea(pm),R0,k0,Bf,Ny=Vr({},pm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bf&&(Bf&&e.type==="mousemove"?(R0=e.screenX-Bf.screenX,k0=e.screenY-Bf.screenY):k0=R0=0,Bf=e),R0)},movementY:function(e){return"movementY"in e?e.movementY:k0}}),XS=Ea(Ny),R4=Vr({},Ny,{dataTransfer:0}),k4=Ea(R4),L4=Vr({},pm,{relatedTarget:0}),L0=Ea(L4),M4=Vr({},ef,{animationName:0,elapsedTime:0,pseudoElement:0}),D4=Ea(M4),N4=Vr({},ef,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z4=Ea(N4),B4=Vr({},ef,{data:0}),YS=Ea(B4),F4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=V4[e])?!!t[e]:!1}function Zb(){return H4}var j4=Vr({},pm,{key:function(e){if(e.key){var t=F4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zb,charCode:function(e){return e.type==="keypress"?Kg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$4=Ea(j4),G4=Vr({},Ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JS=Ea(G4),q4=Vr({},pm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zb}),W4=Ea(q4),Z4=Vr({},ef,{propertyName:0,elapsedTime:0,pseudoElement:0}),K4=Ea(Z4),X4=Vr({},Ny,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y4=Ea(X4),J4=[9,13,27,32],Kb=Jl&&"CompositionEvent"in window,cp=null;Jl&&"documentMode"in document&&(cp=document.documentMode);var Q4=Jl&&"TextEvent"in window&&!cp,cO=Jl&&(!Kb||cp&&8<cp&&11>=cp),QS=String.fromCharCode(32),eT=!1;function hO(e,t){switch(e){case"keyup":return J4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hd=!1;function ez(e,t){switch(e){case"compositionend":return dO(t);case"keypress":return t.which!==32?null:(eT=!0,QS);case"textInput":return e=t.data,e===QS&&eT?null:e;default:return null}}function tz(e,t){if(hd)return e==="compositionend"||!Kb&&hO(e,t)?(e=uO(),Zg=qb=Gu=null,hd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cO&&t.locale!=="ko"?null:t.data;default:return null}}var nz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nz[e.type]:t==="textarea"}function fO(e,t,n,r){$P(r),t=Pv(t,"onChange"),0<t.length&&(n=new Wb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hp=null,Bp=null;function rz(e){SO(e,0)}function zy(e){var t=pd(e);if(zP(t))return e}function iz(e,t){if(e==="change")return t}var pO=!1;if(Jl){var M0;if(Jl){var D0="oninput"in document;if(!D0){var nT=document.createElement("div");nT.setAttribute("oninput","return;"),D0=typeof nT.oninput=="function"}M0=D0}else M0=!1;pO=M0&&(!document.documentMode||9<document.documentMode)}function rT(){hp&&(hp.detachEvent("onpropertychange",mO),Bp=hp=null)}function mO(e){if(e.propertyName==="value"&&zy(Bp)){var t=[];fO(t,Bp,e,Vb(e)),ZP(rz,t)}}function oz(e,t,n){e==="focusin"?(rT(),hp=t,Bp=n,hp.attachEvent("onpropertychange",mO)):e==="focusout"&&rT()}function az(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zy(Bp)}function sz(e,t){if(e==="click")return zy(t)}function lz(e,t){if(e==="input"||e==="change")return zy(t)}function uz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ps=typeof Object.is=="function"?Object.is:uz;function Fp(e,t){if(Ps(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!M1.call(t,i)||!Ps(e[i],t[i]))return!1}return!0}function iT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oT(e,t){var n=iT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iT(n)}}function gO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vO(){for(var e=window,t=bv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bv(e.document)}return t}function Xb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cz(e){var t=vO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gO(n.ownerDocument.documentElement,n)){if(r!==null&&Xb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(r.start,i);r=r.end===void 0?u:Math.min(r.end,i),!e.extend&&u>r&&(i=r,r=u,u=i),i=oT(n,u);var f=oT(n,r);i&&f&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hz=Jl&&"documentMode"in document&&11>=document.documentMode,dd=null,Q1=null,dp=null,ex=!1;function aT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ex||dd==null||dd!==bv(r)||(r=dd,"selectionStart"in r&&Xb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dp&&Fp(dp,r)||(dp=r,r=Pv(Q1,"onSelect"),0<r.length&&(t=new Wb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dd)))}function ig(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fd={animationend:ig("Animation","AnimationEnd"),animationiteration:ig("Animation","AnimationIteration"),animationstart:ig("Animation","AnimationStart"),transitionend:ig("Transition","TransitionEnd")},N0={},yO={};Jl&&(yO=document.createElement("div").style,"AnimationEvent"in window||(delete fd.animationend.animation,delete fd.animationiteration.animation,delete fd.animationstart.animation),"TransitionEvent"in window||delete fd.transitionend.transition);function By(e){if(N0[e])return N0[e];if(!fd[e])return e;var t=fd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yO)return N0[e]=t[n];return e}var _O=By("animationend"),xO=By("animationiteration"),bO=By("animationstart"),wO=By("transitionend"),EO=new Map,sT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vc(e,t){EO.set(e,t),bh(t,[e])}for(var z0=0;z0<sT.length;z0++){var B0=sT[z0],dz=B0.toLowerCase(),fz=B0[0].toUpperCase()+B0.slice(1);vc(dz,"on"+fz)}vc(_O,"onAnimationEnd");vc(xO,"onAnimationIteration");vc(bO,"onAnimationStart");vc("dblclick","onDoubleClick");vc("focusin","onFocus");vc("focusout","onBlur");vc(wO,"onTransitionEnd");Fd("onMouseEnter",["mouseout","mouseover"]);Fd("onMouseLeave",["mouseout","mouseover"]);Fd("onPointerEnter",["pointerout","pointerover"]);Fd("onPointerLeave",["pointerout","pointerover"]);bh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bh("onBeforeInput",["compositionend","keypress","textInput","paste"]);bh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pz=new Set("cancel close invalid load scroll toggle".split(" ").concat(ep));function lT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,d4(r,t,void 0,e),e.currentTarget=null}function SO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var f=r.length-1;0<=f;f--){var s=r[f],y=s.instance,w=s.currentTarget;if(s=s.listener,y!==u&&i.isPropagationStopped())break e;lT(i,s,w),u=y}else for(f=0;f<r.length;f++){if(s=r[f],y=s.instance,w=s.currentTarget,s=s.listener,y!==u&&i.isPropagationStopped())break e;lT(i,s,w),u=y}}}if(Ev)throw e=K1,Ev=!1,K1=null,e}function Or(e,t){var n=t[ox];n===void 0&&(n=t[ox]=new Set);var r=e+"__bubble";n.has(r)||(TO(t,e,2,!1),n.add(r))}function F0(e,t,n){var r=0;t&&(r|=4),TO(n,e,r,t)}var og="_reactListening"+Math.random().toString(36).slice(2);function Up(e){if(!e[og]){e[og]=!0,kP.forEach(function(n){n!=="selectionchange"&&(pz.has(n)||F0(n,!1,e),F0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[og]||(t[og]=!0,F0("selectionchange",!1,t))}}function TO(e,t,n,r){switch(lO(t)){case 1:var i=P4;break;case 4:i=O4;break;default:i=Gb}n=i.bind(null,t,n,e),i=void 0,!Z1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function U0(e,t,n,r,i){var u=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(f===4)for(f=r.return;f!==null;){var y=f.tag;if((y===3||y===4)&&(y=f.stateNode.containerInfo,y===i||y.nodeType===8&&y.parentNode===i))return;f=f.return}for(;s!==null;){if(f=nh(s),f===null)return;if(y=f.tag,y===5||y===6){r=u=f;continue e}s=s.parentNode}}r=r.return}ZP(function(){var w=u,I=Vb(n),A=[];e:{var R=EO.get(e);if(R!==void 0){var O=Wb,z=e;switch(e){case"keypress":if(Kg(n)===0)break e;case"keydown":case"keyup":O=$4;break;case"focusin":z="focus",O=L0;break;case"focusout":z="blur",O=L0;break;case"beforeblur":case"afterblur":O=L0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=XS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=k4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=W4;break;case _O:case xO:case bO:O=D4;break;case wO:O=K4;break;case"scroll":O=C4;break;case"wheel":O=Y4;break;case"copy":case"cut":case"paste":O=z4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=JS}var V=(t&4)!==0,G=!V&&e==="scroll",F=V?R!==null?R+"Capture":null:R;V=[];for(var B=w,j;B!==null;){j=B;var Y=j.stateNode;if(j.tag===5&&Y!==null&&(j=Y,F!==null&&(Y=Mp(B,F),Y!=null&&V.push(Vp(B,Y,j)))),G)break;B=B.return}0<V.length&&(R=new O(R,z,null,n,I),A.push({event:R,listeners:V}))}}if(!(t&7)){e:{if(R=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",R&&n!==q1&&(z=n.relatedTarget||n.fromElement)&&(nh(z)||z[Ql]))break e;if((O||R)&&(R=I.window===I?I:(R=I.ownerDocument)?R.defaultView||R.parentWindow:window,O?(z=n.relatedTarget||n.toElement,O=w,z=z?nh(z):null,z!==null&&(G=wh(z),z!==G||z.tag!==5&&z.tag!==6)&&(z=null)):(O=null,z=w),O!==z)){if(V=XS,Y="onMouseLeave",F="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(V=JS,Y="onPointerLeave",F="onPointerEnter",B="pointer"),G=O==null?R:pd(O),j=z==null?R:pd(z),R=new V(Y,B+"leave",O,n,I),R.target=G,R.relatedTarget=j,Y=null,nh(I)===w&&(V=new V(F,B+"enter",z,n,I),V.target=j,V.relatedTarget=G,Y=V),G=Y,O&&z)t:{for(V=O,F=z,B=0,j=V;j;j=Xh(j))B++;for(j=0,Y=F;Y;Y=Xh(Y))j++;for(;0<B-j;)V=Xh(V),B--;for(;0<j-B;)F=Xh(F),j--;for(;B--;){if(V===F||F!==null&&V===F.alternate)break t;V=Xh(V),F=Xh(F)}V=null}else V=null;O!==null&&uT(A,R,O,V,!1),z!==null&&G!==null&&uT(A,G,z,V,!0)}}e:{if(R=w?pd(w):window,O=R.nodeName&&R.nodeName.toLowerCase(),O==="select"||O==="input"&&R.type==="file")var Q=iz;else if(tT(R))if(pO)Q=lz;else{Q=az;var J=oz}else(O=R.nodeName)&&O.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(Q=sz);if(Q&&(Q=Q(e,w))){fO(A,Q,n,I);break e}J&&J(e,R,w),e==="focusout"&&(J=R._wrapperState)&&J.controlled&&R.type==="number"&&V1(R,"number",R.value)}switch(J=w?pd(w):window,e){case"focusin":(tT(J)||J.contentEditable==="true")&&(dd=J,Q1=w,dp=null);break;case"focusout":dp=Q1=dd=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,aT(A,n,I);break;case"selectionchange":if(hz)break;case"keydown":case"keyup":aT(A,n,I)}var ee;if(Kb)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else hd?hO(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(cO&&n.locale!=="ko"&&(hd||se!=="onCompositionStart"?se==="onCompositionEnd"&&hd&&(ee=uO()):(Gu=I,qb="value"in Gu?Gu.value:Gu.textContent,hd=!0)),J=Pv(w,se),0<J.length&&(se=new YS(se,e,null,n,I),A.push({event:se,listeners:J}),ee?se.data=ee:(ee=dO(n),ee!==null&&(se.data=ee)))),(ee=Q4?ez(e,n):tz(e,n))&&(w=Pv(w,"onBeforeInput"),0<w.length&&(I=new YS("onBeforeInput","beforeinput",null,n,I),A.push({event:I,listeners:w}),I.data=ee))}SO(A,t)})}function Vp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=Mp(e,n),u!=null&&r.unshift(Vp(e,u,i)),u=Mp(e,t),u!=null&&r.push(Vp(e,u,i))),e=e.return}return r}function Xh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uT(e,t,n,r,i){for(var u=t._reactName,f=[];n!==null&&n!==r;){var s=n,y=s.alternate,w=s.stateNode;if(y!==null&&y===r)break;s.tag===5&&w!==null&&(s=w,i?(y=Mp(n,u),y!=null&&f.unshift(Vp(n,y,s))):i||(y=Mp(n,u),y!=null&&f.push(Vp(n,y,s)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var mz=/\r\n?/g,gz=/\u0000|\uFFFD/g;function cT(e){return(typeof e=="string"?e:""+e).replace(mz,`
`).replace(gz,"")}function ag(e,t,n){if(t=cT(t),cT(e)!==t&&n)throw Error(xt(425))}function Ov(){}var tx=null,nx=null;function rx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ix=typeof setTimeout=="function"?setTimeout:void 0,vz=typeof clearTimeout=="function"?clearTimeout:void 0,hT=typeof Promise=="function"?Promise:void 0,yz=typeof queueMicrotask=="function"?queueMicrotask:typeof hT<"u"?function(e){return hT.resolve(null).then(e).catch(_z)}:ix;function _z(e){setTimeout(function(){throw e})}function V0(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zp(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zp(t)}function Ju(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tf=Math.random().toString(36).slice(2),rl="__reactFiber$"+tf,Hp="__reactProps$"+tf,Ql="__reactContainer$"+tf,ox="__reactEvents$"+tf,xz="__reactListeners$"+tf,bz="__reactHandles$"+tf;function nh(e){var t=e[rl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ql]||n[rl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dT(e);e!==null;){if(n=e[rl])return n;e=dT(e)}return t}e=n,n=e.parentNode}return null}function mm(e){return e=e[rl]||e[Ql],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xt(33))}function Fy(e){return e[Hp]||null}var ax=[],md=-1;function yc(e){return{current:e}}function Cr(e){0>md||(e.current=ax[md],ax[md]=null,md--)}function Ar(e,t){md++,ax[md]=e.current,e.current=t}var hc={},lo=yc(hc),qo=yc(!1),fh=hc;function Ud(e,t){var n=e.type.contextTypes;if(!n)return hc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in n)i[u]=t[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wo(e){return e=e.childContextTypes,e!=null}function Cv(){Cr(qo),Cr(lo)}function fT(e,t,n){if(lo.current!==hc)throw Error(xt(168));Ar(lo,t),Ar(qo,n)}function IO(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(xt(108,o4(e)||"Unknown",i));return Vr({},n,r)}function Rv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hc,fh=lo.current,Ar(lo,e),Ar(qo,qo.current),!0}function pT(e,t,n){var r=e.stateNode;if(!r)throw Error(xt(169));n?(e=IO(e,t,fh),r.__reactInternalMemoizedMergedChildContext=e,Cr(qo),Cr(lo),Ar(lo,e)):Cr(qo),Ar(qo,n)}var Gl=null,Uy=!1,H0=!1;function AO(e){Gl===null?Gl=[e]:Gl.push(e)}function wz(e){Uy=!0,AO(e)}function _c(){if(!H0&&Gl!==null){H0=!0;var e=0,t=cr;try{var n=Gl;for(cr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gl=null,Uy=!1}catch(i){throw Gl!==null&&(Gl=Gl.slice(e+1)),JP(Hb,_c),i}finally{cr=t,H0=!1}}return null}var gd=[],vd=0,kv=null,Lv=0,Va=[],Ha=0,ph=null,Wl=1,Zl="";function Jc(e,t){gd[vd++]=Lv,gd[vd++]=kv,kv=e,Lv=t}function PO(e,t,n){Va[Ha++]=Wl,Va[Ha++]=Zl,Va[Ha++]=ph,ph=e;var r=Wl;e=Zl;var i=32-Ts(r)-1;r&=~(1<<i),n+=1;var u=32-Ts(t)+i;if(30<u){var f=i-i%5;u=(r&(1<<f)-1).toString(32),r>>=f,i-=f,Wl=1<<32-Ts(t)+i|n<<i|r,Zl=u+e}else Wl=1<<u|n<<i|r,Zl=e}function Yb(e){e.return!==null&&(Jc(e,1),PO(e,1,0))}function Jb(e){for(;e===kv;)kv=gd[--vd],gd[vd]=null,Lv=gd[--vd],gd[vd]=null;for(;e===ph;)ph=Va[--Ha],Va[Ha]=null,Zl=Va[--Ha],Va[Ha]=null,Wl=Va[--Ha],Va[Ha]=null}var ya=null,va=null,Nr=!1,_s=null;function OO(e,t){var n=ja(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ya=e,va=Ju(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ya=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ph!==null?{id:Wl,overflow:Zl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ja(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ya=e,va=null,!0):!1;default:return!1}}function sx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lx(e){if(Nr){var t=va;if(t){var n=t;if(!mT(e,t)){if(sx(e))throw Error(xt(418));t=Ju(n.nextSibling);var r=ya;t&&mT(e,t)?OO(r,n):(e.flags=e.flags&-4097|2,Nr=!1,ya=e)}}else{if(sx(e))throw Error(xt(418));e.flags=e.flags&-4097|2,Nr=!1,ya=e}}}function gT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ya=e}function sg(e){if(e!==ya)return!1;if(!Nr)return gT(e),Nr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rx(e.type,e.memoizedProps)),t&&(t=va)){if(sx(e))throw CO(),Error(xt(418));for(;t;)OO(e,t),t=Ju(t.nextSibling)}if(gT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){va=Ju(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}va=null}}else va=ya?Ju(e.stateNode.nextSibling):null;return!0}function CO(){for(var e=va;e;)e=Ju(e.nextSibling)}function Vd(){va=ya=null,Nr=!1}function Qb(e){_s===null?_s=[e]:_s.push(e)}var Ez=ru.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){t=Vr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Mv=yc(null),Dv=null,yd=null,ew=null;function tw(){ew=yd=Dv=null}function nw(e){var t=Mv.current;Cr(Mv),e._currentValue=t}function ux(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ad(e,t){Dv=e,ew=yd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Go=!0),e.firstContext=null)}function Ga(e){var t=e._currentValue;if(ew!==e)if(e={context:e,memoizedValue:t,next:null},yd===null){if(Dv===null)throw Error(xt(308));yd=e,Dv.dependencies={lanes:0,firstContext:e}}else yd=yd.next=e;return t}var rh=null;function rw(e){rh===null?rh=[e]:rh.push(e)}function RO(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,rw(t)):(n.next=i.next,i.next=n),t.interleaved=n,eu(e,r)}function eu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zu=!1;function iw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Jn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,eu(e,n)}return i=r.interleaved,i===null?(t.next=t,rw(r)):(t.next=i.next,i.next=t),r.interleaved=t,eu(e,n)}function Xg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jb(e,n)}}function vT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?i=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?i=u=t:u=u.next=t}else i=u=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nv(e,t,n,r){var i=e.updateQueue;zu=!1;var u=i.firstBaseUpdate,f=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var y=s,w=y.next;y.next=null,f===null?u=w:f.next=w,f=y;var I=e.alternate;I!==null&&(I=I.updateQueue,s=I.lastBaseUpdate,s!==f&&(s===null?I.firstBaseUpdate=w:s.next=w,I.lastBaseUpdate=y))}if(u!==null){var A=i.baseState;f=0,I=w=y=null,s=u;do{var R=s.lane,O=s.eventTime;if((r&R)===R){I!==null&&(I=I.next={eventTime:O,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var z=e,V=s;switch(R=t,O=n,V.tag){case 1:if(z=V.payload,typeof z=="function"){A=z.call(O,A,R);break e}A=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=V.payload,R=typeof z=="function"?z.call(O,A,R):z,R==null)break e;A=Vr({},A,R);break e;case 2:zu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,R=i.effects,R===null?i.effects=[s]:R.push(s))}else O={eventTime:O,lane:R,tag:s.tag,payload:s.payload,callback:s.callback,next:null},I===null?(w=I=O,y=A):I=I.next=O,f|=R;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;R=s,s=R.next,R.next=null,i.lastBaseUpdate=R,i.shared.pending=null}}while(1);if(I===null&&(y=A),i.baseState=y,i.firstBaseUpdate=w,i.lastBaseUpdate=I,t=i.shared.interleaved,t!==null){i=t;do f|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);gh|=f,e.lanes=f,e.memoizedState=A}}function yT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xt(191,i));i.call(r)}}}var LO=new RP.Component().refs;function cx(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Vr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vy={isMounted:function(e){return(e=e._reactInternals)?wh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Po(),i=tc(e),u=Kl(r,i);u.payload=t,n!=null&&(u.callback=n),t=Qu(e,u,i),t!==null&&(Is(t,e,i,r),Xg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Po(),i=tc(e),u=Kl(r,i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Qu(e,u,i),t!==null&&(Is(t,e,i,r),Xg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Po(),r=tc(e),i=Kl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Qu(e,i,r),t!==null&&(Is(t,e,r,n),Xg(t,e,r))}};function _T(e,t,n,r,i,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,f):t.prototype&&t.prototype.isPureReactComponent?!Fp(n,r)||!Fp(i,u):!0}function MO(e,t,n){var r=!1,i=hc,u=t.contextType;return typeof u=="object"&&u!==null?u=Ga(u):(i=Wo(t)?fh:lo.current,r=t.contextTypes,u=(r=r!=null)?Ud(e,i):hc),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function xT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vy.enqueueReplaceState(t,t.state,null)}function hx(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=LO,iw(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=Ga(u):(u=Wo(t)?fh:lo.current,i.context=Ud(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(cx(e,t,u,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vy.enqueueReplaceState(i,i.state,null),Nv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ff(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xt(309));var r=n.stateNode}if(!r)throw Error(xt(147,e));var i=r,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(f){var s=i.refs;s===LO&&(s=i.refs={}),f===null?delete s[u]:s[u]=f},t._stringRef=u,t)}if(typeof e!="string")throw Error(xt(284));if(!n._owner)throw Error(xt(290,e))}return e}function lg(e,t){throw e=Object.prototype.toString.call(t),Error(xt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bT(e){var t=e._init;return t(e._payload)}function DO(e){function t(F,B){if(e){var j=F.deletions;j===null?(F.deletions=[B],F.flags|=16):j.push(B)}}function n(F,B){if(!e)return null;for(;B!==null;)t(F,B),B=B.sibling;return null}function r(F,B){for(F=new Map;B!==null;)B.key!==null?F.set(B.key,B):F.set(B.index,B),B=B.sibling;return F}function i(F,B){return F=nc(F,B),F.index=0,F.sibling=null,F}function u(F,B,j){return F.index=j,e?(j=F.alternate,j!==null?(j=j.index,j<B?(F.flags|=2,B):j):(F.flags|=2,B)):(F.flags|=1048576,B)}function f(F){return e&&F.alternate===null&&(F.flags|=2),F}function s(F,B,j,Y){return B===null||B.tag!==6?(B=K0(j,F.mode,Y),B.return=F,B):(B=i(B,j),B.return=F,B)}function y(F,B,j,Y){var Q=j.type;return Q===cd?I(F,B,j.props.children,Y,j.key):B!==null&&(B.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Nu&&bT(Q)===B.type)?(Y=i(B,j.props),Y.ref=Ff(F,B,j),Y.return=F,Y):(Y=nv(j.type,j.key,j.props,null,F.mode,Y),Y.ref=Ff(F,B,j),Y.return=F,Y)}function w(F,B,j,Y){return B===null||B.tag!==4||B.stateNode.containerInfo!==j.containerInfo||B.stateNode.implementation!==j.implementation?(B=X0(j,F.mode,Y),B.return=F,B):(B=i(B,j.children||[]),B.return=F,B)}function I(F,B,j,Y,Q){return B===null||B.tag!==7?(B=sh(j,F.mode,Y,Q),B.return=F,B):(B=i(B,j),B.return=F,B)}function A(F,B,j){if(typeof B=="string"&&B!==""||typeof B=="number")return B=K0(""+B,F.mode,j),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ym:return j=nv(B.type,B.key,B.props,null,F.mode,j),j.ref=Ff(F,null,B),j.return=F,j;case ud:return B=X0(B,F.mode,j),B.return=F,B;case Nu:var Y=B._init;return A(F,Y(B._payload),j)}if(Jf(B)||Mf(B))return B=sh(B,F.mode,j,null),B.return=F,B;lg(F,B)}return null}function R(F,B,j,Y){var Q=B!==null?B.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Q!==null?null:s(F,B,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ym:return j.key===Q?y(F,B,j,Y):null;case ud:return j.key===Q?w(F,B,j,Y):null;case Nu:return Q=j._init,R(F,B,Q(j._payload),Y)}if(Jf(j)||Mf(j))return Q!==null?null:I(F,B,j,Y,null);lg(F,j)}return null}function O(F,B,j,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return F=F.get(j)||null,s(B,F,""+Y,Q);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Ym:return F=F.get(Y.key===null?j:Y.key)||null,y(B,F,Y,Q);case ud:return F=F.get(Y.key===null?j:Y.key)||null,w(B,F,Y,Q);case Nu:var J=Y._init;return O(F,B,j,J(Y._payload),Q)}if(Jf(Y)||Mf(Y))return F=F.get(j)||null,I(B,F,Y,Q,null);lg(B,Y)}return null}function z(F,B,j,Y){for(var Q=null,J=null,ee=B,se=B=0,ge=null;ee!==null&&se<j.length;se++){ee.index>se?(ge=ee,ee=null):ge=ee.sibling;var he=R(F,ee,j[se],Y);if(he===null){ee===null&&(ee=ge);break}e&&ee&&he.alternate===null&&t(F,ee),B=u(he,B,se),J===null?Q=he:J.sibling=he,J=he,ee=ge}if(se===j.length)return n(F,ee),Nr&&Jc(F,se),Q;if(ee===null){for(;se<j.length;se++)ee=A(F,j[se],Y),ee!==null&&(B=u(ee,B,se),J===null?Q=ee:J.sibling=ee,J=ee);return Nr&&Jc(F,se),Q}for(ee=r(F,ee);se<j.length;se++)ge=O(ee,F,se,j[se],Y),ge!==null&&(e&&ge.alternate!==null&&ee.delete(ge.key===null?se:ge.key),B=u(ge,B,se),J===null?Q=ge:J.sibling=ge,J=ge);return e&&ee.forEach(function(Ee){return t(F,Ee)}),Nr&&Jc(F,se),Q}function V(F,B,j,Y){var Q=Mf(j);if(typeof Q!="function")throw Error(xt(150));if(j=Q.call(j),j==null)throw Error(xt(151));for(var J=Q=null,ee=B,se=B=0,ge=null,he=j.next();ee!==null&&!he.done;se++,he=j.next()){ee.index>se?(ge=ee,ee=null):ge=ee.sibling;var Ee=R(F,ee,he.value,Y);if(Ee===null){ee===null&&(ee=ge);break}e&&ee&&Ee.alternate===null&&t(F,ee),B=u(Ee,B,se),J===null?Q=Ee:J.sibling=Ee,J=Ee,ee=ge}if(he.done)return n(F,ee),Nr&&Jc(F,se),Q;if(ee===null){for(;!he.done;se++,he=j.next())he=A(F,he.value,Y),he!==null&&(B=u(he,B,se),J===null?Q=he:J.sibling=he,J=he);return Nr&&Jc(F,se),Q}for(ee=r(F,ee);!he.done;se++,he=j.next())he=O(ee,F,se,he.value,Y),he!==null&&(e&&he.alternate!==null&&ee.delete(he.key===null?se:he.key),B=u(he,B,se),J===null?Q=he:J.sibling=he,J=he);return e&&ee.forEach(function(De){return t(F,De)}),Nr&&Jc(F,se),Q}function G(F,B,j,Y){if(typeof j=="object"&&j!==null&&j.type===cd&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ym:e:{for(var Q=j.key,J=B;J!==null;){if(J.key===Q){if(Q=j.type,Q===cd){if(J.tag===7){n(F,J.sibling),B=i(J,j.props.children),B.return=F,F=B;break e}}else if(J.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Nu&&bT(Q)===J.type){n(F,J.sibling),B=i(J,j.props),B.ref=Ff(F,J,j),B.return=F,F=B;break e}n(F,J);break}else t(F,J);J=J.sibling}j.type===cd?(B=sh(j.props.children,F.mode,Y,j.key),B.return=F,F=B):(Y=nv(j.type,j.key,j.props,null,F.mode,Y),Y.ref=Ff(F,B,j),Y.return=F,F=Y)}return f(F);case ud:e:{for(J=j.key;B!==null;){if(B.key===J)if(B.tag===4&&B.stateNode.containerInfo===j.containerInfo&&B.stateNode.implementation===j.implementation){n(F,B.sibling),B=i(B,j.children||[]),B.return=F,F=B;break e}else{n(F,B);break}else t(F,B);B=B.sibling}B=X0(j,F.mode,Y),B.return=F,F=B}return f(F);case Nu:return J=j._init,G(F,B,J(j._payload),Y)}if(Jf(j))return z(F,B,j,Y);if(Mf(j))return V(F,B,j,Y);lg(F,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,B!==null&&B.tag===6?(n(F,B.sibling),B=i(B,j),B.return=F,F=B):(n(F,B),B=K0(j,F.mode,Y),B.return=F,F=B),f(F)):n(F,B)}return G}var Hd=DO(!0),NO=DO(!1),gm={},cl=yc(gm),jp=yc(gm),$p=yc(gm);function ih(e){if(e===gm)throw Error(xt(174));return e}function ow(e,t){switch(Ar($p,t),Ar(jp,e),Ar(cl,gm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:j1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=j1(t,e)}Cr(cl),Ar(cl,t)}function jd(){Cr(cl),Cr(jp),Cr($p)}function zO(e){ih($p.current);var t=ih(cl.current),n=j1(t,e.type);t!==n&&(Ar(jp,e),Ar(cl,n))}function aw(e){jp.current===e&&(Cr(cl),Cr(jp))}var Fr=yc(0);function zv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var j0=[];function sw(){for(var e=0;e<j0.length;e++)j0[e]._workInProgressVersionPrimary=null;j0.length=0}var Yg=ru.ReactCurrentDispatcher,$0=ru.ReactCurrentBatchConfig,mh=0,Ur=null,di=null,Si=null,Bv=!1,fp=!1,Gp=0,Sz=0;function eo(){throw Error(xt(321))}function lw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ps(e[n],t[n]))return!1;return!0}function uw(e,t,n,r,i,u){if(mh=u,Ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yg.current=e===null||e.memoizedState===null?Pz:Oz,e=n(r,i),fp){u=0;do{if(fp=!1,Gp=0,25<=u)throw Error(xt(301));u+=1,Si=di=null,t.updateQueue=null,Yg.current=Cz,e=n(r,i)}while(fp)}if(Yg.current=Fv,t=di!==null&&di.next!==null,mh=0,Si=di=Ur=null,Bv=!1,t)throw Error(xt(300));return e}function cw(){var e=Gp!==0;return Gp=0,e}function el(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?Ur.memoizedState=Si=e:Si=Si.next=e,Si}function qa(){if(di===null){var e=Ur.alternate;e=e!==null?e.memoizedState:null}else e=di.next;var t=Si===null?Ur.memoizedState:Si.next;if(t!==null)Si=t,di=e;else{if(e===null)throw Error(xt(310));di=e,e={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},Si===null?Ur.memoizedState=Si=e:Si=Si.next=e}return Si}function qp(e,t){return typeof t=="function"?t(e):t}function G0(e){var t=qa(),n=t.queue;if(n===null)throw Error(xt(311));n.lastRenderedReducer=e;var r=di,i=r.baseQueue,u=n.pending;if(u!==null){if(i!==null){var f=i.next;i.next=u.next,u.next=f}r.baseQueue=i=u,n.pending=null}if(i!==null){u=i.next,r=r.baseState;var s=f=null,y=null,w=u;do{var I=w.lane;if((mh&I)===I)y!==null&&(y=y.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:e(r,w.action);else{var A={lane:I,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};y===null?(s=y=A,f=r):y=y.next=A,Ur.lanes|=I,gh|=I}w=w.next}while(w!==null&&w!==u);y===null?f=r:y.next=s,Ps(r,t.memoizedState)||(Go=!0),t.memoizedState=r,t.baseState=f,t.baseQueue=y,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do u=i.lane,Ur.lanes|=u,gh|=u,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function q0(e){var t=qa(),n=t.queue;if(n===null)throw Error(xt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,u=t.memoizedState;if(i!==null){n.pending=null;var f=i=i.next;do u=e(u,f.action),f=f.next;while(f!==i);Ps(u,t.memoizedState)||(Go=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function BO(){}function FO(e,t){var n=Ur,r=qa(),i=t(),u=!Ps(r.memoizedState,i);if(u&&(r.memoizedState=i,Go=!0),r=r.queue,hw(HO.bind(null,n,r,e),[e]),r.getSnapshot!==t||u||Si!==null&&Si.memoizedState.tag&1){if(n.flags|=2048,Wp(9,VO.bind(null,n,r,i,t),void 0,null),Ii===null)throw Error(xt(349));mh&30||UO(n,t,i)}return i}function UO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function VO(e,t,n,r){t.value=n,t.getSnapshot=r,jO(t)&&$O(e)}function HO(e,t,n){return n(function(){jO(t)&&$O(e)})}function jO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ps(e,n)}catch{return!0}}function $O(e){var t=eu(e,1);t!==null&&Is(t,e,1,-1)}function wT(e){var t=el();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:e},t.queue=e,e=e.dispatch=Az.bind(null,Ur,e),[t.memoizedState,e]}function Wp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function GO(){return qa().memoizedState}function Jg(e,t,n,r){var i=el();Ur.flags|=e,i.memoizedState=Wp(1|t,n,void 0,r===void 0?null:r)}function Hy(e,t,n,r){var i=qa();r=r===void 0?null:r;var u=void 0;if(di!==null){var f=di.memoizedState;if(u=f.destroy,r!==null&&lw(r,f.deps)){i.memoizedState=Wp(t,n,u,r);return}}Ur.flags|=e,i.memoizedState=Wp(1|t,n,u,r)}function ET(e,t){return Jg(8390656,8,e,t)}function hw(e,t){return Hy(2048,8,e,t)}function qO(e,t){return Hy(4,2,e,t)}function WO(e,t){return Hy(4,4,e,t)}function ZO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KO(e,t,n){return n=n!=null?n.concat([e]):null,Hy(4,4,ZO.bind(null,t,e),n)}function dw(){}function XO(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function YO(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function JO(e,t,n){return mh&21?(Ps(n,t)||(n=tO(),Ur.lanes|=n,gh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Go=!0),e.memoizedState=n)}function Tz(e,t){var n=cr;cr=n!==0&&4>n?n:4,e(!0);var r=$0.transition;$0.transition={};try{e(!1),t()}finally{cr=n,$0.transition=r}}function QO(){return qa().memoizedState}function Iz(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eC(e))tC(t,n);else if(n=RO(e,t,n,r),n!==null){var i=Po();Is(n,e,r,i),nC(n,t,r)}}function Az(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eC(e))tC(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,s=u(f,n);if(i.hasEagerState=!0,i.eagerState=s,Ps(s,f)){var y=t.interleaved;y===null?(i.next=i,rw(t)):(i.next=y.next,y.next=i),t.interleaved=i;return}}catch{}finally{}n=RO(e,t,i,r),n!==null&&(i=Po(),Is(n,e,r,i),nC(n,t,r))}}function eC(e){var t=e.alternate;return e===Ur||t!==null&&t===Ur}function tC(e,t){fp=Bv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jb(e,n)}}var Fv={readContext:Ga,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useInsertionEffect:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useDeferredValue:eo,useTransition:eo,useMutableSource:eo,useSyncExternalStore:eo,useId:eo,unstable_isNewReconciler:!1},Pz={readContext:Ga,useCallback:function(e,t){return el().memoizedState=[e,t===void 0?null:t],e},useContext:Ga,useEffect:ET,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jg(4194308,4,ZO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jg(4,2,e,t)},useMemo:function(e,t){var n=el();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=el();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Iz.bind(null,Ur,e),[r.memoizedState,e]},useRef:function(e){var t=el();return e={current:e},t.memoizedState=e},useState:wT,useDebugValue:dw,useDeferredValue:function(e){return el().memoizedState=e},useTransition:function(){var e=wT(!1),t=e[0];return e=Tz.bind(null,e[1]),el().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ur,i=el();if(Nr){if(n===void 0)throw Error(xt(407));n=n()}else{if(n=t(),Ii===null)throw Error(xt(349));mh&30||UO(r,t,n)}i.memoizedState=n;var u={value:n,getSnapshot:t};return i.queue=u,ET(HO.bind(null,r,u,e),[e]),r.flags|=2048,Wp(9,VO.bind(null,r,u,n,t),void 0,null),n},useId:function(){var e=el(),t=Ii.identifierPrefix;if(Nr){var n=Zl,r=Wl;n=(r&~(1<<32-Ts(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Oz={readContext:Ga,useCallback:XO,useContext:Ga,useEffect:hw,useImperativeHandle:KO,useInsertionEffect:qO,useLayoutEffect:WO,useMemo:YO,useReducer:G0,useRef:GO,useState:function(){return G0(qp)},useDebugValue:dw,useDeferredValue:function(e){var t=qa();return JO(t,di.memoizedState,e)},useTransition:function(){var e=G0(qp)[0],t=qa().memoizedState;return[e,t]},useMutableSource:BO,useSyncExternalStore:FO,useId:QO,unstable_isNewReconciler:!1},Cz={readContext:Ga,useCallback:XO,useContext:Ga,useEffect:hw,useImperativeHandle:KO,useInsertionEffect:qO,useLayoutEffect:WO,useMemo:YO,useReducer:q0,useRef:GO,useState:function(){return q0(qp)},useDebugValue:dw,useDeferredValue:function(e){var t=qa();return di===null?t.memoizedState=e:JO(t,di.memoizedState,e)},useTransition:function(){var e=q0(qp)[0],t=qa().memoizedState;return[e,t]},useMutableSource:BO,useSyncExternalStore:FO,useId:QO,unstable_isNewReconciler:!1};function $d(e,t){try{var n="",r=t;do n+=i4(r),r=r.return;while(r);var i=n}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i,digest:null}}function W0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function dx(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rz=typeof WeakMap=="function"?WeakMap:Map;function rC(e,t,n){n=Kl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vv||(Vv=!0,wx=r),dx(e,t)},n}function iC(e,t,n){n=Kl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dx(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){dx(e,t),typeof r!="function"&&(ec===null?ec=new Set([this]):ec.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function ST(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Gz.bind(null,e,t,n),t.then(e,e))}function TT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function IT(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kl(-1,1),t.tag=2,Qu(n,t,1))),n.lanes|=1),e)}var kz=ru.ReactCurrentOwner,Go=!1;function To(e,t,n,r){t.child=e===null?NO(t,null,n,r):Hd(t,e.child,n,r)}function AT(e,t,n,r,i){n=n.render;var u=t.ref;return Ad(t,i),r=uw(e,t,n,r,u,i),n=cw(),e!==null&&!Go?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tu(e,t,i)):(Nr&&n&&Yb(t),t.flags|=1,To(e,t,r,i),t.child)}function PT(e,t,n,r,i){if(e===null){var u=n.type;return typeof u=="function"&&!xw(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,oC(e,t,u,r,i)):(e=nv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&i)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:Fp,n(f,r)&&e.ref===t.ref)return tu(e,t,i)}return t.flags|=1,e=nc(u,r),e.ref=t.ref,e.return=t,t.child=e}function oC(e,t,n,r,i){if(e!==null){var u=e.memoizedProps;if(Fp(u,r)&&e.ref===t.ref)if(Go=!1,t.pendingProps=r=u,(e.lanes&i)!==0)e.flags&131072&&(Go=!0);else return t.lanes=e.lanes,tu(e,t,i)}return fx(e,t,n,r,i)}function aC(e,t,n){var r=t.pendingProps,i=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(xd,ga),ga|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ar(xd,ga),ga|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:n,Ar(xd,ga),ga|=r}else u!==null?(r=u.baseLanes|n,t.memoizedState=null):r=n,Ar(xd,ga),ga|=r;return To(e,t,i,n),t.child}function sC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fx(e,t,n,r,i){var u=Wo(n)?fh:lo.current;return u=Ud(t,u),Ad(t,i),n=uw(e,t,n,r,u,i),r=cw(),e!==null&&!Go?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tu(e,t,i)):(Nr&&r&&Yb(t),t.flags|=1,To(e,t,n,i),t.child)}function OT(e,t,n,r,i){if(Wo(n)){var u=!0;Rv(t)}else u=!1;if(Ad(t,i),t.stateNode===null)Qg(e,t),MO(t,n,r),hx(t,n,r,i),r=!0;else if(e===null){var f=t.stateNode,s=t.memoizedProps;f.props=s;var y=f.context,w=n.contextType;typeof w=="object"&&w!==null?w=Ga(w):(w=Wo(n)?fh:lo.current,w=Ud(t,w));var I=n.getDerivedStateFromProps,A=typeof I=="function"||typeof f.getSnapshotBeforeUpdate=="function";A||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(s!==r||y!==w)&&xT(t,f,r,w),zu=!1;var R=t.memoizedState;f.state=R,Nv(t,r,f,i),y=t.memoizedState,s!==r||R!==y||qo.current||zu?(typeof I=="function"&&(cx(t,n,I,r),y=t.memoizedState),(s=zu||_T(t,n,s,r,R,y,w))?(A||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=y),f.props=r,f.state=y,f.context=w,r=s):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,kO(e,t),s=t.memoizedProps,w=t.type===t.elementType?s:gs(t.type,s),f.props=w,A=t.pendingProps,R=f.context,y=n.contextType,typeof y=="object"&&y!==null?y=Ga(y):(y=Wo(n)?fh:lo.current,y=Ud(t,y));var O=n.getDerivedStateFromProps;(I=typeof O=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(s!==A||R!==y)&&xT(t,f,r,y),zu=!1,R=t.memoizedState,f.state=R,Nv(t,r,f,i);var z=t.memoizedState;s!==A||R!==z||qo.current||zu?(typeof O=="function"&&(cx(t,n,O,r),z=t.memoizedState),(w=zu||_T(t,n,w,r,R,z,y)||!1)?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,z,y),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,z,y)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||s===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),f.props=r,f.state=z,f.context=y,r=w):(typeof f.componentDidUpdate!="function"||s===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),r=!1)}return px(e,t,n,r,u,i)}function px(e,t,n,r,i,u){sC(e,t);var f=(t.flags&128)!==0;if(!r&&!f)return i&&pT(t,n,!1),tu(e,t,u);r=t.stateNode,kz.current=t;var s=f&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&f?(t.child=Hd(t,e.child,null,u),t.child=Hd(t,null,s,u)):To(e,t,s,u),t.memoizedState=r.state,i&&pT(t,n,!0),t.child}function lC(e){var t=e.stateNode;t.pendingContext?fT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fT(e,t.context,!1),ow(e,t.containerInfo)}function CT(e,t,n,r,i){return Vd(),Qb(i),t.flags|=256,To(e,t,n,r),t.child}var mx={dehydrated:null,treeContext:null,retryLane:0};function gx(e){return{baseLanes:e,cachePool:null,transitions:null}}function uC(e,t,n){var r=t.pendingProps,i=Fr.current,u=!1,f=(t.flags&128)!==0,s;if((s=f)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ar(Fr,i&1),e===null)return lx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=r.children,e=r.fallback,u?(r=t.mode,u=t.child,f={mode:"hidden",children:f},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=f):u=Gy(f,r,0,null),e=sh(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=gx(n),t.memoizedState=mx,e):fw(t,f));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Lz(e,t,f,r,s,i,n);if(u){u=r.fallback,f=t.mode,i=e.child,s=i.sibling;var y={mode:"hidden",children:r.children};return!(f&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=y,t.deletions=null):(r=nc(i,y),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?u=nc(s,u):(u=sh(u,f,n,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,f=e.child.memoizedState,f=f===null?gx(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=e.childLanes&~n,t.memoizedState=mx,r}return u=e.child,e=u.sibling,r=nc(u,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fw(e,t){return t=Gy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ug(e,t,n,r){return r!==null&&Qb(r),Hd(t,e.child,null,n),e=fw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lz(e,t,n,r,i,u,f){if(n)return t.flags&256?(t.flags&=-257,r=W0(Error(xt(422))),ug(e,t,f,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=r.fallback,i=t.mode,r=Gy({mode:"visible",children:r.children},i,0,null),u=sh(u,i,f,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,t.mode&1&&Hd(t,e.child,null,f),t.child.memoizedState=gx(f),t.memoizedState=mx,u);if(!(t.mode&1))return ug(e,t,f,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,u=Error(xt(419)),r=W0(u,r,void 0),ug(e,t,f,r)}if(s=(f&e.childLanes)!==0,Go||s){if(r=Ii,r!==null){switch(f&-f){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|f)?0:i,i!==0&&i!==u.retryLane&&(u.retryLane=i,eu(e,i),Is(r,e,i,-1))}return _w(),r=W0(Error(xt(421))),ug(e,t,f,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qz.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,va=Ju(i.nextSibling),ya=t,Nr=!0,_s=null,e!==null&&(Va[Ha++]=Wl,Va[Ha++]=Zl,Va[Ha++]=ph,Wl=e.id,Zl=e.overflow,ph=t),t=fw(t,r.children),t.flags|=4096,t)}function RT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ux(e.return,t,n)}function Z0(e,t,n,r,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=i)}function cC(e,t,n){var r=t.pendingProps,i=r.revealOrder,u=r.tail;if(To(e,t,r.children,n),r=Fr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RT(e,n,t);else if(e.tag===19)RT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ar(Fr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Z0(t,!1,i,n,u);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Z0(t,!0,n,null,u);break;case"together":Z0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xt(153));if(t.child!==null){for(e=t.child,n=nc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mz(e,t,n){switch(t.tag){case 3:lC(t),Vd();break;case 5:zO(t);break;case 1:Wo(t.type)&&Rv(t);break;case 4:ow(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ar(Mv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ar(Fr,Fr.current&1),t.flags|=128,null):n&t.child.childLanes?uC(e,t,n):(Ar(Fr,Fr.current&1),e=tu(e,t,n),e!==null?e.sibling:null);Ar(Fr,Fr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ar(Fr,Fr.current),r)break;return null;case 22:case 23:return t.lanes=0,aC(e,t,n)}return tu(e,t,n)}var hC,vx,dC,fC;hC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vx=function(){};dC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ih(cl.current);var u=null;switch(n){case"input":i=F1(e,i),r=F1(e,r),u=[];break;case"select":i=Vr({},i,{value:void 0}),r=Vr({},r,{value:void 0}),u=[];break;case"textarea":i=H1(e,i),r=H1(e,r),u=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ov)}$1(n,r);var f;n=null;for(w in i)if(!r.hasOwnProperty(w)&&i.hasOwnProperty(w)&&i[w]!=null)if(w==="style"){var s=i[w];for(f in s)s.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(kp.hasOwnProperty(w)?u||(u=[]):(u=u||[]).push(w,null));for(w in r){var y=r[w];if(s=i!=null?i[w]:void 0,r.hasOwnProperty(w)&&y!==s&&(y!=null||s!=null))if(w==="style")if(s){for(f in s)!s.hasOwnProperty(f)||y&&y.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in y)y.hasOwnProperty(f)&&s[f]!==y[f]&&(n||(n={}),n[f]=y[f])}else n||(u||(u=[]),u.push(w,n)),n=y;else w==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,s=s?s.__html:void 0,y!=null&&s!==y&&(u=u||[]).push(w,y)):w==="children"?typeof y!="string"&&typeof y!="number"||(u=u||[]).push(w,""+y):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(kp.hasOwnProperty(w)?(y!=null&&w==="onScroll"&&Or("scroll",e),u||s===y||(u=[])):(u=u||[]).push(w,y))}n&&(u=u||[]).push("style",n);var w=u;(t.updateQueue=w)&&(t.flags|=4)}};fC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Uf(e,t){if(!Nr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function to(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Dz(e,t,n){var r=t.pendingProps;switch(Jb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(t),null;case 1:return Wo(t.type)&&Cv(),to(t),null;case 3:return r=t.stateNode,jd(),Cr(qo),Cr(lo),sw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_s!==null&&(Tx(_s),_s=null))),vx(e,t),to(t),null;case 5:aw(t);var i=ih($p.current);if(n=t.type,e!==null&&t.stateNode!=null)dC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(xt(166));return to(t),null}if(e=ih(cl.current),sg(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[rl]=t,r[Hp]=u,e=(t.mode&1)!==0,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(i=0;i<ep.length;i++)Or(ep[i],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":US(r,u),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Or("invalid",r);break;case"textarea":HS(r,u),Or("invalid",r)}$1(n,u),i=null;for(var f in u)if(u.hasOwnProperty(f)){var s=u[f];f==="children"?typeof s=="string"?r.textContent!==s&&(u.suppressHydrationWarning!==!0&&ag(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(u.suppressHydrationWarning!==!0&&ag(r.textContent,s,e),i=["children",""+s]):kp.hasOwnProperty(f)&&s!=null&&f==="onScroll"&&Or("scroll",r)}switch(n){case"input":Jm(r),VS(r,u,!0);break;case"textarea":Jm(r),jS(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=Ov)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{f=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=f.createElement(n,{is:r.is}):(e=f.createElement(n),n==="select"&&(f=e,r.multiple?f.multiple=!0:r.size&&(f.size=r.size))):e=f.createElementNS(e,n),e[rl]=t,e[Hp]=r,hC(e,t,!1,!1),t.stateNode=e;e:{switch(f=G1(n,r),n){case"dialog":Or("cancel",e),Or("close",e),i=r;break;case"iframe":case"object":case"embed":Or("load",e),i=r;break;case"video":case"audio":for(i=0;i<ep.length;i++)Or(ep[i],e);i=r;break;case"source":Or("error",e),i=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),i=r;break;case"details":Or("toggle",e),i=r;break;case"input":US(e,r),i=F1(e,r),Or("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Vr({},r,{value:void 0}),Or("invalid",e);break;case"textarea":HS(e,r),i=H1(e,r),Or("invalid",e);break;default:i=r}$1(n,i),s=i;for(u in s)if(s.hasOwnProperty(u)){var y=s[u];u==="style"?jP(e,y):u==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&VP(e,y)):u==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&Lp(e,y):typeof y=="number"&&Lp(e,""+y):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kp.hasOwnProperty(u)?y!=null&&u==="onScroll"&&Or("scroll",e):y!=null&&zb(e,u,y,f))}switch(n){case"input":Jm(e),VS(e,r,!1);break;case"textarea":Jm(e),jS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cc(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?Ed(e,!!r.multiple,u,!1):r.defaultValue!=null&&Ed(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ov)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return to(t),null;case 6:if(e&&t.stateNode!=null)fC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xt(166));if(n=ih($p.current),ih(cl.current),sg(t)){if(r=t.stateNode,n=t.memoizedProps,r[rl]=t,(u=r.nodeValue!==n)&&(e=ya,e!==null))switch(e.tag){case 3:ag(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ag(r.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rl]=t,t.stateNode=r}return to(t),null;case 13:if(Cr(Fr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nr&&va!==null&&t.mode&1&&!(t.flags&128))CO(),Vd(),t.flags|=98560,u=!1;else if(u=sg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(xt(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(xt(317));u[rl]=t}else Vd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;to(t),u=!1}else _s!==null&&(Tx(_s),_s=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fr.current&1?fi===0&&(fi=3):_w())),t.updateQueue!==null&&(t.flags|=4),to(t),null);case 4:return jd(),vx(e,t),e===null&&Up(t.stateNode.containerInfo),to(t),null;case 10:return nw(t.type._context),to(t),null;case 17:return Wo(t.type)&&Cv(),to(t),null;case 19:if(Cr(Fr),u=t.memoizedState,u===null)return to(t),null;if(r=(t.flags&128)!==0,f=u.rendering,f===null)if(r)Uf(u,!1);else{if(fi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=zv(e),f!==null){for(t.flags|=128,Uf(u,!1),r=f.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)u=n,e=r,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,e=f.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ar(Fr,Fr.current&1|2),t.child}e=e.sibling}u.tail!==null&&ti()>Gd&&(t.flags|=128,r=!0,Uf(u,!1),t.lanes=4194304)}else{if(!r)if(e=zv(f),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Uf(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Nr)return to(t),null}else 2*ti()-u.renderingStartTime>Gd&&n!==1073741824&&(t.flags|=128,r=!0,Uf(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(n=u.last,n!==null?n.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ti(),t.sibling=null,n=Fr.current,Ar(Fr,r?n&1|2:n&1),t):(to(t),null);case 22:case 23:return yw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ga&1073741824&&(to(t),t.subtreeFlags&6&&(t.flags|=8192)):to(t),null;case 24:return null;case 25:return null}throw Error(xt(156,t.tag))}function Nz(e,t){switch(Jb(t),t.tag){case 1:return Wo(t.type)&&Cv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jd(),Cr(qo),Cr(lo),sw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aw(t),null;case 13:if(Cr(Fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xt(340));Vd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Cr(Fr),null;case 4:return jd(),null;case 10:return nw(t.type._context),null;case 22:case 23:return yw(),null;case 24:return null;default:return null}}var cg=!1,ao=!1,zz=typeof WeakSet=="function"?WeakSet:Set,qt=null;function _d(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wr(e,t,r)}else n.current=null}function yx(e,t,n){try{n()}catch(r){Wr(e,t,r)}}var kT=!1;function Bz(e,t){if(tx=Iv,e=vO(),Xb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,s=-1,y=-1,w=0,I=0,A=e,R=null;t:for(;;){for(var O;A!==n||i!==0&&A.nodeType!==3||(s=f+i),A!==u||r!==0&&A.nodeType!==3||(y=f+r),A.nodeType===3&&(f+=A.nodeValue.length),(O=A.firstChild)!==null;)R=A,A=O;for(;;){if(A===e)break t;if(R===n&&++w===i&&(s=f),R===u&&++I===r&&(y=f),(O=A.nextSibling)!==null)break;A=R,R=A.parentNode}A=O}n=s===-1||y===-1?null:{start:s,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(nx={focusedElem:e,selectionRange:n},Iv=!1,qt=t;qt!==null;)if(t=qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qt=e;else for(;qt!==null;){t=qt;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var V=z.memoizedProps,G=z.memoizedState,F=t.stateNode,B=F.getSnapshotBeforeUpdate(t.elementType===t.type?V:gs(t.type,V),G);F.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xt(163))}}catch(Y){Wr(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,qt=e;break}qt=t.return}return z=kT,kT=!1,z}function pp(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&yx(t,n,u)}i=i.next}while(i!==r)}}function jy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function _x(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pC(e){var t=e.alternate;t!==null&&(e.alternate=null,pC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rl],delete t[Hp],delete t[ox],delete t[xz],delete t[bz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mC(e){return e.tag===5||e.tag===3||e.tag===4}function LT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ov));else if(r!==4&&(e=e.child,e!==null))for(xx(e,t,n),e=e.sibling;e!==null;)xx(e,t,n),e=e.sibling}function bx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bx(e,t,n),e=e.sibling;e!==null;)bx(e,t,n),e=e.sibling}var Bi=null,ys=!1;function Ru(e,t,n){for(n=n.child;n!==null;)gC(e,t,n),n=n.sibling}function gC(e,t,n){if(ul&&typeof ul.onCommitFiberUnmount=="function")try{ul.onCommitFiberUnmount(Dy,n)}catch{}switch(n.tag){case 5:ao||_d(n,t);case 6:var r=Bi,i=ys;Bi=null,Ru(e,t,n),Bi=r,ys=i,Bi!==null&&(ys?(e=Bi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Bi.removeChild(n.stateNode));break;case 18:Bi!==null&&(ys?(e=Bi,n=n.stateNode,e.nodeType===8?V0(e.parentNode,n):e.nodeType===1&&V0(e,n),zp(e)):V0(Bi,n.stateNode));break;case 4:r=Bi,i=ys,Bi=n.stateNode.containerInfo,ys=!0,Ru(e,t,n),Bi=r,ys=i;break;case 0:case 11:case 14:case 15:if(!ao&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var u=i,f=u.destroy;u=u.tag,f!==void 0&&(u&2||u&4)&&yx(n,t,f),i=i.next}while(i!==r)}Ru(e,t,n);break;case 1:if(!ao&&(_d(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Wr(n,t,s)}Ru(e,t,n);break;case 21:Ru(e,t,n);break;case 22:n.mode&1?(ao=(r=ao)||n.memoizedState!==null,Ru(e,t,n),ao=r):Ru(e,t,n);break;default:Ru(e,t,n)}}function MT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zz),t.forEach(function(r){var i=Wz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ps(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var u=e,f=t,s=f;e:for(;s!==null;){switch(s.tag){case 5:Bi=s.stateNode,ys=!1;break e;case 3:Bi=s.stateNode.containerInfo,ys=!0;break e;case 4:Bi=s.stateNode.containerInfo,ys=!0;break e}s=s.return}if(Bi===null)throw Error(xt(160));gC(u,f,i),Bi=null,ys=!1;var y=i.alternate;y!==null&&(y.return=null),i.return=null}catch(w){Wr(i,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vC(t,e),t=t.sibling}function vC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ps(t,e),Xs(e),r&4){try{pp(3,e,e.return),jy(3,e)}catch(V){Wr(e,e.return,V)}try{pp(5,e,e.return)}catch(V){Wr(e,e.return,V)}}break;case 1:ps(t,e),Xs(e),r&512&&n!==null&&_d(n,n.return);break;case 5:if(ps(t,e),Xs(e),r&512&&n!==null&&_d(n,n.return),e.flags&32){var i=e.stateNode;try{Lp(i,"")}catch(V){Wr(e,e.return,V)}}if(r&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,f=n!==null?n.memoizedProps:u,s=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{s==="input"&&u.type==="radio"&&u.name!=null&&BP(i,u),G1(s,f);var w=G1(s,u);for(f=0;f<y.length;f+=2){var I=y[f],A=y[f+1];I==="style"?jP(i,A):I==="dangerouslySetInnerHTML"?VP(i,A):I==="children"?Lp(i,A):zb(i,I,A,w)}switch(s){case"input":U1(i,u);break;case"textarea":FP(i,u);break;case"select":var R=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var O=u.value;O!=null?Ed(i,!!u.multiple,O,!1):R!==!!u.multiple&&(u.defaultValue!=null?Ed(i,!!u.multiple,u.defaultValue,!0):Ed(i,!!u.multiple,u.multiple?[]:"",!1))}i[Hp]=u}catch(V){Wr(e,e.return,V)}}break;case 6:if(ps(t,e),Xs(e),r&4){if(e.stateNode===null)throw Error(xt(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(V){Wr(e,e.return,V)}}break;case 3:if(ps(t,e),Xs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zp(t.containerInfo)}catch(V){Wr(e,e.return,V)}break;case 4:ps(t,e),Xs(e);break;case 13:ps(t,e),Xs(e),i=e.child,i.flags&8192&&(u=i.memoizedState!==null,i.stateNode.isHidden=u,!u||i.alternate!==null&&i.alternate.memoizedState!==null||(gw=ti())),r&4&&MT(e);break;case 22:if(I=n!==null&&n.memoizedState!==null,e.mode&1?(ao=(w=ao)||I,ps(t,e),ao=w):ps(t,e),Xs(e),r&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!I&&e.mode&1)for(qt=e,I=e.child;I!==null;){for(A=qt=I;qt!==null;){switch(R=qt,O=R.child,R.tag){case 0:case 11:case 14:case 15:pp(4,R,R.return);break;case 1:_d(R,R.return);var z=R.stateNode;if(typeof z.componentWillUnmount=="function"){r=R,n=R.return;try{t=r,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(V){Wr(r,n,V)}}break;case 5:_d(R,R.return);break;case 22:if(R.memoizedState!==null){NT(A);continue}}O!==null?(O.return=R,qt=O):NT(A)}I=I.sibling}e:for(I=null,A=e;;){if(A.tag===5){if(I===null){I=A;try{i=A.stateNode,w?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(s=A.stateNode,y=A.memoizedProps.style,f=y!=null&&y.hasOwnProperty("display")?y.display:null,s.style.display=HP("display",f))}catch(V){Wr(e,e.return,V)}}}else if(A.tag===6){if(I===null)try{A.stateNode.nodeValue=w?"":A.memoizedProps}catch(V){Wr(e,e.return,V)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;I===A&&(I=null),A=A.return}I===A&&(I=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:ps(t,e),Xs(e),r&4&&MT(e);break;case 21:break;default:ps(t,e),Xs(e)}}function Xs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mC(n)){var r=n;break e}n=n.return}throw Error(xt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lp(i,""),r.flags&=-33);var u=LT(e);bx(e,u,i);break;case 3:case 4:var f=r.stateNode.containerInfo,s=LT(e);xx(e,s,f);break;default:throw Error(xt(161))}}catch(y){Wr(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fz(e,t,n){qt=e,yC(e)}function yC(e,t,n){for(var r=(e.mode&1)!==0;qt!==null;){var i=qt,u=i.child;if(i.tag===22&&r){var f=i.memoizedState!==null||cg;if(!f){var s=i.alternate,y=s!==null&&s.memoizedState!==null||ao;s=cg;var w=ao;if(cg=f,(ao=y)&&!w)for(qt=i;qt!==null;)f=qt,y=f.child,f.tag===22&&f.memoizedState!==null?zT(i):y!==null?(y.return=f,qt=y):zT(i);for(;u!==null;)qt=u,yC(u),u=u.sibling;qt=i,cg=s,ao=w}DT(e)}else i.subtreeFlags&8772&&u!==null?(u.return=i,qt=u):DT(e)}}function DT(e){for(;qt!==null;){var t=qt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ao||jy(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ao)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&yT(t,u,r);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yT(t,f,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var I=w.memoizedState;if(I!==null){var A=I.dehydrated;A!==null&&zp(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xt(163))}ao||t.flags&512&&_x(t)}catch(R){Wr(t,t.return,R)}}if(t===e){qt=null;break}if(n=t.sibling,n!==null){n.return=t.return,qt=n;break}qt=t.return}}function NT(e){for(;qt!==null;){var t=qt;if(t===e){qt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qt=n;break}qt=t.return}}function zT(e){for(;qt!==null;){var t=qt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jy(4,t)}catch(y){Wr(t,n,y)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(y){Wr(t,i,y)}}var u=t.return;try{_x(t)}catch(y){Wr(t,u,y)}break;case 5:var f=t.return;try{_x(t)}catch(y){Wr(t,f,y)}}}catch(y){Wr(t,t.return,y)}if(t===e){qt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,qt=s;break}qt=t.return}}var Uz=Math.ceil,Uv=ru.ReactCurrentDispatcher,pw=ru.ReactCurrentOwner,$a=ru.ReactCurrentBatchConfig,Jn=0,Ii=null,si=null,ji=0,ga=0,xd=yc(0),fi=0,Zp=null,gh=0,$y=0,mw=0,mp=null,$o=null,gw=0,Gd=1/0,$l=null,Vv=!1,wx=null,ec=null,hg=!1,qu=null,Hv=0,gp=0,Ex=null,ev=-1,tv=0;function Po(){return Jn&6?ti():ev!==-1?ev:ev=ti()}function tc(e){return e.mode&1?Jn&2&&ji!==0?ji&-ji:Ez.transition!==null?(tv===0&&(tv=tO()),tv):(e=cr,e!==0||(e=window.event,e=e===void 0?16:lO(e.type)),e):1}function Is(e,t,n,r){if(50<gp)throw gp=0,Ex=null,Error(xt(185));fm(e,n,r),(!(Jn&2)||e!==Ii)&&(e===Ii&&(!(Jn&2)&&($y|=n),fi===4&&Fu(e,ji)),Zo(e,r),n===1&&Jn===0&&!(t.mode&1)&&(Gd=ti()+500,Uy&&_c()))}function Zo(e,t){var n=e.callbackNode;E4(e,t);var r=Tv(e,e===Ii?ji:0);if(r===0)n!==null&&qS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qS(n),t===1)e.tag===0?wz(BT.bind(null,e)):AO(BT.bind(null,e)),yz(function(){!(Jn&6)&&_c()}),n=null;else{switch(nO(r)){case 1:n=Hb;break;case 4:n=QP;break;case 16:n=Sv;break;case 536870912:n=eO;break;default:n=Sv}n=IC(n,_C.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _C(e,t){if(ev=-1,tv=0,Jn&6)throw Error(xt(327));var n=e.callbackNode;if(Pd()&&e.callbackNode!==n)return null;var r=Tv(e,e===Ii?ji:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jv(e,r);else{t=r;var i=Jn;Jn|=2;var u=bC();(Ii!==e||ji!==t)&&($l=null,Gd=ti()+500,ah(e,t));do try{jz();break}catch(s){xC(e,s)}while(1);tw(),Uv.current=u,Jn=i,si!==null?t=0:(Ii=null,ji=0,t=fi)}if(t!==0){if(t===2&&(i=X1(e),i!==0&&(r=i,t=Sx(e,i))),t===1)throw n=Zp,ah(e,0),Fu(e,r),Zo(e,ti()),n;if(t===6)Fu(e,r);else{if(i=e.current.alternate,!(r&30)&&!Vz(i)&&(t=jv(e,r),t===2&&(u=X1(e),u!==0&&(r=u,t=Sx(e,u))),t===1))throw n=Zp,ah(e,0),Fu(e,r),Zo(e,ti()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(xt(345));case 2:Qc(e,$o,$l);break;case 3:if(Fu(e,r),(r&130023424)===r&&(t=gw+500-ti(),10<t)){if(Tv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Po(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ix(Qc.bind(null,e,$o,$l),t);break}Qc(e,$o,$l);break;case 4:if(Fu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var f=31-Ts(r);u=1<<f,f=t[f],f>i&&(i=f),r&=~u}if(r=i,r=ti()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uz(r/1960))-r,10<r){e.timeoutHandle=ix(Qc.bind(null,e,$o,$l),r);break}Qc(e,$o,$l);break;case 5:Qc(e,$o,$l);break;default:throw Error(xt(329))}}}return Zo(e,ti()),e.callbackNode===n?_C.bind(null,e):null}function Sx(e,t){var n=mp;return e.current.memoizedState.isDehydrated&&(ah(e,t).flags|=256),e=jv(e,t),e!==2&&(t=$o,$o=n,t!==null&&Tx(t)),e}function Tx(e){$o===null?$o=e:$o.push.apply($o,e)}function Vz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],u=i.getSnapshot;i=i.value;try{if(!Ps(u(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fu(e,t){for(t&=~mw,t&=~$y,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ts(t),r=1<<n;e[n]=-1,t&=~r}}function BT(e){if(Jn&6)throw Error(xt(327));Pd();var t=Tv(e,0);if(!(t&1))return Zo(e,ti()),null;var n=jv(e,t);if(e.tag!==0&&n===2){var r=X1(e);r!==0&&(t=r,n=Sx(e,r))}if(n===1)throw n=Zp,ah(e,0),Fu(e,t),Zo(e,ti()),n;if(n===6)throw Error(xt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qc(e,$o,$l),Zo(e,ti()),null}function vw(e,t){var n=Jn;Jn|=1;try{return e(t)}finally{Jn=n,Jn===0&&(Gd=ti()+500,Uy&&_c())}}function vh(e){qu!==null&&qu.tag===0&&!(Jn&6)&&Pd();var t=Jn;Jn|=1;var n=$a.transition,r=cr;try{if($a.transition=null,cr=1,e)return e()}finally{cr=r,$a.transition=n,Jn=t,!(Jn&6)&&_c()}}function yw(){ga=xd.current,Cr(xd)}function ah(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vz(n)),si!==null)for(n=si.return;n!==null;){var r=n;switch(Jb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cv();break;case 3:jd(),Cr(qo),Cr(lo),sw();break;case 5:aw(r);break;case 4:jd();break;case 13:Cr(Fr);break;case 19:Cr(Fr);break;case 10:nw(r.type._context);break;case 22:case 23:yw()}n=n.return}if(Ii=e,si=e=nc(e.current,null),ji=ga=t,fi=0,Zp=null,mw=$y=gh=0,$o=mp=null,rh!==null){for(t=0;t<rh.length;t++)if(n=rh[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,u=n.pending;if(u!==null){var f=u.next;u.next=i,r.next=f}n.pending=r}rh=null}return e}function xC(e,t){do{var n=si;try{if(tw(),Yg.current=Fv,Bv){for(var r=Ur.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bv=!1}if(mh=0,Si=di=Ur=null,fp=!1,Gp=0,pw.current=null,n===null||n.return===null){fi=1,Zp=t,si=null;break}e:{var u=e,f=n.return,s=n,y=t;if(t=ji,s.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var w=y,I=s,A=I.tag;if(!(I.mode&1)&&(A===0||A===11||A===15)){var R=I.alternate;R?(I.updateQueue=R.updateQueue,I.memoizedState=R.memoizedState,I.lanes=R.lanes):(I.updateQueue=null,I.memoizedState=null)}var O=TT(f);if(O!==null){O.flags&=-257,IT(O,f,s,u,t),O.mode&1&&ST(u,w,t),t=O,y=w;var z=t.updateQueue;if(z===null){var V=new Set;V.add(y),t.updateQueue=V}else z.add(y);break e}else{if(!(t&1)){ST(u,w,t),_w();break e}y=Error(xt(426))}}else if(Nr&&s.mode&1){var G=TT(f);if(G!==null){!(G.flags&65536)&&(G.flags|=256),IT(G,f,s,u,t),Qb($d(y,s));break e}}u=y=$d(y,s),fi!==4&&(fi=2),mp===null?mp=[u]:mp.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var F=rC(u,y,t);vT(u,F);break e;case 1:s=y;var B=u.type,j=u.stateNode;if(!(u.flags&128)&&(typeof B.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ec===null||!ec.has(j)))){u.flags|=65536,t&=-t,u.lanes|=t;var Y=iC(u,s,t);vT(u,Y);break e}}u=u.return}while(u!==null)}EC(n)}catch(Q){t=Q,si===n&&n!==null&&(si=n=n.return);continue}break}while(1)}function bC(){var e=Uv.current;return Uv.current=Fv,e===null?Fv:e}function _w(){(fi===0||fi===3||fi===2)&&(fi=4),Ii===null||!(gh&268435455)&&!($y&268435455)||Fu(Ii,ji)}function jv(e,t){var n=Jn;Jn|=2;var r=bC();(Ii!==e||ji!==t)&&($l=null,ah(e,t));do try{Hz();break}catch(i){xC(e,i)}while(1);if(tw(),Jn=n,Uv.current=r,si!==null)throw Error(xt(261));return Ii=null,ji=0,fi}function Hz(){for(;si!==null;)wC(si)}function jz(){for(;si!==null&&!p4();)wC(si)}function wC(e){var t=TC(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?EC(e):si=t,pw.current=null}function EC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Nz(n,t),n!==null){n.flags&=32767,si=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fi=6,si=null;return}}else if(n=Dz(n,t,ga),n!==null){si=n;return}if(t=t.sibling,t!==null){si=t;return}si=t=e}while(t!==null);fi===0&&(fi=5)}function Qc(e,t,n){var r=cr,i=$a.transition;try{$a.transition=null,cr=1,$z(e,t,n,r)}finally{$a.transition=i,cr=r}return null}function $z(e,t,n,r){do Pd();while(qu!==null);if(Jn&6)throw Error(xt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xt(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(S4(e,u),e===Ii&&(si=Ii=null,ji=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hg||(hg=!0,IC(Sv,function(){return Pd(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=$a.transition,$a.transition=null;var f=cr;cr=1;var s=Jn;Jn|=4,pw.current=null,Bz(e,n),vC(n,e),cz(nx),Iv=!!tx,nx=tx=null,e.current=n,Fz(n),m4(),Jn=s,cr=f,$a.transition=u}else e.current=n;if(hg&&(hg=!1,qu=e,Hv=i),u=e.pendingLanes,u===0&&(ec=null),y4(n.stateNode),Zo(e,ti()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vv)throw Vv=!1,e=wx,wx=null,e;return Hv&1&&e.tag!==0&&Pd(),u=e.pendingLanes,u&1?e===Ex?gp++:(gp=0,Ex=e):gp=0,_c(),null}function Pd(){if(qu!==null){var e=nO(Hv),t=$a.transition,n=cr;try{if($a.transition=null,cr=16>e?16:e,qu===null)var r=!1;else{if(e=qu,qu=null,Hv=0,Jn&6)throw Error(xt(331));var i=Jn;for(Jn|=4,qt=e.current;qt!==null;){var u=qt,f=u.child;if(qt.flags&16){var s=u.deletions;if(s!==null){for(var y=0;y<s.length;y++){var w=s[y];for(qt=w;qt!==null;){var I=qt;switch(I.tag){case 0:case 11:case 15:pp(8,I,u)}var A=I.child;if(A!==null)A.return=I,qt=A;else for(;qt!==null;){I=qt;var R=I.sibling,O=I.return;if(pC(I),I===w){qt=null;break}if(R!==null){R.return=O,qt=R;break}qt=O}}}var z=u.alternate;if(z!==null){var V=z.child;if(V!==null){z.child=null;do{var G=V.sibling;V.sibling=null,V=G}while(V!==null)}}qt=u}}if(u.subtreeFlags&2064&&f!==null)f.return=u,qt=f;else e:for(;qt!==null;){if(u=qt,u.flags&2048)switch(u.tag){case 0:case 11:case 15:pp(9,u,u.return)}var F=u.sibling;if(F!==null){F.return=u.return,qt=F;break e}qt=u.return}}var B=e.current;for(qt=B;qt!==null;){f=qt;var j=f.child;if(f.subtreeFlags&2064&&j!==null)j.return=f,qt=j;else e:for(f=B;qt!==null;){if(s=qt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:jy(9,s)}}catch(Q){Wr(s,s.return,Q)}if(s===f){qt=null;break e}var Y=s.sibling;if(Y!==null){Y.return=s.return,qt=Y;break e}qt=s.return}}if(Jn=i,_c(),ul&&typeof ul.onPostCommitFiberRoot=="function")try{ul.onPostCommitFiberRoot(Dy,e)}catch{}r=!0}return r}finally{cr=n,$a.transition=t}}return!1}function FT(e,t,n){t=$d(n,t),t=rC(e,t,1),e=Qu(e,t,1),t=Po(),e!==null&&(fm(e,1,t),Zo(e,t))}function Wr(e,t,n){if(e.tag===3)FT(e,e,n);else for(;t!==null;){if(t.tag===3){FT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ec===null||!ec.has(r))){e=$d(n,e),e=iC(t,e,1),t=Qu(t,e,1),e=Po(),t!==null&&(fm(t,1,e),Zo(t,e));break}}t=t.return}}function Gz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Po(),e.pingedLanes|=e.suspendedLanes&n,Ii===e&&(ji&n)===n&&(fi===4||fi===3&&(ji&130023424)===ji&&500>ti()-gw?ah(e,0):mw|=n),Zo(e,t)}function SC(e,t){t===0&&(e.mode&1?(t=tg,tg<<=1,!(tg&130023424)&&(tg=4194304)):t=1);var n=Po();e=eu(e,t),e!==null&&(fm(e,t,n),Zo(e,n))}function qz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),SC(e,n)}function Wz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xt(314))}r!==null&&r.delete(t),SC(e,n)}var TC;TC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qo.current)Go=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Go=!1,Mz(e,t,n);Go=!!(e.flags&131072)}else Go=!1,Nr&&t.flags&1048576&&PO(t,Lv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qg(e,t),e=t.pendingProps;var i=Ud(t,lo.current);Ad(t,n),i=uw(null,t,r,e,i,n);var u=cw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wo(r)?(u=!0,Rv(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iw(t),i.updater=Vy,t.stateNode=i,i._reactInternals=t,hx(t,r,e,n),t=px(null,t,r,!0,u,n)):(t.tag=0,Nr&&u&&Yb(t),To(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Kz(r),e=gs(r,e),i){case 0:t=fx(null,t,r,e,n);break e;case 1:t=OT(null,t,r,e,n);break e;case 11:t=AT(null,t,r,e,n);break e;case 14:t=PT(null,t,r,gs(r.type,e),n);break e}throw Error(xt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),fx(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),OT(e,t,r,i,n);case 3:e:{if(lC(t),e===null)throw Error(xt(387));r=t.pendingProps,u=t.memoizedState,i=u.element,kO(e,t),Nv(t,r,null,n);var f=t.memoizedState;if(r=f.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=$d(Error(xt(423)),t),t=CT(e,t,r,n,i);break e}else if(r!==i){i=$d(Error(xt(424)),t),t=CT(e,t,r,n,i);break e}else for(va=Ju(t.stateNode.containerInfo.firstChild),ya=t,Nr=!0,_s=null,n=NO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vd(),r===i){t=tu(e,t,n);break e}To(e,t,r,n)}t=t.child}return t;case 5:return zO(t),e===null&&lx(t),r=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,f=i.children,rx(r,i)?f=null:u!==null&&rx(r,u)&&(t.flags|=32),sC(e,t),To(e,t,f,n),t.child;case 6:return e===null&&lx(t),null;case 13:return uC(e,t,n);case 4:return ow(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hd(t,null,r,n):To(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),AT(e,t,r,i,n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:return To(e,t,t.pendingProps.children,n),t.child;case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,u=t.memoizedProps,f=i.value,Ar(Mv,r._currentValue),r._currentValue=f,u!==null)if(Ps(u.value,f)){if(u.children===i.children&&!qo.current){t=tu(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var s=u.dependencies;if(s!==null){f=u.child;for(var y=s.firstContext;y!==null;){if(y.context===r){if(u.tag===1){y=Kl(-1,n&-n),y.tag=2;var w=u.updateQueue;if(w!==null){w=w.shared;var I=w.pending;I===null?y.next=y:(y.next=I.next,I.next=y),w.pending=y}}u.lanes|=n,y=u.alternate,y!==null&&(y.lanes|=n),ux(u.return,n,t),s.lanes|=n;break}y=y.next}}else if(u.tag===10)f=u.type===t.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(xt(341));f.lanes|=n,s=f.alternate,s!==null&&(s.lanes|=n),ux(f,n,t),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===t){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}To(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ad(t,n),i=Ga(i),r=r(i),t.flags|=1,To(e,t,r,n),t.child;case 14:return r=t.type,i=gs(r,t.pendingProps),i=gs(r.type,i),PT(e,t,r,i,n);case 15:return oC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Qg(e,t),t.tag=1,Wo(r)?(e=!0,Rv(t)):e=!1,Ad(t,n),MO(t,r,i),hx(t,r,i,n),px(null,t,r,!0,e,n);case 19:return cC(e,t,n);case 22:return aC(e,t,n)}throw Error(xt(156,t.tag))};function IC(e,t){return JP(e,t)}function Zz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,t,n,r){return new Zz(e,t,n,r)}function xw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kz(e){if(typeof e=="function")return xw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fb)return 11;if(e===Ub)return 14}return 2}function nc(e,t){var n=e.alternate;return n===null?(n=ja(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nv(e,t,n,r,i,u){var f=2;if(r=e,typeof e=="function")xw(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case cd:return sh(n.children,i,u,t);case Bb:f=8,i|=8;break;case D1:return e=ja(12,n,t,i|2),e.elementType=D1,e.lanes=u,e;case N1:return e=ja(13,n,t,i),e.elementType=N1,e.lanes=u,e;case z1:return e=ja(19,n,t,i),e.elementType=z1,e.lanes=u,e;case DP:return Gy(n,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LP:f=10;break e;case MP:f=9;break e;case Fb:f=11;break e;case Ub:f=14;break e;case Nu:f=16,r=null;break e}throw Error(xt(130,e==null?e:typeof e,""))}return t=ja(f,n,t,i),t.elementType=e,t.type=r,t.lanes=u,t}function sh(e,t,n,r){return e=ja(7,e,r,t),e.lanes=n,e}function Gy(e,t,n,r){return e=ja(22,e,r,t),e.elementType=DP,e.lanes=n,e.stateNode={isHidden:!1},e}function K0(e,t,n){return e=ja(6,e,null,t),e.lanes=n,e}function X0(e,t,n){return t=ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C0(0),this.expirationTimes=C0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bw(e,t,n,r,i,u,f,s,y){return e=new Xz(e,t,n,s,y),t===1?(t=1,u===!0&&(t|=8)):t=0,u=ja(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iw(u),e}function Yz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ud,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function AC(e){if(!e)return hc;e=e._reactInternals;e:{if(wh(e)!==e||e.tag!==1)throw Error(xt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xt(171))}if(e.tag===1){var n=e.type;if(Wo(n))return IO(e,n,t)}return t}function PC(e,t,n,r,i,u,f,s,y){return e=bw(n,r,!0,e,i,u,f,s,y),e.context=AC(null),n=e.current,r=Po(),i=tc(n),u=Kl(r,i),u.callback=t??null,Qu(n,u,i),e.current.lanes=i,fm(e,i,r),Zo(e,r),e}function qy(e,t,n,r){var i=t.current,u=Po(),f=tc(i);return n=AC(n),t.context===null?t.context=n:t.pendingContext=n,t=Kl(u,f),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qu(i,t,f),e!==null&&(Is(e,i,f,u),Xg(e,i,f)),f}function $v(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function UT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ww(e,t){UT(e,t),(e=e.alternate)&&UT(e,t)}function Jz(){return null}var OC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ew(e){this._internalRoot=e}Wy.prototype.render=Ew.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xt(409));qy(e,t,null,null)};Wy.prototype.unmount=Ew.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vh(function(){qy(null,e,null,null)}),t[Ql]=null}};function Wy(e){this._internalRoot=e}Wy.prototype.unstable_scheduleHydration=function(e){if(e){var t=oO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bu.length&&t!==0&&t<Bu[n].priority;n++);Bu.splice(n,0,e),n===0&&sO(e)}};function Sw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function VT(){}function Qz(e,t,n,r,i){if(i){if(typeof r=="function"){var u=r;r=function(){var w=$v(f);u.call(w)}}var f=PC(t,r,e,0,null,!1,!1,"",VT);return e._reactRootContainer=f,e[Ql]=f.current,Up(e.nodeType===8?e.parentNode:e),vh(),f}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var w=$v(y);s.call(w)}}var y=bw(e,0,!1,null,null,!1,!1,"",VT);return e._reactRootContainer=y,e[Ql]=y.current,Up(e.nodeType===8?e.parentNode:e),vh(function(){qy(t,y,n,r)}),y}function Ky(e,t,n,r,i){var u=n._reactRootContainer;if(u){var f=u;if(typeof i=="function"){var s=i;i=function(){var y=$v(f);s.call(y)}}qy(t,f,e,i)}else f=Qz(n,t,e,i,r);return $v(f)}rO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qf(t.pendingLanes);n!==0&&(jb(t,n|1),Zo(t,ti()),!(Jn&6)&&(Gd=ti()+500,_c()))}break;case 13:vh(function(){var r=eu(e,1);if(r!==null){var i=Po();Is(r,e,1,i)}}),ww(e,1)}};$b=function(e){if(e.tag===13){var t=eu(e,134217728);if(t!==null){var n=Po();Is(t,e,134217728,n)}ww(e,134217728)}};iO=function(e){if(e.tag===13){var t=tc(e),n=eu(e,t);if(n!==null){var r=Po();Is(n,e,t,r)}ww(e,t)}};oO=function(){return cr};aO=function(e,t){var n=cr;try{return cr=e,t()}finally{cr=n}};W1=function(e,t,n){switch(t){case"input":if(U1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fy(r);if(!i)throw Error(xt(90));zP(r),U1(r,i)}}}break;case"textarea":FP(e,n);break;case"select":t=n.value,t!=null&&Ed(e,!!n.multiple,t,!1)}};qP=vw;WP=vh;var e3={usingClientEntryPoint:!1,Events:[mm,pd,Fy,$P,GP,vw]},Vf={findFiberByHostInstance:nh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},t3={bundleType:Vf.bundleType,version:Vf.version,rendererPackageName:Vf.rendererPackageName,rendererConfig:Vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ru.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XP(e),e===null?null:e.stateNode},findFiberByHostInstance:Vf.findFiberByHostInstance||Jz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dg.isDisabled&&dg.supportsFiber)try{Dy=dg.inject(t3),ul=dg}catch{}}wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e3;wa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sw(t))throw Error(xt(200));return Yz(e,t,null,n)};wa.createRoot=function(e,t){if(!Sw(e))throw Error(xt(299));var n=!1,r="",i=OC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=bw(e,1,!1,null,null,n,!1,r,i),e[Ql]=t.current,Up(e.nodeType===8?e.parentNode:e),new Ew(t)};wa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xt(188)):(e=Object.keys(e).join(","),Error(xt(268,e)));return e=XP(t),e=e===null?null:e.stateNode,e};wa.flushSync=function(e){return vh(e)};wa.hydrate=function(e,t,n){if(!Zy(t))throw Error(xt(200));return Ky(null,e,t,!0,n)};wa.hydrateRoot=function(e,t,n){if(!Sw(e))throw Error(xt(405));var r=n!=null&&n.hydratedSources||null,i=!1,u="",f=OC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=PC(t,null,e,1,n??null,i,!1,u,f),e[Ql]=t.current,Up(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wy(t)};wa.render=function(e,t,n){if(!Zy(t))throw Error(xt(200));return Ky(null,e,t,!1,n)};wa.unmountComponentAtNode=function(e){if(!Zy(e))throw Error(xt(40));return e._reactRootContainer?(vh(function(){Ky(null,null,e,!1,function(){e._reactRootContainer=null,e[Ql]=null})}),!0):!1};wa.unstable_batchedUpdates=vw;wa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zy(n))throw Error(xt(200));if(e==null||e._reactInternals===void 0)throw Error(xt(38));return Ky(e,t,n,!1,r)};wa.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=wa})(JN);var n3,HT=dh;n3=HT.createRoot,HT.hydrateRoot;var Ix={},r3={get exports(){return Ix},set exports(e){Ix=e}},CC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=le;function i3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o3=typeof Object.is=="function"?Object.is:i3,a3=qd.useState,s3=qd.useEffect,l3=qd.useLayoutEffect,u3=qd.useDebugValue;function c3(e,t){var n=t(),r=a3({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return l3(function(){i.value=n,i.getSnapshot=t,Y0(i)&&u({inst:i})},[e,n,t]),s3(function(){return Y0(i)&&u({inst:i}),e(function(){Y0(i)&&u({inst:i})})},[e]),u3(n),n}function Y0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o3(e,n)}catch{return!0}}function h3(e,t){return t()}var d3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h3:c3;CC.useSyncExternalStore=qd.useSyncExternalStore!==void 0?qd.useSyncExternalStore:d3;(function(e){e.exports=CC})(r3);var Ax={},f3={get exports(){return Ax},set exports(e){Ax=e}},RC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=le,p3=Ix;function m3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g3=typeof Object.is=="function"?Object.is:m3,v3=p3.useSyncExternalStore,y3=Xy.useRef,_3=Xy.useEffect,x3=Xy.useMemo,b3=Xy.useDebugValue;RC.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var u=y3(null);if(u.current===null){var f={hasValue:!1,value:null};u.current=f}else f=u.current;u=x3(function(){function y(O){if(!w){if(w=!0,I=O,O=r(O),i!==void 0&&f.hasValue){var z=f.value;if(i(z,O))return A=z}return A=O}if(z=A,g3(I,O))return z;var V=r(O);return i!==void 0&&i(z,V)?z:(I=O,A=V)}var w=!1,I,A,R=n===void 0?null:n;return[function(){return y(t())},R===null?void 0:function(){return y(R())}]},[t,n,r,i]);var s=v3(e,u[0],u[1]);return _3(function(){f.hasValue=!0,f.value=s},[s]),b3(s),s};(function(e){e.exports=RC})(f3);function w3(e){e()}let kC=w3;const E3=e=>kC=e,S3=()=>kC,dc=le.createContext(null);function LC(){return le.useContext(dc)}const T3=()=>{throw new Error("uSES not initialized!")};let MC=T3;const I3=e=>{MC=e},A3=(e,t)=>e===t;function P3(e=dc){const t=e===dc?LC:()=>le.useContext(e);return function(r,i=A3){const{store:u,subscription:f,getServerState:s}=t(),y=MC(f.addNestedSub,u.getState,s||u.getState,r,i);return le.useDebugValue(y),y}}const O3=P3();function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt.apply(this,arguments)}function lh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Kp={},C3={get exports(){return Kp},set exports(e){Kp=e}},hr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=typeof Symbol=="function"&&Symbol.for,Tw=Ai?Symbol.for("react.element"):60103,Iw=Ai?Symbol.for("react.portal"):60106,Yy=Ai?Symbol.for("react.fragment"):60107,Jy=Ai?Symbol.for("react.strict_mode"):60108,Qy=Ai?Symbol.for("react.profiler"):60114,e_=Ai?Symbol.for("react.provider"):60109,t_=Ai?Symbol.for("react.context"):60110,Aw=Ai?Symbol.for("react.async_mode"):60111,n_=Ai?Symbol.for("react.concurrent_mode"):60111,r_=Ai?Symbol.for("react.forward_ref"):60112,i_=Ai?Symbol.for("react.suspense"):60113,R3=Ai?Symbol.for("react.suspense_list"):60120,o_=Ai?Symbol.for("react.memo"):60115,a_=Ai?Symbol.for("react.lazy"):60116,k3=Ai?Symbol.for("react.block"):60121,L3=Ai?Symbol.for("react.fundamental"):60117,M3=Ai?Symbol.for("react.responder"):60118,D3=Ai?Symbol.for("react.scope"):60119;function Sa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tw:switch(e=e.type,e){case Aw:case n_:case Yy:case Qy:case Jy:case i_:return e;default:switch(e=e&&e.$$typeof,e){case t_:case r_:case a_:case o_:case e_:return e;default:return t}}case Iw:return t}}}function DC(e){return Sa(e)===n_}hr.AsyncMode=Aw;hr.ConcurrentMode=n_;hr.ContextConsumer=t_;hr.ContextProvider=e_;hr.Element=Tw;hr.ForwardRef=r_;hr.Fragment=Yy;hr.Lazy=a_;hr.Memo=o_;hr.Portal=Iw;hr.Profiler=Qy;hr.StrictMode=Jy;hr.Suspense=i_;hr.isAsyncMode=function(e){return DC(e)||Sa(e)===Aw};hr.isConcurrentMode=DC;hr.isContextConsumer=function(e){return Sa(e)===t_};hr.isContextProvider=function(e){return Sa(e)===e_};hr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tw};hr.isForwardRef=function(e){return Sa(e)===r_};hr.isFragment=function(e){return Sa(e)===Yy};hr.isLazy=function(e){return Sa(e)===a_};hr.isMemo=function(e){return Sa(e)===o_};hr.isPortal=function(e){return Sa(e)===Iw};hr.isProfiler=function(e){return Sa(e)===Qy};hr.isStrictMode=function(e){return Sa(e)===Jy};hr.isSuspense=function(e){return Sa(e)===i_};hr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yy||e===n_||e===Qy||e===Jy||e===i_||e===R3||typeof e=="object"&&e!==null&&(e.$$typeof===a_||e.$$typeof===o_||e.$$typeof===e_||e.$$typeof===t_||e.$$typeof===r_||e.$$typeof===L3||e.$$typeof===M3||e.$$typeof===D3||e.$$typeof===k3)};hr.typeOf=Sa;(function(e){e.exports=hr})(C3);var Pw=Kp,N3={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},z3={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},B3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ow={};Ow[Pw.ForwardRef]=B3;Ow[Pw.Memo]=NC;function jT(e){return Pw.isMemo(e)?NC:Ow[e.$$typeof]||N3}var F3=Object.defineProperty,U3=Object.getOwnPropertyNames,$T=Object.getOwnPropertySymbols,V3=Object.getOwnPropertyDescriptor,H3=Object.getPrototypeOf,GT=Object.prototype;function zC(e,t,n){if(typeof t!="string"){if(GT){var r=H3(t);r&&r!==GT&&zC(e,r,n)}var i=U3(t);$T&&(i=i.concat($T(t)));for(var u=jT(e),f=jT(t),s=0;s<i.length;++s){var y=i[s];if(!z3[y]&&!(n&&n[y])&&!(f&&f[y])&&!(u&&u[y])){var w=V3(t,y);try{F3(e,y,w)}catch{}}}}return e}var j3=zC,qT={},$3={get exports(){return qT},set exports(e){qT=e}},dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw=Symbol.for("react.element"),Rw=Symbol.for("react.portal"),s_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),u_=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),h_=Symbol.for("react.context"),G3=Symbol.for("react.server_context"),d_=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),p_=Symbol.for("react.suspense_list"),m_=Symbol.for("react.memo"),g_=Symbol.for("react.lazy"),q3=Symbol.for("react.offscreen"),BC;BC=Symbol.for("react.module.reference");function Wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cw:switch(e=e.type,e){case s_:case u_:case l_:case f_:case p_:return e;default:switch(e=e&&e.$$typeof,e){case G3:case h_:case d_:case g_:case m_:case c_:return e;default:return t}}case Rw:return t}}}dr.ContextConsumer=h_;dr.ContextProvider=c_;dr.Element=Cw;dr.ForwardRef=d_;dr.Fragment=s_;dr.Lazy=g_;dr.Memo=m_;dr.Portal=Rw;dr.Profiler=u_;dr.StrictMode=l_;dr.Suspense=f_;dr.SuspenseList=p_;dr.isAsyncMode=function(){return!1};dr.isConcurrentMode=function(){return!1};dr.isContextConsumer=function(e){return Wa(e)===h_};dr.isContextProvider=function(e){return Wa(e)===c_};dr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cw};dr.isForwardRef=function(e){return Wa(e)===d_};dr.isFragment=function(e){return Wa(e)===s_};dr.isLazy=function(e){return Wa(e)===g_};dr.isMemo=function(e){return Wa(e)===m_};dr.isPortal=function(e){return Wa(e)===Rw};dr.isProfiler=function(e){return Wa(e)===u_};dr.isStrictMode=function(e){return Wa(e)===l_};dr.isSuspense=function(e){return Wa(e)===f_};dr.isSuspenseList=function(e){return Wa(e)===p_};dr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===s_||e===u_||e===l_||e===f_||e===p_||e===q3||typeof e=="object"&&e!==null&&(e.$$typeof===g_||e.$$typeof===m_||e.$$typeof===c_||e.$$typeof===h_||e.$$typeof===d_||e.$$typeof===BC||e.getModuleId!==void 0)};dr.typeOf=Wa;(function(e){e.exports=dr})($3);function W3(){const e=S3();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,u=n={callback:r,next:null,prev:n};return u.prev?u.prev.next=u:t=u,function(){!i||t===null||(i=!1,u.next?u.next.prev=u.prev:n=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}const WT={notify(){},get:()=>[]};function Z3(e,t){let n,r=WT;function i(A){return y(),r.subscribe(A)}function u(){r.notify()}function f(){I.onStateChange&&I.onStateChange()}function s(){return Boolean(n)}function y(){n||(n=t?t.addNestedSub(f):e.subscribe(f),r=W3())}function w(){n&&(n(),n=void 0,r.clear(),r=WT)}const I={addNestedSub:i,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:s,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return I}const K3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X3=K3?le.useLayoutEffect:le.useEffect;function ZT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Gv(e,t){if(ZT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ZT(e[n[i]],t[n[i]]))return!1;return!0}function OW({store:e,context:t,children:n,serverState:r}){const i=le.useMemo(()=>{const s=Z3(e);return{store:e,subscription:s,getServerState:r?()=>r:void 0}},[e,r]),u=le.useMemo(()=>e.getState(),[e]);X3(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),u!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,u]);const f=t||dc;return Zr.createElement(f.Provider,{value:i},n)}function FC(e=dc){const t=e===dc?LC:()=>le.useContext(e);return function(){const{store:r}=t();return r}}const UC=FC();function Y3(e=dc){const t=e===dc?UC:FC(e);return function(){return t().dispatch}}const J3=Y3();I3(Ax.useSyncExternalStoreWithSelector);E3(dh.unstable_batchedUpdates);function so(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function nu(e){return!!e&&!!e[Mr]}function Os(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===aB}(e)||Array.isArray(e)||!!e[vp]||!!(!((t=e.constructor)===null||t===void 0)&&t[vp])||v_(e)||y_(e))}function fc(e,t,n){n===void 0&&(n=!1),pc(e)===0?(n?Object.keys:Od)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function pc(e){var t=e[Mr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:v_(e)?2:y_(e)?3:0}function rc(e,t){return pc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rv(e,t){return pc(e)===2?e.get(t):e[t]}function VC(e,t,n){var r=pc(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function HC(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function v_(e){return iB&&e instanceof Map}function y_(e){return oB&&e instanceof Set}function eh(e){return e.o||e.t}function kw(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$C(e);delete t[Mr];for(var n=Od(t),r=0;r<n.length;r++){var i=n[r],u=t[i];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(t[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Lw(e,t){return t===void 0&&(t=!1),Mw(e)||nu(e)||!Os(e)||(pc(e)>1&&(e.set=e.add=e.clear=e.delete=Q3),Object.freeze(e),t&&fc(e,function(n,r){return Lw(r,!0)},!0)),e}function Q3(){so(2)}function Mw(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function hl(e){var t=Rx[e];return t||so(18,e),t}function jC(e,t){Rx[e]||(Rx[e]=t)}function Px(){return Xp}function J0(e,t){t&&(hl("Patches"),e.u=[],e.s=[],e.v=t)}function qv(e){Ox(e),e.p.forEach(eB),e.p=null}function Ox(e){e===Xp&&(Xp=e.l)}function KT(e){return Xp={p:[],l:Xp,h:e,m:!0,_:0}}function eB(e){var t=e[Mr];t.i===0||t.i===1?t.j():t.O=!0}function Q0(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||hl("ES5").S(t,e,r),r?(n[Mr].P&&(qv(t),so(4)),Os(e)&&(e=Wv(t,e),t.l||Zv(t,e)),t.u&&hl("Patches").M(n[Mr].t,e,t.u,t.s)):e=Wv(t,n,[]),qv(t),t.u&&t.v(t.u,t.s),e!==Nw?e:void 0}function Wv(e,t,n){if(Mw(t))return t;var r=t[Mr];if(!r)return fc(t,function(u,f){return XT(e,r,t,u,f,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Zv(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=kw(r.k):r.o;fc(r.i===3?new Set(i):i,function(u,f){return XT(e,r,i,u,f,n)}),Zv(e,i,!1),n&&e.u&&hl("Patches").R(r,n,e.u,e.s)}return r.o}function XT(e,t,n,r,i,u){if(nu(i)){var f=Wv(e,i,u&&t&&t.i!==3&&!rc(t.D,r)?u.concat(r):void 0);if(VC(n,r,f),!nu(f))return;e.m=!1}if(Os(i)&&!Mw(i)){if(!e.h.F&&e._<1)return;Wv(e,i),t&&t.A.l||Zv(e,i)}}function Zv(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&Lw(t,n)}function e1(e,t){var n=e[Mr];return(n?eh(n):e)[t]}function YT(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Uu(e){e.P||(e.P=!0,e.l&&Uu(e.l))}function t1(e){e.o||(e.o=kw(e.t))}function Cx(e,t,n){var r=v_(t)?hl("MapSet").N(t,n):y_(t)?hl("MapSet").T(t,n):e.g?function(i,u){var f=Array.isArray(i),s={i:f?1:0,A:u?u.A:Px(),P:!1,I:!1,D:{},l:u,t:i,k:null,o:null,j:null,C:!1},y=s,w=Yp;f&&(y=[s],w=tp);var I=Proxy.revocable(y,w),A=I.revoke,R=I.proxy;return s.k=R,s.j=A,R}(t,n):hl("ES5").J(t,n);return(n?n.A:Px()).p.push(r),r}function tB(e){return nu(e)||so(22,e),function t(n){if(!Os(n))return n;var r,i=n[Mr],u=pc(n);if(i){if(!i.P&&(i.i<4||!hl("ES5").K(i)))return i.t;i.I=!0,r=JT(n,u),i.I=!1}else r=JT(n,u);return fc(r,function(f,s){i&&rv(i.t,f)===s||VC(r,f,t(s))}),u===3?new Set(r):r}(e)}function JT(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return kw(e)}function nB(){function e(u,f){var s=i[u];return s?s.enumerable=f:i[u]=s={configurable:!0,enumerable:f,get:function(){var y=this[Mr];return Yp.get(y,u)},set:function(y){var w=this[Mr];Yp.set(w,u,y)}},s}function t(u){for(var f=u.length-1;f>=0;f--){var s=u[f][Mr];if(!s.P)switch(s.i){case 5:r(s)&&Uu(s);break;case 4:n(s)&&Uu(s)}}}function n(u){for(var f=u.t,s=u.k,y=Od(s),w=y.length-1;w>=0;w--){var I=y[w];if(I!==Mr){var A=f[I];if(A===void 0&&!rc(f,I))return!0;var R=s[I],O=R&&R[Mr];if(O?O.t!==A:!HC(R,A))return!0}}var z=!!f[Mr];return y.length!==Od(f).length+(z?0:1)}function r(u){var f=u.k;if(f.length!==u.t.length)return!0;var s=Object.getOwnPropertyDescriptor(f,f.length-1);if(s&&!s.get)return!0;for(var y=0;y<f.length;y++)if(!f.hasOwnProperty(y))return!0;return!1}var i={};jC("ES5",{J:function(u,f){var s=Array.isArray(u),y=function(I,A){if(I){for(var R=Array(A.length),O=0;O<A.length;O++)Object.defineProperty(R,""+O,e(O,!0));return R}var z=$C(A);delete z[Mr];for(var V=Od(z),G=0;G<V.length;G++){var F=V[G];z[F]=e(F,I||!!z[F].enumerable)}return Object.create(Object.getPrototypeOf(A),z)}(s,u),w={i:s?5:4,A:f?f.A:Px(),P:!1,I:!1,D:{},l:f,t:u,k:y,o:null,O:!1,C:!1};return Object.defineProperty(y,Mr,{value:w,writable:!0}),y},S:function(u,f,s){s?nu(f)&&f[Mr].A===u&&t(u.p):(u.u&&function y(w){if(w&&typeof w=="object"){var I=w[Mr];if(I){var A=I.t,R=I.k,O=I.D,z=I.i;if(z===4)fc(R,function(j){j!==Mr&&(A[j]!==void 0||rc(A,j)?O[j]||y(R[j]):(O[j]=!0,Uu(I)))}),fc(A,function(j){R[j]!==void 0||rc(R,j)||(O[j]=!1,Uu(I))});else if(z===5){if(r(I)&&(Uu(I),O.length=!0),R.length<A.length)for(var V=R.length;V<A.length;V++)O[V]=!1;else for(var G=A.length;G<R.length;G++)O[G]=!0;for(var F=Math.min(R.length,A.length),B=0;B<F;B++)R.hasOwnProperty(B)||(O[B]=!0),O[B]===void 0&&y(R[B])}}}}(u.p[0]),t(u.p))},K:function(u){return u.i===4?n(u):r(u)}})}function rB(){function e(r){if(!Os(r))return r;if(Array.isArray(r))return r.map(e);if(v_(r))return new Map(Array.from(r.entries()).map(function(f){return[f[0],e(f[1])]}));if(y_(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var u in r)i[u]=e(r[u]);return rc(r,vp)&&(i[vp]=r[vp]),i}function t(r){return nu(r)?e(r):r}var n="add";jC("Patches",{$:function(r,i){return i.forEach(function(u){for(var f=u.path,s=u.op,y=r,w=0;w<f.length-1;w++){var I=pc(y),A=""+f[w];I!==0&&I!==1||A!=="__proto__"&&A!=="constructor"||so(24),typeof y=="function"&&A==="prototype"&&so(24),typeof(y=rv(y,A))!="object"&&so(15,f.join("/"))}var R=pc(y),O=e(u.value),z=f[f.length-1];switch(s){case"replace":switch(R){case 2:return y.set(z,O);case 3:so(16);default:return y[z]=O}case n:switch(R){case 1:return z==="-"?y.push(O):y.splice(z,0,O);case 2:return y.set(z,O);case 3:return y.add(O);default:return y[z]=O}case"remove":switch(R){case 1:return y.splice(z,1);case 2:return y.delete(z);case 3:return y.delete(u.value);default:return delete y[z]}default:so(17,s)}}),r},R:function(r,i,u,f){switch(r.i){case 0:case 4:case 2:return function(s,y,w,I){var A=s.t,R=s.o;fc(s.D,function(O,z){var V=rv(A,O),G=rv(R,O),F=z?rc(A,O)?"replace":n:"remove";if(V!==G||F!=="replace"){var B=y.concat(O);w.push(F==="remove"?{op:F,path:B}:{op:F,path:B,value:G}),I.push(F===n?{op:"remove",path:B}:F==="remove"?{op:n,path:B,value:t(V)}:{op:"replace",path:B,value:t(V)})}})}(r,i,u,f);case 5:case 1:return function(s,y,w,I){var A=s.t,R=s.D,O=s.o;if(O.length<A.length){var z=[O,A];A=z[0],O=z[1];var V=[I,w];w=V[0],I=V[1]}for(var G=0;G<A.length;G++)if(R[G]&&O[G]!==A[G]){var F=y.concat([G]);w.push({op:"replace",path:F,value:t(O[G])}),I.push({op:"replace",path:F,value:t(A[G])})}for(var B=A.length;B<O.length;B++){var j=y.concat([B]);w.push({op:n,path:j,value:t(O[B])})}A.length<O.length&&I.push({op:"replace",path:y.concat(["length"]),value:A.length})}(r,i,u,f);case 3:return function(s,y,w,I){var A=s.t,R=s.o,O=0;A.forEach(function(z){if(!R.has(z)){var V=y.concat([O]);w.push({op:"remove",path:V,value:z}),I.unshift({op:n,path:V,value:z})}O++}),O=0,R.forEach(function(z){if(!A.has(z)){var V=y.concat([O]);w.push({op:n,path:V,value:z}),I.unshift({op:"remove",path:V,value:z})}O++})}(r,i,u,f)}},M:function(r,i,u,f){u.push({op:"replace",path:[],value:i===Nw?void 0:i}),f.push({op:"replace",path:[],value:r})}})}var QT,Xp,Dw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",iB=typeof Map<"u",oB=typeof Set<"u",e2=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Nw=Dw?Symbol.for("immer-nothing"):((QT={})["immer-nothing"]=!0,QT),vp=Dw?Symbol.for("immer-draftable"):"__$immer_draftable",Mr=Dw?Symbol.for("immer-state"):"__$immer_state",aB=""+Object.prototype.constructor,Od=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$C=Object.getOwnPropertyDescriptors||function(e){var t={};return Od(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Rx={},Yp={get:function(e,t){if(t===Mr)return e;var n=eh(e);if(!rc(n,t))return function(i,u,f){var s,y=YT(u,f);return y?"value"in y?y.value:(s=y.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Os(r)?r:r===e1(e.t,t)?(t1(e),e.o[t]=Cx(e.A.h,r,e)):r},has:function(e,t){return t in eh(e)},ownKeys:function(e){return Reflect.ownKeys(eh(e))},set:function(e,t,n){var r=YT(eh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=e1(eh(e),t),u=i==null?void 0:i[Mr];if(u&&u.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(HC(n,i)&&(n!==void 0||rc(e.t,t)))return!0;t1(e),Uu(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return e1(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,t1(e),Uu(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=eh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){so(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){so(12)}},tp={};fc(Yp,function(e,t){tp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),tp.deleteProperty=function(e,t){return tp.set.call(this,e,t,void 0)},tp.set=function(e,t,n){return Yp.set.call(this,e[0],t,n,e[0])};var sB=function(){function e(n){var r=this;this.g=e2,this.F=!0,this.produce=function(i,u,f){if(typeof i=="function"&&typeof u!="function"){var s=u;u=i;var y=r;return function(V){var G=this;V===void 0&&(V=s);for(var F=arguments.length,B=Array(F>1?F-1:0),j=1;j<F;j++)B[j-1]=arguments[j];return y.produce(V,function(Y){var Q;return(Q=u).call.apply(Q,[G,Y].concat(B))})}}var w;if(typeof u!="function"&&so(6),f!==void 0&&typeof f!="function"&&so(7),Os(i)){var I=KT(r),A=Cx(r,i,void 0),R=!0;try{w=u(A),R=!1}finally{R?qv(I):Ox(I)}return typeof Promise<"u"&&w instanceof Promise?w.then(function(V){return J0(I,f),Q0(V,I)},function(V){throw qv(I),V}):(J0(I,f),Q0(w,I))}if(!i||typeof i!="object"){if((w=u(i))===void 0&&(w=i),w===Nw&&(w=void 0),r.F&&Lw(w,!0),f){var O=[],z=[];hl("Patches").M(i,w,O,z),f(O,z)}return w}so(21,i)},this.produceWithPatches=function(i,u){if(typeof i=="function")return function(w){for(var I=arguments.length,A=Array(I>1?I-1:0),R=1;R<I;R++)A[R-1]=arguments[R];return r.produceWithPatches(w,function(O){return i.apply(void 0,[O].concat(A))})};var f,s,y=r.produce(i,u,function(w,I){f=w,s=I});return typeof Promise<"u"&&y instanceof Promise?y.then(function(w){return[w,f,s]}):[y,f,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Os(n)||so(8),nu(n)&&(n=tB(n));var r=KT(this),i=Cx(this,n,void 0);return i[Mr].C=!0,Ox(r),i},t.finishDraft=function(n,r){var i=n&&n[Mr],u=i.A;return J0(u,r),Q0(void 0,u)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!e2&&so(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var u=r[i];if(u.path.length===0&&u.op==="replace"){n=u.value;break}}i>-1&&(r=r.slice(i+1));var f=hl("Patches").$;return nu(n)?f(n,r):this.produce(n,function(s){return f(s,r)})},e}(),ba=new sB,vm=ba.produce,GC=ba.produceWithPatches.bind(ba);ba.setAutoFreeze.bind(ba);ba.setUseProxies.bind(ba);var t2=ba.applyPatches.bind(ba);ba.createDraft.bind(ba);ba.finishDraft.bind(ba);function np(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(r){np(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function io(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var r2=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),n1=function(){return Math.random().toString(36).substring(7).split("").join(".")},Kv={INIT:"@@redux/INIT"+n1(),REPLACE:"@@redux/REPLACE"+n1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+n1()}};function lB(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qC(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(io(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(io(1));return n(qC)(e,t)}if(typeof e!="function")throw new Error(io(2));var i=e,u=t,f=[],s=f,y=!1;function w(){s===f&&(s=f.slice())}function I(){if(y)throw new Error(io(3));return u}function A(V){if(typeof V!="function")throw new Error(io(4));if(y)throw new Error(io(5));var G=!0;return w(),s.push(V),function(){if(G){if(y)throw new Error(io(6));G=!1,w();var B=s.indexOf(V);s.splice(B,1),f=null}}}function R(V){if(!lB(V))throw new Error(io(7));if(typeof V.type>"u")throw new Error(io(8));if(y)throw new Error(io(9));try{y=!0,u=i(u,V)}finally{y=!1}for(var G=f=s,F=0;F<G.length;F++){var B=G[F];B()}return V}function O(V){if(typeof V!="function")throw new Error(io(10));i=V,R({type:Kv.REPLACE})}function z(){var V,G=A;return V={subscribe:function(B){if(typeof B!="object"||B===null)throw new Error(io(11));function j(){B.next&&B.next(I())}j();var Y=G(j);return{unsubscribe:Y}}},V[r2]=function(){return this},V}return R({type:Kv.INIT}),r={dispatch:R,subscribe:A,getState:I,replaceReducer:O},r[r2]=z,r}function uB(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Kv.INIT});if(typeof r>"u")throw new Error(io(12));if(typeof n(void 0,{type:Kv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(io(13))})}function WC(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var u=Object.keys(n),f;try{uB(n)}catch(s){f=s}return function(y,w){if(y===void 0&&(y={}),f)throw f;for(var I=!1,A={},R=0;R<u.length;R++){var O=u[R],z=n[O],V=y[O],G=z(V,w);if(typeof G>"u")throw w&&w.type,new Error(io(14));A[O]=G,I=I||G!==V}return I=I||u.length!==Object.keys(y).length,I?A:y}}function Xv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function cB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),u=function(){throw new Error(io(15))},f={getState:i.getState,dispatch:function(){return u.apply(void 0,arguments)}},s=t.map(function(y){return y(f)});return u=Xv.apply(void 0,s)(i.dispatch),hn(hn({},i),{},{dispatch:u})}}}var Yv="NOT_FOUND";function hB(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:Yv},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function dB(e,t){var n=[];function r(s){var y=n.findIndex(function(I){return t(s,I.key)});if(y>-1){var w=n[y];return y>0&&(n.splice(y,1),n.unshift(w)),w.value}return Yv}function i(s,y){r(s)===Yv&&(n.unshift({key:s,value:y}),n.length>e&&n.pop())}function u(){return n}function f(){n=[]}return{get:r,put:i,getEntries:u,clear:f}}var fB=function(t,n){return t===n};function pB(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,u=0;u<i;u++)if(!e(n[u],r[u]))return!1;return!0}}function kx(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?fB:r,u=n.maxSize,f=u===void 0?1:u,s=n.resultEqualityCheck,y=pB(i),w=f===1?hB(y):dB(f,y);function I(){var A=w.get(arguments);if(A===Yv){if(A=e.apply(null,arguments),s){var R=w.getEntries(),O=R.find(function(z){return s(z.value,A)});O&&(A=O.value)}w.put(arguments,A)}return A}return I.clearCache=function(){return w.clear()},I}function mB(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function gB(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var f=arguments.length,s=new Array(f),y=0;y<f;y++)s[y]=arguments[y];var w=0,I,A={memoizeOptions:void 0},R=s.pop();if(typeof R=="object"&&(A=R,R=s.pop()),typeof R!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof R+"]");var O=A,z=O.memoizeOptions,V=z===void 0?n:z,G=Array.isArray(V)?V:[V],F=mB(s),B=e.apply(void 0,[function(){return w++,R.apply(null,arguments)}].concat(G)),j=e(function(){for(var Q=[],J=F.length,ee=0;ee<J;ee++)Q.push(F[ee].apply(null,arguments));return I=B.apply(null,Q),I});return Object.assign(j,{resultFunc:R,memoizedResultFunc:B,dependencies:F,lastResult:function(){return I},recomputations:function(){return w},resetRecomputations:function(){return w=0}}),j};return i}var yp=gB(kx);function ZC(e){var t=function(r){var i=r.dispatch,u=r.getState;return function(f){return function(s){return typeof s=="function"?s(i,u,e):f(s)}}};return t}var KC=ZC();KC.withExtraArgument=ZC;const i2=KC;var vB=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ym=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,i,u,f;return f={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function s(w){return function(I){return y([w,I])}}function y(w){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(u=w[0]&2?i.return:w[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,w[1])).done)return u;switch(i=0,u&&(w=[w[0]&2,u.value]),w[0]){case 0:case 1:u=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,i=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!u||w[1]>u[0]&&w[1]<u[3])){n.label=w[1];break}if(w[0]===6&&n.label<u[1]){n.label=u[1],u=w;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(w);break}u[2]&&n.ops.pop(),n.trys.pop();continue}w=t.call(e,n)}catch(I){w=[6,I],i=0}finally{r=u=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Jp=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},yB=Object.defineProperty,_B=Object.defineProperties,xB=Object.getOwnPropertyDescriptors,o2=Object.getOwnPropertySymbols,bB=Object.prototype.hasOwnProperty,wB=Object.prototype.propertyIsEnumerable,a2=function(e,t,n){return t in e?yB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ic=function(e,t){for(var n in t||(t={}))bB.call(t,n)&&a2(e,n,t[n]);if(o2)for(var r=0,i=o2(t);r<i.length;r++){var n=i[r];wB.call(t,n)&&a2(e,n,t[n])}return e},r1=function(e,t){return _B(e,xB(t))},_m=function(e,t,n){return new Promise(function(r,i){var u=function(y){try{s(n.next(y))}catch(w){i(w)}},f=function(y){try{s(n.throw(y))}catch(w){i(w)}},s=function(y){return y.done?r(y.value):Promise.resolve(y.value).then(u,f)};s((n=n.apply(e,t)).next())})},EB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xv:Xv.apply(null,arguments)};function nf(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var SB=function(e){vB(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Jp([void 0],n[0].concat(this)))):new(t.bind.apply(t,Jp([void 0],n.concat(this))))},t}(Array);function Lx(e){return Os(e)?vm(e,function(){}):e}function TB(e){return typeof e=="boolean"}function IB(){return function(t){return AB(t)}}function AB(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new SB;return n&&(TB(n)?r.push(i2):r.push(i2.withExtraArgument(n.extraArgument))),r}var PB=!0;function CW(e){var t=IB(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,u=n.middleware,f=u===void 0?t():u,s=n.devTools,y=s===void 0?!0:s,w=n.preloadedState,I=w===void 0?void 0:w,A=n.enhancers,R=A===void 0?void 0:A,O;if(typeof i=="function")O=i;else if(nf(i))O=WC(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var z=f;typeof z=="function"&&(z=z(t));var V=cB.apply(void 0,z),G=Xv;y&&(G=EB(ic({trace:!PB},typeof y=="object"&&y)));var F=[V];Array.isArray(R)?F=Jp([V],R):typeof R=="function"&&(F=R(F));var B=G.apply(void 0,F);return qC(O,I,B)}function Oo(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var u=t.apply(void 0,r);if(!u)throw new Error("prepareAction did not return an object");return ic(ic({type:e,payload:u.payload},"meta"in u&&{meta:u.meta}),"error"in u&&{error:u.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function XC(e){var t={},n=[],r,i={addCase:function(u,f){var s=typeof u=="string"?u:u.type;if(s in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[s]=f,i},addMatcher:function(u,f){return n.push({matcher:u,reducer:f}),i},addDefaultCase:function(u){return r=u,i}};return e(i),[t,n,r]}function OB(e){return typeof e=="function"}function CB(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?XC(t):[t,n,r],u=i[0],f=i[1],s=i[2],y;if(OB(e))y=function(){return Lx(e())};else{var w=Lx(e);y=function(){return w}}function I(A,R){A===void 0&&(A=y());var O=Jp([u[R.type]],f.filter(function(z){var V=z.matcher;return V(R)}).map(function(z){var V=z.reducer;return V}));return O.filter(function(z){return!!z}).length===0&&(O=[s]),O.reduce(function(z,V){if(V)if(nu(z)){var G=z,F=V(G,R);return F===void 0?z:F}else{if(Os(z))return vm(z,function(B){return V(B,R)});var F=V(z,R);if(F===void 0){if(z===null)return z;throw Error("A case reducer on a non-draftable value must not return undefined")}return F}return z},A)}return I.getInitialState=y,I}function RB(e,t){return e+"/"+t}function Yh(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Lx(e.initialState),r=e.reducers||{},i=Object.keys(r),u={},f={},s={};i.forEach(function(I){var A=r[I],R=RB(t,I),O,z;"reducer"in A?(O=A.reducer,z=A.prepare):O=A,u[I]=O,f[R]=O,s[I]=z?Oo(R,z):Oo(R)});function y(){var I=typeof e.extraReducers=="function"?XC(e.extraReducers):[e.extraReducers],A=I[0],R=A===void 0?{}:A,O=I[1],z=O===void 0?[]:O,V=I[2],G=V===void 0?void 0:V,F=ic(ic({},R),f);return CB(n,function(B){for(var j in F)B.addCase(j,F[j]);for(var Y=0,Q=z;Y<Q.length;Y++){var J=Q[Y];B.addMatcher(J.matcher,J.reducer)}G&&B.addDefaultCase(G)})}var w;return{name:t,reducer:function(I,A){return w||(w=y()),w(I,A)},actions:s,caseReducers:u,getInitialState:function(){return w||(w=y()),w.getInitialState()}}}var kB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zw=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=kB[Math.random()*64|0];return t},LB=["name","message","stack","code"],i1=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),s2=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),MB=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=LB;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},l2=function(){function e(t,n,r){var i=Oo(t+"/fulfilled",function(w,I,A,R){return{payload:w,meta:r1(ic({},R||{}),{arg:A,requestId:I,requestStatus:"fulfilled"})}}),u=Oo(t+"/pending",function(w,I,A){return{payload:void 0,meta:r1(ic({},A||{}),{arg:I,requestId:w,requestStatus:"pending"})}}),f=Oo(t+"/rejected",function(w,I,A,R,O){return{payload:R,error:(r&&r.serializeError||MB)(w||"Rejected"),meta:r1(ic({},O||{}),{arg:A,requestId:I,rejectedWithValue:!!R,requestStatus:"rejected",aborted:(w==null?void 0:w.name)==="AbortError",condition:(w==null?void 0:w.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function w(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return w.prototype.abort=function(){},w}();function y(w){return function(I,A,R){var O=r!=null&&r.idGenerator?r.idGenerator(w):zw(),z=new s,V;function G(B){V=B,z.abort()}var F=function(){return _m(this,null,function(){var B,j,Y,Q,J,ee,se;return ym(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,4,,5]),Q=(B=r==null?void 0:r.condition)==null?void 0:B.call(r,w,{getState:A,extra:R}),NB(Q)?[4,Q]:[3,2];case 1:Q=ge.sent(),ge.label=2;case 2:if(Q===!1||z.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return J=new Promise(function(he,Ee){return z.signal.addEventListener("abort",function(){return Ee({name:"AbortError",message:V||"Aborted"})})}),I(u(O,w,(j=r==null?void 0:r.getPendingMeta)==null?void 0:j.call(r,{requestId:O,arg:w},{getState:A,extra:R}))),[4,Promise.race([J,Promise.resolve(n(w,{dispatch:I,getState:A,extra:R,requestId:O,signal:z.signal,abort:G,rejectWithValue:function(he,Ee){return new i1(he,Ee)},fulfillWithValue:function(he,Ee){return new s2(he,Ee)}})).then(function(he){if(he instanceof i1)throw he;return he instanceof s2?i(he.payload,O,w,he.meta):i(he,O,w)})])];case 3:return Y=ge.sent(),[3,5];case 4:return ee=ge.sent(),Y=ee instanceof i1?f(null,O,w,ee.payload,ee.meta):f(ee,O,w),[3,5];case 5:return se=r&&!r.dispatchConditionRejection&&f.match(Y)&&Y.meta.condition,se||I(Y),[2,Y]}})})}();return Object.assign(F,{abort:G,requestId:O,arg:w,unwrap:function(){return F.then(DB)}})}}return Object.assign(y,{pending:u,rejected:f,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function DB(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function NB(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var zB=function(e){return e&&typeof e.match=="function"},YC=function(e,t){return zB(e)?e.match(t):e(t)};function rf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return YC(r,n)})}}function _p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.every(function(r){return YC(r,n)})}}function __(e,t){if(!e||!e.meta)return!1;var n=typeof e.meta.requestId=="string",r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function xm(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Bw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return __(n,["pending"])}:xm(e)?function(n){var r=e.map(function(u){return u.pending}),i=rf.apply(void 0,r);return i(n)}:Bw()(e[0])}function Qp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return __(n,["rejected"])}:xm(e)?function(n){var r=e.map(function(u){return u.rejected}),i=rf.apply(void 0,r);return i(n)}:Qp()(e[0])}function x_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return e.length===0?function(r){var i=_p(Qp.apply(void 0,e),n);return i(r)}:xm(e)?function(r){var i=_p(Qp.apply(void 0,e),n);return i(r)}:x_()(e[0])}function Eh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return __(n,["fulfilled"])}:xm(e)?function(n){var r=e.map(function(u){return u.fulfilled}),i=rf.apply(void 0,r);return i(n)}:Eh()(e[0])}function Mx(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return __(n,["pending","fulfilled","rejected"])}:xm(e)?function(n){for(var r=[],i=0,u=e;i<u.length;i++){var f=u[i];r.push(f.pending,f.rejected,f.fulfilled)}var s=rf.apply(void 0,r);return s(n)}:Mx()(e[0])}var Fw=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},BB=function(){},Uw=function(e,t){return t===void 0&&(t=BB),e.catch(t),e},JC=function(e,t){e.addEventListener("abort",t,{once:!0})},Cd=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},FB="task",QC="listener",eR="completed",Vw="cancelled",UB="task-"+Vw,VB="task-"+eR,tR=QC+"-"+Vw,HB=QC+"-"+eR,b_=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=FB+" "+Vw+" (reason: "+t+")"}return e}(),Rd=function(e){if(e.aborted)throw new b_(e.reason)},nR=function(e){return Uw(new Promise(function(t,n){var r=function(){return n(new b_(e.reason))};e.aborted?r():JC(e,r)}))},jB=function(e,t){return _m(void 0,null,function(){var n,r;return ym(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof b_?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},Jv=function(e){return function(t){return Uw(Promise.race([nR(e),t]).then(function(n){return Rd(e),n}))}},rR=function(e){var t=Jv(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},$B=Object.assign,u2={},bm="listenerMiddleware",GB=function(e){var t=function(n){return JC(e,function(){return Cd(n,e.reason)})};return function(n){Fw(n,"taskExecutor");var r=new AbortController;t(r);var i=jB(function(){return _m(void 0,null,function(){var u;return ym(this,function(f){switch(f.label){case 0:return Rd(e),Rd(r.signal),[4,n({pause:Jv(r.signal),delay:rR(r.signal),signal:r.signal})];case 1:return u=f.sent(),Rd(r.signal),[2,u]}})})},function(){return Cd(r,VB)});return{result:Jv(e)(i),cancel:function(){Cd(r,UB)}}}},qB=function(e,t){var n=function(r,i){return _m(void 0,null,function(){var u,f,s,y;return ym(this,function(w){switch(w.label){case 0:Rd(t),u=function(){},f=new Promise(function(I){u=e({predicate:r,effect:function(A,R){R.unsubscribe(),I([A,R.getState(),R.getOriginalState()])}})}),s=[nR(t),f],i!=null&&s.push(new Promise(function(I){return setTimeout(I,i,null)})),w.label=1;case 1:return w.trys.push([1,,3,4]),[4,Promise.race(s)];case 2:return y=w.sent(),Rd(t),[2,y];case 3:return u(),[7];case 4:return[2]}})})};return function(r,i){return Uw(n(r,i))}},iR=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,u=e.effect;if(t)i=Oo(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Fw(u,"options.listener"),{predicate:i,type:t,effect:u}},WB=function(e){var t=iR(e),n=t.type,r=t.predicate,i=t.effect,u=zw(),f={id:u,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return f},ZB=function(e){return function(){e.forEach(Dx),e.clear()}},c2=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},KB=Oo(bm+"/add"),XB=Oo(bm+"/removeAll"),YB=Oo(bm+"/remove"),JB=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Jp([bm+"/error"],e))},Dx=function(e){e.pending.forEach(function(t){Cd(t,tR)})};function RW(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,u=i===void 0?JB:i;Fw(u,"onError");var f=function(O){return O.unsubscribe=function(){return n.delete(O.id)},n.set(O.id,O),function(z){O.unsubscribe(),z!=null&&z.cancelActive&&Dx(O)}},s=function(O){for(var z=0,V=Array.from(n.values());z<V.length;z++){var G=V[z];if(O(G))return G}},y=function(O){var z=s(function(V){return V.effect===O.effect});return z||(z=WB(O)),f(z)},w=function(O){var z=iR(O),V=z.type,G=z.effect,F=z.predicate,B=s(function(j){var Y=typeof V=="string"?j.type===V:j.predicate===F;return Y&&j.effect===G});return B&&(B.unsubscribe(),O.cancelActive&&Dx(B)),!!B},I=function(O,z,V,G){return _m(t,null,function(){var F,B,j;return ym(this,function(Y){switch(Y.label){case 0:F=new AbortController,B=qB(y,F.signal),Y.label=1;case 1:return Y.trys.push([1,3,4,5]),O.pending.add(F),[4,Promise.resolve(O.effect(z,$B({},V,{getOriginalState:G,condition:function(Q,J){return B(Q,J).then(Boolean)},take:B,delay:rR(F.signal),pause:Jv(F.signal),extra:r,signal:F.signal,fork:GB(F.signal),unsubscribe:O.unsubscribe,subscribe:function(){n.set(O.id,O)},cancelActiveListeners:function(){O.pending.forEach(function(Q,J,ee){Q!==F&&(Cd(Q,tR),ee.delete(Q))})}})))];case 2:return Y.sent(),[3,5];case 3:return j=Y.sent(),j instanceof b_||c2(u,j,{raisedBy:"effect"}),[3,5];case 4:return Cd(F,HB),O.pending.delete(F),[7];case 5:return[2]}})})},A=ZB(n),R=function(O){return function(z){return function(V){if(KB.match(V))return y(V.payload);if(XB.match(V)){A();return}if(YB.match(V))return w(V.payload);var G=O.getState(),F=function(){if(G===u2)throw new Error(bm+": getOriginalState can only be called synchronously");return G},B;try{if(B=z(V),n.size>0)for(var j=O.getState(),Y=Array.from(n.values()),Q=0,J=Y;Q<J.length;Q++){var ee=J[Q],se=!1;try{se=ee.predicate(V,j,G)}catch(ge){se=!1,c2(u,ge,{raisedBy:"predicate"})}se&&I(ee,V,O,F)}}finally{G=u2}return B}}};return{middleware:R,startListening:y,stopListening:w,clearListeners:A}}var rp="RTK_autoBatch",h2=function(){return function(e){var t;return{payload:e,meta:(t={},t[rp]=!0,t)}}},d2;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);nB();var Qv=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,i,u,f;return f={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function s(w){return function(I){return y([w,I])}}function y(w){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(u=w[0]&2?i.return:w[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,w[1])).done)return u;switch(i=0,u&&(w=[w[0]&2,u.value]),w[0]){case 0:case 1:u=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,i=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!u||w[1]>u[0]&&w[1]<u[3])){n.label=w[1];break}if(w[0]===6&&n.label<u[1]){n.label=u[1],u=w;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(w);break}u[2]&&n.ops.pop(),n.trys.pop();continue}w=t.call(e,n)}catch(I){w=[6,I],i=0}finally{r=u=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ey=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},QB=Object.defineProperty,e5=Object.defineProperties,t5=Object.getOwnPropertyDescriptors,ty=Object.getOwnPropertySymbols,oR=Object.prototype.hasOwnProperty,aR=Object.prototype.propertyIsEnumerable,f2=function(e,t,n){return t in e?QB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ei=function(e,t){for(var n in t||(t={}))oR.call(t,n)&&f2(e,n,t[n]);if(ty)for(var r=0,i=ty(t);r<i.length;r++){var n=i[r];aR.call(t,n)&&f2(e,n,t[n])}return e},ol=function(e,t){return e5(e,t5(t))},p2=function(e,t){var n={};for(var r in e)oR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ty)for(var i=0,u=ty(e);i<u.length;i++){var r=u[i];t.indexOf(r)<0&&aR.call(e,r)&&(n[r]=e[r])}return n},ny=function(e,t,n){return new Promise(function(r,i){var u=function(y){try{s(n.next(y))}catch(w){i(w)}},f=function(y){try{s(n.throw(y))}catch(w){i(w)}},s=function(y){return y.done?r(y.value):Promise.resolve(y.value).then(u,f)};s((n=n.apply(e,t)).next())})},Dr;(function(e){e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"})(Dr||(Dr={}));function n5(e){return{status:e,isUninitialized:e===Dr.uninitialized,isLoading:e===Dr.pending,isSuccess:e===Dr.fulfilled,isError:e===Dr.rejected}}function r5(e){return new RegExp("(^|:)//").test(e)}var i5=function(e){return e.replace(/\/$/,"")},o5=function(e){return e.replace(/^\//,"")};function a5(e,t){if(!e)return t;if(!t)return e;if(r5(t))return t;var n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=i5(e),t=o5(t),""+e+n+t}var m2=function(e){return[].concat.apply([],e)};function s5(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function l5(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var g2=nf;function sR(e,t){if(e===t||!(g2(e)&&g2(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),r=Object.keys(e),i=n.length===r.length,u=Array.isArray(t)?[]:{},f=0,s=n;f<s.length;f++){var y=s[f];u[y]=sR(e[y],t[y]),i&&(i=e[y]===u[y])}return i?e:u}var v2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},u5=function(e){return e.status>=200&&e.status<=299},c5=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function y2(e){if(!nf(e))return e;for(var t=ei({},e),n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],u=i[0],f=i[1];f===void 0&&delete t[u]}return t}function kW(e){var t=this;e===void 0&&(e={});var n=e,r=n.baseUrl,i=n.prepareHeaders,u=i===void 0?function(F){return F}:i,f=n.fetchFn,s=f===void 0?v2:f,y=n.paramsSerializer,w=n.isJsonContentType,I=w===void 0?c5:w,A=n.jsonContentType,R=A===void 0?"application/json":A,O=n.timeout,z=n.validateStatus,V=p2(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","timeout","validateStatus"]);return typeof fetch>"u"&&s===v2&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(F,B){return ny(t,null,function(){var j,Y,Q,J,ee,se,ge,he,Ee,De,We,Fe,tt,Ye,pt,Pe,et,ze,rt,Be,qe,$e,Je,Ae,vt,lt,en,ke,Xe,_t,Jt,Wt,Zt,un,nn,dn,mt,Ot,jt,Kn;return Qv(this,function(xn){switch(xn.label){case 0:return j=B.signal,Y=B.getState,Q=B.extra,J=B.endpoint,ee=B.forced,se=B.type,he=typeof F=="string"?{url:F}:F,Ee=he.url,De=he.method,We=De===void 0?"GET":De,Fe=he.headers,tt=Fe===void 0?new Headers(V.headers):Fe,Ye=he.body,pt=Ye===void 0?void 0:Ye,Pe=he.params,et=Pe===void 0?void 0:Pe,ze=he.responseHandler,rt=ze===void 0?"json":ze,Be=he.validateStatus,qe=Be===void 0?z??u5:Be,$e=he.timeout,Je=$e===void 0?O:$e,Ae=p2(he,["url","method","headers","body","params","responseHandler","validateStatus","timeout"]),vt=ei(ol(ei({},V),{method:We,signal:j,body:pt}),Ae),tt=new Headers(y2(tt)),lt=vt,[4,u(tt,{getState:Y,extra:Q,endpoint:J,forced:ee,type:se})];case 1:lt.headers=xn.sent()||tt,en=function(it){return typeof it=="object"&&(nf(it)||Array.isArray(it)||typeof it.toJSON=="function")},!vt.headers.has("content-type")&&en(pt)&&vt.headers.set("content-type",R),en(pt)&&I(vt.headers)&&(vt.body=JSON.stringify(pt)),et&&(ke=~Ee.indexOf("?")?"&":"?",Xe=y?y(et):new URLSearchParams(y2(et)),Ee+=ke+Xe),Ee=a5(r,Ee),_t=new Request(Ee,vt),Jt=_t.clone(),ge={request:Jt},Zt=!1,un=Je&&setTimeout(function(){Zt=!0,B.abort()},Je),xn.label=2;case 2:return xn.trys.push([2,4,5,6]),[4,s(_t)];case 3:return Wt=xn.sent(),[3,6];case 4:return nn=xn.sent(),[2,{error:{status:Zt?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(nn)},meta:ge}];case 5:return un&&clearTimeout(un),[7];case 6:dn=Wt.clone(),ge.response=dn,Ot="",xn.label=7;case 7:return xn.trys.push([7,9,,10]),[4,Promise.all([G(Wt,rt).then(function(it){return mt=it},function(it){return jt=it}),dn.text().then(function(it){return Ot=it},function(){})])];case 8:if(xn.sent(),jt)throw jt;return[3,10];case 9:return Kn=xn.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:Wt.status,data:Ot,error:String(Kn)},meta:ge}];case 10:return[2,qe(Wt,mt)?{data:mt,meta:ge}:{error:{status:Wt.status,data:mt},meta:ge}]}})})};function G(F,B){return ny(this,null,function(){var j;return Qv(this,function(Y){switch(Y.label){case 0:return typeof B=="function"?[2,B(F)]:(B==="content-type"&&(B=I(F.headers)?"json":"text"),B!=="json"?[3,2]:[4,F.text()]);case 1:return j=Y.sent(),[2,j.length?JSON.parse(j):null];case 2:return[2,F.text()]}})})}}var _2=function(){function e(t,n){n===void 0&&(n=void 0),this.value=t,this.meta=n}return e}(),Hw=Oo("__rtkq/focused"),lR=Oo("__rtkq/unfocused"),jw=Oo("__rtkq/online"),uR=Oo("__rtkq/offline"),fl;(function(e){e.query="query",e.mutation="mutation"})(fl||(fl={}));function cR(e){return e.type===fl.query}function h5(e){return e.type===fl.mutation}function hR(e,t,n,r,i,u){return d5(e)?e(t,n,r,i).map(Nx).map(u):Array.isArray(e)?e.map(Nx).map(u):[]}function d5(e){return typeof e=="function"}function Nx(e){return typeof e=="string"?{type:e}:e}function o1(e){return e!=null}var em=Symbol("forceQueryFn"),zx=function(e){return typeof e[em]=="function"};function f5(e){var t=e.serializeQueryArgs,n=e.queryThunk,r=e.mutationThunk,i=e.api,u=e.context,f=new Map,s=new Map,y=i.internalActions,w=y.unsubscribeQueryResult,I=y.removeMutationResult,A=y.updateSubscriptionOptions;return{buildInitiateQuery:B,buildInitiateMutation:j,getRunningQueryThunk:z,getRunningMutationThunk:V,getRunningQueriesThunk:G,getRunningMutationsThunk:F,getRunningOperationPromises:O,removalWarning:R};function R(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function O(){typeof process<"u";var Y=function(Q){return Array.from(Q.values()).flatMap(function(J){return J?Object.values(J):[]})};return ey(ey([],Y(f)),Y(s)).filter(o1)}function z(Y,Q){return function(J){var ee,se=u.endpointDefinitions[Y],ge=t({queryArgs:Q,endpointDefinition:se,endpointName:Y});return(ee=f.get(J))==null?void 0:ee[ge]}}function V(Y,Q){return function(J){var ee;return(ee=s.get(J))==null?void 0:ee[Q]}}function G(){return function(Y){return Object.values(f.get(Y)||{}).filter(o1)}}function F(){return function(Y){return Object.values(s.get(Y)||{}).filter(o1)}}function B(Y,Q){var J=function(ee,se){var ge=se===void 0?{}:se,he=ge.subscribe,Ee=he===void 0?!0:he,De=ge.forceRefetch,We=ge.subscriptionOptions,Fe=em,tt=ge[Fe];return function(Ye,pt){var Pe,et,ze=t({queryArgs:ee,endpointDefinition:Q,endpointName:Y}),rt=n((Pe={type:"query",subscribe:Ee,forceRefetch:De,subscriptionOptions:We,endpointName:Y,originalArgs:ee,queryCacheKey:ze},Pe[em]=tt,Pe)),Be=i.endpoints[Y].select(ee),qe=Ye(rt),$e=Be(pt()),Je=qe.requestId,Ae=qe.abort,vt=$e.requestId!==Je,lt=(et=f.get(Ye))==null?void 0:et[ze],en=function(){return Be(pt())},ke=Object.assign(tt?qe.then(en):vt&&!lt?Promise.resolve($e):Promise.all([lt,qe]).then(en),{arg:ee,requestId:Je,subscriptionOptions:We,queryCacheKey:ze,abort:Ae,unwrap:function(){return ny(this,null,function(){var _t;return Qv(this,function(Jt){switch(Jt.label){case 0:return[4,ke];case 1:if(_t=Jt.sent(),_t.isError)throw _t.error;return[2,_t.data]}})})},refetch:function(){return Ye(J(ee,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){Ee&&Ye(w({queryCacheKey:ze,requestId:Je}))},updateSubscriptionOptions:function(_t){ke.subscriptionOptions=_t,Ye(A({endpointName:Y,requestId:Je,queryCacheKey:ze,options:_t}))}});if(!lt&&!vt&&!tt){var Xe=f.get(Ye)||{};Xe[ze]=ke,f.set(Ye,Xe),ke.then(function(){delete Xe[ze],Object.keys(Xe).length||f.delete(Ye)})}return ke}};return J}function j(Y){return function(Q,J){var ee=J===void 0?{}:J,se=ee.track,ge=se===void 0?!0:se,he=ee.fixedCacheKey;return function(Ee,De){var We=r({type:"mutation",endpointName:Y,originalArgs:Q,track:ge,fixedCacheKey:he}),Fe=Ee(We),tt=Fe.requestId,Ye=Fe.abort,pt=Fe.unwrap,Pe=Fe.unwrap().then(function(Be){return{data:Be}}).catch(function(Be){return{error:Be}}),et=function(){Ee(I({requestId:tt,fixedCacheKey:he}))},ze=Object.assign(Pe,{arg:Fe.arg,requestId:tt,abort:Ye,unwrap:pt,unsubscribe:et,reset:et}),rt=s.get(Ee)||{};return s.set(Ee,rt),rt[tt]=ze,ze.then(function(){delete rt[tt],Object.keys(rt).length||s.delete(Ee)}),he&&(rt[he]=ze,ze.then(function(){rt[he]===ze&&(delete rt[he],Object.keys(rt).length||s.delete(Ee))})),ze}}}}function x2(e){return e}function p5(e){var t=this,n=e.reducerPath,r=e.baseQuery,i=e.context.endpointDefinitions,u=e.serializeQueryArgs,f=e.api,s=function(j,Y,Q){return function(J){var ee=i[j];J(f.internalActions.queryResultPatched({queryCacheKey:u({queryArgs:Y,endpointDefinition:ee,endpointName:j}),patches:Q}))}},y=function(j,Y,Q){return function(J,ee){var se,ge,he=f.endpoints[j].select(Y)(ee()),Ee={patches:[],inversePatches:[],undo:function(){return J(f.util.patchQueryData(j,Y,Ee.inversePatches))}};if(he.status===Dr.uninitialized)return Ee;if("data"in he)if(Os(he.data)){var De=GC(he.data,Q),We=De[1],Fe=De[2];(se=Ee.patches).push.apply(se,We),(ge=Ee.inversePatches).push.apply(ge,Fe)}else{var tt=Q(he.data);Ee.patches.push({op:"replace",path:[],value:tt}),Ee.inversePatches.push({op:"replace",path:[],value:he.data})}return J(f.util.patchQueryData(j,Y,Ee.patches)),Ee}},w=function(j,Y,Q){return function(J){var ee;return J(f.endpoints[j].initiate(Y,(ee={subscribe:!1,forceRefetch:!0},ee[em]=function(){return{data:Q}},ee)))}},I=function(j,Y){return ny(t,[j,Y],function(Q,J){var ee,se,ge,he,Ee,De,We,Fe,tt,Ye,pt,Pe,et,ze,rt,Be,qe,$e,Je=J.signal,Ae=J.abort,vt=J.rejectWithValue,lt=J.fulfillWithValue,en=J.dispatch,ke=J.getState,Xe=J.extra;return Qv(this,function(_t){switch(_t.label){case 0:ee=i[Q.endpointName],_t.label=1;case 1:return _t.trys.push([1,8,,13]),se=x2,ge=void 0,he={signal:Je,abort:Ae,dispatch:en,getState:ke,extra:Xe,endpoint:Q.endpointName,type:Q.type,forced:Q.type==="query"?A(Q,ke()):void 0},Ee=Q.type==="query"?Q[em]:void 0,Ee?(ge=Ee(),[3,6]):[3,2];case 2:return ee.query?[4,r(ee.query(Q.originalArgs),he,ee.extraOptions)]:[3,4];case 3:return ge=_t.sent(),ee.transformResponse&&(se=ee.transformResponse),[3,6];case 4:return[4,ee.queryFn(Q.originalArgs,he,ee.extraOptions,function(Jt){return r(Jt,he,ee.extraOptions)})];case 5:ge=_t.sent(),_t.label=6;case 6:if(typeof process<"u",ge.error)throw new _2(ge.error,ge.meta);return pt=lt,[4,se(ge.data,ge.meta,Q.originalArgs)];case 7:return[2,pt.apply(void 0,[_t.sent(),(qe={fulfilledTimeStamp:Date.now(),baseQueryMeta:ge.meta},qe[rp]=!0,qe)])];case 8:if(Pe=_t.sent(),et=Pe,!(et instanceof _2))return[3,12];ze=x2,ee.query&&ee.transformErrorResponse&&(ze=ee.transformErrorResponse),_t.label=9;case 9:return _t.trys.push([9,11,,12]),rt=vt,[4,ze(et.value,et.meta,Q.originalArgs)];case 10:return[2,rt.apply(void 0,[_t.sent(),($e={baseQueryMeta:et.meta},$e[rp]=!0,$e)])];case 11:return Be=_t.sent(),et=Be,[3,12];case 12:throw typeof process<"u",console.error(et),et;case 13:return[2]}})})};function A(j,Y){var Q,J,ee,se,ge=(J=(Q=Y[n])==null?void 0:Q.queries)==null?void 0:J[j.queryCacheKey],he=(ee=Y[n])==null?void 0:ee.config.refetchOnMountOrArgChange,Ee=ge==null?void 0:ge.fulfilledTimeStamp,De=(se=j.forceRefetch)!=null?se:j.subscribe&&he;return De?De===!0||(Number(new Date)-Number(Ee))/1e3>=De:!1}var R=l2(n+"/executeQuery",I,{getPendingMeta:function(){var j;return j={startedTimeStamp:Date.now()},j[rp]=!0,j},condition:function(j,Y){var Q=Y.getState,J,ee,se,ge=Q(),he=(ee=(J=ge[n])==null?void 0:J.queries)==null?void 0:ee[j.queryCacheKey],Ee=he==null?void 0:he.fulfilledTimeStamp,De=j.originalArgs,We=he==null?void 0:he.originalArgs,Fe=i[j.endpointName];return zx(j)?!0:(he==null?void 0:he.status)==="pending"?!1:A(j,ge)||cR(Fe)&&((se=Fe==null?void 0:Fe.forceRefetch)!=null&&se.call(Fe,{currentArg:De,previousArg:We,endpointState:he,state:ge}))?!0:!Ee},dispatchConditionRejection:!0}),O=l2(n+"/executeMutation",I,{getPendingMeta:function(){var j;return j={startedTimeStamp:Date.now()},j[rp]=!0,j}}),z=function(j){return"force"in j},V=function(j){return"ifOlderThan"in j},G=function(j,Y,Q){return function(J,ee){var se=z(Q)&&Q.force,ge=V(Q)&&Q.ifOlderThan,he=function(Fe){return Fe===void 0&&(Fe=!0),f.endpoints[j].initiate(Y,{forceRefetch:Fe})},Ee=f.endpoints[j].select(Y)(ee());if(se)J(he());else if(ge){var De=Ee==null?void 0:Ee.fulfilledTimeStamp;if(!De){J(he());return}var We=(Number(new Date)-Number(new Date(De)))/1e3>=ge;We&&J(he())}else J(he(!1))}};function F(j){return function(Y){var Q,J;return((J=(Q=Y==null?void 0:Y.meta)==null?void 0:Q.arg)==null?void 0:J.endpointName)===j}}function B(j,Y){return{matchPending:_p(Bw(j),F(Y)),matchFulfilled:_p(Eh(j),F(Y)),matchRejected:_p(Qp(j),F(Y))}}return{queryThunk:R,mutationThunk:O,prefetch:G,updateQueryData:y,upsertQueryData:w,patchQueryData:s,buildMatchThunkActions:B}}function dR(e,t,n,r){return hR(n[e.meta.arg.endpointName][t],Eh(e)?e.payload:void 0,x_(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function fg(e,t,n){var r=e[t];r&&n(r)}function tm(e){var t;return(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)!=null?t:e.requestId}function b2(e,t,n){var r=e[tm(t)];r&&n(r)}var Hf={};function m5(e){var t=e.reducerPath,n=e.queryThunk,r=e.mutationThunk,i=e.context,u=i.endpointDefinitions,f=i.apiUid,s=i.extractRehydrationInfo,y=i.hasRehydrationInfo,w=e.assertTagType,I=e.config,A=Oo(t+"/resetApiState"),R=Yh({name:t+"/queries",initialState:Hf,reducers:{removeQueryResult:{reducer:function(Q,J){var ee=J.payload.queryCacheKey;delete Q[ee]},prepare:h2()},queryResultPatched:function(Q,J){var ee=J.payload,se=ee.queryCacheKey,ge=ee.patches;fg(Q,se,function(he){he.data=t2(he.data,ge.concat())})}},extraReducers:function(Q){Q.addCase(n.pending,function(J,ee){var se=ee.meta,ge=ee.meta.arg,he,Ee,De=zx(ge);(ge.subscribe||De)&&((Ee=J[he=ge.queryCacheKey])!=null||(J[he]={status:Dr.uninitialized,endpointName:ge.endpointName})),fg(J,ge.queryCacheKey,function(We){We.status=Dr.pending,We.requestId=De&&We.requestId?We.requestId:se.requestId,ge.originalArgs!==void 0&&(We.originalArgs=ge.originalArgs),We.startedTimeStamp=se.startedTimeStamp})}).addCase(n.fulfilled,function(J,ee){var se=ee.meta,ge=ee.payload;fg(J,se.arg.queryCacheKey,function(he){var Ee;if(!(he.requestId!==se.requestId&&!zx(se.arg))){var De=u[se.arg.endpointName].merge;if(he.status=Dr.fulfilled,De)if(he.data!==void 0){var We=se.fulfilledTimeStamp,Fe=se.arg,tt=se.baseQueryMeta,Ye=se.requestId,pt=vm(he.data,function(Pe){return De(Pe,ge,{arg:Fe.originalArgs,baseQueryMeta:tt,fulfilledTimeStamp:We,requestId:Ye})});he.data=pt}else he.data=ge;else he.data=(Ee=u[se.arg.endpointName].structuralSharing)==null||Ee?sR(he.data,ge):ge;delete he.error,he.fulfilledTimeStamp=se.fulfilledTimeStamp}})}).addCase(n.rejected,function(J,ee){var se=ee.meta,ge=se.condition,he=se.arg,Ee=se.requestId,De=ee.error,We=ee.payload;fg(J,he.queryCacheKey,function(Fe){if(!ge){if(Fe.requestId!==Ee)return;Fe.status=Dr.rejected,Fe.error=We??De}})}).addMatcher(y,function(J,ee){for(var se=s(ee).queries,ge=0,he=Object.entries(se);ge<he.length;ge++){var Ee=he[ge],De=Ee[0],We=Ee[1];((We==null?void 0:We.status)===Dr.fulfilled||(We==null?void 0:We.status)===Dr.rejected)&&(J[De]=We)}})}}),O=Yh({name:t+"/mutations",initialState:Hf,reducers:{removeMutationResult:{reducer:function(Q,J){var ee=J.payload,se=tm(ee);se in Q&&delete Q[se]},prepare:h2()}},extraReducers:function(Q){Q.addCase(r.pending,function(J,ee){var se=ee.meta,ge=ee.meta,he=ge.requestId,Ee=ge.arg,De=ge.startedTimeStamp;Ee.track&&(J[tm(se)]={requestId:he,status:Dr.pending,endpointName:Ee.endpointName,startedTimeStamp:De})}).addCase(r.fulfilled,function(J,ee){var se=ee.payload,ge=ee.meta;ge.arg.track&&b2(J,ge,function(he){he.requestId===ge.requestId&&(he.status=Dr.fulfilled,he.data=se,he.fulfilledTimeStamp=ge.fulfilledTimeStamp)})}).addCase(r.rejected,function(J,ee){var se=ee.payload,ge=ee.error,he=ee.meta;he.arg.track&&b2(J,he,function(Ee){Ee.requestId===he.requestId&&(Ee.status=Dr.rejected,Ee.error=se??ge)})}).addMatcher(y,function(J,ee){for(var se=s(ee).mutations,ge=0,he=Object.entries(se);ge<he.length;ge++){var Ee=he[ge],De=Ee[0],We=Ee[1];((We==null?void 0:We.status)===Dr.fulfilled||(We==null?void 0:We.status)===Dr.rejected)&&De!==(We==null?void 0:We.requestId)&&(J[De]=We)}})}}),z=Yh({name:t+"/invalidation",initialState:Hf,reducers:{},extraReducers:function(Q){Q.addCase(R.actions.removeQueryResult,function(J,ee){for(var se=ee.payload.queryCacheKey,ge=0,he=Object.values(J);ge<he.length;ge++)for(var Ee=he[ge],De=0,We=Object.values(Ee);De<We.length;De++){var Fe=We[De],tt=Fe.indexOf(se);tt!==-1&&Fe.splice(tt,1)}}).addMatcher(y,function(J,ee){for(var se,ge,he,Ee,De=s(ee).provided,We=0,Fe=Object.entries(De);We<Fe.length;We++)for(var tt=Fe[We],Ye=tt[0],pt=tt[1],Pe=0,et=Object.entries(pt);Pe<et.length;Pe++)for(var ze=et[Pe],rt=ze[0],Be=ze[1],qe=(Ee=(ge=(se=J[Ye])!=null?se:J[Ye]={})[he=rt||"__internal_without_id"])!=null?Ee:ge[he]=[],$e=0,Je=Be;$e<Je.length;$e++){var Ae=Je[$e],vt=qe.includes(Ae);vt||qe.push(Ae)}}).addMatcher(rf(Eh(n),x_(n)),function(J,ee){for(var se,ge,he,Ee,De=dR(ee,"providesTags",u,w),We=ee.meta.arg.queryCacheKey,Fe=0,tt=Object.values(J);Fe<tt.length;Fe++)for(var Ye=tt[Fe],pt=0,Pe=Object.values(Ye);pt<Pe.length;pt++){var et=Pe[pt],ze=et.indexOf(We);ze!==-1&&et.splice(ze,1)}for(var rt=0,Be=De;rt<Be.length;rt++){var qe=Be[rt],$e=qe.type,Je=qe.id,Ae=(Ee=(ge=(se=J[$e])!=null?se:J[$e]={})[he=Je||"__internal_without_id"])!=null?Ee:ge[he]=[],vt=Ae.includes(We);vt||Ae.push(We)}})}}),V=Yh({name:t+"/subscriptions",initialState:Hf,reducers:{updateSubscriptionOptions:function(Q,J){},unsubscribeQueryResult:function(Q,J){},internal_probeSubscription:function(Q,J){}}}),G=Yh({name:t+"/internalSubscriptions",initialState:Hf,reducers:{subscriptionsUpdated:function(Q,J){return t2(Q,J.payload)}}}),F=Yh({name:t+"/config",initialState:ei({online:s5(),focused:l5(),middlewareRegistered:!1},I),reducers:{middlewareRegistered:function(Q,J){var ee=J.payload;Q.middlewareRegistered=Q.middlewareRegistered==="conflict"||f!==ee?"conflict":!0}},extraReducers:function(Q){Q.addCase(jw,function(J){J.online=!0}).addCase(uR,function(J){J.online=!1}).addCase(Hw,function(J){J.focused=!0}).addCase(lR,function(J){J.focused=!1}).addMatcher(y,function(J){return ei({},J)})}}),B=WC({queries:R.reducer,mutations:O.reducer,provided:z.reducer,subscriptions:G.reducer,config:F.reducer}),j=function(Q,J){return B(A.match(J)?void 0:Q,J)},Y=ol(ei(ei(ei(ei(ei({},F.actions),R.actions),V.actions),G.actions),O.actions),{unsubscribeMutationResult:O.actions.removeMutationResult,resetApiState:A});return{reducer:j,actions:Y}}var Vu=Symbol.for("RTKQ/skipToken"),fR={status:Dr.uninitialized},w2=vm(fR,function(){}),E2=vm(fR,function(){});function g5(e){var t=e.serializeQueryArgs,n=e.reducerPath,r=function(I){return w2},i=function(I){return E2};return{buildQuerySelector:s,buildMutationSelector:y,selectInvalidatedBy:w};function u(I){return ei(ei({},I),n5(I.status))}function f(I){var A=I[n];return A}function s(I,A){return function(R){var O=t({queryArgs:R,endpointDefinition:A,endpointName:I}),z=function(G){var F,B,j;return(j=(B=(F=f(G))==null?void 0:F.queries)==null?void 0:B[O])!=null?j:w2},V=R===Vu?r:z;return yp(V,u)}}function y(){return function(I){var A,R;typeof I=="object"?R=(A=tm(I))!=null?A:Vu:R=I;var O=function(V){var G,F,B;return(B=(F=(G=f(V))==null?void 0:G.mutations)==null?void 0:F[R])!=null?B:E2},z=R===Vu?i:O;return yp(z,u)}}function w(I,A){for(var R,O=I[n],z=new Set,V=0,G=A.map(Nx);V<G.length;V++){var F=G[V],B=O.provided[F.type];if(B)for(var j=(R=F.id!==void 0?B[F.id]:m2(Object.values(B)))!=null?R:[],Y=0,Q=j;Y<Q.length;Y++){var J=Q[Y];z.add(J)}}return m2(Array.from(z.values()).map(function(ee){var se=O.queries[ee];return se?[{queryCacheKey:ee,endpointName:se.endpointName,originalArgs:se.originalArgs}]:[]}))}}var S2=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,function(r,i){return nf(i)?Object.keys(i).sort().reduce(function(u,f){return u[f]=i[f],u},{}):i})+")"};function v5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){var i=kx(function(I){var A,R;return(R=r.extractRehydrationInfo)==null?void 0:R.call(r,I,{reducerPath:(A=r.reducerPath)!=null?A:"api"})}),u=ol(ei({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},r),{extractRehydrationInfo:i,serializeQueryArgs:function(I){var A=S2;if("serializeQueryArgs"in I.endpointDefinition){var R=I.endpointDefinition.serializeQueryArgs;A=function(O){var z=R(O);return typeof z=="string"?z:S2(ol(ei({},O),{queryArgs:z}))}}else r.serializeQueryArgs&&(A=r.serializeQueryArgs);return A(I)},tagTypes:ey([],r.tagTypes||[])}),f={endpointDefinitions:{},batch:function(I){I()},apiUid:zw(),extractRehydrationInfo:i,hasRehydrationInfo:kx(function(I){return i(I)!=null})},s={injectEndpoints:w,enhanceEndpoints:function(I){var A=I.addTagTypes,R=I.endpoints;if(A)for(var O=0,z=A;O<z.length;O++){var V=z[O];u.tagTypes.includes(V)||u.tagTypes.push(V)}if(R)for(var G=0,F=Object.entries(R);G<F.length;G++){var B=F[G],j=B[0],Y=B[1];typeof Y=="function"?Y(f.endpointDefinitions[j]):Object.assign(f.endpointDefinitions[j]||{},Y)}return s}},y=e.map(function(I){return I.init(s,u,f)});function w(I){for(var A=I.endpoints({query:function(Y){return ol(ei({},Y),{type:fl.query})},mutation:function(Y){return ol(ei({},Y),{type:fl.mutation})}}),R=0,O=Object.entries(A);R<O.length;R++){var z=O[R],V=z[0],G=z[1];if(!I.overrideExisting&&V in f.endpointDefinitions){typeof process<"u";continue}f.endpointDefinitions[V]=G;for(var F=0,B=y;F<B.length;F++){var j=B[F];j.injectEndpoint(V,G)}}return s}return s.injectEndpoints({endpoints:r.endpoints})}}function y5(e){for(var t in e)return!1;return!0}var _5=2147483647/1e3-1,x5=function(e){var t=e.reducerPath,n=e.api,r=e.context,i=e.internalState,u=n.internalActions,f=u.removeQueryResult,s=u.unsubscribeQueryResult;function y(R){var O=i.currentSubscriptions[R];return!!O&&!y5(O)}var w={},I=function(R,O,z){var V;if(s.match(R)){var G=O.getState()[t],F=R.payload.queryCacheKey;A(F,(V=G.queries[F])==null?void 0:V.endpointName,O,G.config)}if(n.util.resetApiState.match(R))for(var B=0,j=Object.entries(w);B<j.length;B++){var Y=j[B],Q=Y[0],J=Y[1];J&&clearTimeout(J),delete w[Q]}if(r.hasRehydrationInfo(R))for(var G=O.getState()[t],ee=r.extractRehydrationInfo(R).queries,se=0,ge=Object.entries(ee);se<ge.length;se++){var he=ge[se],F=he[0],Ee=he[1];A(F,Ee==null?void 0:Ee.endpointName,O,G.config)}};function A(R,O,z,V){var G,F=r.endpointDefinitions[O],B=(G=F==null?void 0:F.keepUnusedDataFor)!=null?G:V.keepUnusedDataFor;if(B!==1/0){var j=Math.max(0,Math.min(B,_5));if(!y(R)){var Y=w[R];Y&&clearTimeout(Y),w[R]=setTimeout(function(){y(R)||z.dispatch(f({queryCacheKey:R})),delete w[R]},j*1e3)}}}return I},b5=function(e){var t=e.reducerPath,n=e.context,r=e.context.endpointDefinitions,i=e.mutationThunk,u=e.api,f=e.assertTagType,s=e.refetchQuery,y=u.internalActions.removeQueryResult,w=rf(Eh(i),x_(i)),I=function(R,O){w(R)&&A(dR(R,"invalidatesTags",r,f),O),u.util.invalidateTags.match(R)&&A(hR(R.payload,void 0,void 0,void 0,void 0,f),O)};function A(R,O){var z=O.getState(),V=z[t],G=u.util.selectInvalidatedBy(z,R);n.batch(function(){for(var F,B=Array.from(G.values()),j=0,Y=B;j<Y.length;j++){var Q=Y[j].queryCacheKey,J=V.queries[Q],ee=(F=V.subscriptions[Q])!=null?F:{};J&&(Object.keys(ee).length===0?O.dispatch(y({queryCacheKey:Q})):J.status!==Dr.uninitialized&&O.dispatch(s(J,Q)))}})}return I},w5=function(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,i=e.refetchQuery,u=e.internalState,f={},s=function(O,z){(r.internalActions.updateSubscriptionOptions.match(O)||r.internalActions.unsubscribeQueryResult.match(O))&&w(O.payload,z),(n.pending.match(O)||n.rejected.match(O)&&O.meta.condition)&&w(O.meta.arg,z),(n.fulfilled.match(O)||n.rejected.match(O)&&!O.meta.condition)&&y(O.meta.arg,z),r.util.resetApiState.match(O)&&A()};function y(O,z){var V=O.queryCacheKey,G=z.getState()[t],F=G.queries[V],B=u.currentSubscriptions[V];if(!(!F||F.status===Dr.uninitialized)){var j=R(B);if(Number.isFinite(j)){var Y=f[V];Y!=null&&Y.timeout&&(clearTimeout(Y.timeout),Y.timeout=void 0);var Q=Date.now()+j,J=f[V]={nextPollTimestamp:Q,pollingInterval:j,timeout:setTimeout(function(){J.timeout=void 0,z.dispatch(i(F,V))},j)}}}}function w(O,z){var V=O.queryCacheKey,G=z.getState()[t],F=G.queries[V],B=u.currentSubscriptions[V];if(!(!F||F.status===Dr.uninitialized)){var j=R(B);if(!Number.isFinite(j)){I(V);return}var Y=f[V],Q=Date.now()+j;(!Y||Q<Y.nextPollTimestamp)&&y({queryCacheKey:V},z)}}function I(O){var z=f[O];z!=null&&z.timeout&&clearTimeout(z.timeout),delete f[O]}function A(){for(var O=0,z=Object.keys(f);O<z.length;O++){var V=z[O];I(V)}}function R(O){O===void 0&&(O={});var z=Number.POSITIVE_INFINITY;for(var V in O)O[V].pollingInterval&&(z=Math.min(O[V].pollingInterval,z));return z}return s},E5=function(e){var t=e.reducerPath,n=e.context,r=e.api,i=e.refetchQuery,u=e.internalState,f=r.internalActions.removeQueryResult,s=function(w,I){Hw.match(w)&&y(I,"refetchOnFocus"),jw.match(w)&&y(I,"refetchOnReconnect")};function y(w,I){var A=w.getState()[t],R=A.queries,O=u.currentSubscriptions;n.batch(function(){for(var z=0,V=Object.keys(O);z<V.length;z++){var G=V[z],F=R[G],B=O[G];if(!(!B||!F)){var j=Object.values(B).some(function(Y){return Y[I]===!0})||Object.values(B).every(function(Y){return Y[I]===void 0})&&A.config[I];j&&(Object.keys(B).length===0?w.dispatch(f({queryCacheKey:G})):F.status!==Dr.uninitialized&&w.dispatch(i(F,G)))}}})}return s},T2=new Error("Promise never resolved before cacheEntryRemoved."),S5=function(e){var t=e.api,n=e.reducerPath,r=e.context,i=e.queryThunk,u=e.mutationThunk;e.internalState;var f=Mx(i),s=Mx(u),y=Eh(i,u),w={},I=function(O,z,V){var G=A(O);if(i.pending.match(O)){var F=V[n].queries[G],B=z.getState()[n].queries[G];!F&&B&&R(O.meta.arg.endpointName,O.meta.arg.originalArgs,G,z,O.meta.requestId)}else if(u.pending.match(O)){var B=z.getState()[n].mutations[G];B&&R(O.meta.arg.endpointName,O.meta.arg.originalArgs,G,z,O.meta.requestId)}else if(y(O)){var j=w[G];j!=null&&j.valueResolved&&(j.valueResolved({data:O.payload,meta:O.meta.baseQueryMeta}),delete j.valueResolved)}else if(t.internalActions.removeQueryResult.match(O)||t.internalActions.removeMutationResult.match(O)){var j=w[G];j&&(delete w[G],j.cacheEntryRemoved())}else if(t.util.resetApiState.match(O))for(var Y=0,Q=Object.entries(w);Y<Q.length;Y++){var J=Q[Y],ee=J[0],j=J[1];delete w[ee],j.cacheEntryRemoved()}};function A(O){return f(O)?O.meta.arg.queryCacheKey:s(O)?O.meta.requestId:t.internalActions.removeQueryResult.match(O)?O.payload.queryCacheKey:t.internalActions.removeMutationResult.match(O)?tm(O.payload):""}function R(O,z,V,G,F){var B=r.endpointDefinitions[O],j=B==null?void 0:B.onCacheEntryAdded;if(j){var Y={},Q=new Promise(function(Ee){Y.cacheEntryRemoved=Ee}),J=Promise.race([new Promise(function(Ee){Y.valueResolved=Ee}),Q.then(function(){throw T2})]);J.catch(function(){}),w[V]=Y;var ee=t.endpoints[O].select(B.type===fl.query?z:V),se=G.dispatch(function(Ee,De,We){return We}),ge=ol(ei({},G),{getCacheEntry:function(){return ee(G.getState())},requestId:F,extra:se,updateCachedData:B.type===fl.query?function(Ee){return G.dispatch(t.util.updateQueryData(O,z,Ee))}:void 0,cacheDataLoaded:J,cacheEntryRemoved:Q}),he=j(z,ge);Promise.resolve(he).catch(function(Ee){if(Ee!==T2)throw Ee})}}return I},T5=function(e){var t=e.api,n=e.context,r=e.queryThunk,i=e.mutationThunk,u=Bw(r,i),f=Qp(r,i),s=Eh(r,i),y={},w=function(I,A){var R,O,z;if(u(I)){var V=I.meta,G=V.requestId,F=V.arg,B=F.endpointName,j=F.originalArgs,Y=n.endpointDefinitions[B],Q=Y==null?void 0:Y.onQueryStarted;if(Q){var J={},ee=new Promise(function(tt,Ye){J.resolve=tt,J.reject=Ye});ee.catch(function(){}),y[G]=J;var se=t.endpoints[B].select(Y.type===fl.query?j:G),ge=A.dispatch(function(tt,Ye,pt){return pt}),he=ol(ei({},A),{getCacheEntry:function(){return se(A.getState())},requestId:G,extra:ge,updateCachedData:Y.type===fl.query?function(tt){return A.dispatch(t.util.updateQueryData(B,j,tt))}:void 0,queryFulfilled:ee});Q(j,he)}}else if(s(I)){var Ee=I.meta,G=Ee.requestId,De=Ee.baseQueryMeta;(R=y[G])==null||R.resolve({data:I.payload,meta:De}),delete y[G]}else if(f(I)){var We=I.meta,G=We.requestId,Fe=We.rejectedWithValue,De=We.baseQueryMeta;(z=y[G])==null||z.reject({error:(O=I.payload)!=null?O:I.error,isUnhandledError:!Fe,meta:De}),delete y[G]}};return w},I5=function(e){var t=e.api,n=e.context.apiUid,r=e.reducerPath;return function(i,u){var f,s;t.util.resetApiState.match(i)&&u.dispatch(t.internalActions.middlewareRegistered(n)),typeof process<"u"}},I2,A5=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(I2||(I2=Promise.resolve())).then(e).catch(function(t){return setTimeout(function(){throw t},0)})},P5=function(e){var t=e.api,n=e.queryThunk,r=e.internalState,i=t.reducerPath+"/subscriptions",u=null,f=!1,s=t.internalActions,y=s.updateSubscriptionOptions,w=s.unsubscribeQueryResult,I=function(A,R){var O,z,V,G,F,B,j,Y,Q;if(y.match(R)){var J=R.payload,ee=J.queryCacheKey,se=J.requestId,ge=J.options;return(O=A==null?void 0:A[ee])!=null&&O[se]&&(A[ee][se]=ge),!0}if(w.match(R)){var he=R.payload,ee=he.queryCacheKey,se=he.requestId;return A[ee]&&delete A[ee][se],!0}if(t.internalActions.removeQueryResult.match(R))return delete A[R.payload.queryCacheKey],!0;if(n.pending.match(R)){var Ee=R.meta,De=Ee.arg,se=Ee.requestId;if(De.subscribe){var We=(V=A[z=De.queryCacheKey])!=null?V:A[z]={};return We[se]=(F=(G=De.subscriptionOptions)!=null?G:We[se])!=null?F:{},!0}}if(n.rejected.match(R)){var Fe=R.meta,tt=Fe.condition,De=Fe.arg,se=Fe.requestId;if(tt&&De.subscribe){var We=(j=A[B=De.queryCacheKey])!=null?j:A[B]={};return We[se]=(Q=(Y=De.subscriptionOptions)!=null?Y:We[se])!=null?Q:{},!0}}return!1};return function(A,R){var O,z;if(u||(u=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.internalActions.internal_probeSubscription.match(A)){var V=A.payload,G=V.queryCacheKey,F=V.requestId,B=!!((O=r.currentSubscriptions[G])!=null&&O[F]);return[!1,B]}var j=I(r.currentSubscriptions,A);if(j){f||(A5(function(){var ee=JSON.parse(JSON.stringify(r.currentSubscriptions)),se=GC(u,function(){return ee}),ge=se[1];R.next(t.internalActions.subscriptionsUpdated(ge)),u=ee,f=!1}),f=!0);var Y=!!((z=A.type)!=null&&z.startsWith(i)),Q=n.rejected.match(A)&&A.meta.condition&&!!A.meta.arg.subscribe,J=!Y&&!Q;return[J,!1]}return[!0,!1]}};function O5(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,i=e.context,u=i.apiUid,f={invalidateTags:Oo(t+"/invalidateTags")},s=function(A){return!!A&&typeof A.type=="string"&&A.type.startsWith(t+"/")},y=[I5,x5,b5,w5,S5,T5],w=function(A){var R=!1,O={currentSubscriptions:{}},z=ol(ei({},e),{internalState:O,refetchQuery:I}),V=y.map(function(B){return B(z)}),G=P5(z),F=E5(z);return function(B){return function(j){R||(R=!0,A.dispatch(r.internalActions.middlewareRegistered(u)));var Y=ol(ei({},A),{next:B}),Q=A.getState(),J=G(j,Y,Q),ee=J[0],se=J[1],ge;if(ee?ge=B(j):ge=se,A.getState()[t]&&(F(j,Y,Q),s(j)||i.hasRehydrationInfo(j)))for(var he=0,Ee=V;he<Ee.length;he++){var De=Ee[he];De(j,Y,Q)}return ge}}};return{middleware:w,actions:f};function I(A,R,O){return O===void 0&&(O={}),n(ei({type:"query",endpointName:A.endpointName,originalArgs:A.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:R},O))}}function ku(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,ey([e],t))}var A2=Symbol(),C5=function(){return{name:A2,init:function(e,t,n){var r=t.baseQuery,i=t.tagTypes,u=t.reducerPath,f=t.serializeQueryArgs,s=t.keepUnusedDataFor,y=t.refetchOnMountOrArgChange,w=t.refetchOnFocus,I=t.refetchOnReconnect;rB();var A=function(qe){return typeof process<"u",qe};Object.assign(e,{reducerPath:u,endpoints:{},internalActions:{onOnline:jw,onOffline:uR,onFocus:Hw,onFocusLost:lR},util:{}});var R=p5({baseQuery:r,reducerPath:u,context:n,api:e,serializeQueryArgs:f}),O=R.queryThunk,z=R.mutationThunk,V=R.patchQueryData,G=R.updateQueryData,F=R.upsertQueryData,B=R.prefetch,j=R.buildMatchThunkActions,Y=m5({context:n,queryThunk:O,mutationThunk:z,reducerPath:u,assertTagType:A,config:{refetchOnFocus:w,refetchOnReconnect:I,refetchOnMountOrArgChange:y,keepUnusedDataFor:s,reducerPath:u}}),Q=Y.reducer,J=Y.actions;ku(e.util,{patchQueryData:V,updateQueryData:G,upsertQueryData:F,prefetch:B,resetApiState:J.resetApiState}),ku(e.internalActions,J);var ee=O5({reducerPath:u,context:n,queryThunk:O,mutationThunk:z,api:e,assertTagType:A}),se=ee.middleware,ge=ee.actions;ku(e.util,ge),ku(e,{reducer:Q,middleware:se});var he=g5({serializeQueryArgs:f,reducerPath:u}),Ee=he.buildQuerySelector,De=he.buildMutationSelector,We=he.selectInvalidatedBy;ku(e.util,{selectInvalidatedBy:We});var Fe=f5({queryThunk:O,mutationThunk:z,api:e,serializeQueryArgs:f,context:n}),tt=Fe.buildInitiateQuery,Ye=Fe.buildInitiateMutation,pt=Fe.getRunningMutationThunk,Pe=Fe.getRunningMutationsThunk,et=Fe.getRunningQueriesThunk,ze=Fe.getRunningQueryThunk,rt=Fe.getRunningOperationPromises,Be=Fe.removalWarning;return ku(e.util,{getRunningOperationPromises:rt,getRunningOperationPromise:Be,getRunningMutationThunk:pt,getRunningMutationsThunk:Pe,getRunningQueryThunk:ze,getRunningQueriesThunk:et}),{name:A2,injectEndpoint:function(qe,$e){var Je,Ae,vt=e;(Ae=(Je=vt.endpoints)[qe])!=null||(Je[qe]={}),cR($e)?ku(vt.endpoints[qe],{name:qe,select:Ee(qe,$e),initiate:tt(qe,$e)},j(O,qe)):h5($e)&&ku(vt.endpoints[qe],{name:qe,select:De(),initiate:Ye(qe)},j(z,qe))}}}}},R5=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},k5=Object.defineProperty,L5=Object.defineProperties,M5=Object.getOwnPropertyDescriptors,P2=Object.getOwnPropertySymbols,D5=Object.prototype.hasOwnProperty,N5=Object.prototype.propertyIsEnumerable,O2=function(e,t,n){return t in e?k5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},jl=function(e,t){for(var n in t||(t={}))D5.call(t,n)&&O2(e,n,t[n]);if(P2)for(var r=0,i=P2(t);r<i.length;r++){var n=i[r];N5.call(t,n)&&O2(e,n,t[n])}return e},iv=function(e,t){return L5(e,M5(t))};function C2(e,t,n,r){var i=le.useMemo(function(){return{queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e}},[e,t,n,r]),u=le.useRef(i);return le.useEffect(function(){u.current.serialized!==i.serialized&&(u.current=i)},[i]),u.current.serialized===i.serialized?u.current.queryArgs:e}var a1=Symbol();function s1(e){var t=le.useRef(e);return le.useEffect(function(){Gv(t.current,e)||(t.current=e)},[e]),Gv(t.current,e)?t.current:e}var z5=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,function(r,i){return nf(i)?Object.keys(i).sort().reduce(function(u,f){return u[f]=i[f],u},{}):i})+")"},B5=typeof window<"u"&&window.document&&window.document.createElement?le.useLayoutEffect:le.useEffect,F5=function(e){return e},U5=function(e){return e.isUninitialized?iv(jl({},e),{isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:Dr.pending}):e};function V5(e){var t=e.api,n=e.moduleOptions,r=n.batch,i=n.useDispatch,u=n.useSelector,f=n.useStore,s=n.unstable__sideEffectsInRender,y=e.serializeQueryArgs,w=e.context,I=s?function(V){return V()}:le.useEffect;return{buildQueryHooks:O,buildMutationHook:z,usePrefetch:R};function A(V,G,F){if(G!=null&&G.endpointName&&V.isUninitialized){var B=G.endpointName,j=w.endpointDefinitions[B];y({queryArgs:G.originalArgs,endpointDefinition:j,endpointName:B})===y({queryArgs:F,endpointDefinition:j,endpointName:B})&&(G=void 0)}F===Vu&&(G=void 0);var Y=V.isSuccess?V.data:G==null?void 0:G.data;Y===void 0&&(Y=V.data);var Q=Y!==void 0,J=V.isLoading,ee=!Q&&J,se=V.isSuccess||J&&Q;return iv(jl({},V),{data:Y,currentData:V.data,isFetching:J,isLoading:ee,isSuccess:se})}function R(V,G){var F=i(),B=s1(G);return le.useCallback(function(j,Y){return F(t.util.prefetch(V,j,jl(jl({},B),Y)))},[V,F,B])}function O(V){var G=function(j,Y){var Q=Y===void 0?{}:Y,J=Q.refetchOnReconnect,ee=Q.refetchOnFocus,se=Q.refetchOnMountOrArgChange,ge=Q.skip,he=ge===void 0?!1:ge,Ee=Q.pollingInterval,De=Ee===void 0?0:Ee,We=t.endpoints[V].initiate,Fe=i(),tt=C2(he?Vu:j,z5,w.endpointDefinitions[V],V),Ye=s1({refetchOnReconnect:J,refetchOnFocus:ee,pollingInterval:De}),pt=le.useRef(!1),Pe=le.useRef(),et=Pe.current||{},ze=et.queryCacheKey,rt=et.requestId,Be=!1;if(ze&&rt){var qe=Fe(t.internalActions.internal_probeSubscription({queryCacheKey:ze,requestId:rt}));Be=!!qe}var $e=!Be&&pt.current;return I(function(){pt.current=Be}),I(function(){Pe.current=void 0},[$e]),I(function(){var Je,Ae=Pe.current;if(typeof process<"u",tt===Vu){Ae==null||Ae.unsubscribe(),Pe.current=void 0;return}var vt=(Je=Pe.current)==null?void 0:Je.subscriptionOptions;if(!Ae||Ae.arg!==tt){Ae==null||Ae.unsubscribe();var lt=Fe(We(tt,{subscriptionOptions:Ye,forceRefetch:se}));Pe.current=lt}else Ye!==vt&&Ae.updateSubscriptionOptions(Ye)},[Fe,We,se,tt,Ye,$e]),le.useEffect(function(){return function(){var Je;(Je=Pe.current)==null||Je.unsubscribe(),Pe.current=void 0}},[]),le.useMemo(function(){return{refetch:function(){var Je;if(!Pe.current)throw new Error("Cannot refetch a query that has not been started yet.");return(Je=Pe.current)==null?void 0:Je.refetch()}}},[])},F=function(j){var Y=j===void 0?{}:j,Q=Y.refetchOnReconnect,J=Y.refetchOnFocus,ee=Y.pollingInterval,se=ee===void 0?0:ee,ge=t.endpoints[V].initiate,he=i(),Ee=le.useState(a1),De=Ee[0],We=Ee[1],Fe=le.useRef(),tt=s1({refetchOnReconnect:Q,refetchOnFocus:J,pollingInterval:se});I(function(){var Pe,et,ze=(Pe=Fe.current)==null?void 0:Pe.subscriptionOptions;tt!==ze&&((et=Fe.current)==null||et.updateSubscriptionOptions(tt))},[tt]);var Ye=le.useRef(tt);I(function(){Ye.current=tt},[tt]);var pt=le.useCallback(function(Pe,et){et===void 0&&(et=!1);var ze;return r(function(){var rt;(rt=Fe.current)==null||rt.unsubscribe(),Fe.current=ze=he(ge(Pe,{subscriptionOptions:Ye.current,forceRefetch:!et})),We(Pe)}),ze},[he,ge]);return le.useEffect(function(){return function(){var Pe;(Pe=Fe==null?void 0:Fe.current)==null||Pe.unsubscribe()}},[]),le.useEffect(function(){De!==a1&&!Fe.current&&pt(De,!0)},[De,pt]),le.useMemo(function(){return[pt,De]},[pt,De])},B=function(j,Y){var Q=Y===void 0?{}:Y,J=Q.skip,ee=J===void 0?!1:J,se=Q.selectFromResult,ge=t.endpoints[V].select,he=C2(ee?Vu:j,y,w.endpointDefinitions[V],V),Ee=le.useRef(),De=le.useMemo(function(){return yp([ge(he),function(pt,Pe){return Pe},function(pt){return he}],A)},[ge,he]),We=le.useMemo(function(){return se?yp([De],se):De},[De,se]),Fe=u(function(pt){return We(pt,Ee.current)},Gv),tt=f(),Ye=De(tt.getState(),Ee.current);return B5(function(){Ee.current=Ye},[Ye]),Fe};return{useQueryState:B,useQuerySubscription:G,useLazyQuerySubscription:F,useLazyQuery:function(j){var Y=F(j),Q=Y[0],J=Y[1],ee=B(J,iv(jl({},j),{skip:J===a1})),se=le.useMemo(function(){return{lastArg:J}},[J]);return le.useMemo(function(){return[Q,ee,se]},[Q,ee,se])},useQuery:function(j,Y){var Q=G(j,Y),J=B(j,jl({selectFromResult:j===Vu||Y!=null&&Y.skip?void 0:U5},Y)),ee=J.data,se=J.status,ge=J.isLoading,he=J.isSuccess,Ee=J.isError,De=J.error;return le.useDebugValue({data:ee,status:se,isLoading:ge,isSuccess:he,isError:Ee,error:De}),le.useMemo(function(){return jl(jl({},J),Q)},[J,Q])}}}function z(V){return function(G){var F=G===void 0?{}:G,B=F.selectFromResult,j=B===void 0?F5:B,Y=F.fixedCacheKey,Q=t.endpoints[V],J=Q.select,ee=Q.initiate,se=i(),ge=le.useState(),he=ge[0],Ee=ge[1];le.useEffect(function(){return function(){he!=null&&he.arg.fixedCacheKey||he==null||he.reset()}},[he]);var De=le.useCallback(function(Ae){var vt=se(ee(Ae,{fixedCacheKey:Y}));return Ee(vt),vt},[se,ee,Y]),We=(he||{}).requestId,Fe=le.useMemo(function(){return yp([J({fixedCacheKey:Y,requestId:he==null?void 0:he.requestId})],j)},[J,he,j,Y]),tt=u(Fe,Gv),Ye=Y==null?he==null?void 0:he.arg.originalArgs:void 0,pt=le.useCallback(function(){r(function(){he&&Ee(void 0),Y&&se(t.internalActions.removeMutationResult({requestId:We,fixedCacheKey:Y}))})},[se,Y,he,We]),Pe=tt.endpointName,et=tt.data,ze=tt.status,rt=tt.isLoading,Be=tt.isSuccess,qe=tt.isError,$e=tt.error;le.useDebugValue({endpointName:Pe,data:et,status:ze,isLoading:rt,isSuccess:Be,isError:qe,error:$e});var Je=le.useMemo(function(){return iv(jl({},tt),{originalArgs:Ye,reset:pt})},[tt,Ye,pt]);return le.useMemo(function(){return[De,Je]},[De,Je])}}}var ry;(function(e){e.query="query",e.mutation="mutation"})(ry||(ry={}));function H5(e){return e.type===ry.query}function j5(e){return e.type===ry.mutation}function l1(e){return e.replace(e[0],e[0].toUpperCase())}function pg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,R5([e],t))}var $5=Symbol(),G5=function(e){var t=e===void 0?{}:e,n=t.batch,r=n===void 0?dh.unstable_batchedUpdates:n,i=t.useDispatch,u=i===void 0?J3:i,f=t.useSelector,s=f===void 0?O3:f,y=t.useStore,w=y===void 0?UC:y,I=t.unstable__sideEffectsInRender,A=I===void 0?!1:I;return{name:$5,init:function(R,O,z){var V=O.serializeQueryArgs,G=R,F=V5({api:R,moduleOptions:{batch:r,useDispatch:u,useSelector:s,useStore:w,unstable__sideEffectsInRender:A},serializeQueryArgs:V,context:z}),B=F.buildQueryHooks,j=F.buildMutationHook,Y=F.usePrefetch;return pg(G,{usePrefetch:Y}),pg(z,{batch:r}),{injectEndpoint:function(Q,J){if(H5(J)){var ee=B(Q),se=ee.useQuery,ge=ee.useLazyQuery,he=ee.useLazyQuerySubscription,Ee=ee.useQueryState,De=ee.useQuerySubscription;pg(G.endpoints[Q],{useQuery:se,useLazyQuery:ge,useLazyQuerySubscription:he,useQueryState:Ee,useQuerySubscription:De}),R["use"+l1(Q)+"Query"]=se,R["useLazy"+l1(Q)+"Query"]=ge}else if(j5(J)){var We=j(Q);pg(G.endpoints[Q],{useMutation:We}),R["use"+l1(Q)+"Mutation"]=We}}}}}},LW=v5(C5(),G5());function nm(e){return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function q5(e,t){if(nm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pR(e){var t=q5(e,"string");return nm(t)==="symbol"?t:String(t)}function mR(e,t,n){return t=pR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W5(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var R2={};function Bx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&R2[t[0]]||(typeof t[0]=="string"&&(R2[t[0]]=new Date),W5.apply(void 0,t))}function k2(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{var r=function i(){setTimeout(function(){e.off("initialized",i)},0),n()};e.on("initialized",r)}})}function Z5(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.languages[0],i=t.options?t.options.fallbackLng:!1,u=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var f=function(y,w){var I=t.services.backendConnector.state["".concat(y,"|").concat(w)];return I===-1||I===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!f(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||f(r,e)&&(!i||f(u,e)))}function K5(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return Bx("i18n.languages were undefined or empty",t.languages),!0;var r=t.options.ignoreJSONStructure!==void 0;return r?t.hasLoadedNamespace(e,{precheck:function(u,f){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&u.services.backendConnector.backend&&u.isLanguageChangingTo&&!f(u.isLanguageChangingTo,e))return!1}}):Z5(e,t,n)}var X5=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Y5={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},J5=function(t){return Y5[t]},Q5=function(t){return t.replace(X5,J5)};function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){mR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Q5};function e6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fx=M2(M2({},Fx),e)}function t6(){return Fx}var gR;function n6(e){gR=e}function r6(){return gR}function i6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pR(r.key),r)}}function o6(e,t,n){return t&&D2(e.prototype,t),n&&D2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var MW={type:"3rdParty",init:function(t){e6(t.options.react),n6(t)}},a6=le.createContext(),s6=function(){function e(){i6(this,e),this.usedNamespaces={}}return o6(e,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function l6(e){if(Array.isArray(e))return e}function u6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,u,f,s=[],y=!0,w=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;y=!1}else for(;!(y=(r=u.call(n)).done)&&(s.push(r.value),s.length!==t);y=!0);}catch(I){w=!0,i=I}finally{try{if(!y&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(w)throw i}}return s}}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c6(e,t){if(e){if(typeof e=="string")return N2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(e,t)}}function h6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6(e,t){return l6(e)||u6(e,t)||c6(e,t)||h6()}function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(r){mR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var f6=function(t,n){var r=le.useRef();return le.useEffect(function(){r.current=n?r.current:t},[t,n]),r.current};function DW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.i18n,r=le.useContext(a6)||{},i=r.i18n,u=r.defaultNS,f=n||i||r6();if(f&&!f.reportNamespaces&&(f.reportNamespaces=new s6),!f){Bx("You will need to pass in an i18next instance by using initReactI18next");var s=function(ge){return Array.isArray(ge)?ge[ge.length-1]:ge},y=[s,{},!1];return y.t=s,y.i18n={},y.ready=!1,y}f.options.react&&f.options.react.wait!==void 0&&Bx("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var w=u1(u1(u1({},t6()),f.options.react),t),I=w.useSuspense,A=w.keyPrefix,R=e||u||f.options&&f.options.defaultNS;R=typeof R=="string"?[R]:R||["translation"],f.reportNamespaces.addUsedNamespaces&&f.reportNamespaces.addUsedNamespaces(R);var O=(f.isInitialized||f.initializedStoreOnce)&&R.every(function(se){return K5(se,f,w)});function z(){return f.getFixedT(null,w.nsMode==="fallback"?R:R[0],A)}var V=le.useState(z),G=d6(V,2),F=G[0],B=G[1],j=R.join(),Y=f6(j),Q=le.useRef(!0);le.useEffect(function(){var se=w.bindI18n,ge=w.bindI18nStore;Q.current=!0,!O&&!I&&k2(f,R,function(){Q.current&&B(z)}),O&&Y&&Y!==j&&Q.current&&B(z);function he(){Q.current&&B(z)}return se&&f&&f.on(se,he),ge&&f&&f.store.on(ge,he),function(){Q.current=!1,se&&f&&se.split(" ").forEach(function(Ee){return f.off(Ee,he)}),ge&&f&&ge.split(" ").forEach(function(Ee){return f.store.off(Ee,he)})}},[f,j]);var J=le.useRef(!0);le.useEffect(function(){Q.current&&!J.current&&B(z),J.current=!1},[f,A]);var ee=[F,f,O];if(ee.t=F,ee.i18n=f,ee.ready=O,O||!O&&!I)return ee;throw new Promise(function(se){k2(f,R,function(){se()})})}function As(e){return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p6(e,t){if(As(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(As(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vR(e){var t=p6(e,"string");return As(t)==="symbol"?t:String(t)}function B2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vR(r.key),r)}}function gl(e,t,n){return t&&B2(e.prototype,t),n&&B2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ux(e,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ux(e,t)}function w_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ux(e,t)}function wm(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oc(e)}function pl(e){return pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pl(e)}function xc(e,t,n){return t=vR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m6(e){if(Array.isArray(e))return e}function g6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v6(e,t){if(e){if(typeof e=="string")return F2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(e,t)}}function y6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _6(e){return m6(e)||g6(e)||v6(e)||y6()}function U2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(n),!0).forEach(function(r){xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var x6={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},b6=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ml(this,e),this.init(t,n)}return gl(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||x6,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,u){return u&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new e(this.logger,V2(V2({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}(),al=new b6,mc=function(){function e(){ml(this,e),this.observers={}}return gl(e,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(u){i.observers[u]=i.observers[u]||[],i.observers[u].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];if(this.observers[n]){var f=[].concat(this.observers[n]);f.forEach(function(y){y.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(y){y.apply(y,[n].concat(i))})}}}]),e}();function jf(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}function H2(e){return e==null?"":""+e}function w6(e,t,n){e.forEach(function(r){t[r]&&(n[r]=t[r])})}function $w(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!e||typeof e=="string"}for(var u=typeof t!="string"?[].concat(t):t.split(".");u.length>1;){if(i())return{};var f=r(u.shift());!e[f]&&n&&(e[f]=new n),Object.prototype.hasOwnProperty.call(e,f)?e=e[f]:e={}}return i()?{}:{obj:e,k:r(u.shift())}}function j2(e,t,n){var r=$w(e,t,Object),i=r.obj,u=r.k;i[u]=n}function E6(e,t,n,r){var i=$w(e,t,Object),u=i.obj,f=i.k;u[f]=u[f]||[],r&&(u[f]=u[f].concat(n)),r||u[f].push(n)}function iy(e,t){var n=$w(e,t),r=n.obj,i=n.k;if(r)return r[i]}function $2(e,t,n){var r=iy(e,n);return r!==void 0?r:iy(t,n)}function yR(e,t,n){for(var r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):yR(e[r],t[r],n):e[r]=t[r]);return e}function Jh(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var S6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function T6(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return S6[t]}):e}var E_=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,I6=[" ",",","?","!",";"];function A6(e,t,n){t=t||"",n=n||"";var r=I6.filter(function(s){return t.indexOf(s)<0&&n.indexOf(s)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),u=!i.test(e);if(!u){var f=e.indexOf(n);f>0&&!i.test(e.substring(0,f))&&(u=!0)}return u}function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P6(e){var t=O6();return function(){var r=pl(e),i;if(t){var u=pl(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return wm(this,i)}}function O6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _R(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,u=0;u<r.length;++u){if(!i||typeof i[r[u]]=="string"&&u+1<r.length)return;if(i[r[u]]===void 0){for(var f=2,s=r.slice(u,u+f).join(n),y=i[s];y===void 0&&r.length>u+f;)f++,s=r.slice(u,u+f).join(n),y=i[s];if(y===void 0)return;if(y===null)return null;if(t.endsWith(s)){if(typeof y=="string")return y;if(s&&typeof y[s]=="string")return y[s]}var w=r.slice(u+f).join(n);return w?_R(y,w,n):void 0}i=i[r[u]]}return i}}var C6=function(e){w_(n,e);var t=P6(n);function n(r){var i,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return ml(this,n),i=t.call(this),E_&&mc.call(oc(i)),i.data=r||{},i.options=u,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return gl(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var u=this.options.ns.indexOf(i);u>-1&&this.options.ns.splice(u,1)}},{key:"getResource",value:function(i,u,f){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,w=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,I=[i,u];f&&typeof f!="string"&&(I=I.concat(f)),f&&typeof f=="string"&&(I=I.concat(y?f.split(y):f)),i.indexOf(".")>-1&&(I=i.split("."));var A=iy(this.data,I);return A||!w||typeof f!="string"?A:_R(this.data&&this.data[i]&&this.data[i][u],f,y)}},{key:"addResource",value:function(i,u,f,s){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},w=this.options.keySeparator;w===void 0&&(w=".");var I=[i,u];f&&(I=I.concat(w?f.split(w):f)),i.indexOf(".")>-1&&(I=i.split("."),s=u,u=I[1]),this.addNamespaces(u),j2(this.data,I,s),y.silent||this.emit("added",i,u,f,s)}},{key:"addResources",value:function(i,u,f){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var y in f)(typeof f[y]=="string"||Object.prototype.toString.apply(f[y])==="[object Array]")&&this.addResource(i,u,y,f[y],{silent:!0});s.silent||this.emit("added",i,u,f)}},{key:"addResourceBundle",value:function(i,u,f,s,y){var w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},I=[i,u];i.indexOf(".")>-1&&(I=i.split("."),s=f,f=u,u=I[1]),this.addNamespaces(u);var A=iy(this.data,I)||{};s?yR(A,f,y):A=mg(mg({},A),f),j2(this.data,I,A),w.silent||this.emit("added",i,u,f)}},{key:"removeResourceBundle",value:function(i,u){this.hasResourceBundle(i,u)&&delete this.data[i][u],this.removeNamespaces(u),this.emit("removed",i,u)}},{key:"hasResourceBundle",value:function(i,u){return this.getResource(i,u)!==void 0}},{key:"getResourceBundle",value:function(i,u){return u||(u=this.options.defaultNS),this.options.compatibilityAPI==="v1"?mg(mg({},{}),this.getResource(i,u)):this.getResource(i,u)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var u=this.getDataByLanguage(i),f=u&&Object.keys(u)||[];return!!f.find(function(s){return u[s]&&Object.keys(u[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(mc),xR={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,r,i,u){var f=this;return t.forEach(function(s){f.processors[s]&&(n=f.processors[s].process(n,r,i,u))}),n}};function q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(n),!0).forEach(function(r){xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R6(e){var t=k6();return function(){var r=pl(e),i;if(t){var u=pl(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return wm(this,i)}}function k6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var W2={},Z2=function(e){w_(n,e);var t=R6(n);function n(r){var i,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ml(this,n),i=t.call(this),E_&&mc.call(oc(i)),w6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,oc(i)),i.options=u,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=al.create("translator"),i}return gl(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var f=this.resolve(i,u);return f&&f.res!==void 0}},{key:"extractFromKey",value:function(i,u){var f=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");var s=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,y=u.ns||this.options.defaultNS||[],w=f&&i.indexOf(f)>-1,I=!this.options.userDefinedKeySeparator&&!u.keySeparator&&!this.options.userDefinedNsSeparator&&!u.nsSeparator&&!A6(i,f,s);if(w&&!I){var A=i.match(this.interpolator.nestingRegexp);if(A&&A.length>0)return{key:i,namespaces:y};var R=i.split(f);(f!==s||f===s&&this.options.ns.indexOf(R[0])>-1)&&(y=R.shift()),i=R.join(s)}return typeof y=="string"&&(y=[y]),{key:i,namespaces:y}}},{key:"translate",value:function(i,u,f){var s=this;if(As(u)!=="object"&&this.options.overloadTranslationOptionHandler&&(u=this.options.overloadTranslationOptionHandler(arguments)),u||(u={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var y=u.returnDetails!==void 0?u.returnDetails:this.options.returnDetails,w=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,I=this.extractFromKey(i[i.length-1],u),A=I.key,R=I.namespaces,O=R[R.length-1],z=u.lng||this.language,V=u.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(z&&z.toLowerCase()==="cimode"){if(V){var G=u.nsSeparator||this.options.nsSeparator;return y?(F.res="".concat(O).concat(G).concat(A),F):"".concat(O).concat(G).concat(A)}return y?(F.res=A,F):A}var F=this.resolve(i,u),B=F&&F.res,j=F&&F.usedKey||A,Y=F&&F.exactUsedKey||A,Q=Object.prototype.toString.apply(B),J=["[object Number]","[object Function]","[object RegExp]"],ee=u.joinArrays!==void 0?u.joinArrays:this.options.joinArrays,se=!this.i18nFormat||this.i18nFormat.handleAsObject,ge=typeof B!="string"&&typeof B!="boolean"&&typeof B!="number";if(se&&B&&ge&&J.indexOf(Q)<0&&!(typeof ee=="string"&&Q==="[object Array]")){if(!u.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var he=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,B,Eo(Eo({},u),{},{ns:R})):"key '".concat(A," (").concat(this.language,")' returned an object instead of string.");return y?(F.res=he,F):he}if(w){var Ee=Q==="[object Array]",De=Ee?[]:{},We=Ee?Y:j;for(var Fe in B)if(Object.prototype.hasOwnProperty.call(B,Fe)){var tt="".concat(We).concat(w).concat(Fe);De[Fe]=this.translate(tt,Eo(Eo({},u),{joinArrays:!1,ns:R})),De[Fe]===tt&&(De[Fe]=B[Fe])}B=De}}else if(se&&typeof ee=="string"&&Q==="[object Array]")B=B.join(ee),B&&(B=this.extendTranslation(B,i,u,f));else{var Ye=!1,pt=!1,Pe=u.count!==void 0&&typeof u.count!="string",et=n.hasDefaultValue(u),ze=Pe?this.pluralResolver.getSuffix(z,u.count,u):"",rt=u["defaultValue".concat(ze)]||u.defaultValue;!this.isValidLookup(B)&&et&&(Ye=!0,B=rt),this.isValidLookup(B)||(pt=!0,B=A);var Be=u.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,qe=Be&&pt?void 0:B,$e=et&&rt!==B&&this.options.updateMissing;if(pt||Ye||$e){if(this.logger.log($e?"updateKey":"missingKey",z,O,A,$e?rt:B),w){var Je=this.resolve(A,Eo(Eo({},u),{},{keySeparator:!1}));Je&&Je.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Ae=[],vt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,u.lng||this.language);if(this.options.saveMissingTo==="fallback"&&vt&&vt[0])for(var lt=0;lt<vt.length;lt++)Ae.push(vt[lt]);else this.options.saveMissingTo==="all"?Ae=this.languageUtils.toResolveHierarchy(u.lng||this.language):Ae.push(u.lng||this.language);var en=function(Xe,_t,Jt){var Wt=et&&Jt!==B?Jt:qe;s.options.missingKeyHandler?s.options.missingKeyHandler(Xe,O,_t,Wt,$e,u):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(Xe,O,_t,Wt,$e,u),s.emit("missingKey",Xe,O,_t,B)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Pe?Ae.forEach(function(ke){s.pluralResolver.getSuffixes(ke,u).forEach(function(Xe){en([ke],A+Xe,u["defaultValue".concat(Xe)]||rt)})}):en(Ae,A,rt))}B=this.extendTranslation(B,i,u,F,f),pt&&B===A&&this.options.appendNamespaceToMissingKey&&(B="".concat(O,":").concat(A)),(pt||Ye)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?B=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(O,":").concat(A):A,Ye?B:void 0):B=this.options.parseMissingKeyHandler(B))}return y?(F.res=B,F):B}},{key:"extendTranslation",value:function(i,u,f,s,y){var w=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Eo(Eo({},this.options.interpolation.defaultVariables),f),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!f.skipInterpolation){f.interpolation&&this.interpolator.init(Eo(Eo({},f),{interpolation:Eo(Eo({},this.options.interpolation),f.interpolation)}));var I=typeof i=="string"&&(f&&f.interpolation&&f.interpolation.skipOnVariables!==void 0?f.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),A;if(I){var R=i.match(this.interpolator.nestingRegexp);A=R&&R.length}var O=f.replace&&typeof f.replace!="string"?f.replace:f;if(this.options.interpolation.defaultVariables&&(O=Eo(Eo({},this.options.interpolation.defaultVariables),O)),i=this.interpolator.interpolate(i,O,f.lng||this.language,f),I){var z=i.match(this.interpolator.nestingRegexp),V=z&&z.length;A<V&&(f.nest=!1)}f.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var B=arguments.length,j=new Array(B),Y=0;Y<B;Y++)j[Y]=arguments[Y];return y&&y[0]===j[0]&&!f.context?(w.logger.warn("It seems you are nesting recursively key: ".concat(j[0]," in key: ").concat(u[0])),null):w.translate.apply(w,j.concat([u]))},f)),f.interpolation&&this.interpolator.reset()}var G=f.postProcess||this.options.postProcess,F=typeof G=="string"?[G]:G;return i!=null&&F&&F.length&&f.applyPostProcessor!==!1&&(i=xR.handle(F,i,u,this.options&&this.options.postProcessPassResolved?Eo({i18nResolved:s},f):f,this)),i}},{key:"resolve",value:function(i){var u=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,y,w,I,A;return typeof i=="string"&&(i=[i]),i.forEach(function(R){if(!u.isValidLookup(s)){var O=u.extractFromKey(R,f),z=O.key;y=z;var V=O.namespaces;u.options.fallbackNS&&(V=V.concat(u.options.fallbackNS));var G=f.count!==void 0&&typeof f.count!="string",F=G&&!f.ordinal&&f.count===0&&u.pluralResolver.shouldUseIntlApi(),B=f.context!==void 0&&(typeof f.context=="string"||typeof f.context=="number")&&f.context!=="",j=f.lngs?f.lngs:u.languageUtils.toResolveHierarchy(f.lng||u.language,f.fallbackLng);V.forEach(function(Y){u.isValidLookup(s)||(A=Y,!W2["".concat(j[0],"-").concat(Y)]&&u.utils&&u.utils.hasLoadedNamespace&&!u.utils.hasLoadedNamespace(A)&&(W2["".concat(j[0],"-").concat(Y)]=!0,u.logger.warn('key "'.concat(y,'" for languages "').concat(j.join(", "),`" won't get resolved as namespace "`).concat(A,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(function(Q){if(!u.isValidLookup(s)){I=Q;var J=[z];if(u.i18nFormat&&u.i18nFormat.addLookupKeys)u.i18nFormat.addLookupKeys(J,z,Q,Y,f);else{var ee;G&&(ee=u.pluralResolver.getSuffix(Q,f.count,f));var se="".concat(u.options.pluralSeparator,"zero");if(G&&(J.push(z+ee),F&&J.push(z+se)),B){var ge="".concat(z).concat(u.options.contextSeparator).concat(f.context);J.push(ge),G&&(J.push(ge+ee),F&&J.push(ge+se))}}for(var he;he=J.pop();)u.isValidLookup(s)||(w=he,s=u.getResource(Q,Y,he,f))}}))})}}),{res:s,usedKey:y,exactUsedKey:w,usedLng:I,usedNS:A}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,u,f){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,u,f,s):this.resourceStore.getResource(i,u,f,s)}}],[{key:"hasDefaultValue",value:function(i){var u="defaultValue";for(var f in i)if(Object.prototype.hasOwnProperty.call(i,f)&&u===f.substring(0,u.length)&&i[f]!==void 0)return!0;return!1}}]),n}(mc);function c1(e){return e.charAt(0).toUpperCase()+e.slice(1)}var K2=function(){function e(t){ml(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=al.create("languageUtils")}return gl(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(u){return u.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=c1(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=c1(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=c1(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(u){if(!i){var f=r.formatLanguageCode(u);(!r.options.supportedLngs||r.isSupportedCode(f))&&(i=f)}}),!i&&this.options.supportedLngs&&n.forEach(function(u){if(!i){var f=r.getLanguagePartFromCode(u);if(r.isSupportedCode(f))return i=f;i=r.options.supportedLngs.find(function(s){if(s.indexOf(f)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,u=this.getFallbackCodes(r||this.options.fallbackLng||[],n),f=[],s=function(w){w&&(i.isSupportedCode(w)?f.push(w):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(w)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(n))):typeof n=="string"&&s(this.formatLanguageCode(n)),u.forEach(function(y){f.indexOf(y)<0&&s(i.formatLanguageCode(y))}),f}}]),e}(),L6=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],M6={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}},D6=["v1","v2","v3"],X2={zero:0,one:1,two:2,few:3,many:4,other:5};function N6(){var e={};return L6.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:M6[t.fc]}})}),e}var z6=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ml(this,e),this.languageUtils=t,this.options=n,this.logger=al.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=N6()}return gl(e,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(u){return"".concat(r).concat(u)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.getRule(n,i);return u?this.shouldUseIntlApi()?u.resolvedOptions().pluralCategories.sort(function(f,s){return X2[f]-X2[s]}).map(function(f){return"".concat(r.options.prepend).concat(f)}):u.numbers.map(function(f){return r.getSuffix(n,f,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=this.getRule(n,i);return u?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(u.select(r)):this.getSuffixRetroCompatible(u,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,u=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),f=n.numbers[u];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(f===2?f="plural":f===1&&(f=""));var s=function(){return i.options.prepend&&f.toString()?i.options.prepend+f.toString():f.toString()};return this.options.compatibilityJSON==="v1"?f===1?"":typeof f=="number"?"_plural_".concat(f.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?s():this.options.prepend&&u.toString()?this.options.prepend+u.toString():u.toString()}},{key:"shouldUseIntlApi",value:function(){return!D6.includes(this.options.compatibilityJSON)}}]),e}();function Y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(n),!0).forEach(function(r){xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var B6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ml(this,e),this.logger=al.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return gl(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:T6,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Jh(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Jh(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Jh(r.nestingPrefix):r.nestingPrefixEscaped||Jh("$t("),this.nestingSuffix=r.nestingSuffix?Jh(r.nestingSuffix):r.nestingSuffixEscaped||Jh(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,u){var f=this,s,y,w,I=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function A(G){return G.replace(/\$/g,"$$$$")}var R=function(F){if(F.indexOf(f.formatSeparator)<0){var B=$2(r,I,F);return f.alwaysFormat?f.format(B,void 0,i,ms(ms(ms({},u),r),{},{interpolationkey:F})):B}var j=F.split(f.formatSeparator),Y=j.shift().trim(),Q=j.join(f.formatSeparator).trim();return f.format($2(r,I,Y),Q,i,ms(ms(ms({},u),r),{},{interpolationkey:Y}))};this.resetRegExp();var O=u&&u.missingInterpolationHandler||this.options.missingInterpolationHandler,z=u&&u.interpolation&&u.interpolation.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,V=[{regex:this.regexpUnescape,safeValue:function(F){return A(F)}},{regex:this.regexp,safeValue:function(F){return f.escapeValue?A(f.escape(F)):A(F)}}];return V.forEach(function(G){for(w=0;s=G.regex.exec(n);){var F=s[1].trim();if(y=R(F),y===void 0)if(typeof O=="function"){var B=O(n,s,u);y=typeof B=="string"?B:""}else if(u&&u.hasOwnProperty(F))y="";else if(z){y=s[0];continue}else f.logger.warn("missed to pass in variable ".concat(F," for interpolating ").concat(n)),y="";else typeof y!="string"&&!f.useRawValueToEscape&&(y=H2(y));var j=G.safeValue(y);if(n=n.replace(s[0],j),z?(G.regex.lastIndex+=y.length,G.regex.lastIndex-=s[0].length):G.regex.lastIndex=0,w++,w>=f.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f,s,y;function w(O,z){var V=this.nestingOptionsSeparator;if(O.indexOf(V)<0)return O;var G=O.split(new RegExp("".concat(V,"[ ]*{"))),F="{".concat(G[1]);O=G[0],F=this.interpolate(F,y);var B=F.match(/'/g),j=F.match(/"/g);(B&&B.length%2===0&&!j||j.length%2!==0)&&(F=F.replace(/'/g,'"'));try{y=JSON.parse(F),z&&(y=ms(ms({},z),y))}catch(Y){return this.logger.warn("failed parsing options string in nesting for key ".concat(O),Y),"".concat(O).concat(V).concat(F)}return delete y.defaultValue,O}for(;f=this.nestingRegexp.exec(n);){var I=[];y=ms({},u),y=y.replace&&typeof y.replace!="string"?y.replace:y,y.applyPostProcessor=!1,delete y.defaultValue;var A=!1;if(f[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(f[1])){var R=f[1].split(this.formatSeparator).map(function(O){return O.trim()});f[1]=R.shift(),I=R,A=!0}if(s=r(w.call(this,f[1].trim(),y),y),s&&f[0]===n&&typeof s!="string")return s;typeof s!="string"&&(s=H2(s)),s||(this.logger.warn("missed to resolve ".concat(f[1]," for nesting ").concat(n)),s=""),A&&(s=I.reduce(function(O,z){return i.format(O,z,u.lng,ms(ms({},u),{},{interpolationkey:f[1].trim()}))},s.trim())),n=n.replace(f[0],s),this.regexp.lastIndex=0}return n}}]),e}();function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(n),!0).forEach(function(r){xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F6(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(t==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(t==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var u=i.split(";");u.forEach(function(f){if(f){var s=f.split(":"),y=_6(s),w=y[0],I=y.slice(1),A=I.join(":").trim().replace(/^'+|'+$/g,"");n[w.trim()]||(n[w.trim()]=A),A==="false"&&(n[w.trim()]=!1),A==="true"&&(n[w.trim()]=!0),isNaN(A)||(n[w.trim()]=parseInt(A,10))}})}}return{formatName:t,formatOptions:n}}function Qh(e){var t={};return function(r,i,u){var f=i+JSON.stringify(u),s=t[f];return s||(s=e(i,u),t[f]=s),s(r)}}var U6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ml(this,e),this.logger=al.create("formatter"),this.options=t,this.formats={number:Qh(function(n,r){var i=new Intl.NumberFormat(n,r);return function(u){return i.format(u)}}),currency:Qh(function(n,r){var i=new Intl.NumberFormat(n,Lu(Lu({},r),{},{style:"currency"}));return function(u){return i.format(u)}}),datetime:Qh(function(n,r){var i=new Intl.DateTimeFormat(n,Lu({},r));return function(u){return i.format(u)}}),relativetime:Qh(function(n,r){var i=new Intl.RelativeTimeFormat(n,Lu({},r));return function(u){return i.format(u,r.range||"day")}}),list:Qh(function(n,r){var i=new Intl.ListFormat(n,Lu({},r));return function(u){return i.format(u)}})},this.init(t)}return gl(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Qh(r)}},{key:"format",value:function(n,r,i,u){var f=this,s=r.split(this.formatSeparator),y=s.reduce(function(w,I){var A=F6(I),R=A.formatName,O=A.formatOptions;if(f.formats[R]){var z=w;try{var V=u&&u.formatParams&&u.formatParams[u.interpolationkey]||{},G=V.locale||V.lng||u.locale||u.lng||i;z=f.formats[R](w,G,Lu(Lu(Lu({},O),u),V))}catch(F){f.logger.warn(F)}return z}else f.logger.warn("there was no format function for ".concat(R));return w},n);return y}}]),e}();function Q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(n),!0).forEach(function(r){xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V6(e){var t=H6();return function(){var r=pl(e),i;if(t){var u=pl(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return wm(this,i)}}function H6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j6(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var $6=function(e){w_(n,e);var t=V6(n);function n(r,i,u){var f,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return ml(this,n),f=t.call(this),E_&&mc.call(oc(f)),f.backend=r,f.store=i,f.services=u,f.languageUtils=u.languageUtils,f.options=s,f.logger=al.create("backendConnector"),f.waitingReads=[],f.maxParallelReads=s.maxParallelReads||10,f.readingCalls=0,f.maxRetries=s.maxRetries>=0?s.maxRetries:5,f.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,f.state={},f.queue=[],f.backend&&f.backend.init&&f.backend.init(u,s.backend,s),f}return gl(n,[{key:"queueLoad",value:function(i,u,f,s){var y=this,w={},I={},A={},R={};return i.forEach(function(O){var z=!0;u.forEach(function(V){var G="".concat(O,"|").concat(V);!f.reload&&y.store.hasResourceBundle(O,V)?y.state[G]=2:y.state[G]<0||(y.state[G]===1?I[G]===void 0&&(I[G]=!0):(y.state[G]=1,z=!1,I[G]===void 0&&(I[G]=!0),w[G]===void 0&&(w[G]=!0),R[V]===void 0&&(R[V]=!0)))}),z||(A[O]=!0)}),(Object.keys(w).length||Object.keys(I).length)&&this.queue.push({pending:I,pendingCount:Object.keys(I).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(w),pending:Object.keys(I),toLoadLanguages:Object.keys(A),toLoadNamespaces:Object.keys(R)}}},{key:"loaded",value:function(i,u,f){var s=i.split("|"),y=s[0],w=s[1];u&&this.emit("failedLoading",y,w,u),f&&this.store.addResourceBundle(y,w,f),this.state[i]=u?-1:2;var I={};this.queue.forEach(function(A){E6(A.loaded,[y],w),j6(A,i),u&&A.errors.push(u),A.pendingCount===0&&!A.done&&(Object.keys(A.loaded).forEach(function(R){I[R]||(I[R]={});var O=A.loaded[R];O.length&&O.forEach(function(z){I[R][z]===void 0&&(I[R][z]=!0)})}),A.done=!0,A.errors.length?A.callback(A.errors):A.callback())}),this.emit("loaded",I),this.queue=this.queue.filter(function(A){return!A.done})}},{key:"read",value:function(i,u,f){var s=this,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,I=arguments.length>5?arguments[5]:void 0;if(!i.length)return I(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:u,fcName:f,tried:y,wait:w,callback:I});return}this.readingCalls++;var A=function(V,G){if(s.readingCalls--,s.waitingReads.length>0){var F=s.waitingReads.shift();s.read(F.lng,F.ns,F.fcName,F.tried,F.wait,F.callback)}if(V&&G&&y<s.maxRetries){setTimeout(function(){s.read.call(s,i,u,f,y+1,w*2,I)},w);return}I(V,G)},R=this.backend[f].bind(this.backend);if(R.length===2){try{var O=R(i,u);O&&typeof O.then=="function"?O.then(function(z){return A(null,z)}).catch(A):A(null,O)}catch(z){A(z)}return}return R(i,u,A)}},{key:"prepareLoading",value:function(i,u){var f=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),y&&y();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof u=="string"&&(u=[u]);var w=this.queueLoad(i,u,s,y);if(!w.toLoad.length)return w.pending.length||y(),null;w.toLoad.forEach(function(I){f.loadOne(I)})}},{key:"load",value:function(i,u,f){this.prepareLoading(i,u,{},f)}},{key:"reload",value:function(i,u,f){this.prepareLoading(i,u,{reload:!0},f)}},{key:"loadOne",value:function(i){var u=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),y=s[0],w=s[1];this.read(y,w,"read",void 0,void 0,function(I,A){I&&u.logger.warn("".concat(f,"loading namespace ").concat(w," for language ").concat(y," failed"),I),!I&&A&&u.logger.log("".concat(f,"loaded namespace ").concat(w," for language ").concat(y),A),u.loaded(i,I,A)})}},{key:"saveMissing",value:function(i,u,f,s,y){var w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},I=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(u)){this.logger.warn('did not save key "'.concat(f,'" as the namespace "').concat(u,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(f==null||f==="")){if(this.backend&&this.backend.create){var A=eI(eI({},w),{},{isUpdate:y}),R=this.backend.create.bind(this.backend);if(R.length<6)try{var O;R.length===5?O=R(i,u,f,s,A):O=R(i,u,f,s),O&&typeof O.then=="function"?O.then(function(z){return I(null,z)}).catch(I):I(null,O)}catch(z){I(z)}else R(i,u,f,s,I,A)}!i||!i[0]||this.store.addResource(i[0],u,f,s)}}}]),n}(mc);function tI(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(As(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),As(t[2])==="object"||As(t[3])==="object"){var r=t[3]||t[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(t,n,r,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function nI(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(r){xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G6(e){var t=q6();return function(){var r=pl(e),i;if(t){var u=pl(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return wm(this,i)}}function q6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gg(){}function W6(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(n){typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}var oy=function(e){w_(n,e);var t=G6(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;if(ml(this,n),r=t.call(this),E_&&mc.call(oc(r)),r.options=nI(i),r.services={},r.logger=al,r.modules={external:[]},W6(oc(r)),u&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,u),wm(r,oc(r));setTimeout(function(){r.init(i,u)},0)}return r}return gl(n,[{key:"init",value:function(){var i=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;typeof u=="function"&&(f=u,u={}),!u.defaultNS&&u.defaultNS!==!1&&u.ns&&(typeof u.ns=="string"?u.defaultNS=u.ns:u.ns.indexOf("translation")<0&&(u.defaultNS=u.ns[0]));var s=tI();this.options=Ys(Ys(Ys({},s),this.options),nI(u)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Ys(Ys({},s.interpolation),this.options.interpolation)),u.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=u.keySeparator),u.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=u.nsSeparator);function y(F){return F?typeof F=="function"?new F:F:null}if(!this.options.isClone){this.modules.logger?al.init(y(this.modules.logger),this.options):al.init(null,this.options);var w;this.modules.formatter?w=this.modules.formatter:typeof Intl<"u"&&(w=U6);var I=new K2(this.options);this.store=new C6(this.options.resources,this.options);var A=this.services;A.logger=al,A.resourceStore=this.store,A.languageUtils=I,A.pluralResolver=new z6(I,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),w&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(A.formatter=y(w),A.formatter.init(A,this.options),this.options.interpolation.format=A.formatter.format.bind(A.formatter)),A.interpolator=new B6(this.options),A.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},A.backendConnector=new $6(y(this.modules.backend),A.resourceStore,A,this.options),A.backendConnector.on("*",function(F){for(var B=arguments.length,j=new Array(B>1?B-1:0),Y=1;Y<B;Y++)j[Y-1]=arguments[Y];i.emit.apply(i,[F].concat(j))}),this.modules.languageDetector&&(A.languageDetector=y(this.modules.languageDetector),A.languageDetector.init&&A.languageDetector.init(A,this.options.detection,this.options)),this.modules.i18nFormat&&(A.i18nFormat=y(this.modules.i18nFormat),A.i18nFormat.init&&A.i18nFormat.init(this)),this.translator=new Z2(this.services,this.options),this.translator.on("*",function(F){for(var B=arguments.length,j=new Array(B>1?B-1:0),Y=1;Y<B;Y++)j[Y-1]=arguments[Y];i.emit.apply(i,[F].concat(j))}),this.modules.external.forEach(function(F){F.init&&F.init(i)})}if(this.format=this.options.interpolation.format,f||(f=gg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var R=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);R.length>0&&R[0]!=="dev"&&(this.options.lng=R[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var O=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];O.forEach(function(F){i[F]=function(){var B;return(B=i.store)[F].apply(B,arguments)}});var z=["addResource","addResources","addResourceBundle","removeResourceBundle"];z.forEach(function(F){i[F]=function(){var B;return(B=i.store)[F].apply(B,arguments),i}});var V=jf(),G=function(){var B=function(Y,Q){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),V.resolve(Q),f(Y,Q)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return B(null,i.t.bind(i));i.changeLanguage(i.options.lng,B)};return this.options.resources||!this.options.initImmediate?G():setTimeout(G,0),V}},{key:"loadResources",value:function(i){var u=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gg,s=f,y=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(y&&y.toLowerCase()==="cimode")return s();var w=[],I=function(O){if(O){var z=u.services.languageUtils.toResolveHierarchy(O);z.forEach(function(V){w.indexOf(V)<0&&w.push(V)})}};if(y)I(y);else{var A=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);A.forEach(function(R){return I(R)})}this.options.preload&&this.options.preload.forEach(function(R){return I(R)}),this.services.backendConnector.load(w,this.options.ns,function(R){!R&&!u.resolvedLanguage&&u.language&&u.setResolvedLanguage(u.language),s(R)})}else s(null)}},{key:"reloadResources",value:function(i,u,f){var s=jf();return i||(i=this.languages),u||(u=this.options.ns),f||(f=gg),this.services.backendConnector.reload(i,u,function(y){s.resolve(),f(y)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&xR.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var u=0;u<this.languages.length;u++){var f=this.languages[u];if(!(["cimode","dev"].indexOf(f)>-1)&&this.store.hasLanguageSomeTranslations(f)){this.resolvedLanguage=f;break}}}},{key:"changeLanguage",value:function(i,u){var f=this;this.isLanguageChangingTo=i;var s=jf();this.emit("languageChanging",i);var y=function(R){f.language=R,f.languages=f.services.languageUtils.toResolveHierarchy(R),f.resolvedLanguage=void 0,f.setResolvedLanguage(R)},w=function(R,O){O?(y(O),f.translator.changeLanguage(O),f.isLanguageChangingTo=void 0,f.emit("languageChanged",O),f.logger.log("languageChanged",O)):f.isLanguageChangingTo=void 0,s.resolve(function(){return f.t.apply(f,arguments)}),u&&u(R,function(){return f.t.apply(f,arguments)})},I=function(R){!i&&!R&&f.services.languageDetector&&(R=[]);var O=typeof R=="string"?R:f.services.languageUtils.getBestMatchFromCodes(R);O&&(f.language||y(O),f.translator.language||f.translator.changeLanguage(O),f.services.languageDetector&&f.services.languageDetector.cacheUserLanguage&&f.services.languageDetector.cacheUserLanguage(O)),f.loadResources(O,function(z){w(z,O)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?I(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(I):this.services.languageDetector.detect(I):I(i),s}},{key:"getFixedT",value:function(i,u,f){var s=this,y=function w(I,A){var R;if(As(A)!=="object"){for(var O=arguments.length,z=new Array(O>2?O-2:0),V=2;V<O;V++)z[V-2]=arguments[V];R=s.options.overloadTranslationOptionHandler([I,A].concat(z))}else R=Ys({},A);R.lng=R.lng||w.lng,R.lngs=R.lngs||w.lngs,R.ns=R.ns||w.ns,R.keyPrefix=R.keyPrefix||f||w.keyPrefix;var G=s.options.keySeparator||".",F;return R.keyPrefix&&Array.isArray(I)?F=I.map(function(B){return"".concat(R.keyPrefix).concat(G).concat(B)}):F=R.keyPrefix?"".concat(R.keyPrefix).concat(G).concat(I):I,s.t(F,R)};return typeof i=="string"?y.lng=i:y.lngs=i,y.ns=u,y.keyPrefix=f,y}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var u=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.resolvedLanguage||this.languages[0],y=this.options?this.options.fallbackLng:!1,w=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var I=function(O,z){var V=u.services.backendConnector.state["".concat(O,"|").concat(z)];return V===-1||V===2};if(f.precheck){var A=f.precheck(this,I);if(A!==void 0)return A}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||I(s,i)&&(!y||I(w,i)))}},{key:"loadNamespaces",value:function(i,u){var f=this,s=jf();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(y){f.options.ns.indexOf(y)<0&&f.options.ns.push(y)}),this.loadResources(function(y){s.resolve(),u&&u(y)}),s):(u&&u(),Promise.resolve())}},{key:"loadLanguages",value:function(i,u){var f=jf();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],y=i.filter(function(w){return s.indexOf(w)<0});return y.length?(this.options.preload=s.concat(y),this.loadResources(function(w){f.resolve(),u&&u(w)}),f):(u&&u(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var u=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],f=this.services&&this.services.languageUtils||new K2(tI());return u.indexOf(f.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gg,s=Ys(Ys(Ys({},this.options),u),{isClone:!0}),y=new n(s);(u.debug!==void 0||u.prefix!==void 0)&&(y.logger=y.logger.clone(u));var w=["store","services","language"];return w.forEach(function(I){y[I]=i[I]}),y.services=Ys({},this.services),y.services.utils={hasLoadedNamespace:y.hasLoadedNamespace.bind(y)},y.translator=new Z2(y.services,y.options),y.translator.on("*",function(I){for(var A=arguments.length,R=new Array(A>1?A-1:0),O=1;O<A;O++)R[O-1]=arguments[O];y.emit.apply(y,[I].concat(R))}),y.init(s,f),y.translator.options=y.options,y.translator.backendConnector.services.utils={hasLoadedNamespace:y.hasLoadedNamespace.bind(y)},y}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(mc);xc(oy,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new oy(e,t)});var ko=oy.createInstance();ko.createInstance=oy.createInstance;ko.createInstance;ko.dir;ko.init;ko.loadResources;ko.reloadResources;ko.use;ko.changeLanguage;ko.getFixedT;ko.t;ko.exists;ko.setDefaultNamespace;ko.hasLoadedNamespace;ko.loadNamespaces;ko.loadLanguages;var bR={},Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.callbackQueueName=K6;Cs.scriptPath=X6;Cs.trackerConstructorName=Y6;Cs.trackerInstanceName=J6;Cs.trackerVersionName=Q6;Cs.accountListName=void 0;var Z6="yandex_metrika_accounts";Cs.accountListName=Z6;function Gw(){throw new Error("invalid Ya.Metrika version")}function K6(e){if(e==="1")return"yandex_metrika_callbacks";if(e==="2")return"yandex_metrika_callbacks2";Gw()}function X6(e){if(e==="1")return"https://mc.yandex.ru/metrika/watch.js";if(e==="2")return"https://mc.yandex.ru/metrika/tag.js";Gw()}function Y6(e){if(e==="1")return"Metrika";if(e==="2")return"Metrika2";Gw()}function J6(e){return"yaCounter".concat(e)}function Q6(e){return"yaCounterVersion".concat(e)}var S_={},xs={},eF={get exports(){return xs},set exports(e){xs=e}},tF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nF=tF,rF=nF;function wR(){}function ER(){}ER.resetWarningCache=wR;var iF=function(){function e(r,i,u,f,s,y){if(y!==rF){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ER,resetWarningCache:wR};return n.PropTypes=n,n};eF.exports=iF();var SR={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=Cs;function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"1",f=(0,t.callbackQueueName)(u);window[t.accountListName]=window[t.accountListName]||[],window[t.accountListName]=window[t.accountListName].concat(r),window[f]=window[f]||[],window[f].push(function(){r.forEach(function(s){var y={id:s};try{window[(0,t.trackerInstanceName)(s)]=new Ya[(0,t.trackerConstructorName)(u)](Object.assign(y,i))}catch(w){console.warn(w)}})}),r.forEach(function(s){window[(0,t.trackerVersionName)(s)]=u})}})(SR);Object.defineProperty(S_,"__esModule",{value:!0});S_.YMInitializer=void 0;var iI=sF(le),ed=TR(xs),oF=TR(SR),aF=Cs;function TR(e){return e&&e.__esModule?e:{default:e}}function IR(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return IR=function(){return e},e}function sF(e){if(e&&e.__esModule)return e;if(e===null||xp(e)!=="object"&&typeof e!="function")return{default:e};var t=IR();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=r?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function xp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xp=function(n){return typeof n}:xp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xp(e)}function lF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uF(e,t,n){return t&&oI(e.prototype,t),n&&oI(e,n),e}function cF(e,t){return t&&(xp(t)==="object"||typeof t=="function")?t:hF(e)}function hF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vx(e){return Vx=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(e)}function dF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Hx(e,t)}var T_=function(e){dF(t,e);function t(){return lF(this,t),cF(this,Vx(t).apply(this,arguments))}return uF(t,[{key:"componentDidMount",value:function(){(0,oF.default)(this.props.accounts,this.props.options,this.props.version);var r=document.createElement("script"),i=this.props.attrs;r.type="text/javascript",r.async=!0,r.src=(0,aF.scriptPath)(this.props.version),Object.keys(i).map(function(u){r.__proto__.hasOwnProperty(u)&&r.setAttribute(u,i[u])}),this.insertPoint.insertBefore(r,null)}},{key:"render",value:function(){var r=this,i=function(f){r.insertPoint=f};return iI.default.createElement(this.props.containerElement,{ref:i},this.props.children)}}]),t}(iI.Component);S_.YMInitializer=T_;T_.displayName="YMInitializer";T_.propTypes={accounts:ed.default.arrayOf(ed.default.number).isRequired,containerElement:ed.default.string,options:ed.default.object,attrs:ed.default.object,version:ed.default.oneOf(["1","2"])};T_.defaultProps={containerElement:"div",options:{},attrs:{},version:"1"};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withId=s,e.withFilter=y,Object.defineProperty(e,"YMInitializer",{enumerable:!0,get:function(){return n.YMInitializer}}),e.default=void 0;var t=Cs,n=S_;function r(I,A){try{for(var R,O=arguments.length,z=new Array(O>2?O-2:0),V=2;V<O;V++)z[V-2]=arguments[V];(R=window[(0,t.trackerInstanceName)(I)])[A].apply(R,z)}catch(G){console.warn(G)}}function i(){return typeof window<"u"?window[t.accountListName]:[]}function u(I){return function(){for(var A=arguments.length,R=new Array(A),O=0;O<A;O++)R[O]=arguments[O];I.forEach(function(z){var V=window[(0,t.trackerVersionName)(z)],G=window[(0,t.callbackQueueName)(V)];G?G.push(function(){return r.apply(void 0,[z].concat(R))}):r.apply(void 0,[z].concat(R))})}}function f(){return u(i()).apply(void 0,arguments)}function s(I){return y(function(A){return I===A})}function y(I){return u(i().filter(I))}var w=f;e.default=w})(bR);const NW=bP(bR);function vr(e){console.warn("[react-ga]",e)}function jx(e){return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}var fF=["to","target"];function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(n),!0).forEach(function(r){qw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pF(e,t){if(e==null)return{};var n=mF(e,t),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)r=u[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mF(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vF(e,t,n){return t&&lI(e.prototype,t),n&&lI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$x(e,t)}function $x(e,t){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$x(e,t)}function _F(e){var t=bF();return function(){var r=ay(e),i;if(t){var u=ay(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return xF(this,i)}}function xF(e,t){if(t&&(jx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AR(e)}function AR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(e)}function qw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uI="_blank",wF=1,yh=function(e){yF(n,e);var t=_F(n);function n(){var r;gF(this,n);for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return r=t.call.apply(t,[this].concat(u)),qw(AR(r),"handleClick",function(s){var y=r.props,w=y.target,I=y.eventLabel,A=y.to,R=y.onClick,O=y.trackerNames,z={label:I},V=w!==uI,G=!(s.ctrlKey||s.shiftKey||s.metaKey||s.button===wF);V&&G?(s.preventDefault(),n.trackLink(z,function(){window.location.href=A},O)):n.trackLink(z,function(){},O),R&&R(s)}),r}return vF(n,[{key:"render",value:function(){var i=this.props,u=i.to,f=i.target,s=pF(i,fF),y=sI(sI({},s),{},{target:f,href:u,onClick:this.handleClick});return f===uI&&(y.rel="".concat(y.rel?y.rel:""," noopener noreferrer").trim()),delete y.eventLabel,delete y.trackerNames,Zr.createElement("a",y)}}]),n}(le.Component);qw(yh,"trackLink",function(){vr("ga tracking not enabled")});yh.propTypes={eventLabel:xs.string.isRequired,target:xs.string,to:xs.string,onClick:xs.func,trackerNames:xs.arrayOf(xs.string)};yh.defaultProps={target:null,to:null,onClick:null,trackerNames:null};function EF(e){return typeof e=="string"&&e.indexOf("@")!==-1}var SF="REDACTED (Potential Email Address)";function TF(e){return EF(e)?(vr("This arg looks like an email address, redacting."),SF):e}function I_(e){return e&&e.toString().replace(/^\s+|\s+$/g,"")}var IF=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function AF(e){return I_(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,n,r){return n>0&&n+t.length!==r.length&&t.search(IF)>-1&&r.charAt(n-2)!==":"&&(r.charAt(n+t.length)!=="-"||r.charAt(n-1)==="-")&&r.charAt(n-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})}function PF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e||"";return t&&(r=AF(e)),n&&(r=TF(r)),r}function OF(e){return e.substring(0,1)==="/"?e.substring(1):e}var cI=!1;function CF(e){if(!cI){cI=!0;var t="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?t=e.gaAddress:e&&e.debug&&(t="https://www.google-analytics.com/analytics_debug.js");var n=e&&e.onerror;(function(r,i,u,f,s,y,w){r.GoogleAnalyticsObject=s,r[s]=r[s]||function(){(r[s].q=r[s].q||[]).push(arguments)},r[s].l=1*new Date,y=i.createElement(u),w=i.getElementsByTagName(u)[0],y.async=1,y.src=f,y.onerror=n,w.parentNode.insertBefore(y,w)})(window,document,"script",t,"ga")}}function Ti(e){console.info("[react-ga]",e)}var h1=[];const sy={calls:h1,ga:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];h1.push([].concat(n))},resetCalls:function(){h1.length=0}};var RF=["category","action","label","value","nonInteraction","transport"];function kF(e,t){if(e==null)return{};var n=LF(e,t),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)r=u[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LF(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){DF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rm(e){return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function NF(e){return UF(e)||FF(e)||BF(e)||zF()}function zF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BF(e,t){if(e){if(typeof e=="string")return Gx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gx(e,t)}}function FF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UF(e){if(Array.isArray(e))return Gx(e)}function Gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var PR=typeof window>"u"||typeof document>"u",bs=!1,OR=!0,CR=!1,RR=!0,kR=!0,kd=function(){var t;return CR?sy.ga.apply(sy,arguments):PR?!1:window.ga?(t=window).ga.apply(t,arguments):vr("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually")};function ac(e){return PF(e,OR,kR)}function A_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];if(typeof kd=="function"){if(typeof i!="string"){vr("ga command must be a string");return}(RR||!Array.isArray(e))&&kd.apply(void 0,n),Array.isArray(e)&&e.forEach(function(u){kd.apply(void 0,NF(["".concat(u,".").concat(i)].concat(n.slice(1))))})}}function dI(e,t){if(!e){vr("gaTrackingID is required in initialize()");return}t&&(t.debug&&t.debug===!0&&(bs=!0),t.titleCase===!1&&(OR=!1),t.redactEmail===!1&&(kR=!1),t.useExistingGa)||(t&&t.gaOptions?kd("create",e,t.gaOptions):kd("create",e,"auto"))}function LR(e,t){return Array.isArray(e)?e.forEach(function(n){if(rm(n)!=="object"){vr("All configs must be an object");return}dI(n.trackingId,n)}):dI(e,t),!0}function MR(e,t){if(t&&t.testMode===!0)CR=!0;else{if(PR)return;(!t||t.standardImplementation!==!0)&&CF(t)}RR=t&&typeof t.alwaysSendToDefaultTracker=="boolean"?t.alwaysSendToDefaultTracker:!0,LR(e,t)}function Io(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(kd.apply(void 0,t),bs&&(Ti("called ga('arguments');"),Ti("with arguments: ".concat(JSON.stringify(t))))),window.ga}function DR(e,t){if(!e){vr("`fieldsObject` is required in .set()");return}if(rm(e)!=="object"){vr("Expected `fieldsObject` arg to be an Object");return}Object.keys(e).length===0&&vr("empty `fieldsObject` given to .set()"),A_(t,"set",e),bs&&(Ti("called ga('set', fieldsObject);"),Ti("with fieldsObject: ".concat(JSON.stringify(e))))}function of(e,t){A_(t,"send",e),bs&&(Ti("called ga('send', fieldObject);"),Ti("with fieldObject: ".concat(JSON.stringify(e))),Ti("with trackers: ".concat(JSON.stringify(t))))}function NR(e,t,n){if(!e){vr("path is required in .pageview()");return}var r=I_(e);if(r===""){vr("path cannot be an empty string in .pageview()");return}var i={};if(n&&(i.title=n),typeof Io=="function"&&(A_(t,"send",MF({hitType:"pageview",page:r},i)),bs)){Ti("called ga('send', 'pageview', path);");var u="";n&&(u=" and title: ".concat(n)),Ti("with path: ".concat(r).concat(u))}}function zR(e,t){if(!e){vr("modalName is required in .modalview(modalName)");return}var n=OF(I_(e));if(n===""){vr("modalName cannot be an empty string or a single / in .modalview()");return}if(typeof Io=="function"){var r="/modal/".concat(n);A_(t,"send","pageview",r),bs&&(Ti("called ga('send', 'pageview', path);"),Ti("with path: ".concat(r)))}}function BR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(typeof Io=="function"){if(!t||!n||typeof r!="number"){vr("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number");return}var f={hitType:"timing",timingCategory:ac(t),timingVar:ac(n),timingValue:r};i&&(f.timingLabel=ac(i)),of(f,u)}}function FR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,u=e.nonInteraction,f=e.transport,s=kF(e,RF),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(typeof Io=="function"){if(!t||!n){vr("args.category AND args.action are required in event()");return}var w={hitType:"event",eventCategory:ac(t),eventAction:ac(n)};r&&(w.eventLabel=ac(r)),typeof i<"u"&&(typeof i!="number"?vr("Expected `args.value` arg to be a Number."):w.eventValue=i),typeof u<"u"&&(typeof u!="boolean"?vr("`args.nonInteraction` must be a boolean."):w.nonInteraction=u),typeof f<"u"&&(typeof f!="string"?vr("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(f)===-1&&vr("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),w.transport=f)),Object.keys(s).filter(function(I){return I.substr(0,9)==="dimension"}).forEach(function(I){w[I]=s[I]}),Object.keys(s).filter(function(I){return I.substr(0,6)==="metric"}).forEach(function(I){w[I]=s[I]}),of(w,y)}}function UR(e,t){var n=e.description,r=e.fatal;if(typeof Io=="function"){var i={hitType:"exception"};n&&(i.exDescription=ac(n)),typeof r<"u"&&(typeof r!="boolean"?vr("`args.fatal` must be a boolean."):i.exFatal=r),of(i,t)}}var VR={require:function(t,n,r){if(typeof Io=="function"){if(!t){vr("`name` is required in .require()");return}var i=I_(t);if(i===""){vr("`name` cannot be an empty string in .require()");return}var u=r?"".concat(r,".require"):"require";if(n){if(rm(n)!=="object"){vr("Expected `options` arg to be an Object");return}Object.keys(n).length===0&&vr("Empty `options` given to .require()"),Io(u,i,n),bs&&Ti("called ga('require', '".concat(i,"', ").concat(JSON.stringify(n)))}else Io(u,i),bs&&Ti("called ga('require', '".concat(i,"');"))}},execute:function(t,n){for(var r,i,u=arguments.length,f=new Array(u>2?u-2:0),s=2;s<u;s++)f[s-2]=arguments[s];if(f.length===1?r=f[0]:(i=f[0],r=f[1]),typeof Io=="function")if(typeof t!="string")vr("Expected `pluginName` arg to be a String.");else if(typeof n!="string")vr("Expected `action` arg to be a String.");else{var y="".concat(t,":").concat(n);r=r||null,i&&r?(Io(y,i,r),bs&&(Ti("called ga('".concat(y,"');")),Ti('actionType: "'.concat(i,'" with payload: ').concat(JSON.stringify(r))))):r?(Io(y,r),bs&&(Ti("called ga('".concat(y,"');")),Ti("with payload: ".concat(JSON.stringify(r))))):(Io(y),bs&&Ti("called ga('".concat(y,"');")))}}};function Ww(e,t,n){if(typeof t!="function"){vr("hitCallback function is required");return}if(typeof Io=="function"){if(!e||!e.label){vr("args.label is required in outboundLink()");return}var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:ac(e.label)},i=!1,u=function(){i=!0,t()},f=setTimeout(u,250),s=function(){clearTimeout(f),i||t()};r.hitCallback=s,of(r,n)}else setTimeout(t,0)}var VF=sy;const HF={initialize:MR,ga:Io,set:DR,send:of,pageview:NR,modalview:zR,timing:BR,event:FR,exception:UR,plugin:VR,outboundLink:Ww,testModeAPI:sy},jF=Object.freeze(Object.defineProperty({__proto__:null,addTrackers:LR,default:HF,event:FR,exception:UR,ga:Io,initialize:MR,modalview:zR,outboundLink:Ww,pageview:NR,plugin:VR,send:of,set:DR,testModeAPI:VF,timing:BR},Symbol.toStringTag,{value:"Module"}));function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){$F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yh.origTrackLink=yh.trackLink;yh.trackLink=Ww;var GF=yh;const zW=pI(pI({},jF),{},{OutboundLink:GF});/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},im.apply(this,arguments)}var Wu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wu||(Wu={}));const mI="popstate";function qF(e){e===void 0&&(e={});function t(r,i){let{pathname:u,search:f,hash:s}=r.location;return qx("",{pathname:u,search:f,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ly(i)}return KF(t,n,null,e)}function pi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZF(){return Math.random().toString(36).substr(2,8)}function gI(e,t){return{usr:e.state,key:e.key,idx:t}}function qx(e,t,n,r){return n===void 0&&(n=null),im({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?af(t):t,{state:n,key:t&&t.key||r||ZF()})}function ly(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function af(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function KF(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:u=!1}=r,f=i.history,s=Wu.Pop,y=null,w=I();w==null&&(w=0,f.replaceState(im({},f.state,{idx:w}),""));function I(){return(f.state||{idx:null}).idx}function A(){let G=Wu.Pop,F=I();if(F!=null){let B=F-w;s=G,w=F,y&&y({action:s,location:V.location,delta:B})}else WF(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function R(G,F){s=Wu.Push;let B=qx(V.location,G,F);n&&n(B,G),w=I()+1;let j=gI(B,w),Y=V.createHref(B);try{f.pushState(j,"",Y)}catch{i.location.assign(Y)}u&&y&&y({action:s,location:V.location,delta:1})}function O(G,F){s=Wu.Replace;let B=qx(V.location,G,F);n&&n(B,G),w=I();let j=gI(B,w),Y=V.createHref(B);f.replaceState(j,"",Y),u&&y&&y({action:s,location:V.location,delta:0})}function z(G){let F=i.location.origin!=="null"?i.location.origin:i.location.href,B=typeof G=="string"?G:ly(G);return pi(F,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,F)}let V={get action(){return s},get location(){return e(i,f)},listen(G){if(y)throw new Error("A history only accepts one active listener");return i.addEventListener(mI,A),y=G,()=>{i.removeEventListener(mI,A),y=null}},createHref(G){return t(i,G)},createURL:z,encodeLocation(G){let F=z(G);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:R,replace:O,go(G){return f.go(G)}};return V}var vI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vI||(vI={}));function XF(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?af(t):t,i=$R(r.pathname||"/",n);if(i==null)return null;let u=HR(e);YF(u);let f=null;for(let s=0;f==null&&s<u.length;++s)f=aU(u[s],uU(i));return f}function HR(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(u,f,s)=>{let y={relativePath:s===void 0?u.path||"":s,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(pi(y.relativePath.startsWith(r),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(r.length));let w=sc([r,y.relativePath]),I=n.concat(y);u.children&&u.children.length>0&&(pi(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),HR(u.children,t,I,w)),!(u.path==null&&!u.index)&&t.push({path:w,score:iU(w,u.index),routesMeta:I})};return e.forEach((u,f)=>{var s;if(u.path===""||!((s=u.path)!=null&&s.includes("?")))i(u,f);else for(let y of jR(u.path))i(u,f,y)}),t}function jR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return i?[u,""]:[u];let f=jR(r.join("/")),s=[];return s.push(...f.map(y=>y===""?u:[u,y].join("/"))),i&&s.push(...f),s.map(y=>e.startsWith("/")&&y===""?"/":y)}function YF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JF=/^:\w+$/,QF=3,eU=2,tU=1,nU=10,rU=-2,yI=e=>e==="*";function iU(e,t){let n=e.split("/"),r=n.length;return n.some(yI)&&(r+=rU),t&&(r+=eU),n.filter(i=>!yI(i)).reduce((i,u)=>i+(JF.test(u)?QF:u===""?tU:nU),r)}function oU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function aU(e,t){let{routesMeta:n}=e,r={},i="/",u=[];for(let f=0;f<n.length;++f){let s=n[f],y=f===n.length-1,w=i==="/"?t:t.slice(i.length)||"/",I=sU({path:s.relativePath,caseSensitive:s.caseSensitive,end:y},w);if(!I)return null;Object.assign(r,I.params);let A=s.route;u.push({params:r,pathname:sc([i,I.pathname]),pathnameBase:fU(sc([i,I.pathnameBase])),route:A}),I.pathnameBase!=="/"&&(i=sc([i,I.pathnameBase]))}return u}function sU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let u=i[0],f=u.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((w,I,A)=>{if(I==="*"){let R=s[A]||"";f=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}return w[I]=cU(s[A]||"",I),w},{}),pathname:u,pathnameBase:f,pattern:e}}function lU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(f,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function uU(e){try{return decodeURI(e)}catch(t){return Zw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cU(e,t){try{return decodeURIComponent(e)}catch(n){return Zw(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function $R(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Zw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?af(e):e;return{pathname:n?n.startsWith("/")?n:dU(n,t):t,search:pU(r),hash:mU(i)}}function dU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function d1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qR(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=af(e):(i=im({},e),pi(!i.pathname||!i.pathname.includes("?"),d1("?","pathname","search",i)),pi(!i.pathname||!i.pathname.includes("#"),d1("#","pathname","hash",i)),pi(!i.search||!i.search.includes("#"),d1("#","search","hash",i)));let u=e===""||i.pathname==="",f=u?"/":i.pathname,s;if(r||f==null)s=n;else{let A=t.length-1;if(f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;i.pathname=R.join("/")}s=A>=0?t[A]:"/"}let y=hU(i,s),w=f&&f!=="/"&&f.endsWith("/"),I=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(w||I)&&(y.pathname+="/"),y}const sc=e=>e.join("/").replace(/\/\/+/g,"/"),fU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class gU{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function vU(e){return e instanceof gU}const yU=["post","put","patch","delete"];[...yU];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(this,arguments)}function _U(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const xU=typeof Object.is=="function"?Object.is:_U,{useState:bU,useEffect:wU,useLayoutEffect:EU,useDebugValue:SU}=Rp;function TU(e,t,n){const r=t(),[{inst:i},u]=bU({inst:{value:r,getSnapshot:t}});return EU(()=>{i.value=r,i.getSnapshot=t,f1(i)&&u({inst:i})},[e,r,t]),wU(()=>(f1(i)&&u({inst:i}),e(()=>{f1(i)&&u({inst:i})})),[e]),SU(r),r}function f1(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!xU(n,r)}catch{return!0}}function IU(e,t,n){return t()}const AU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PU=!AU,OU=PU?IU:TU;"useSyncExternalStore"in Rp&&(e=>e.useSyncExternalStore)(Rp);const WR=le.createContext(null),ZR=le.createContext(null),P_=le.createContext(null),O_=le.createContext(null),sf=le.createContext({outlet:null,matches:[]}),KR=le.createContext(null);function CU(e,t){let{relative:n}=t===void 0?{}:t;Em()||pi(!1);let{basename:r,navigator:i}=le.useContext(P_),{hash:u,pathname:f,search:s}=YR(e,{relative:n}),y=f;return r!=="/"&&(y=f==="/"?r:sc([r,f])),i.createHref({pathname:y,search:s,hash:u})}function Em(){return le.useContext(O_)!=null}function Sm(){return Em()||pi(!1),le.useContext(O_).location}function XR(){Em()||pi(!1);let{basename:e,navigator:t}=le.useContext(P_),{matches:n}=le.useContext(sf),{pathname:r}=Sm(),i=JSON.stringify(GR(n).map(s=>s.pathnameBase)),u=le.useRef(!1);return le.useEffect(()=>{u.current=!0}),le.useCallback(function(s,y){if(y===void 0&&(y={}),!u.current)return;if(typeof s=="number"){t.go(s);return}let w=qR(s,JSON.parse(i),r,y.relative==="path");e!=="/"&&(w.pathname=w.pathname==="/"?e:sc([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,i,r])}function YR(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=le.useContext(sf),{pathname:i}=Sm(),u=JSON.stringify(GR(r).map(f=>f.pathnameBase));return le.useMemo(()=>qR(e,JSON.parse(u),i,n==="path"),[e,u,i,n])}function RU(e,t){Em()||pi(!1);let{navigator:n}=le.useContext(P_),r=le.useContext(ZR),{matches:i}=le.useContext(sf),u=i[i.length-1],f=u?u.params:{};u&&u.pathname;let s=u?u.pathnameBase:"/";u&&u.route;let y=Sm(),w;if(t){var I;let V=typeof t=="string"?af(t):t;s==="/"||(I=V.pathname)!=null&&I.startsWith(s)||pi(!1),w=V}else w=y;let A=w.pathname||"/",R=s==="/"?A:A.slice(s.length)||"/",O=XF(e,{pathname:R}),z=DU(O&&O.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:sc([s,n.encodeLocation?n.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?s:sc([s,n.encodeLocation?n.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),i,r||void 0);return t&&z?le.createElement(O_.Provider,{value:{location:Wx({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Wu.Pop}},z):z}function kU(){let e=FU(),t=vU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unhandled Thrown Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},t),n?le.createElement("pre",{style:i},n):null,le.createElement("p",null,"💿 Hey developer 👋"),le.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",le.createElement("code",{style:u},"errorElement")," props on ",le.createElement("code",{style:u},"<Route>")))}class LU extends le.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?le.createElement(sf.Provider,{value:this.props.routeContext},le.createElement(KR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MU(e){let{routeContext:t,match:n,children:r}=e,i=le.useContext(WR);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),le.createElement(sf.Provider,{value:t},r)}function DU(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let u=r.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id]));u>=0||pi(!1),r=r.slice(0,Math.min(r.length,u+1))}return r.reduceRight((u,f,s)=>{let y=f.route.id?i==null?void 0:i[f.route.id]:null,w=n?f.route.errorElement||le.createElement(kU,null):null,I=t.concat(r.slice(0,s+1)),A=()=>le.createElement(MU,{match:f,routeContext:{outlet:u,matches:I}},y?w:f.route.element!==void 0?f.route.element:u);return n&&(f.route.errorElement||s===0)?le.createElement(LU,{location:n.location,component:w,error:y,children:A(),routeContext:{outlet:null,matches:I}}):A()},null)}var _I;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(_I||(_I={}));var uy;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(uy||(uy={}));function NU(e){let t=le.useContext(ZR);return t||pi(!1),t}function zU(e){let t=le.useContext(sf);return t||pi(!1),t}function BU(e){let t=zU(),n=t.matches[t.matches.length-1];return n.route.id||pi(!1),n.route.id}function FU(){var e;let t=le.useContext(KR),n=NU(uy.UseRouteError),r=BU(uy.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function UU(e){pi(!1)}function VU(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Wu.Pop,navigator:u,static:f=!1}=e;Em()&&pi(!1);let s=t.replace(/^\/*/,"/"),y=le.useMemo(()=>({basename:s,navigator:u,static:f}),[s,u,f]);typeof r=="string"&&(r=af(r));let{pathname:w="/",search:I="",hash:A="",state:R=null,key:O="default"}=r,z=le.useMemo(()=>{let V=$R(w,s);return V==null?null:{pathname:V,search:I,hash:A,state:R,key:O}},[s,w,I,A,R,O]);return z==null?null:le.createElement(P_.Provider,{value:y},le.createElement(O_.Provider,{children:n,value:{location:z,navigationType:i}}))}function BW(e){let{children:t,location:n}=e,r=le.useContext(WR),i=r&&!t?r.router.routes:Zx(t);return RU(i,n)}var xI;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(xI||(xI={}));new Promise(()=>{});function Zx(e,t){t===void 0&&(t=[]);let n=[];return le.Children.forEach(e,(r,i)=>{if(!le.isValidElement(r))return;if(r.type===le.Fragment){n.push.apply(n,Zx(r.props.children,t));return}r.type!==UU&&pi(!1),!r.props.index||!r.props.children||pi(!1);let u=[...t,i],f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(f.children=Zx(r.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(this,arguments)}function HU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $U(e,t){return e.button===0&&(!t||t==="_self")&&!jU(e)}function Xx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function GU(e,t){let n=Xx(e);for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}const qU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function FW(e){let{basename:t,children:n,window:r}=e,i=le.useRef();i.current==null&&(i.current=qF({window:r,v5Compat:!0}));let u=i.current,[f,s]=le.useState({action:u.action,location:u.location});return le.useLayoutEffect(()=>u.listen(s),[u]),le.createElement(VU,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:u})}const UW=le.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:u,replace:f,state:s,target:y,to:w,preventScrollReset:I}=t,A=HU(t,qU),R=CU(w,{relative:i}),O=WU(w,{replace:f,state:s,target:y,preventScrollReset:I,relative:i});function z(V){r&&r(V),V.defaultPrevented||O(V)}return le.createElement("a",Kx({},A,{href:R,onClick:u?r:z,ref:n,target:y}))});var bI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(bI||(bI={}));var wI;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wI||(wI={}));function WU(e,t){let{target:n,replace:r,state:i,preventScrollReset:u,relative:f}=t===void 0?{}:t,s=XR(),y=Sm(),w=YR(e,{relative:f});return le.useCallback(I=>{if($U(I,n)){I.preventDefault();let A=r!==void 0?r:ly(y)===ly(w);s(e,{replace:A,state:i,preventScrollReset:u,relative:f})}},[y,s,w,r,i,n,e,u,f])}function VW(e){let t=le.useRef(Xx(e)),n=Sm(),r=le.useMemo(()=>GU(n.search,t.current),[n.search]),i=XR(),u=le.useCallback((f,s)=>{const y=Xx(typeof f=="function"?f(r):f);i("?"+y,s)},[i,r]);return[r,u]}var ZU=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(s){f={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return u},KU=function(e){var t=e.split(/ ?; ?/);return t.reduce(function(n,r){var i=ZU(r.split(/ ?: ?/),2),u=i[0],f=i[1];return u&&f&&(n[u.replace(/-(\w)/g,function(s,y){return y.toUpperCase()})]=Number.isNaN(Number(f))?f:Number(f)),n},{})};function XU(e){e===void 0&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}var YU=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],EI={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},cy=globalThis&&globalThis.__assign||function(){return cy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},cy.apply(this,arguments)},JR=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(s){f={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return u},QR=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))};function JU(e,t){var n={key:t};if(e instanceof Element){var r=e.getAttribute("class");r&&(n.className=r),QR([],JR(e.attributes),!1).forEach(function(i){switch(i.name){case"class":break;case"style":n[i.name]=KU(i.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[EI[i.name]||i.name]=!0;break;default:n[EI[i.name]||i.name]=i.value}})}return n}function QU(e,t,n){var r=QR([],JR(e),!1).map(function(i,u){return Kw(i,cy(cy({},n),{index:u,level:t+1}))}).filter(Boolean);return r.length?r:null}function e8(e){return/[a-z]+[A-Z]+[a-z]+/.test(e)?e:e.toLowerCase()}function Kw(e,t){var n;if(t===void 0&&(t={}),!e||!(e instanceof Node))return null;var r=t.actions,i=r===void 0?[]:r,u=t.index,f=u===void 0?0:u,s=t.level,y=s===void 0?0:s,w=t.randomKey,I=e,A="".concat(y,"-").concat(f),R=[];if(w&&y===0&&(A="".concat(XU(),"-").concat(A)),Array.isArray(i)&&i.forEach(function(V){V.condition(I,A,y)&&(typeof V.pre=="function"&&(I=V.pre(I,A,y),I instanceof Node||(I=e)),typeof V.post=="function"&&R.push(V.post(I,A,y)))}),R.length)return R;switch(I.nodeType){case 1:return le.createElement(e8(I.nodeName),JU(I,A),QU(I.childNodes,y,t));case 3:{var O=((n=I.nodeValue)===null||n===void 0?void 0:n.toString())||"";if(/^\s+$/.test(O)&&!/[\u00A0\u202F]/.test(O))return null;if(!I.parentNode)return O;var z=I.parentNode.nodeName.toLowerCase();return YU.includes(z)?(/\S/.test(O)&&console.warn("A textNode is not allowed inside '".concat(z,`'. Your text "`).concat(O,'" will be ignored')),null):O}case 8:return null;default:return null}}function t8(e,t){if(t===void 0&&(t={}),!e||typeof e!="string")return null;var n=t.nodeOnly,r=n===void 0?!1:n,i=t.selector,u=i===void 0?"body > *":i,f=t.type,s=f===void 0?"text/html":f;try{var y=new DOMParser,w=y.parseFromString(e,s),I=w.querySelector(u);if(!(I instanceof Node))throw new TypeError("Error parsing input");return r?I:Kw(I,t)}catch{}return null}function SI(e,t){return t===void 0&&(t={}),typeof e=="string"?t8(e,t):e instanceof Node?Kw(e,t):null}var Yx={},n8={get exports(){return Yx},set exports(e){Yx=e}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(n8);var So={FAILED:"failed",LOADED:"loaded",LOADING:"loading",PENDING:"pending",READY:"ready",UNSUPPORTED:"unsupported"};function p1(){return Yx.canUseDOM}function r8(){return i8()&&typeof window<"u"&&window!==null}function i8(){if(!document)return!1;var e=document.createElement("div");e.innerHTML="<svg />";var t=e.firstChild;return!!t&&t.namespaceURI==="http://www.w3.org/2000/svg"}function o8(e){return e[Math.floor(Math.random()*e.length)]}function a8(e){for(var t="abcdefghijklmnopqrstuvwxyz",n="1234567890",r="".concat(t).concat(t.toUpperCase()).concat(n),i="",u=0;u<e;u++)i+=o8(r);return i}function s8(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(t.includes(i)||(r[i]=e[i]));return r}var l8=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jx=globalThis&&globalThis.__assign||function(){return Jx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jx.apply(this,arguments)},TI=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(s){f={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return u},u8=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))},Mu=Object.create(null),c8=function(e){l8(t,e);function t(n){var r=e.call(this,n)||this;return Object.defineProperty(r,"isInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"isActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"hash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"handleLoad",{enumerable:!0,configurable:!0,writable:!0,value:function(i){r.isActive&&r.setState({content:i,status:So.LOADED},r.getElement)}}),Object.defineProperty(r,"handleError",{enumerable:!0,configurable:!0,writable:!0,value:function(i){var u=r.props.onError,f=i.message==="Browser does not support SVG"?So.UNSUPPORTED:So.FAILED;r.isActive&&r.setState({status:f},function(){typeof u=="function"&&u(i)})}}),Object.defineProperty(r,"request",{enumerable:!0,configurable:!0,writable:!0,value:function(){var i=r.props,u=i.cacheRequests,f=i.fetchOptions,s=i.src;try{return u&&(Mu[s]={content:"",status:So.LOADING}),fetch(s,f).then(function(y){var w=y.headers.get("content-type"),I=TI((w||"").split(/ ?; ?/),1),A=I[0];if(y.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some(function(R){return A.includes(R)}))throw new Error("Content type isn't valid: ".concat(A));return y.text()}).then(function(y){var w=r.props.src;if(s!==w){Mu[s].status===So.LOADING&&delete Mu[s];return}if(r.handleLoad(y),u){var I=Mu[s];I&&(I.content=y,I.status=So.LOADED)}}).catch(function(y){if(r.handleError(y),u){var w=Mu[s];w&&delete Mu[s]}})}catch(y){return r.handleError(new Error(y.message))}}}),r.state={content:"",element:null,hasCache:!!n.cacheRequests&&!!Mu[n.src],status:So.PENDING},r.hash=n.uniqueHash||a8(8),r}return Object.defineProperty(t.prototype,"componentDidMount",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isActive=!0,!(!p1()||this.isInitialized)){var n=this.state.status,r=this.props.src;try{if(n===So.PENDING){if(!r8())throw new Error("Browser does not support SVG");if(!r)throw new Error("Missing src");this.load()}}catch(i){this.handleError(i)}this.isInitialized=!0}}}),Object.defineProperty(t.prototype,"componentDidUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(p1()){var i=this.state,u=i.hasCache,f=i.status,s=this.props,y=s.onLoad,w=s.src;if(r.status!==So.READY&&f===So.READY&&y&&y(w,u),n.src!==w){if(!w){this.handleError(new Error("Missing src"));return}this.load()}}}}),Object.defineProperty(t.prototype,"componentWillUnmount",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isActive=!1}}),Object.defineProperty(t.prototype,"getNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.props,r=n.description,i=n.title;try{var u=this.processSVG(),f=SI(u,{nodeOnly:!0});if(!f||!(f instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");var s=this.updateSVGAttributes(f);if(r){var y=s.querySelector("desc");y&&y.parentNode&&y.parentNode.removeChild(y);var w=document.createElement("desc");w.innerHTML=r,s.prepend(w)}if(i){var I=s.querySelector("title");I&&I.parentNode&&I.parentNode.removeChild(I);var A=document.createElement("title");A.innerHTML=i,s.prepend(A)}return s}catch(R){return this.handleError(R)}}}),Object.defineProperty(t.prototype,"getElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){try{var n=this.getNode(),r=SI(n);if(!r||!le.isValidElement(r))throw new Error("Could not convert the src to a React element");this.setState({element:r,status:So.READY})}catch(i){this.handleError(new Error(i.message))}}}),Object.defineProperty(t.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;this.isActive&&this.setState({content:"",element:null,status:So.LOADING},function(){var r=n.props,i=r.cacheRequests,u=r.src,f=i&&Mu[u];if(f&&f.status===So.LOADED){n.handleLoad(f.content);return}var s=u.match(/data:image\/svg[^,]*?(;base64)?,(.*)/),y;if(s?y=s[1]?window.atob(s[2]):decodeURIComponent(s[2]):u.includes("<svg")&&(y=u),y){n.handleLoad(y);return}n.request()})}}),Object.defineProperty(t.prototype,"updateSVGAttributes",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this,i=this.props,u=i.baseURL,f=u===void 0?"":u,s=i.uniquifyIDs,y=["id","href","xlink:href","xlink:role","xlink:arcrole"],w=["href","xlink:href"],I=function(A,R){return w.includes(A)&&(R?!R.includes("#"):!1)};return s&&u8([],TI(n.children),!1).map(function(A){if(A.attributes&&A.attributes.length){var R=Object.values(A.attributes).map(function(O){var z=O,V=O.value.match(/url\((.*?)\)/);return V&&V[1]&&(z.value=O.value.replace(V[0],"url(".concat(f).concat(V[1],"__").concat(r.hash,")"))),z});y.forEach(function(O){var z=R.find(function(V){return V.name===O});z&&!I(O,z.value)&&(z.value="".concat(z.value,"__").concat(r.hash))})}return A.children.length?r.updateSVGAttributes(A):A}),n}}),Object.defineProperty(t.prototype,"processSVG",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.state.content,r=this.props.preProcessor;return r?r(n):n}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.state,r=n.element,i=n.status,u=this.props,f=u.children,s=f===void 0?null:f,y=u.innerRef,w=u.loader,I=w===void 0?null:w,A=s8(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return p1()?r?le.cloneElement(r,Jx({ref:y},A)):[So.UNSUPPORTED,So.FAILED].includes(i)?s:I:I}}),Object.defineProperty(t,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{cacheRequests:!0,uniquifyIDs:!1}}),t}(le.PureComponent);const HW=c8;function h8(e){function t(Be,qe,$e,Je,Ae){for(var vt=0,lt=0,en=0,ke=0,Xe,_t,Jt=0,Wt=0,Zt,un=Zt=Xe=0,nn=0,dn=0,mt=0,Ot=0,jt=$e.length,Kn=jt-1,xn,it="",fn="",pn="",Xr="",Ln;nn<jt;){if(_t=$e.charCodeAt(nn),nn===Kn&&lt+ke+en+vt!==0&&(lt!==0&&(_t=lt===47?10:47),ke=en=vt=0,jt++,Kn++),lt+ke+en+vt===0){if(nn===Kn&&(0<dn&&(it=it.replace(R,"")),0<it.trim().length)){switch(_t){case 32:case 9:case 59:case 13:case 10:break;default:it+=$e.charAt(nn)}_t=59}switch(_t){case 123:for(it=it.trim(),Xe=it.charCodeAt(0),Zt=1,Ot=++nn;nn<jt;){switch(_t=$e.charCodeAt(nn)){case 123:Zt++;break;case 125:Zt--;break;case 47:switch(_t=$e.charCodeAt(nn+1)){case 42:case 47:e:{for(un=nn+1;un<Kn;++un)switch($e.charCodeAt(un)){case 47:if(_t===42&&$e.charCodeAt(un-1)===42&&nn+2!==un){nn=un+1;break e}break;case 10:if(_t===47){nn=un+1;break e}}nn=un}}break;case 91:_t++;case 40:_t++;case 34:case 39:for(;nn++<Kn&&$e.charCodeAt(nn)!==_t;);}if(Zt===0)break;nn++}switch(Zt=$e.substring(Ot,nn),Xe===0&&(Xe=(it=it.replace(A,"").trim()).charCodeAt(0)),Xe){case 64:switch(0<dn&&(it=it.replace(R,"")),_t=it.charCodeAt(1),_t){case 100:case 109:case 115:case 45:dn=qe;break;default:dn=Ye}if(Zt=t(qe,dn,Zt,_t,Ae+1),Ot=Zt.length,0<Pe&&(dn=n(Ye,it,mt),Ln=s(3,Zt,dn,qe,We,De,Ot,_t,Ae,Je),it=dn.join(""),Ln!==void 0&&(Ot=(Zt=Ln.trim()).length)===0&&(_t=0,Zt="")),0<Ot)switch(_t){case 115:it=it.replace(J,f);case 100:case 109:case 45:Zt=it+"{"+Zt+"}";break;case 107:it=it.replace(B,"$1 $2"),Zt=it+"{"+Zt+"}",Zt=tt===1||tt===2&&u("@"+Zt,3)?"@-webkit-"+Zt+"@"+Zt:"@"+Zt;break;default:Zt=it+Zt,Je===112&&(Zt=(fn+=Zt,""))}else Zt="";break;default:Zt=t(qe,n(qe,it,mt),Zt,Je,Ae+1)}pn+=Zt,Zt=mt=dn=un=Xe=0,it="",_t=$e.charCodeAt(++nn);break;case 125:case 59:if(it=(0<dn?it.replace(R,""):it).trim(),1<(Ot=it.length))switch(un===0&&(Xe=it.charCodeAt(0),Xe===45||96<Xe&&123>Xe)&&(Ot=(it=it.replace(" ",":")).length),0<Pe&&(Ln=s(1,it,qe,Be,We,De,fn.length,Je,Ae,Je))!==void 0&&(Ot=(it=Ln.trim()).length)===0&&(it="\0\0"),Xe=it.charCodeAt(0),_t=it.charCodeAt(1),Xe){case 0:break;case 64:if(_t===105||_t===99){Xr+=it+$e.charAt(nn);break}default:it.charCodeAt(Ot-1)!==58&&(fn+=i(it,Xe,_t,it.charCodeAt(2)))}mt=dn=un=Xe=0,it="",_t=$e.charCodeAt(++nn)}}switch(_t){case 13:case 10:lt===47?lt=0:1+Xe===0&&Je!==107&&0<it.length&&(dn=1,it+="\0"),0<Pe*ze&&s(0,it,qe,Be,We,De,fn.length,Je,Ae,Je),De=1,We++;break;case 59:case 125:if(lt+ke+en+vt===0){De++;break}default:switch(De++,xn=$e.charAt(nn),_t){case 9:case 32:if(ke+vt+lt===0)switch(Jt){case 44:case 58:case 9:case 32:xn="";break;default:_t!==32&&(xn=" ")}break;case 0:xn="\\0";break;case 12:xn="\\f";break;case 11:xn="\\v";break;case 38:ke+lt+vt===0&&(dn=mt=1,xn="\f"+xn);break;case 108:if(ke+lt+vt+Fe===0&&0<un)switch(nn-un){case 2:Jt===112&&$e.charCodeAt(nn-3)===58&&(Fe=Jt);case 8:Wt===111&&(Fe=Wt)}break;case 58:ke+lt+vt===0&&(un=nn);break;case 44:lt+en+ke+vt===0&&(dn=1,xn+="\r");break;case 34:case 39:lt===0&&(ke=ke===_t?0:ke===0?_t:ke);break;case 91:ke+lt+en===0&&vt++;break;case 93:ke+lt+en===0&&vt--;break;case 41:ke+lt+vt===0&&en--;break;case 40:if(ke+lt+vt===0){if(Xe===0)switch(2*Jt+3*Wt){case 533:break;default:Xe=1}en++}break;case 64:lt+en+ke+vt+un+Zt===0&&(Zt=1);break;case 42:case 47:if(!(0<ke+vt+en))switch(lt){case 0:switch(2*_t+3*$e.charCodeAt(nn+1)){case 235:lt=47;break;case 220:Ot=nn,lt=42}break;case 42:_t===47&&Jt===42&&Ot+2!==nn&&($e.charCodeAt(Ot+2)===33&&(fn+=$e.substring(Ot,nn+1)),xn="",lt=0)}}lt===0&&(it+=xn)}Wt=Jt,Jt=_t,nn++}if(Ot=fn.length,0<Ot){if(dn=qe,0<Pe&&(Ln=s(2,fn,dn,Be,We,De,Ot,Je,Ae,Je),Ln!==void 0&&(fn=Ln).length===0))return Xr+fn+pn;if(fn=dn.join(",")+"{"+fn+"}",tt*Fe!==0){switch(tt!==2||u(fn,2)||(Fe=0),Fe){case 111:fn=fn.replace(Y,":-moz-$1")+fn;break;case 112:fn=fn.replace(j,"::-webkit-input-$1")+fn.replace(j,"::-moz-$1")+fn.replace(j,":-ms-input-$1")+fn}Fe=0}}return Xr+fn+pn}function n(Be,qe,$e){var Je=qe.trim().split(G);qe=Je;var Ae=Je.length,vt=Be.length;switch(vt){case 0:case 1:var lt=0;for(Be=vt===0?"":Be[0]+" ";lt<Ae;++lt)qe[lt]=r(Be,qe[lt],$e).trim();break;default:var en=lt=0;for(qe=[];lt<Ae;++lt)for(var ke=0;ke<vt;++ke)qe[en++]=r(Be[ke]+" ",Je[lt],$e).trim()}return qe}function r(Be,qe,$e){var Je=qe.charCodeAt(0);switch(33>Je&&(Je=(qe=qe.trim()).charCodeAt(0)),Je){case 38:return qe.replace(F,"$1"+Be.trim());case 58:return Be.trim()+qe.replace(F,"$1"+Be.trim());default:if(0<1*$e&&0<qe.indexOf("\f"))return qe.replace(F,(Be.charCodeAt(0)===58?"":"$1")+Be.trim())}return Be+qe}function i(Be,qe,$e,Je){var Ae=Be+";",vt=2*qe+3*$e+4*Je;if(vt===944){Be=Ae.indexOf(":",9)+1;var lt=Ae.substring(Be,Ae.length-1).trim();return lt=Ae.substring(0,Be).trim()+lt+";",tt===1||tt===2&&u(lt,1)?"-webkit-"+lt+lt:lt}if(tt===0||tt===2&&!u(Ae,1))return Ae;switch(vt){case 1015:return Ae.charCodeAt(10)===97?"-webkit-"+Ae+Ae:Ae;case 951:return Ae.charCodeAt(3)===116?"-webkit-"+Ae+Ae:Ae;case 963:return Ae.charCodeAt(5)===110?"-webkit-"+Ae+Ae:Ae;case 1009:if(Ae.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Ae+Ae;case 978:return"-webkit-"+Ae+"-moz-"+Ae+Ae;case 1019:case 983:return"-webkit-"+Ae+"-moz-"+Ae+"-ms-"+Ae+Ae;case 883:if(Ae.charCodeAt(8)===45)return"-webkit-"+Ae+Ae;if(0<Ae.indexOf("image-set(",11))return Ae.replace(Ee,"$1-webkit-$2")+Ae;break;case 932:if(Ae.charCodeAt(4)===45)switch(Ae.charCodeAt(5)){case 103:return"-webkit-box-"+Ae.replace("-grow","")+"-webkit-"+Ae+"-ms-"+Ae.replace("grow","positive")+Ae;case 115:return"-webkit-"+Ae+"-ms-"+Ae.replace("shrink","negative")+Ae;case 98:return"-webkit-"+Ae+"-ms-"+Ae.replace("basis","preferred-size")+Ae}return"-webkit-"+Ae+"-ms-"+Ae+Ae;case 964:return"-webkit-"+Ae+"-ms-flex-"+Ae+Ae;case 1023:if(Ae.charCodeAt(8)!==99)break;return lt=Ae.substring(Ae.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+lt+"-webkit-"+Ae+"-ms-flex-pack"+lt+Ae;case 1005:return z.test(Ae)?Ae.replace(O,":-webkit-")+Ae.replace(O,":-moz-")+Ae:Ae;case 1e3:switch(lt=Ae.substring(13).trim(),qe=lt.indexOf("-")+1,lt.charCodeAt(0)+lt.charCodeAt(qe)){case 226:lt=Ae.replace(Q,"tb");break;case 232:lt=Ae.replace(Q,"tb-rl");break;case 220:lt=Ae.replace(Q,"lr");break;default:return Ae}return"-webkit-"+Ae+"-ms-"+lt+Ae;case 1017:if(Ae.indexOf("sticky",9)===-1)break;case 975:switch(qe=(Ae=Be).length-10,lt=(Ae.charCodeAt(qe)===33?Ae.substring(0,qe):Ae).substring(Be.indexOf(":",7)+1).trim(),vt=lt.charCodeAt(0)+(lt.charCodeAt(7)|0)){case 203:if(111>lt.charCodeAt(8))break;case 115:Ae=Ae.replace(lt,"-webkit-"+lt)+";"+Ae;break;case 207:case 102:Ae=Ae.replace(lt,"-webkit-"+(102<vt?"inline-":"")+"box")+";"+Ae.replace(lt,"-webkit-"+lt)+";"+Ae.replace(lt,"-ms-"+lt+"box")+";"+Ae}return Ae+";";case 938:if(Ae.charCodeAt(5)===45)switch(Ae.charCodeAt(6)){case 105:return lt=Ae.replace("-items",""),"-webkit-"+Ae+"-webkit-box-"+lt+"-ms-flex-"+lt+Ae;case 115:return"-webkit-"+Ae+"-ms-flex-item-"+Ae.replace(se,"")+Ae;default:return"-webkit-"+Ae+"-ms-flex-line-pack"+Ae.replace("align-content","").replace(se,"")+Ae}break;case 973:case 989:if(Ae.charCodeAt(3)!==45||Ae.charCodeAt(4)===122)break;case 931:case 953:if(he.test(Be)===!0)return(lt=Be.substring(Be.indexOf(":")+1)).charCodeAt(0)===115?i(Be.replace("stretch","fill-available"),qe,$e,Je).replace(":fill-available",":stretch"):Ae.replace(lt,"-webkit-"+lt)+Ae.replace(lt,"-moz-"+lt.replace("fill-",""))+Ae;break;case 962:if(Ae="-webkit-"+Ae+(Ae.charCodeAt(5)===102?"-ms-"+Ae:"")+Ae,$e+Je===211&&Ae.charCodeAt(13)===105&&0<Ae.indexOf("transform",10))return Ae.substring(0,Ae.indexOf(";",27)+1).replace(V,"$1-webkit-$2")+Ae}return Ae}function u(Be,qe){var $e=Be.indexOf(qe===1?":":"{"),Je=Be.substring(0,qe!==3?$e:10);return $e=Be.substring($e+1,Be.length-1),et(qe!==2?Je:Je.replace(ge,"$1"),$e,qe)}function f(Be,qe){var $e=i(qe,qe.charCodeAt(0),qe.charCodeAt(1),qe.charCodeAt(2));return $e!==qe+";"?$e.replace(ee," or ($1)").substring(4):"("+qe+")"}function s(Be,qe,$e,Je,Ae,vt,lt,en,ke,Xe){for(var _t=0,Jt=qe,Wt;_t<Pe;++_t)switch(Wt=pt[_t].call(I,Be,Jt,$e,Je,Ae,vt,lt,en,ke,Xe)){case void 0:case!1:case!0:case null:break;default:Jt=Wt}if(Jt!==qe)return Jt}function y(Be){switch(Be){case void 0:case null:Pe=pt.length=0;break;default:if(typeof Be=="function")pt[Pe++]=Be;else if(typeof Be=="object")for(var qe=0,$e=Be.length;qe<$e;++qe)y(Be[qe]);else ze=!!Be|0}return y}function w(Be){return Be=Be.prefix,Be!==void 0&&(et=null,Be?typeof Be!="function"?tt=1:(tt=2,et=Be):tt=0),w}function I(Be,qe){var $e=Be;if(33>$e.charCodeAt(0)&&($e=$e.trim()),rt=$e,$e=[rt],0<Pe){var Je=s(-1,qe,$e,$e,We,De,0,0,0,0);Je!==void 0&&typeof Je=="string"&&(qe=Je)}var Ae=t(Ye,$e,qe,0,0);return 0<Pe&&(Je=s(-2,Ae,$e,$e,We,De,Ae.length,0,0,0),Je!==void 0&&(Ae=Je)),rt="",Fe=0,De=We=1,Ae}var A=/^\0+/g,R=/[\0\r\f]/g,O=/: */g,z=/zoo|gra/,V=/([,: ])(transform)/g,G=/,\r+?/g,F=/([\t\r\n ])*\f?&/g,B=/@(k\w+)\s*(\S*)\s*/,j=/::(place)/g,Y=/:(read-only)/g,Q=/[svh]\w+-[tblr]{2}/,J=/\(\s*(.*)\s*\)/g,ee=/([\s\S]*?);/g,se=/-self|flex-/g,ge=/[^]*?(:[rp][el]a[\w-]+)[^]*/,he=/stretch|:\s*\w+\-(?:conte|avail)/,Ee=/([^-])(image-set\()/,De=1,We=1,Fe=0,tt=1,Ye=[],pt=[],Pe=0,et=null,ze=0,rt="";return I.use=y,I.set=w,e!==void 0&&w(e),I}var d8={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ek(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var f8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,II=ek(function(e){return f8.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function sl(){return(sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var AI=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Qx=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!Kp.typeOf(e)},hy=Object.freeze([]),lc=Object.freeze({});function om(e){return typeof e=="function"}function PI(e){return e.displayName||e.name||"Component"}function Xw(e){return e&&typeof e.styledComponentId=="string"}var Wd=typeof process<"u"&&({GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.REACT_APP_SC_ATTR||{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.SC_ATTR)||"data-styled",Yw=typeof window<"u"&&"HTMLElement"in window,p8=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.REACT_APP_SC_DISABLE_SPEEDY!==""?{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.SC_DISABLE_SPEEDY!==void 0&&{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.SC_DISABLE_SPEEDY!==""?{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.SC_DISABLE_SPEEDY!=="false"&&{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d77ab030-2683-46a3-97dd-80782d008c61",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"yarn/3.4.1 npm/? node/v16.14.0 linux x64",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d77ab030-2683-46a3-97dd-80782d008c61",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/tmp/xfs-dab47bd6/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/bus-schedule/bus-schedule/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ndrwbv",GRADLE_HOME:"/usr/share/gradle-8.1.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"22555628",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"666",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.5/x64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20230625.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16843",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/yarn",GITHUB_RUN_ID:"5420599384",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"ndrwbv/bus-schedule/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.10/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/xfs-dab47bd6:/opt/hostedtoolcache/node/16.14.0/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",MAPTILER_KEY:"RUluA2bndSdqMIUtOfwX",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_d45cab1e-bea6-4e00-8a01-437a1b82f19b",INVOCATION_ID:"7f89f218b3434d33af3789453681e47c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.10/x64",npm_package_name:"bus-schedule",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"142",GITHUB_TRIGGERING_ACTOR:"ndrwbv",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"ndrwbv/bus-schedule",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",PROJECT_CWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_REPOSITORY_ID:"410510661",GITHUB_ACTIONS:"true",STATS_NM:"true",npm_package_version:"0.1.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/bus-schedule/bus-schedule",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"6ce1ec6c647869726324f1b0016b0ee32b85bd93",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"ndrwbv",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d77ab030-2683-46a3-97dd-80782d008c61",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/bus-schedule/bus-schedule",GITHUB_ACTOR_ID:"22555628",RUNNER_WORKSPACE:"/home/runner/work/bus-schedule",BERRY_BIN_FOLDER:"/tmp/xfs-dab47bd6",npm_execpath:"/tmp/xfs-dab47bd6/yarn",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d77ab030-2683-46a3-97dd-80782d008c61",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.146+9/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d77ab030-2683-46a3-97dd-80782d008c61",INIT_CWD:"/home/runner/work/bus-schedule/bus-schedule",NODE_ENV:"production"}.SC_DISABLE_SPEEDY:!1),m8={};function Tm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var g8=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,u=i.length,f=u;n>=f;)(f<<=1)<0&&Tm(16,""+n);this.groupSizes=new Uint32Array(f),this.groupSizes.set(i),this.length=f;for(var s=u;s<f;s++)this.groupSizes[s]=0}for(var y=this.indexOfGroup(n+1),w=0,I=r.length;w<I;w++)this.tag.insertRule(y,r[w])&&(this.groupSizes[n]++,y++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),u=i+r;this.groupSizes[n]=0;for(var f=i;f<u;f++)this.tag.deleteRule(i)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],u=this.indexOfGroup(n),f=u+i,s=u;s<f;s++)r+=this.tag.getRule(s)+`/*!sc*/
`;return r},e}(),ov=new Map,dy=new Map,bp=1,vg=function(e){if(ov.has(e))return ov.get(e);for(;dy.has(bp);)bp++;var t=bp++;return ov.set(e,t),dy.set(t,e),t},v8=function(e){return dy.get(e)},y8=function(e,t){t>=bp&&(bp=t+1),ov.set(e,t),dy.set(t,e)},_8="style["+Wd+'][data-styled-version="5.3.6"]',x8=new RegExp("^"+Wd+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),b8=function(e,t,n){for(var r,i=n.split(","),u=0,f=i.length;u<f;u++)(r=i[u])&&e.registerName(t,r)},w8=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),r=[],i=0,u=n.length;i<u;i++){var f=n[i].trim();if(f){var s=f.match(x8);if(s){var y=0|parseInt(s[1],10),w=s[2];y!==0&&(y8(w,y),b8(e,w,s[3]),e.getTag().insertRules(y,r)),r.length=0}else r.push(f)}}},E8=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},tk=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(s){for(var y=s.childNodes,w=y.length;w>=0;w--){var I=y[w];if(I&&I.nodeType===1&&I.hasAttribute(Wd))return I}}(n),u=i!==void 0?i.nextSibling:null;r.setAttribute(Wd,"active"),r.setAttribute("data-styled-version","5.3.6");var f=E8();return f&&r.setAttribute("nonce",f),n.insertBefore(r,u),r},S8=function(){function e(n){var r=this.element=tk(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var u=document.styleSheets,f=0,s=u.length;f<s;f++){var y=u[f];if(y.ownerNode===i)return y}Tm(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),T8=function(){function e(n){var r=this.element=tk(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),u=this.nodes[n];return this.element.insertBefore(i,u||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),I8=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),OI=Yw,A8={isServer:!Yw,useCSSOMInjection:!p8},fy=function(){function e(n,r,i){n===void 0&&(n=lc),r===void 0&&(r={}),this.options=sl({},A8,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&Yw&&OI&&(OI=!1,function(u){for(var f=document.querySelectorAll(_8),s=0,y=f.length;s<y;s++){var w=f[s];w&&w.getAttribute(Wd)!=="active"&&(w8(u,w),w.parentNode&&w.parentNode.removeChild(w))}}(this))}e.registerId=function(n){return vg(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(sl({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,u=r.useCSSOMInjection,f=r.target,n=i?new I8(f):u?new S8(f):new T8(f),new g8(n)));var n,r,i,u,f},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(vg(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},t.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(vg(n),i)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(vg(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,u="",f=0;f<i;f++){var s=v8(f);if(s!==void 0){var y=n.names.get(s),w=r.getGroup(f);if(y&&w&&y.size){var I=Wd+".g"+f+'[id="'+s+'"]',A="";y!==void 0&&y.forEach(function(R){R.length>0&&(A+=R+",")}),u+=""+w+I+'{content:"'+A+`"}/*!sc*/
`}}}return u}(this)},e}(),P8=/(a)(d)/gi,CI=function(e){return String.fromCharCode(e+(e>25?39:97))};function eb(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=CI(t%52)+n;return(CI(t%52)+n).replace(P8,"$1-$2")}var bd=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},nk=function(e){return bd(5381,e)};function rk(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(om(n)&&!Xw(n))return!1}return!0}var O8=nk("5.3.6"),C8=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&rk(t),this.componentId=n,this.baseHash=bd(O8,n),this.baseStyle=r,fy.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.componentId,u=[];if(this.baseStyle&&u.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))u.push(this.staticRulesId);else{var f=_h(this.rules,t,n,r).join(""),s=eb(bd(this.baseHash,f)>>>0);if(!n.hasNameForId(i,s)){var y=r(f,"."+s,void 0,i);n.insertRules(i,s,y)}u.push(s),this.staticRulesId=s}else{for(var w=this.rules.length,I=bd(this.baseHash,r.hash),A="",R=0;R<w;R++){var O=this.rules[R];if(typeof O=="string")A+=O;else if(O){var z=_h(O,t,n,r),V=Array.isArray(z)?z.join(""):z;I=bd(I,V+R),A+=V}}if(A){var G=eb(I>>>0);if(!n.hasNameForId(i,G)){var F=r(A,"."+G,void 0,i);n.insertRules(i,G,F)}u.push(G)}}return u.join(" ")},e}(),R8=/^\s*\/\/.*$/gm,k8=[":","[",".","#"];function L8(e){var t,n,r,i,u=e===void 0?lc:e,f=u.options,s=f===void 0?lc:f,y=u.plugins,w=y===void 0?hy:y,I=new h8(s),A=[],R=function(V){function G(F){if(F)try{V(F+"}")}catch{}}return function(F,B,j,Y,Q,J,ee,se,ge,he){switch(F){case 1:if(ge===0&&B.charCodeAt(0)===64)return V(B+";"),"";break;case 2:if(se===0)return B+"/*|*/";break;case 3:switch(se){case 102:case 112:return V(j[0]+B),"";default:return B+(he===0?"/*|*/":"")}case-2:B.split("/*|*/}").forEach(G)}}}(function(V){A.push(V)}),O=function(V,G,F){return G===0&&k8.indexOf(F[n.length])!==-1||F.match(i)?V:"."+t};function z(V,G,F,B){B===void 0&&(B="&");var j=V.replace(R8,""),Y=G&&F?F+" "+G+" { "+j+" }":j;return t=B,n=G,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),I(F||!G?"":G,Y)}return I.use([].concat(w,[function(V,G,F){V===2&&F.length&&F[0].lastIndexOf(n)>0&&(F[0]=F[0].replace(r,O))},R,function(V){if(V===-2){var G=A;return A=[],G}}])),z.hash=w.length?w.reduce(function(V,G){return G.name||Tm(15),bd(V,G.name)},5381).toString():"",z}var ik=Zr.createContext();ik.Consumer;var ok=Zr.createContext(),M8=(ok.Consumer,new fy),tb=L8();function ak(){return le.useContext(ik)||M8}function sk(){return le.useContext(ok)||tb}var D8=function(){function e(t,n){var r=this;this.inject=function(i,u){u===void 0&&(u=tb);var f=r.name+u.hash;i.hasNameForId(r.id,f)||i.insertRules(r.id,f,u(r.rules,f,"@keyframes"))},this.toString=function(){return Tm(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=tb),this.name+t.hash},e}(),N8=/([A-Z])/,z8=/([A-Z])/g,B8=/^ms-/,F8=function(e){return"-"+e.toLowerCase()};function RI(e){return N8.test(e)?e.replace(z8,F8).replace(B8,"-ms-"):e}var kI=function(e){return e==null||e===!1||e===""};function _h(e,t,n,r){if(Array.isArray(e)){for(var i,u=[],f=0,s=e.length;f<s;f+=1)(i=_h(e[f],t,n,r))!==""&&(Array.isArray(i)?u.push.apply(u,i):u.push(i));return u}if(kI(e))return"";if(Xw(e))return"."+e.styledComponentId;if(om(e)){if(typeof(w=e)!="function"||w.prototype&&w.prototype.isReactComponent||!t)return e;var y=e(t);return _h(y,t,n,r)}var w;return e instanceof D8?n?(e.inject(n,r),e.getName(r)):e:Qx(e)?function I(A,R){var O,z,V=[];for(var G in A)A.hasOwnProperty(G)&&!kI(A[G])&&(Array.isArray(A[G])&&A[G].isCss||om(A[G])?V.push(RI(G)+":",A[G],";"):Qx(A[G])?V.push.apply(V,I(A[G],G)):V.push(RI(G)+": "+(O=G,(z=A[G])==null||typeof z=="boolean"||z===""?"":typeof z!="number"||z===0||O in d8?String(z).trim():z+"px")+";"));return R?[R+" {"].concat(V,["}"]):V}(e):e.toString()}var LI=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function lk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return om(e)||Qx(e)?LI(_h(AI(hy,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:LI(_h(AI(e,n)))}var uk=function(e,t,n){return n===void 0&&(n=lc),e.theme!==n.theme&&e.theme||t||n.theme},U8=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,V8=/(^-|-$)/g;function m1(e){return e.replace(U8,"-").replace(V8,"")}var ck=function(e){return eb(nk(e)>>>0)};function yg(e){return typeof e=="string"&&!0}var nb=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},H8=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function j8(e,t,n){var r=e[n];nb(t)&&nb(r)?hk(r,t):e[n]=t}function hk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,u=n;i<u.length;i++){var f=u[i];if(nb(f))for(var s in f)H8(s)&&j8(e,f[s],s)}return e}var Jw=Zr.createContext();Jw.Consumer;var g1={};function dk(e,t,n){var r=Xw(e),i=!yg(e),u=t.attrs,f=u===void 0?hy:u,s=t.componentId,y=s===void 0?function(B,j){var Y=typeof B!="string"?"sc":m1(B);g1[Y]=(g1[Y]||0)+1;var Q=Y+"-"+ck("5.3.6"+Y+g1[Y]);return j?j+"-"+Q:Q}(t.displayName,t.parentComponentId):s,w=t.displayName,I=w===void 0?function(B){return yg(B)?"styled."+B:"Styled("+PI(B)+")"}(e):w,A=t.displayName&&t.componentId?m1(t.displayName)+"-"+t.componentId:t.componentId||y,R=r&&e.attrs?Array.prototype.concat(e.attrs,f).filter(Boolean):f,O=t.shouldForwardProp;r&&e.shouldForwardProp&&(O=t.shouldForwardProp?function(B,j,Y){return e.shouldForwardProp(B,j,Y)&&t.shouldForwardProp(B,j,Y)}:e.shouldForwardProp);var z,V=new C8(n,A,r?e.componentStyle:void 0),G=V.isStatic&&f.length===0,F=function(B,j){return function(Y,Q,J,ee){var se=Y.attrs,ge=Y.componentStyle,he=Y.defaultProps,Ee=Y.foldedComponentIds,De=Y.shouldForwardProp,We=Y.styledComponentId,Fe=Y.target,tt=function(Je,Ae,vt){Je===void 0&&(Je=lc);var lt=sl({},Ae,{theme:Je}),en={};return vt.forEach(function(ke){var Xe,_t,Jt,Wt=ke;for(Xe in om(Wt)&&(Wt=Wt(lt)),Wt)lt[Xe]=en[Xe]=Xe==="className"?(_t=en[Xe],Jt=Wt[Xe],_t&&Jt?_t+" "+Jt:_t||Jt):Wt[Xe]}),[lt,en]}(uk(Q,le.useContext(Jw),he)||lc,Q,se),Ye=tt[0],pt=tt[1],Pe=function(Je,Ae,vt,lt){var en=ak(),ke=sk(),Xe=Ae?Je.generateAndInjectStyles(lc,en,ke):Je.generateAndInjectStyles(vt,en,ke);return Xe}(ge,ee,Ye),et=J,ze=pt.$as||Q.$as||pt.as||Q.as||Fe,rt=yg(ze),Be=pt!==Q?sl({},Q,{},pt):Q,qe={};for(var $e in Be)$e[0]!=="$"&&$e!=="as"&&($e==="forwardedAs"?qe.as=Be[$e]:(De?De($e,II,ze):!rt||II($e))&&(qe[$e]=Be[$e]));return Q.style&&pt.style!==Q.style&&(qe.style=sl({},Q.style,{},pt.style)),qe.className=Array.prototype.concat(Ee,We,Pe!==We?Pe:null,Q.className,pt.className).filter(Boolean).join(" "),qe.ref=et,le.createElement(ze,qe)}(z,B,j,G)};return F.displayName=I,(z=Zr.forwardRef(F)).attrs=R,z.componentStyle=V,z.displayName=I,z.shouldForwardProp=O,z.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):hy,z.styledComponentId=A,z.target=r?e.target:e,z.withComponent=function(B){var j=t.componentId,Y=function(J,ee){if(J==null)return{};var se,ge,he={},Ee=Object.keys(J);for(ge=0;ge<Ee.length;ge++)se=Ee[ge],ee.indexOf(se)>=0||(he[se]=J[se]);return he}(t,["componentId"]),Q=j&&j+"-"+(yg(B)?B:m1(PI(B)));return dk(B,sl({},Y,{attrs:R,componentId:Q}),n)},Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(B){this._foldedDefaultProps=r?hk({},e.defaultProps,B):B}}),z.toString=function(){return"."+z.styledComponentId},i&&j3(z,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),z}var rb=function(e){return function t(n,r,i){if(i===void 0&&(i=lc),!Kp.isValidElementType(r))return Tm(1,String(r));var u=function(){return n(r,i,lk.apply(void 0,arguments))};return u.withConfig=function(f){return t(n,r,sl({},i,{},f))},u.attrs=function(f){return t(n,r,sl({},i,{attrs:Array.prototype.concat(i.attrs,f).filter(Boolean)}))},u}(dk,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){rb[e]=rb(e)});var $8=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=rk(n),fy.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,i,u){var f=u(_h(this.rules,r,i,u).join(""),""),s=this.componentId+n;i.insertRules(s,s,f)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,i,u){n>2&&fy.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,r,i,u)},e}();function jW(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=lk.apply(void 0,[e].concat(n)),u="sc-global-"+ck(JSON.stringify(i)),f=new $8(i,u);function s(w){var I=ak(),A=sk(),R=le.useContext(Jw),O=le.useRef(I.allocateGSInstance(u)).current;return I.server&&y(O,w,I,R,A),le.useLayoutEffect(function(){if(!I.server)return y(O,w,I,R,A),function(){return f.removeStyles(O,I)}},[O,w,I,R,A]),null}function y(w,I,A,R,O){if(f.isStatic)f.renderStyles(w,m8,A,O);else{var z=sl({},I,{theme:uk(I,R,s.defaultProps)});f.renderStyles(w,z,A,O)}}return Zr.memo(s)}const $W=rb;var G8=q8()?le.useLayoutEffect:le.useEffect;function q8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function W8(){var e=le.useState(Object.create(null)),t=e[1];return le.useCallback(function(){t(Object.create(null))},[])}var Z8=function(t){var n=t.children,r=t.type,i=r===void 0?"reach-portal":r,u=le.useRef(null),f=le.useRef(null),s=W8();return G8(function(){if(u.current){var y=u.current.ownerDocument;return f.current=y==null?void 0:y.createElement(i),y.body.appendChild(f.current),s(),function(){f.current&&f.current.ownerDocument&&f.current.ownerDocument.body.removeChild(f.current)}}},[i,s]),f.current?dh.createPortal(n,f.current):le.createElement("span",{ref:u})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lt=function(){return Lt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Lt.apply(this,arguments)};function Qw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Zn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(s){f={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return u}function Ir(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))}var _r;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(_r||(_r={}));var gc;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(gc||(gc={}));var ib=_r.Start,eE=_r.Stop,Zd=_r.Raise,Kd=_r.Send,fk=_r.Cancel,K8=_r.NullEvent,tE=_r.Assign;_r.After;_r.DoneState;var pk=_r.Log,X8=_r.Init,ob=_r.Invoke;_r.ErrorExecution;var MI=_r.ErrorPlatform,Y8=_r.ErrorCustom,mk=_r.Update,J8=_r.Choose,Q8=_r.Pure,gk=".",DI={},ab="xstate.guard",eV="",_g;function nE(e,t,n){n===void 0&&(n=gk);var r=wp(e,n),i=wp(t,n);return ar(i)?ar(r)?i===r:!1:ar(r)?r in i:Object.keys(r).every(function(u){return u in i?nE(r[u],i[u]):!1})}function vk(e){try{return ar(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function sb(e,t){try{return lf(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function tV(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function wp(e,t){if(tV(e))return e.value;if(lf(e))return py(e);if(typeof e!="string")return e;var n=sb(e,t);return py(n)}function py(e){if(e.length===1)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function ip(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var u=r[i];n[u]=t(e[u],u,e,i)}return n}function NI(e,t,n){var r,i,u={};try{for(var f=Zn(Object.keys(e)),s=f.next();!s.done;s=f.next()){var y=s.value,w=e[y];n(w)&&(u[y]=t(w,y,e))}}catch(I){r={error:I}}finally{try{s&&!s.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return u}var nV=function(e){return function(t){var n,r,i=t;try{for(var u=Zn(e),f=u.next();!f.done;f=u.next()){var s=f.value;i=i[s]}}catch(y){n={error:y}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return i}};function rV(e,t){return function(n){var r,i,u=n;try{for(var f=Zn(e),s=f.next();!s.done;s=f.next()){var y=s.value;u=u[t][y]}}catch(w){r={error:w}}finally{try{s&&!s.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return u}}function av(e){if(!e)return[[]];if(ar(e))return[[e]];var t=Br(Object.keys(e).map(function(n){var r=e[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:av(e[n]).map(function(i){return[n].concat(i)})}));return t}function Br(e){var t;return(t=[]).concat.apply(t,Ir([],Xn(e),!1))}function yk(e){return lf(e)?e:[e]}function vs(e){return e===void 0?[]:yk(e)}function my(e,t,n){var r,i;if(yr(e))return e(t,n.data);var u={};try{for(var f=Zn(Object.keys(e)),s=f.next();!s.done;s=f.next()){var y=s.value,w=e[y];yr(w)?u[y]=w(t,n.data):u[y]=w}}catch(I){r={error:I}}finally{try{s&&!s.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return u}function iV(e){return/^(done|error)\./.test(e)}function zI(e){return!!(e instanceof Promise||e!==null&&(yr(e)||typeof e=="object")&&yr(e.then))}function oV(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function aV(e,t){var n,r,i=Xn([[],[]],2),u=i[0],f=i[1];try{for(var s=Zn(e),y=s.next();!y.done;y=s.next()){var w=y.value;t(w)?u.push(w):f.push(w)}}catch(I){n={error:I}}finally{try{y&&!y.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[u,f]}function _k(e,t){return ip(e.states,function(n,r){if(n){var i=(ar(t)?void 0:t[r])||(n?n.current:void 0);if(i)return{current:i,states:_k(n,i)}}})}function sV(e,t){return{current:t,states:_k(e,t)}}function BI(e,t,n,r){var i=e&&n.reduce(function(u,f){var s,y,w=f.assignment,I={state:r,action:f,_event:t},A={};if(yr(w))A=w(u,t.data,I);else try{for(var R=Zn(Object.keys(w)),O=R.next();!O.done;O=R.next()){var z=O.value,V=w[z];A[z]=yr(V)?V(u,t.data,I):V}}catch(G){s={error:G}}finally{try{O&&!O.done&&(y=R.return)&&y.call(R)}finally{if(s)throw s.error}}return Object.assign({},u,A)},e);return i}var lV=function(){};function lf(e){return Array.isArray(e)}function yr(e){return typeof e=="function"}function ar(e){return typeof e=="string"}function xk(e,t){if(e)return ar(e)?{type:ab,name:e,predicate:t?t[e]:void 0}:yr(e)?{type:ab,name:e.name,predicate:e}:e}function uV(e){try{return"subscribe"in e&&yr(e.subscribe)}catch{return!1}}var Hu=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();_g={},_g[Hu]=function(){return this},_g[Symbol.observable]=function(){return this};function Xd(e){return!!e&&"__xstatenode"in e}function cV(e){return!!e&&typeof e.send=="function"}function rE(e,t){return ar(e)||typeof e=="number"?Lt({type:e},t):e}function Fi(e,t){if(!ar(e)&&"$$type"in e&&e.$$type==="scxml")return e;var n=rE(e);return Lt({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function td(e,t){var n=yk(t).map(function(r){return typeof r>"u"||typeof r=="string"||Xd(r)?{target:r,event:e}:Lt(Lt({},r),{event:e})});return n}function hV(e){if(!(e===void 0||e===eV))return vs(e)}function bk(e,t,n,r,i){var u=e.options.guards,f={state:i,cond:t,_event:r};if(t.type===ab)return((u==null?void 0:u[t.name])||t.predicate)(n,r.data,f);var s=u==null?void 0:u[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,f)}function wk(e){return typeof e=="string"?{type:e}:e}function sv(e,t,n){var r=function(){},i=typeof e=="object",u=i?e:null;return{next:((i?e.next:e)||r).bind(u),error:((i?e.error:t)||r).bind(u),complete:((i?e.complete:n)||r).bind(u)}}function xg(e,t){return"".concat(e,":invocation[").concat(t,"]")}var Ld=Fi({type:X8});function lb(e,t){return t&&t[e]||void 0}function am(e,t){var n;if(ar(e)||typeof e=="number"){var r=lb(e,t);yr(r)?n={type:e,exec:r}:r?n=r:n={type:e,exec:void 0}}else if(yr(e))n={type:e.name||e.toString(),exec:e};else{var r=lb(e.type,t);if(yr(r))n=Lt(Lt({},e),{exec:r});else if(r){var i=r.type||e.type;n=Lt(Lt(Lt({},r),e),{type:i})}else n=e}return n}var ju=function(e,t){if(!e)return[];var n=lf(e)?e:[e];return n.map(function(r){return am(r,t)})};function iE(e){var t=am(e);return Lt(Lt({id:ar(e)?e:t.id},t),{type:t.type})}function dV(e){return ar(e)?{type:Zd,event:e}:Ek(e,{to:gc.Internal})}function fV(e){return{type:Zd,_event:Fi(e.event)}}function Ek(e,t){return{to:t?t.to:void 0,type:Kd,event:yr(e)?e:rE(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:yr(e)?e.name:vk(e)}}function pV(e,t,n,r){var i={_event:n},u=Fi(yr(e.event)?e.event(t,n.data,i):e.event),f;if(ar(e.delay)){var s=r&&r[e.delay];f=yr(s)?s(t,n.data,i):s}else f=yr(e.delay)?e.delay(t,n.data,i):e.delay;var y=yr(e.to)?e.to(t,n.data,i):e.to;return Lt(Lt({},e),{to:y,_event:u,event:u.data,delay:f})}var mV=function(e,t,n){return Lt(Lt({},e),{value:ar(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},gV=function(e){return{type:fk,sendId:e}};function vV(e){var t=iE(e);return{type:_r.Start,activity:t,exec:void 0}}function yV(e){var t=yr(e)?e:iE(e);return{type:_r.Stop,activity:t,exec:void 0}}function _V(e,t,n){var r=yr(e.activity)?e.activity(t,n.data):e.activity,i=typeof r=="string"?{id:r}:r,u={type:_r.Stop,activity:i};return u}var xV=function(e){return{type:tE,assignment:e}};function bV(e,t){var n=t?"#".concat(t):"";return"".concat(_r.After,"(").concat(e,")").concat(n)}function bg(e,t){var n="".concat(_r.DoneState,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function lv(e,t){var n="".concat(_r.DoneInvoke,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function op(e,t){var n="".concat(_r.ErrorPlatform,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}var wV=function(e){var t,n,r=[];try{for(var i=Zn(e),u=i.next();!u.done;u=i.next())for(var f=u.value,s=0;s<f.length;){if(f[s].type===tE){r.push(f[s]),f.splice(s,1);continue}s++}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function gy(e,t,n,r,i,u,f){f===void 0&&(f=!1);var s=f?[]:wV(i),y=s.length?BI(n,r,s,t):n,w=f?[n]:void 0,I=[];function A(z){var V;switch(z.type){case Zd:return fV(z);case Kd:var G=pV(z,y,r,e.options.delays);return u&&G.to!==gc.Internal&&I.push(G),G;case pk:{var F=mV(z,y,r);return u==null||u(F,y,r),F}case J8:{var B=z,j=(V=B.conds.find(function(We){var Fe=xk(We.cond,e.options.guards);return!Fe||bk(e,Fe,y,r,u?void 0:t)}))===null||V===void 0?void 0:V.actions;if(!j)return[];var Y=Xn(gy(e,t,y,r,[ju(vs(j),e.options.actions)],u,f),2),Q=Y[0],J=Y[1];return y=J,w==null||w.push(y),Q}case Q8:{var j=z.get(y,r.data);if(!j)return[];var ee=Xn(gy(e,t,y,r,[ju(vs(j),e.options.actions)],u,f),2),se=ee[0],ge=ee[1];return y=ge,w==null||w.push(y),se}case eE:{var F=_V(z,y,r);return u==null||u(F,n,r),F}case tE:{y=BI(y,r,[z],u?void 0:t),w==null||w.push(y);break}default:var he=am(z,e.options.actions),Ee=he.exec;if(u)u(he,y,r);else if(Ee&&w){var De=w.length-1;he=Lt(Lt({},he),{exec:function(We){for(var Fe=[],tt=1;tt<arguments.length;tt++)Fe[tt-1]=arguments[tt];Ee.apply(void 0,Ir([w[De]],Xn(Fe),!1))}})}return he}}function R(z){var V,G,F=[];try{for(var B=Zn(z),j=B.next();!j.done;j=B.next()){var Y=j.value,Q=A(Y);Q&&(F=F.concat(Q))}}catch(J){V={error:J}}finally{try{j&&!j.done&&(G=B.return)&&G.call(B)}finally{if(V)throw V.error}}return I.forEach(function(J){u(J,y,r)}),I.length=0,F}var O=Br(i.map(R));return[O,y]}var FI=[],sd=function(e,t){FI.push(e);var n=t(e);return FI.pop(),n};function Sk(e){var t;return t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},t[Hu]=function(){return this},t}function EV(e,t,n,r){var i,u=wk(e.src),f=(i=t==null?void 0:t.options.services)===null||i===void 0?void 0:i[u.type],s=e.data?my(e.data,n,r):void 0,y=f?Tk(f,e.id,s):Sk(e.id);return y.meta=e,y}function Tk(e,t,n){var r=Sk(t);if(r.deferred=!0,Xd(e)){var i=r.state=sd(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return i}}return r}function SV(e){try{return typeof e.send=="function"}catch{return!1}}function TV(e){return SV(e)&&"id"in e}function IV(e){var t;return Lt((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},t[Hu]=function(){return this},t),e)}var vy=function(e){return e.type==="atomic"||e.type==="final"};function Ik(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function sm(e){return Ik(e).filter(function(t){return t.type!=="history"})}function Ak(e){var t=[e];return vy(e)?t:t.concat(Br(sm(e).map(Ak)))}function ap(e,t){var n,r,i,u,f,s,y,w,I=new Set(e),A=ub(I),R=new Set(t);try{for(var O=Zn(R),z=O.next();!z.done;z=O.next())for(var V=z.value,G=V.parent;G&&!R.has(G);)R.add(G),G=G.parent}catch(ge){n={error:ge}}finally{try{z&&!z.done&&(r=O.return)&&r.call(O)}finally{if(n)throw n.error}}var F=ub(R);try{for(var B=Zn(R),j=B.next();!j.done;j=B.next()){var V=j.value;if(V.type==="compound"&&(!F.get(V)||!F.get(V).length))A.get(V)?A.get(V).forEach(function(he){return R.add(he)}):V.initialStateNodes.forEach(function(he){return R.add(he)});else if(V.type==="parallel")try{for(var Y=(f=void 0,Zn(sm(V))),Q=Y.next();!Q.done;Q=Y.next()){var J=Q.value;R.has(J)||(R.add(J),A.get(J)?A.get(J).forEach(function(he){return R.add(he)}):J.initialStateNodes.forEach(function(he){return R.add(he)}))}}catch(he){f={error:he}}finally{try{Q&&!Q.done&&(s=Y.return)&&s.call(Y)}finally{if(f)throw f.error}}}}catch(ge){i={error:ge}}finally{try{j&&!j.done&&(u=B.return)&&u.call(B)}finally{if(i)throw i.error}}try{for(var ee=Zn(R),se=ee.next();!se.done;se=ee.next())for(var V=se.value,G=V.parent;G&&!R.has(G);)R.add(G),G=G.parent}catch(ge){y={error:ge}}finally{try{se&&!se.done&&(w=ee.return)&&w.call(ee)}finally{if(y)throw y.error}}return R}function Pk(e,t){var n=t.get(e);if(!n)return{};if(e.type==="compound"){var r=n[0];if(r){if(vy(r))return r.key}else return{}}var i={};return n.forEach(function(u){i[u.key]=Pk(u,t)}),i}function ub(e){var t,n,r=new Map;try{for(var i=Zn(e),u=i.next();!u.done;u=i.next()){var f=u.value;r.has(f)||r.set(f,[]),f.parent&&(r.has(f.parent)||r.set(f.parent,[]),r.get(f.parent).push(f))}}catch(s){t={error:s}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function AV(e,t){var n=ap([e],t);return Pk(e,ub(n))}function ld(e,t){return Array.isArray(e)?e.some(function(n){return n===t}):e instanceof Set?e.has(t):!1}function PV(e){return Ir([],Xn(new Set(Br(Ir([],Xn(e.map(function(t){return t.ownEvents})),!1)))),!1)}function uv(e,t){return t.type==="compound"?sm(t).some(function(n){return n.type==="final"&&ld(e,n)}):t.type==="parallel"?sm(t).every(function(n){return uv(e,n)}):!1}function OV(e){return e===void 0&&(e=[]),e.reduce(function(t,n){return n.meta!==void 0&&(t[n.id]=n.meta),t},{})}function UI(e){return new Set(Br(e.map(function(t){return t.tags})))}function Ok(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(ar(e)||ar(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(i){return Ok(e[i],t[i])})}function CV(e){return typeof e!="object"||e===null?!1:"value"in e&&"_event"in e}function RV(e,t){var n=e.exec,r=Lt(Lt({},e),{exec:n!==void 0?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return r}var Ua=function(){function e(t){var n=this,r;this.actions=[],this.activities=DI,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||DI,this.meta=OV(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(r=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&r!==void 0?r:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return PV(n.configuration)}})}return e.from=function(t,n){if(t instanceof e)return t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var r=Ld;return new e({value:t,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Ld;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(t,n){var r=this;if(t===void 0&&(t=this.value),n===void 0&&(n="."),ar(t))return[t];var i=Object.keys(t);return i.concat.apply(i,Ir([],Xn(i.map(function(u){return r.toStrings(t[u],n).map(function(f){return u+n+f})})),!1))},e.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;var n=t.tags;t.machine;var r=Qw(t,["configuration","transitions","tags","machine"]);return Lt(Lt({},r),{tags:Array.from(n)})},e.prototype.matches=function(t){return nE(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var n;lV(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,t);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},e}(),kV={deferEvents:!1},VI=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Lt(Lt({},kV),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},e}(),v1=new Map,LV=0,wg={bookId:function(){return"x:".concat(LV++)},register:function(e,t){return v1.set(e,t),e},get:function(e){return v1.get(e)},free:function(e){v1.delete(e)}};function oE(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function MV(){var e=oE();if(e&&"__xstate__"in e)return e.__xstate__}function DV(e){if(oE()){var t=MV();t&&t.register(e)}}function NV(e,t){t===void 0&&(t={});var n=e.initialState,r=new Set,i=[],u=!1,f=function(){if(!u){for(u=!0;i.length>0;){var w=i.shift();n=e.transition(n,w,y),r.forEach(function(I){return I.next(n)})}u=!1}},s=IV({id:t.id,send:function(w){i.push(w),f()},getSnapshot:function(){return n},subscribe:function(w,I,A){var R=sv(w,I,A);return r.add(R),R.next(n),{unsubscribe:function(){r.delete(R)}}}}),y={parent:t.parent,self:s,id:t.id||"anonymous",observers:r};return n=e.start?e.start(y):n,s}var zV={sync:!1,autoForward:!1},zi;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(zi||(zi={}));var BV=function(){function e(t,n){n===void 0&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=zi.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(I,A){if(lf(I))return r.batch(I),r.state;var R=Fi(rE(I,A));if(r.status===zi.Stopped)return r.state;if(r.status!==zi.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(R.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(R.data)));return r.scheduler.schedule(function(){r.forward(R);var O=r._nextState(R);r.update(O,R)}),r._state},this.sendTo=function(I,A,R){var O=r.parent&&(A===gc.Parent||r.parent.id===A),z=O?r.parent:ar(A)?r.children.get(A)||wg.get(A):cV(A)?A:void 0;if(!z){if(!O)throw new Error("Unable to send event to child '".concat(A,"' from service '").concat(r.id,"'."));return}if("machine"in z){if(r.status!==zi.Stopped||r.parent!==z||r.state.done){var V=Lt(Lt({},I),{name:I.name===Y8?"".concat(op(r.id)):I.name,origin:r.sessionId});!R&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([z,V]):z.send(V)}}else!R&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([z,I.data]):z.send(I.data)},this._exec=function(I,A,R,O){O===void 0&&(O=r.machine.options.actions);var z=I.exec||lb(I.type,O),V=yr(z)?z:z?z.exec:I.exec;if(V)try{return V(A,R.data,r.machine.config.predictableActionArguments?{action:I,_event:R}:{action:I,state:r.state,_event:R})}catch(De){throw r.parent&&r.parent.send({type:"xstate.error",data:De}),De}switch(I.type){case Kd:var G=I;if(typeof G.delay=="number"){r.defer(G);return}else G.to?r.sendTo(G._event,G.to,R===Ld):r.send(G._event);break;case fk:r.cancel(I.sendId);break;case ib:{if(r.status!==zi.Running)return;var F=I.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[F.id||F.type])break;if(F.type===_r.Invoke){var B=wk(F.src),j=r.machine.options.services?r.machine.options.services[B.type]:void 0,Y=F.id,Q=F.data,J="autoForward"in F?F.autoForward:!!F.forward;if(!j)return;var ee=Q?my(Q,A,R):void 0;if(typeof j=="string")return;var se=yr(j)?j(A,R.data,{data:ee,src:B,meta:F.meta}):j;if(!se)return;var ge=void 0;Xd(se)&&(se=ee?se.withContext(ee):se,ge={autoForward:J}),r.spawn(se,Y,ge)}else r.spawnActivity(F);break}case eE:{r.stopChild(I.activity.id);break}case pk:var he=I.label,Ee=I.value;he?r.logger(he,Ee):r.logger(Ee);break}};var i=Lt(Lt({},e.defaultOptions),n),u=i.clock,f=i.logger,s=i.parent,y=i.id,w=y!==void 0?y:t.id;this.id=w,this.logger=f,this.clock=u,this.parent=s,this.options=i,this.scheduler=new VI({deferEvents:this.options.deferEvents}),this.sessionId=wg.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:sd(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,n){var r,i;try{for(var u=Zn(t.actions),f=u.next();!f.done;f=u.next()){var s=f.value;this.exec(s,t,n)}}catch(y){r={error:y}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},e.prototype.update=function(t,n){var r,i,u,f,s,y,w,I,A=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||n===Ld)&&this.options.execute)this.execute(this.state);else for(var R=void 0;R=this._outgoingQueue.shift();)R[0].send(R[1]);if(this.children.forEach(function(ge){A.state.children[ge.id]=ge}),this.devTools&&this.devTools.send(n.data,t),t.event)try{for(var O=Zn(this.eventListeners),z=O.next();!z.done;z=O.next()){var V=z.value;V(t.event)}}catch(ge){r={error:ge}}finally{try{z&&!z.done&&(i=O.return)&&i.call(O)}finally{if(r)throw r.error}}try{for(var G=Zn(this.listeners),F=G.next();!F.done;F=G.next()){var V=F.value;V(t,t.event)}}catch(ge){u={error:ge}}finally{try{F&&!F.done&&(f=G.return)&&f.call(G)}finally{if(u)throw u.error}}try{for(var B=Zn(this.contextListeners),j=B.next();!j.done;j=B.next()){var Y=j.value;Y(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(ge){s={error:ge}}finally{try{j&&!j.done&&(y=B.return)&&y.call(B)}finally{if(s)throw s.error}}if(this.state.done){var Q=t.configuration.find(function(ge){return ge.type==="final"&&ge.parent===A.machine}),J=Q&&Q.doneData?my(Q.doneData,t.context,n):void 0;try{for(var ee=Zn(this.doneListeners),se=ee.next();!se.done;se=ee.next()){var V=se.value;V(lv(this.id,J))}}catch(ge){w={error:ge}}finally{try{se&&!se.done&&(I=ee.return)&&I.call(ee)}finally{if(w)throw w.error}}this._stop(),this._stopChildren()}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===zi.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,n,r){var i=this,u=sv(t,n,r);this.listeners.add(u.next),this.status!==zi.NotStarted&&u.next(this.state);var f=function(){i.doneListeners.delete(f),i.stopListeners.delete(f),u.complete()};return this.status===zi.Stopped?u.complete():(this.onDone(f),this.onStop(f)),{unsubscribe:function(){i.listeners.delete(u.next),i.doneListeners.delete(f),i.stopListeners.delete(f)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var n=this;if(this.status===zi.Running)return this;this.machine._init(),wg.register(this.sessionId,this),this.initialized=!0,this.status=zi.Running;var r=t===void 0?this.initialState:sd(this,function(){return CV(t)?n.machine.resolveState(t):n.machine.resolveState(Ua.from(t,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Ld)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(t){yr(t.stop)&&t.stop()}),this.children.clear()},e.prototype._stop=function(){var t,n,r,i,u,f,s,y,w,I;try{for(var A=Zn(this.listeners),R=A.next();!R.done;R=A.next()){var O=R.value;this.listeners.delete(O)}}catch(ee){t={error:ee}}finally{try{R&&!R.done&&(n=A.return)&&n.call(A)}finally{if(t)throw t.error}}try{for(var z=Zn(this.stopListeners),V=z.next();!V.done;V=z.next()){var O=V.value;O(),this.stopListeners.delete(O)}}catch(ee){r={error:ee}}finally{try{V&&!V.done&&(i=z.return)&&i.call(z)}finally{if(r)throw r.error}}try{for(var G=Zn(this.contextListeners),F=G.next();!F.done;F=G.next()){var O=F.value;this.contextListeners.delete(O)}}catch(ee){u={error:ee}}finally{try{F&&!F.done&&(f=G.return)&&f.call(G)}finally{if(u)throw u.error}}try{for(var B=Zn(this.doneListeners),j=B.next();!j.done;j=B.next()){var O=j.value;this.doneListeners.delete(O)}}catch(ee){s={error:ee}}finally{try{j&&!j.done&&(y=B.return)&&y.call(B)}finally{if(s)throw s.error}}if(!this.initialized)return this;this.initialized=!1,this.status=zi.Stopped,this._initialState=void 0;try{for(var Y=Zn(Object.keys(this.delayedEventsMap)),Q=Y.next();!Q.done;Q=Y.next()){var J=Q.value;this.clock.clearTimeout(this.delayedEventsMap[J])}}catch(ee){w={error:ee}}finally{try{Q&&!Q.done&&(I=Y.return)&&I.call(Y)}finally{if(w)throw w.error}}this.scheduler.clear(),this.scheduler=new VI({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var t=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r=Fi({type:"xstate.stop"}),i=sd(t,function(){var u=Br(Ir([],Xn(t.state.configuration),!1).sort(function(I,A){return A.order-I.order}).map(function(I){return ju(I.onExit,t.machine.options.actions)})),f=Xn(gy(t.machine,t.state,t.state.context,r,[u],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),s=f[0],y=f[1],w=new Ua({value:t.state.value,context:y,_event:r,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:s.filter(function(I){return I.type!==Zd&&(I.type!==Kd||!!I.to&&I.to!==gc.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return w.changed=!0,w});t.update(i,r),t._stopChildren(),wg.free(t.sessionId)}),this},e.prototype.batch=function(t){var n=this;if(!(this.status===zi.NotStarted&&this.options.deferEvents)){if(this.status!==zi.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(t.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,u,f=n.state,s=!1,y=[],w=function(O){var z=Fi(O);n.forward(z),f=sd(n,function(){return n.machine.transition(f,z,void 0,r||void 0)}),y.push.apply(y,Ir([],Xn(n.machine.config.predictableActionArguments?f.actions:f.actions.map(function(V){return RV(V,f)})),!1)),s=s||!!f.changed};try{for(var I=Zn(t),A=I.next();!A.done;A=I.next()){var R=A.value;w(R)}}catch(O){i={error:O}}finally{try{A&&!A.done&&(u=I.return)&&u.call(I)}finally{if(i)throw i.error}}f.changed=s,f.actions=y,n.update(f,Fi(t[t.length-1]))})}},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype._nextState=function(t,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=Fi(t);if(i.name.indexOf(MI)===0&&!this.state.nextEvents.some(function(f){return f.indexOf(MI)===0}))throw i.data.data;var u=sd(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return u},e.prototype.nextState=function(t){return this._nextState(t,!1)},e.prototype.forward=function(t){var n,r;try{for(var i=Zn(this.forwardTo),u=i.next();!u.done;u=i.next()){var f=u.value,s=this.children.get(f);if(!s)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(f,"'."));s.send(t)}}catch(y){n={error:y}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.defer=function(t){var n=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?n.sendTo(t._event,t.to,!0):n.send(t._event)},t.delay)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(t,n.context,n._event,r)},e.prototype.removeChild=function(t){var n;this.children.delete(t),this.forwardTo.delete(t),(n=this.state)===null||n===void 0||delete n.children[t]},e.prototype.stopChild=function(t){var n=this.children.get(t);n&&(this.removeChild(t),yr(n.stop)&&n.stop())},e.prototype.spawn=function(t,n,r){if(this.status!==zi.Running)return Tk(t,n);if(zI(t))return this.spawnPromise(Promise.resolve(t),n);if(yr(t))return this.spawnCallback(t,n);if(TV(t))return this.spawnActor(t,n);if(uV(t))return this.spawnObservable(t,n);if(Xd(t))return this.spawnMachine(t,Lt(Lt({},r),{id:n}));if(oV(t))return this.spawnBehavior(t,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;n===void 0&&(n={});var i=new e(t,Lt(Lt({},this.options),{parent:this,id:n.id||t.id})),u=Lt(Lt({},zV),n);u.sync&&i.onTransition(function(s){r.send(mk,{state:s,id:i.id})});var f=i;return this.children.set(i.id,f),u.autoForward&&this.forwardTo.add(i.id),i.onDone(function(s){r.removeChild(i.id),r.send(Fi(s,{origin:i.id}))}).start(),f},e.prototype.spawnBehavior=function(t,n){var r=NV(t,{id:n,parent:this});return this.children.set(n,r),r},e.prototype.spawnPromise=function(t,n){var r,i=this,u=!1,f;t.then(function(y){u||(f=y,i.removeChild(n),i.send(Fi(lv(n,y),{origin:n})))},function(y){if(!u){i.removeChild(n);var w=op(n,y);try{i.send(Fi(w,{origin:n}))}catch{i.devTools&&i.devTools.send(w,i.state),i.machine.strict&&i.stop()}}});var s=(r={id:n,send:function(){},subscribe:function(y,w,I){var A=sv(y,w,I),R=!1;return t.then(function(O){R||(A.next(O),!R&&A.complete())},function(O){R||A.error(O)}),{unsubscribe:function(){return R=!0}}},stop:function(){u=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return f}},r[Hu]=function(){return this},r);return this.children.set(n,s),s},e.prototype.spawnCallback=function(t,n){var r,i=this,u=!1,f=new Set,s=new Set,y,w=function(R){y=R,s.forEach(function(O){return O(R)}),!u&&i.send(Fi(R,{origin:n}))},I;try{I=t(w,function(R){f.add(R)})}catch(R){this.send(op(n,R))}if(zI(I))return this.spawnPromise(I,n);var A=(r={id:n,send:function(R){return f.forEach(function(O){return O(R)})},subscribe:function(R){var O=sv(R);return s.add(O.next),{unsubscribe:function(){s.delete(O.next)}}},stop:function(){u=!0,yr(I)&&I()},toJSON:function(){return{id:n}},getSnapshot:function(){return y}},r[Hu]=function(){return this},r);return this.children.set(n,A),A},e.prototype.spawnObservable=function(t,n){var r,i=this,u,f=t.subscribe(function(y){u=y,i.send(Fi(y,{origin:n}))},function(y){i.removeChild(n),i.send(Fi(op(n,y),{origin:n}))},function(){i.removeChild(n),i.send(Fi(lv(n),{origin:n}))}),s=(r={id:n,send:function(){},subscribe:function(y,w,I){return t.subscribe(y,w,I)},stop:function(){return f.unsubscribe()},getSnapshot:function(){return u},toJSON:function(){return{id:n}}},r[Hu]=function(){return this},r);return this.children.set(n,s),s},e.prototype.spawnActor=function(t,n){return this.children.set(n,t),t},e.prototype.spawnActivity=function(t){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(n){var r=n(this.state.context,t);this.spawnEffect(t.id,r)}},e.prototype.spawnEffect=function(t,n){var r;this.children.set(t,(r={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},r[Hu]=function(){return this},r))},e.prototype.attachDev=function(){var t=oE();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(Lt(Lt({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:Lt({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}DV(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Hu]=function(){return this},e.prototype.getSnapshot=function(){return this.status===zi.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,n){return setTimeout(t,n)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},e.interpret=Ck,e}();function Ck(e,t){var n=new BV(e,t);return n}function FV(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function Eg(e){return Lt(Lt({type:ob},e),{toJSON:function(){e.onDone,e.onError;var t=Qw(e,["onDone","onError"]);return Lt(Lt({},t),{type:ob,src:FV(e.src)})}})}var Sg="",cb="#",y1="*",nd={},rd=function(e){return e[0]===cb},UV=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},VV=function(){function e(t,n,r,i){r===void 0&&(r="context"in t?t.context:void 0);var u=this,f;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(UV(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:gk),this.id=this.config.id||Ir([this.machine.key],Xn(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(f=this.config.schema)!==null&&f!==void 0?f:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?ip(this.config.states,function(w,I){var A,R=new e(w,{},void 0,{parent:u,key:I});return Object.assign(u.idMap,Lt((A={},A[R.id]=R,A),R.idMap)),R}):nd;var s=0;function y(w){var I,A;w.order=s++;try{for(var R=Zn(Ik(w)),O=R.next();!O.done;O=R.next()){var z=O.value;y(z)}}catch(V){I={error:V}}finally{try{O&&!O.done&&(A=R.return)&&A.call(R)}finally{if(I)throw I.error}}}y(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(w){var I=w.event;return I===Sg}):Sg in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=vs(this.config.entry||this.config.onEntry).map(function(w){return am(w)}),this.onExit=vs(this.config.exit||this.config.onExit).map(function(w){return am(w)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=vs(this.config.invoke).map(function(w,I){var A,R;if(Xd(w)){var O=xg(u.id,I);return u.machine.options.services=Lt((A={},A[O]=w,A),u.machine.options.services),Eg({src:O,id:O})}else if(ar(w.src)){var O=w.id||xg(u.id,I);return Eg(Lt(Lt({},w),{id:O,src:w.src}))}else if(Xd(w.src)||yr(w.src)){var O=w.id||xg(u.id,I);return u.machine.options.services=Lt((R={},R[O]=w.src,R),u.machine.options.services),Eg(Lt(Lt({id:O},w),{src:O}))}else{var z=w.src;return Eg(Lt(Lt({id:xg(u.id,I)},w),{src:z}))}}),this.activities=vs(this.config.activities).concat(this.invoke).map(function(w){return iE(w)}),this.transition=this.transition.bind(this),this.tags=vs(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Ak(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,u=r.activities,f=r.guards,s=r.services,y=r.delays;return new e(this.config,{actions:Lt(Lt({},i),t.actions),activities:Lt(Lt({},u),t.activities),guards:Lt(Lt({},f),t.guards),services:Lt(Lt({},s),t.services),delays:Lt(Lt({},y),t.delays)},n??this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return yr(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:ip(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var n=t===Sg,r=this.transitions.filter(function(i){var u=i.eventType===t;return n?u:u||i.eventType===y1});return this.__cache.candidates[t]=r,r},e.prototype.getDelayedTransitions=function(){var t=this,n=this.config.after;if(!n)return[];var r=function(u,f){var s=yr(u)?"".concat(t.id,":delay[").concat(f,"]"):u,y=bV(s,t.id);return t.onEntry.push(Ek(y,{delay:u})),t.onExit.push(gV(y)),y},i=lf(n)?n.map(function(u,f){var s=r(u.delay,f);return Lt(Lt({},u),{event:s})}):Br(Object.keys(n).map(function(u,f){var s=n[u],y=ar(s)?{target:s}:s,w=isNaN(+u)?u:+u,I=r(w,f);return vs(y).map(function(A){return Lt(Lt({},A),{event:I,delay:w})})}));return i.map(function(u){var f=u.delay;return Lt(Lt({},t.formatTransition(u)),{delay:f})})},e.prototype.getStateNodes=function(t){var n,r=this;if(!t)return[];var i=t instanceof Ua?t.value:wp(t,this.delimiter);if(ar(i)){var u=this.getStateNode(i).initial;return u!==void 0?this.getStateNodes((n={},n[i]=u,n)):[this,this.states[i]]}var f=Object.keys(i),s=[this];return s.push.apply(s,Ir([],Xn(Br(f.map(function(y){return r.getStateNode(y).getStateNodes(i[y])}))),!1)),s},e.prototype.handles=function(t){var n=vk(t);return this.events.includes(n)},e.prototype.resolveState=function(t){var n=t instanceof Ua?t:Ua.create(t),r=Array.from(ap([],this.getStateNodes(n.value)));return new Ua(Lt(Lt({},n),{value:this.resolve(n.value),configuration:r,done:uv(r,this),tags:UI(r),machine:this.machine}))},e.prototype.transitionLeafNode=function(t,n,r){var i=this.getStateNode(t),u=i.next(n,r);return!u||!u.transitions.length?this.next(n,r):u},e.prototype.transitionCompoundNode=function(t,n,r){var i=Object.keys(t),u=this.getStateNode(i[0]),f=u._transition(t[i[0]],n,r);return!f||!f.transitions.length?this.next(n,r):f},e.prototype.transitionParallelNode=function(t,n,r){var i,u,f={};try{for(var s=Zn(Object.keys(t)),y=s.next();!y.done;y=s.next()){var w=y.value,I=t[w];if(I){var A=this.getStateNode(w),R=A._transition(I,n,r);R&&(f[w]=R)}}}catch(B){i={error:B}}finally{try{y&&!y.done&&(u=s.return)&&u.call(s)}finally{if(i)throw i.error}}var O=Object.keys(f).map(function(B){return f[B]}),z=Br(O.map(function(B){return B.transitions})),V=O.some(function(B){return B.transitions.length>0});if(!V)return this.next(n,r);var G=Br(O.map(function(B){return B.entrySet})),F=Br(Object.keys(f).map(function(B){return f[B].configuration}));return{transitions:z,entrySet:G,exitSet:Br(O.map(function(B){return B.exitSet})),configuration:F,source:n,actions:Br(Object.keys(f).map(function(B){return f[B].actions}))}},e.prototype._transition=function(t,n,r){return ar(t)?this.transitionLeafNode(t,n,r):Object.keys(t).length===1?this.transitionCompoundNode(t,n,r):this.transitionParallelNode(t,n,r)},e.prototype.getTransitionData=function(t,n){return this._transition(t.value,t,Fi(n))},e.prototype.next=function(t,n){var r,i,u=this,f=n.name,s=[],y=[],w;try{for(var I=Zn(this.getCandidates(f)),A=I.next();!A.done;A=I.next()){var R=A.value,O=R.cond,z=R.in,V=t.context,G=z?ar(z)&&rd(z)?t.matches(wp(this.getStateNodeById(z).path,this.delimiter)):nE(wp(z,this.delimiter),nV(this.path.slice(0,-2))(t.value)):!0,F=!1;try{F=!O||bk(this.machine,O,V,n,t)}catch(Q){throw new Error("Unable to evaluate guard '".concat(O.name||O.type,"' in transition for event '").concat(f,"' in state node '").concat(this.id,`':
`).concat(Q.message))}if(F&&G){R.target!==void 0&&(y=R.target),s.push.apply(s,Ir([],Xn(R.actions),!1)),w=R;break}}}catch(Q){r={error:Q}}finally{try{A&&!A.done&&(i=I.return)&&i.call(I)}finally{if(r)throw r.error}}if(w){if(!y.length)return{transitions:[w],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:s};var B=Br(y.map(function(Q){return u.getRelativeStateNodes(Q,t.historyValue)})),j=!!w.internal,Y=[];return j||y.forEach(function(Q){Y.push.apply(Y,Ir([],Xn(u.getExternalReentryNodes(Q)),!1))}),{transitions:[w],entrySet:Y,exitSet:j?[]:[this],configuration:B,source:t,actions:s}}},e.prototype.getExternalReentryNodes=function(t){for(var n=[],r=Xn(t.order>this.order?[t,this]:[this,t],2),i=r[0],u=r[1];i&&i!==u;)n.push(i),i=i.parent;return i!==u?[]:(n.push(u),n)},e.prototype.getActions=function(t,n,r,i,u,f,s){var y,w,I,A,R=this,O=ap([],f?this.getStateNodes(f.value):[this]);try{for(var z=Zn(t),V=z.next();!V.done;V=z.next()){var G=V.value;(!ld(O,G)||ld(r.entrySet,G.parent)&&!ld(r.entrySet,G))&&r.entrySet.push(G)}}catch(he){y={error:he}}finally{try{V&&!V.done&&(w=z.return)&&w.call(z)}finally{if(y)throw y.error}}try{for(var F=Zn(O),B=F.next();!B.done;B=F.next()){var G=B.value;(!ld(t,G)||ld(r.exitSet,G.parent))&&r.exitSet.push(G)}}catch(he){I={error:he}}finally{try{B&&!B.done&&(A=F.return)&&A.call(F)}finally{if(I)throw I.error}}var j=Br(r.entrySet.map(function(he){var Ee=[];if(he.type!=="final")return Ee;var De=he.parent;if(!De.parent)return Ee;Ee.push(bg(he.id,he.doneData),bg(De.id,he.doneData?my(he.doneData,i,u):void 0));var We=De.parent;return We.type==="parallel"&&sm(We).every(function(Fe){return uv(r.configuration,Fe)})&&Ee.push(bg(We.id)),Ee}));r.exitSet.sort(function(he,Ee){return Ee.order-he.order}),r.entrySet.sort(function(he,Ee){return he.order-Ee.order});var Y=new Set(r.entrySet),Q=new Set(r.exitSet),J=Array.from(Y).map(function(he){var Ee=he.onEntry,De=he.activities.map(function(We){return vV(We)});return ju(s?Ir(Ir([],Xn(Ee),!1),Xn(De),!1):Ir(Ir([],Xn(De),!1),Xn(Ee),!1),R.machine.options.actions)}).concat([j.map(dV)]),ee=Array.from(Q).map(function(he){return ju(Ir(Ir([],Xn(he.onExit),!1),Xn(he.activities.map(function(Ee){return yV(Ee)})),!1),R.machine.options.actions)}),se=ee.concat([ju(r.actions,this.machine.options.actions)]).concat(J);if(n){var ge=ju(Br(Ir([],Xn(t),!1).sort(function(he,Ee){return Ee.order-he.order}).map(function(he){return he.onExit})),this.machine.options.actions).filter(function(he){return he.type!==Zd&&(he.type!==Kd||!!he.to&&he.to!==gc.Internal)});return se.concat([ge])}return se},e.prototype.transition=function(t,n,r,i){t===void 0&&(t=this.initialState);var u=Fi(n),f;if(t instanceof Ua)f=r===void 0?t:this.resolveState(Ua.from(t,r));else{var s=ar(t)?this.resolve(py(this.getResolvedPath(t))):this.resolve(t),y=r??this.machine.context;f=this.resolveState(Ua.from(s,y))}if(this.strict&&!this.events.includes(u.name)&&!iV(u.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(u.name,"'"));var w=this._transition(f.value,f,u)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:f,actions:[]},I=ap([],this.getStateNodes(f.value)),A=w.configuration.length?ap(I,w.configuration):I;return w.configuration=Ir([],Xn(A),!1),this.resolveTransition(w,f,f.context,i,u)},e.prototype.resolveRaisedTransition=function(t,n,r,i){var u,f=t.actions;return t=this.transition(t,n,void 0,i),t._event=r,t.event=r.data,(u=t.actions).unshift.apply(u,Ir([],Xn(f),!1)),t},e.prototype.resolveTransition=function(t,n,r,i,u){var f,s,y,w,I=this;u===void 0&&(u=Ld);var A=t.configuration,R=!n||t.transitions.length>0,O=R?t.configuration:n?n.configuration:[],z=uv(O,this),V=R?AV(this.machine,A):void 0,G=n?n.historyValue?n.historyValue:t.source?this.machine.historyValue(n.value):void 0:void 0,F=this.getActions(new Set(O),z,t,r,u,n,i),B=n?Lt({},n.activities):{};try{for(var j=Zn(F),Y=j.next();!Y.done;Y=j.next()){var Q=Y.value;try{for(var J=(y=void 0,Zn(Q)),ee=J.next();!ee.done;ee=J.next()){var se=ee.value;se.type===ib?B[se.activity.id||se.activity.type]=se:se.type===eE&&(B[se.activity.id||se.activity.type]=!1)}}catch($e){y={error:$e}}finally{try{ee&&!ee.done&&(w=J.return)&&w.call(J)}finally{if(y)throw y.error}}}}catch($e){f={error:$e}}finally{try{Y&&!Y.done&&(s=j.return)&&s.call(j)}finally{if(f)throw f.error}}var ge=Xn(gy(this,n,r,u,F,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),he=ge[0],Ee=ge[1],De=Xn(aV(he,function($e){return $e.type===Zd||$e.type===Kd&&$e.to===gc.Internal}),2),We=De[0],Fe=De[1],tt=he.filter(function($e){var Je;return $e.type===ib&&((Je=$e.activity)===null||Je===void 0?void 0:Je.type)===ob}),Ye=tt.reduce(function($e,Je){return $e[Je.activity.id]=EV(Je.activity,I.machine,Ee,u),$e},n?Lt({},n.children):{}),pt=new Ua({value:V||n.value,context:Ee,_event:u,_sessionid:n?n._sessionid:null,historyValue:V?G?sV(G,V):void 0:n?n.historyValue:void 0,history:!V||t.source?n:void 0,actions:V?Fe:[],activities:V?B:n?n.activities:{},events:[],configuration:O,transitions:t.transitions,children:Ye,done:z,tags:UI(O),machine:this}),Pe=r!==Ee;pt.changed=u.name===mk||Pe;var et=pt.history;et&&delete et.history;var ze=!z&&(this._transient||A.some(function($e){return $e._transient}));if(!R&&(!ze||u.name===Sg))return pt;var rt=pt;if(!z)for(ze&&(rt=this.resolveRaisedTransition(rt,{type:K8},u,i));We.length;){var Be=We.shift();rt=this.resolveRaisedTransition(rt,Be._event,u,i)}var qe=rt.changed||(et?!!rt.actions.length||Pe||typeof et.value!=typeof rt.value||!Ok(rt.value,et.value):void 0);return rt.changed=qe,rt.history=et,rt},e.prototype.getStateNode=function(t){if(rd(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[t];if(!n)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return n},e.prototype.getStateNodeById=function(t){var n=rd(t)?t.slice(cb.length):t;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&rd(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var n=sb(t,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},e.prototype.resolve=function(t){var n,r=this;if(!t)return this.initialStateValue||nd;switch(this.type){case"parallel":return ip(this.initialStateValue,function(u,f){return u?r.getStateNode(f).resolve(t[f]||u):nd});case"compound":if(ar(t)){var i=this.getStateNode(t);return i.type==="parallel"||i.type==="compound"?(n={},n[t]=i.initialStateValue,n):t}return Object.keys(t).length?ip(t,function(u,f){return u?r.getStateNode(f).resolve(u):nd}):this.initialStateValue||{};default:return t||nd}},e.prototype.getResolvedPath=function(t){if(rd(t)){var n=this.machine.idMap[t.slice(cb.length)];if(!n)throw new Error("Unable to find state node '".concat(t,"'"));return n.path}return sb(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=NI(this.states,function(r){return r.initialStateValue||nd},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=vy(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,n){this._init();var r=this.getStateNodes(t);return this.resolveTransition({configuration:r,entrySet:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var n=this.config;ar(n.target)?t=rd(n.target)?py(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:t=n.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,n,r){return r===void 0&&(r=!0),r?t.type==="history"?t.resolveHistory(n):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(vy(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=av(this.initialStateValue);return Br(n.map(function(r){return t.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var n=Xn(t),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var u=this.getStateNode(r);if(u.type==="history")return u.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},e.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:NI(this.states,function(n,r){if(!t)return n.historyValue();var i=ar(t)?void 0:t[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},e.prototype.resolveHistory=function(t){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!t){var i=this.target;return i?Br(av(i).map(function(f){return r.getFromRelativePath(f)})):r.initialStateNodes}var u=rV(r.path,"states")(t).current;return ar(u)?[r.getStateNode(u)]:Br(av(u).map(function(f){return n.history==="deep"?r.getFromRelativePath(f):[r.states[f[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,n=Br(Object.keys(this.states).map(function(r){return t.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,n,r,i;if(this.__cache.events)return this.__cache.events;var u=this.states,f=new Set(this.ownEvents);if(u)try{for(var s=Zn(Object.keys(u)),y=s.next();!y.done;y=s.next()){var w=y.value,I=u[w];if(I.states)try{for(var A=(r=void 0,Zn(I.events)),R=A.next();!R.done;R=A.next()){var O=R.value;f.add("".concat(O))}}catch(z){r={error:z}}finally{try{R&&!R.done&&(i=A.return)&&i.call(A)}finally{if(r)throw r.error}}}}catch(z){t={error:z}}finally{try{y&&!y.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(f)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var n=this;if(t!==void 0)return t.map(function(r){if(!ar(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var u=i?n.key+r:r;if(n.parent)try{var f=n.parent.getStateNodeByPath(u);return f}catch(s){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(s.message))}else return n.getStateNodeByPath(u)})},e.prototype.formatTransition=function(t){var n=this,r=hV(t.target),i="internal"in t?t.internal:r?r.some(function(y){return ar(y)&&y[0]===n.delimiter}):!0,u=this.machine.options.guards,f=this.resolveTarget(r),s=Lt(Lt({},t),{actions:ju(vs(t.actions)),cond:xk(t.cond,u),target:f,source:this,internal:i,eventType:t.event,toJSON:function(){return Lt(Lt({},s),{target:s.target?s.target.map(function(y){return"#".concat(y.id)}):void 0,source:"#".concat(n.id)})}});return s},e.prototype.formatTransitions=function(){var t,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var u=this.config.on,f=y1,s=u[f],y=s===void 0?[]:s,w=Qw(u,[typeof f=="symbol"?f:f+""]);i=Br(Object.keys(w).map(function(B){var j=td(B,w[B]);return j}).concat(td(y1,y)))}var I=this.config.always?td("",this.config.always):[],A=this.config.onDone?td(String(bg(this.id)),this.config.onDone):[],R=Br(this.invoke.map(function(B){var j=[];return B.onDone&&j.push.apply(j,Ir([],Xn(td(String(lv(B.id)),B.onDone)),!1)),B.onError&&j.push.apply(j,Ir([],Xn(td(String(op(B.id)),B.onError)),!1)),j})),O=this.after,z=Br(Ir(Ir(Ir(Ir([],Xn(A),!1),Xn(R),!1),Xn(i),!1),Xn(I),!1).map(function(B){return vs(B).map(function(j){return r.formatTransition(j)})}));try{for(var V=Zn(O),G=V.next();!G.done;G=V.next()){var F=G.value;z.push(F)}}catch(B){t={error:B}}finally{try{G&&!G.done&&(n=V.return)&&n.call(V)}finally{if(t)throw t.error}}return z},e}();function HV(e,t,n){return n===void 0&&(n=e.context),new VV(e,t,n)}var jV=xV,hb;(function(e){e[e.Effect=1]="Effect",e[e.LayoutEffect=2]="LayoutEffect"})(hb||(hb={}));var uc=le.useLayoutEffect;function HI(e){var t=le.useRef();return t.current||(t.current={v:e()}),t.current.v}var $V=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(s){f={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return u},GV=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function qV(e,t){var n,r,i=$V([[],[]],2),u=i[0],f=i[1];try{for(var s=GV(e),y=s.next();!y.done;y=s.next()){var w=y.value;t(w)?u.push(w):f.push(w)}}catch(I){n={error:I}}finally{try{y&&!y.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[u,f]}var $f=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(s){f={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return u},jI=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))};function $I(e,t){var n=e.exec,r=n(t.context,t._event.data,{action:e,state:t,_event:t._event});r()}function WV(e){var t=le.useRef([]),n=le.useRef([]);uc(function(){var r=e.subscribe(function(i){var u,f;if(i.actions.length){var s=i.actions.filter(function(A){return typeof A.exec=="function"&&"__effect"in A.exec}),y=$f(qV(s,function(A){return A.exec.__effect===hb.Effect}),2),w=y[0],I=y[1];(u=t.current).push.apply(u,jI([],$f(w.map(function(A){return[A,i]})),!1)),(f=n.current).push.apply(f,jI([],$f(I.map(function(A){return[A,i]})),!1))}});return function(){r.unsubscribe()}},[]),uc(function(){for(;n.current.length;){var r=$f(n.current.shift(),2),i=r[0],u=r[1];$I(i,u)}}),le.useEffect(function(){for(;t.current.length;){var r=$f(t.current.shift(),2),i=r[0],u=r[1];$I(i,u)}})}var Ep=globalThis&&globalThis.__assign||function(){return Ep=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ep.apply(this,arguments)},ZV=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};globalThis&&globalThis.__read;function KV(e,t,n){if(typeof e=="object")return e;var r=function(){};return{next:e,error:t||r,complete:n||r}}function XV(e,t,n){t===void 0&&(t={});var r=HI(function(){return typeof e=="function"?e():e}),i=t.context,u=t.guards,f=t.actions,s=t.activities,y=t.services,w=t.delays,I=t.state,A=ZV(t,["context","guards","actions","activities","services","delays","state"]),R=HI(function(){var O={context:i,guards:u,actions:f,activities:s,services:y,delays:w},z=r.withConfig(O,function(){return Ep(Ep({},r.context),i)});return Ck(z,Ep({deferEvents:!0},A))});return uc(function(){var O;return n&&(O=R.subscribe(KV(n))),function(){O==null||O.unsubscribe()}},[n]),uc(function(){return R.start(I?Ua.create(I):void 0),function(){R.stop()}},[]),uc(function(){Object.assign(R.machine.options.actions,f),Object.assign(R.machine.options.guards,u),Object.assign(R.machine.options.activities,s),Object.assign(R.machine.options.services,y),Object.assign(R.machine.options.delays,w)},[f,u,s,y,w]),WV(R),R}var YV=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],f;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(s){f={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return u};globalThis&&globalThis.__spreadArray;function JV(e,t){t===void 0&&(t={});var n=le.useCallback(function(s){var y=s.changed===void 0&&Object.keys(s.children).length;(s.changed||y)&&f(s)},[]),r=XV(e,t,n),i=YV(le.useState(function(){var s=r.machine.initialState;return t.state?Ua.create(t.state):s}),2),u=i[0],f=i[1];return[u,r.send,r]}const Un={arr:Array.isArray,obj:e=>Object.prototype.toString.call(e)==="[object Object]",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0,nul:e=>e===null,set:e=>e instanceof Set,map:e=>e instanceof Map,equ(e,t){if(typeof e!=typeof t)return!1;if(Un.str(e)||Un.num(e))return e===t;if(Un.obj(e)&&Un.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;let n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return Un.und(n)?e===t:!0}};function QV(e,t){return t===void 0&&(t=!0),n=>(Un.arr(n)?n:Object.keys(n)).reduce((r,i)=>{const u=t?i[0].toLowerCase()+i.substring(1):i;return r[u]=e(u),r},e)}function eH(){const e=le.useState(!1),t=e[1];return le.useCallback(()=>t(r=>!r),[])}function Xc(e,t){return Un.und(e)||Un.nul(e)?t:e}function Tg(e){return Un.und(e)?[]:Un.arr(e)?e:[e]}function wd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Un.fun(e)?e(...n):e}function tH(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,lh(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function _1(e){const t=tH(e);if(Un.und(t))return Bt({to:t},e);const n=Object.keys(e).reduce((r,i)=>Un.und(t[i])?Bt({},r,{[i]:e[i]}):r,{});return Bt({to:t},n)}function nH(e,t){return t&&(Un.fun(t)?t(e):Un.obj(t)&&(t.current=e)),e}class ws{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(t){this.children.length===0&&this.attach(),this.children.push(t)}removeChild(t){const n=this.children.indexOf(t);this.children.splice(n,1),this.children.length===0&&this.detach()}}class db extends ws{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(t=>t instanceof ws&&t.addChild(this)),this.detach=()=>this.payload.forEach(t=>t instanceof ws&&t.removeChild(this))}}class Rk extends ws{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(t=>t instanceof ws&&t.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(t=>t instanceof ws&&t.removeChild(this))}getValue(t){t===void 0&&(t=!1);const n={};for(const r in this.payload){const i=this.payload[r];t&&!(i instanceof ws)||(n[r]=i instanceof ws?i[t?"getAnimatedValue":"getValue"]():i)}return n}getAnimatedValue(){return this.getValue(!0)}}let aE;function rH(e,t){aE={fn:e,transform:t}}let kk;function iH(e){kk=e}let Lk=e=>typeof window<"u"?window.requestAnimationFrame(e):-1,yy;function oH(e){yy=e}let Mk=()=>Date.now(),aH=e=>e.current,Dk;function sH(e){Dk=e}class lH extends Rk{constructor(t,n){super(),this.update=void 0,this.payload=t.style?Bt({},t,{style:Dk(t.style)}):t,this.update=n,this.attach()}}const uH=e=>Un.fun(e)&&!(e.prototype instanceof Zr.Component),cH=e=>le.forwardRef((n,r)=>{const i=eH(),u=le.useRef(!0),f=le.useRef(null),s=le.useRef(null),y=le.useCallback(R=>{const O=f.current,z=()=>{let V=!1;s.current&&(V=aE.fn(s.current,f.current.getAnimatedValue())),(!s.current||V===!1)&&i()};f.current=new lH(R,z),O&&O.detach()},[]);le.useEffect(()=>()=>{u.current=!1,f.current&&f.current.detach()},[]),le.useImperativeHandle(r,()=>aH(s)),y(n);const w=f.current.getValue();w.scrollTop,w.scrollLeft;const I=lh(w,["scrollTop","scrollLeft"]),A=uH(e)?void 0:R=>s.current=nH(R,r);return Zr.createElement(e,Bt({},I,{ref:A}))});let Sp=!1;const uh=new Set,Nk=()=>{if(!Sp)return!1;let e=Mk();for(let t of uh){let n=!1;for(let r=0;r<t.configs.length;r++){let i=t.configs[r],u,f;for(let s=0;s<i.animatedValues.length;s++){let y=i.animatedValues[s];if(y.done)continue;let w=i.fromValues[s],I=i.toValues[s],A=y.lastPosition,R=I instanceof ws,O=Array.isArray(i.initialVelocity)?i.initialVelocity[s]:i.initialVelocity;if(R&&(I=I.getValue()),i.immediate){y.setValue(I),y.done=!0;continue}if(typeof w=="string"||typeof I=="string"){y.setValue(I),y.done=!0;continue}if(i.duration!==void 0)A=w+i.easing((e-y.startTime)/i.duration)*(I-w),u=e>=y.startTime+i.duration;else if(i.decay)A=w+O/(1-.998)*(1-Math.exp(-(1-.998)*(e-y.startTime))),u=Math.abs(y.lastPosition-A)<.1,u&&(I=A);else{f=y.lastTime!==void 0?y.lastTime:e,O=y.lastVelocity!==void 0?y.lastVelocity:i.initialVelocity,e>f+64&&(f=e);let z=Math.floor(e-f);for(let B=0;B<z;++B){let j=-i.tension*(A-I),Y=-i.friction*O,Q=(j+Y)/i.mass;O=O+Q*1/1e3,A=A+O*1/1e3}let V=i.clamp&&i.tension!==0?w<I?A>I:A<I:!1,G=Math.abs(O)<=i.precision,F=i.tension!==0?Math.abs(I-A)<=i.precision:!0;u=V||G&&F,y.lastVelocity=O,y.lastTime=e}R&&!i.toValues[s].done&&(u=!1),u?(y.value!==I&&(A=I),y.done=!0):n=!0,y.setValue(A),y.lastPosition=A}t.props.onFrame&&(t.values[i.name]=i.interpolation.getValue())}t.props.onFrame&&t.props.onFrame(t.values),n||(uh.delete(t),t.stop(!0))}return uh.size?Lk(Nk):Sp=!1,Sp},hH=e=>{uh.has(e)||uh.add(e),Sp||(Sp=!0,Lk(Nk))},dH=e=>{uh.has(e)&&uh.delete(e)};function _y(e,t,n){if(typeof e=="function")return e;if(Array.isArray(e))return _y({range:e,output:t,extrapolate:n});if(yy&&typeof e.output[0]=="string")return yy(e);const r=e,i=r.output,u=r.range||[0,1],f=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",y=r.easing||(w=>w);return w=>{const I=pH(w,u);return fH(w,u[I],u[I+1],i[I],i[I+1],y,f,s,r.map)}}function fH(e,t,n,r,i,u,f,s,y){let w=y?y(e):e;if(w<t){if(f==="identity")return w;f==="clamp"&&(w=t)}if(w>n){if(s==="identity")return w;s==="clamp"&&(w=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?w=-w:n===1/0?w=w-t:w=(w-t)/(n-t),w=u(w),r===-1/0?w=-w:i===1/0?w=w+r:w=w*(i-r)+r,w)}function pH(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}class Yd extends db{constructor(t,n,r,i){super(),this.calc=void 0,this.payload=t instanceof db&&!(t instanceof Yd)?t.getPayload():Array.isArray(t)?t:[t],this.calc=_y(n,r,i)}getValue(){return this.calc(...this.payload.map(t=>t.getValue()))}updateConfig(t,n,r){this.calc=_y(t,n,r)}interpolate(t,n,r){return new Yd(this,t,n,r)}}const id=(e,t,n)=>e&&new Yd(e,t,n),mH={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};function zk(e,t){"update"in e?t.add(e):e.getChildren().forEach(n=>zk(n,t))}class fb extends ws{constructor(t){var n;super(),n=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(r,i){i===void 0&&(i=!0),n.value=r,i&&n.flush()},this.value=t,this.startPosition=t,this.lastPosition=t}flush(){this.animatedStyles.size===0&&zk(this,this.animatedStyles),this.animatedStyles.forEach(t=>t.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(t,n,r){return new Yd(this,t,n,r)}}class gH extends db{constructor(t){super(),this.payload=t.map(n=>new fb(n))}setValue(t,n){n===void 0&&(n=!0),Array.isArray(t)?t.length===this.payload.length&&t.forEach((r,i)=>this.payload[i].setValue(r,n)):this.payload.forEach(r=>r.setValue(t,n))}getValue(){return this.payload.map(t=>t.getValue())}interpolate(t,n){return new Yd(this,t,n)}}let vH=0,yH=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=vH++}update(t){if(!t)return this;const n=_1(t),r=n.delay,i=r===void 0?0:r,u=n.to,f=lh(n,["delay","to"]);if(Un.arr(u)||Un.fun(u))this.queue.push(Bt({},f,{delay:i,to:u}));else if(u){let s={};Object.entries(u).forEach(y=>{let w=y[0],I=y[1];const A=Bt({to:{[w]:I},delay:wd(i,w)},f),R=s[A.delay]&&s[A.delay].to;s[A.delay]=Bt({},s[A.delay],A,{to:Bt({},R,A.to)})}),this.queue=Object.values(s)}return this.queue=this.queue.sort((s,y)=>s.delay-y.delay),this.diff(f),this}start(t){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(i=>{let u=i.from,f=u===void 0?{}:u,s=i.to,y=s===void 0?{}:s;Un.obj(f)&&(this.merged=Bt({},f,this.merged)),Un.obj(y)&&(this.merged=Bt({},this.merged,y))});const n=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((i,u)=>{let f=i.delay,s=lh(i,["delay"]);const y=I=>{u===r.length-1&&n===this.guid&&I&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),t&&t()};let w=Un.arr(s.to)||Un.fun(s.to);f?setTimeout(()=>{n===this.guid&&(w?this.runAsync(s,y):this.diff(s).start(y))},f):w?this.runAsync(s,y):this.diff(s).start(y)})}else Un.fun(t)&&this.listeners.push(t),this.props.onStart&&this.props.onStart(),hH(this);return this}stop(t){return this.listeners.forEach(n=>n(t)),this.listeners=[],this}pause(t){return this.stop(!0),t&&dH(this),this}runAsync(t,n){var r=this;t.delay;let i=lh(t,["delay"]);const u=this.local;let f=Promise.resolve(void 0);if(Un.arr(i.to))for(let s=0;s<i.to.length;s++){const y=s,w=Bt({},i,_1(i.to[y]));Un.arr(w.config)&&(w.config=w.config[y]),f=f.then(()=>{if(u===this.guid)return new Promise(I=>this.diff(w).start(I))})}else if(Un.fun(i.to)){let s=0,y;f=f.then(()=>i.to(w=>{const I=Bt({},i,_1(w));if(Un.arr(I.config)&&(I.config=I.config[s]),s++,u===this.guid)return y=new Promise(A=>this.diff(I).start(A))},function(w){return w===void 0&&(w=!0),r.stop(w)}).then(()=>y))}f.then(n)}diff(t){this.props=Bt({},this.props,t);let n=this.props,r=n.from,i=r===void 0?{}:r,u=n.to,f=u===void 0?{}:u,s=n.config,y=s===void 0?{}:s,w=n.reverse,I=n.attach,A=n.reset,R=n.immediate;if(w){var O=[f,i];i=O[0],f=O[1]}this.merged=Bt({},i,this.merged,f),this.hasChanged=!1;let z=I&&I(this);if(this.animations=Object.entries(this.merged).reduce((V,G)=>{let F=G[0],B=G[1],j=V[F]||{};const Y=Un.num(B),Q=Un.str(B)&&!B.startsWith("#")&&!/\d/.test(B)&&!kk[B],J=Un.arr(B),ee=!Y&&!J&&!Q;let se=Un.und(i[F])?B:i[F],ge=Y||J||Q?B:1,he=wd(y,F);z&&(ge=z.animations[F].parent);let Ee=j.parent,De=j.interpolation,We=Tg(z?ge.getPayload():ge),Fe,tt=B;ee&&(tt=yy({range:[0,1],output:[B,B]})(1));let Ye=De&&De.getValue();const Pe=!Un.und(Ee)&&j.animatedValues.some(Be=>!Be.done),et=!Un.equ(tt,Ye),ze=!Un.equ(tt,j.previous),rt=!Un.equ(he,j.config);if(A||ze&&et||rt){if(Y||Q)Ee=De=j.parent||new fb(se);else if(J)Ee=De=j.parent||new gH(se);else if(ee){let Be=j.interpolation&&j.interpolation.calc(j.parent.value);Be=Be!==void 0&&!A?Be:se,j.parent?(Ee=j.parent,Ee.setValue(0,!1)):Ee=new fb(0);const qe={output:[Be,B]};j.interpolation?(De=j.interpolation,j.interpolation.updateConfig(qe)):De=Ee.interpolate(qe)}return We=Tg(z?ge.getPayload():ge),Fe=Tg(Ee.getPayload()),A&&!ee&&Ee.setValue(se,!1),this.hasChanged=!0,Fe.forEach(Be=>{Be.startPosition=Be.value,Be.lastPosition=Be.value,Be.lastVelocity=Pe?Be.lastVelocity:void 0,Be.lastTime=Pe?Be.lastTime:void 0,Be.startTime=Mk(),Be.done=!1,Be.animatedStyles.clear()}),wd(R,F)&&Ee.setValue(ee?ge:B,!1),Bt({},V,{[F]:Bt({},j,{name:F,parent:Ee,interpolation:De,animatedValues:Fe,toValues:We,previous:tt,config:he,fromValues:Tg(Ee.getValue()),immediate:wd(R,F),initialVelocity:Xc(he.velocity,0),clamp:Xc(he.clamp,!1),precision:Xc(he.precision,.01),tension:Xc(he.tension,170),friction:Xc(he.friction,26),mass:Xc(he.mass,1),duration:he.duration,easing:Xc(he.easing,Be=>Be),decay:he.decay})})}else return et?V:(ee&&(Ee.setValue(1,!1),De.updateConfig({output:[tt,tt]})),Ee.done=!0,this.hasChanged=!0,Bt({},V,{[F]:Bt({},V[F],{previous:tt})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let V in this.animations)this.interpolations[V]=this.animations[V].interpolation,this.values[V]=this.animations[V].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}};const _H=(e,t)=>{const n=le.useRef(!1),r=le.useRef(),i=Un.fun(t),u=le.useMemo(()=>{r.current&&(r.current.map(A=>A.destroy()),r.current=void 0);let I;return[new Array(e).fill().map((A,R)=>{const O=new yH,z=i?wd(t,R,O):t[R];return R===0&&(I=z.ref),O.update(z),I||O.start(),O}),I]},[e]),f=u[0],s=u[1];r.current=f,le.useImperativeHandle(s,()=>({start:()=>Promise.all(r.current.map(I=>new Promise(A=>I.start(A)))),stop:I=>r.current.forEach(A=>A.stop(I)),get controllers(){return r.current}}));const y=le.useMemo(()=>I=>r.current.map((A,R)=>{A.update(i?wd(I,R,A):I[R]),s||A.start()}),[e]);le.useEffect(()=>{n.current?i||y(t):s||r.current.forEach(I=>I.start())}),le.useEffect(()=>(n.current=!0,()=>r.current.forEach(I=>I.destroy())),[]);const w=r.current.map(I=>I.getValues());return i?[w,y,I=>r.current.forEach(A=>A.pause(I))]:w},xH=e=>{const t=Un.fun(e),n=_H(1,t?e:[e]),r=n[0],i=n[1],u=n[2];return t?[r[0],i,u]:r};class bH extends Rk{constructor(t){t===void 0&&(t={}),super(),t.transform&&!(t.transform instanceof ws)&&(t=aE.transform(t)),this.payload=t}}const xy={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ss="[-+]?\\d*\\.?\\d+",by=Ss+"%";function C_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const wH=new RegExp("rgb"+C_(Ss,Ss,Ss)),EH=new RegExp("rgba"+C_(Ss,Ss,Ss,Ss)),SH=new RegExp("hsl"+C_(Ss,by,by)),TH=new RegExp("hsla"+C_(Ss,by,by,Ss)),IH=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,AH=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,PH=/^#([0-9a-fA-F]{6})$/,OH=/^#([0-9a-fA-F]{8})$/;function CH(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=PH.exec(e))?parseInt(t[1]+"ff",16)>>>0:xy.hasOwnProperty(e)?xy[e]:(t=wH.exec(e))?(od(t[1])<<24|od(t[2])<<16|od(t[3])<<8|255)>>>0:(t=EH.exec(e))?(od(t[1])<<24|od(t[2])<<16|od(t[3])<<8|WI(t[4]))>>>0:(t=IH.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=OH.exec(e))?parseInt(t[1],16)>>>0:(t=AH.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=SH.exec(e))?(GI(qI(t[1]),Ig(t[2]),Ig(t[3]))|255)>>>0:(t=TH.exec(e))?(GI(qI(t[1]),Ig(t[2]),Ig(t[3]))|WI(t[4]))>>>0:null}function x1(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function GI(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,u=x1(i,r,e+1/3),f=x1(i,r,e),s=x1(i,r,e-1/3);return Math.round(u*255)<<24|Math.round(f*255)<<16|Math.round(s*255)<<8}function od(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function qI(e){return(parseFloat(e)%360+360)%360/360}function WI(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Ig(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ZI(e){let t=CH(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,u=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${u})`}const Ag=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,RH=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,kH=new RegExp(`(${Object.keys(xy).join("|")})`,"g"),LH=e=>{const t=e.output.map(i=>i.replace(RH,ZI)).map(i=>i.replace(kH,ZI)),n=t[0].match(Ag).map(()=>[]);t.forEach(i=>{i.match(Ag).forEach((u,f)=>n[f].push(+u))});const r=t[0].match(Ag).map((i,u)=>_y(Bt({},e,{output:n[u]})));return i=>{let u=0;return t[0].replace(Ag,()=>r[u++](i)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(f,s,y,w,I)=>`rgba(${Math.round(s)}, ${Math.round(y)}, ${Math.round(w)}, ${I})`)}};let Tp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const MH=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),DH=["Webkit","Ms","Moz","O"];Tp=Object.keys(Tp).reduce((e,t)=>(DH.forEach(n=>e[MH(n,t)]=e[t]),e),Tp);function NH(e,t,n){return t==null||typeof t=="boolean"||t===""?"":!n&&typeof t=="number"&&t!==0&&!(Tp.hasOwnProperty(e)&&Tp[e])?t+"px":(""+t).trim()}const KI={};sH(e=>new bH(e));oH(LH);iH(xy);rH((e,t)=>{if(e.nodeType&&e.setAttribute!==void 0){const i=t.style,u=t.children,f=t.scrollTop,s=t.scrollLeft,y=lh(t,["style","children","scrollTop","scrollLeft"]),w=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter";f!==void 0&&(e.scrollTop=f),s!==void 0&&(e.scrollLeft=s),u!==void 0&&(e.textContent=u);for(let I in i)if(i.hasOwnProperty(I)){var n=I.indexOf("--")===0,r=NH(I,i[I],n);I==="float"&&(I="cssFloat"),n?e.style.setProperty(I,r):e.style[I]=r}for(let I in y){const A=w?I:KI[I]||(KI[I]=I.replace(/([A-Z])/g,R=>"-"+R.toLowerCase()));typeof e.getAttribute(A)<"u"&&e.setAttribute(A,y[I])}return}else return!1},e=>e);const zH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],BH=QV(cH,!1),FH=BH(zH);function XI(e,t){return e.map(function(n,r){return n+t[r]})}function Bk(e,t){return e.map(function(n,r){return n-t[r]})}function pb(e){return Math.hypot.apply(Math,e)}function UH(e,t,n){var r=pb(t),i=r===0?0:1/r,u=n===0?0:1/n,f=u*r,s=t.map(function(I){return u*I}),y=t.map(function(I){return i*I}),w=pb(e);return{velocities:s,velocity:f,distance:w,direction:y}}function mb(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function VH(e,t,n){return Math.max(t,Math.min(e,n))}function HH(e,t){return Math.pow(e,t*5)}function YI(e,t,n){return t===0||Math.abs(t)===1/0?HH(e,n):e*t*n/(t+n*e)}function Ip(e,t,n,r){return r===void 0&&(r=.15),r===0?VH(e,t,n):e<t?-YI(t-e,n-t,r)+t:e>n?+YI(e-n,n-t,r)+n:e}function JI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jH(e,t,n){return t&&JI(e.prototype,t),n&&JI(e,n),e}function Ao(){return Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(this,arguments)}function Fk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function $H(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Pg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GH(e,t){if(e){if(typeof e=="string")return QI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(e,t)}}function QI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R_(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=GH(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}function Uk(){}function Vk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?Uk:t.length===1?t[0]:function(){for(var r,i=R_(t),u;!(u=i()).done;){var f=u.value;r=f.apply(this,arguments)||r}return r}}function $u(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function Og(e){if(typeof e=="function"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}else return e}function sE(e,t){e===void 0&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var u=i[r],f=u[0],s=u[1];switch(typeof s){case"function":n[f]=s.call(n,e[f],f,e);break;case"object":n[f]=sE(e[f],s);break;case"boolean":s&&(n[f]=e[f]);break}}return n}var qH=180,WH=.15,ZH=.5,KH=60,XH={threshold:function(t){return t===void 0&&(t=0),$u(t)},rubberband:function(t){switch(t===void 0&&(t=0),t){case!0:return $u(WH);case!1:return $u(0);default:return $u(t)}},enabled:function(t){return t===void 0&&(t=!0),t},triggerAllEvents:function(t){return t===void 0&&(t=!1),t},initial:function(t){return t===void 0&&(t=0),typeof t=="function"?t:$u(t)}},Hk=Ao({},XH,{axis:!0,lockDirection:function(t){return t===void 0&&(t=!1),t},bounds:function(t){if(t===void 0&&(t={}),typeof t=="function")return function(A){return Hk.bounds(t(A))};var n=t,r=n.left,i=r===void 0?-1/0:r,u=n.right,f=u===void 0?1/0:u,s=n.top,y=s===void 0?-1/0:s,w=n.bottom,I=w===void 0?1/0:w;return[[i,f],[y,I]]}}),YH=typeof window<"u"&&window.document&&window.document.createElement,JH={enabled:function(t){return t===void 0&&(t=!0),t},domTarget:!0,window:function(e){function t(n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return e===void 0&&(e=YH?window:void 0),e}),eventOptions:function(t){var n=t===void 0?{}:t,r=n.passive,i=r===void 0?!0:r,u=n.capture,f=u===void 0?!1:u;return{passive:i,capture:f}}},QH=Ao({},Hk,{threshold:function(t,n,r){var i=r.filterTaps,u=i===void 0?!1:i,f=r.lockDirection,s=f===void 0?!1:f,y=r.axis,w=y===void 0?void 0:y,I=$u(t,u?3:s||w?1:0);return this.filterTaps=u||I[0]+I[1]>0,I},swipeVelocity:function(t){return t===void 0&&(t=ZH),$u(t)},swipeDistance:function(t){return t===void 0&&(t=KH),$u(t)},delay:function(t){switch(t===void 0&&(t=0),t){case!0:return qH;case!1:return 0;default:return t}}});function ej(e){return e===void 0&&(e={}),sE(e,JH)}function tj(e){return e===void 0&&(e={}),sE(e,QH)}function nj(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,u=$H(e,["domTarget","eventOptions","window","enabled"]),f=ej({domTarget:t,eventOptions:n,window:r,enabled:i});return f.drag=tj(u),f}function Gf(e){return Ao({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Uk,canceled:!1,memo:void 0,args:void 0},e)}function jk(){var e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},t=Gf({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),n=Gf({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=Gf({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=Gf({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),u=Gf({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:n,wheel:r,move:i,scroll:u}}var th=new Map,rj=function(){function e(n,r){var i=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(u,f){var s;f===void 0&&(f=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var y=arguments.length,w=new Array(y>2?y-2:0),I=2;I<y;I++)w[I-2]=arguments[I];i.controller.timeouts[i.stateKey]=(s=window).setTimeout.apply(s,[u,f].concat(w))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(u){if(u===void 0&&(u=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!u&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var f=i.state.active,s=i.state._active;i.state.active=s,i.state.first=s&&!f,i.state.last=f&&!s,i.controller.state.shared[i.ingKey]=s}var y=Ao({},i.controller.state.shared,i.state,i.mapStateValues(i.state)),w=i.handler(y);return i.state.memo=w!==void 0?w:i.state.memo,i.state._active||i.clean(),y}}var t=e.prototype;return t.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},t.updateGestureState=function(r){Object.assign(this.state,r)},t.checkIntentionality=function(r,i){return{_intentional:r,_blocked:!1}},t.getMovement=function(r){var i=this.config,u=i.initial,f=i.bounds,s=i.rubberband,y=i.threshold,w=this.state,I=w._bounds,A=w._initial,R=w._active,O=w._intentional,z=w.lastOffset,V=w.movement,G=this.getInternalMovement(r,this.state),F=O[0]===!1?eA(G[0],y[0]):O[0],B=O[1]===!1?eA(G[1],y[1]):O[1],j=this.checkIntentionality([F,B],G);if(j._blocked)return Ao({},j,{_movement:G,delta:[0,0]});var Y=j._intentional,Q=G,J,ee;if(Y[0]!==!1&&O[0]===!1&&(ee=Og(u,this.state),J=Og(f,this.state),A[0]=ee[0],I[0]=J[0]),Y[1]!==!1&&O[1]===!1){var se,ge;ee=(se=ee)!=null?se:Og(u,this.state),J=(ge=J)!=null?ge:Og(f,this.state),A[1]=ee[1],I[1]=J[1]}var he=[Y[0]!==!1?G[0]-Y[0]:A[0],Y[1]!==!1?G[1]-Y[1]:A[1]],Ee=XI(he,z),De=R?s:[0,0];return he=tA(I,XI(he,A),De),Ao({},j,{intentional:Y[0]!==!1||Y[1]!==!1,_initial:A,_movement:Q,movement:he,values:r,offset:tA(I,Ee,De),delta:Bk(he,V)})},t.clean=function(){this.clearTimeout()},jH(e,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),e}();function eA(e,t){return Math.abs(e)>=t?mb(e)*t:!1}function tA(e,t,n){var r=t[0],i=t[1],u=n[0],f=n[1],s=e[0],y=s[0],w=s[1],I=e[1],A=I[0],R=I[1];return[Ip(r,y,w,u),Ip(i,A,R,f)]}function b1(e,t,n){var r=e.state,i=e.args,u=t.timeStamp,f=t.type,s=r.values,y=n?0:u-r.startTime;return{_lastEventType:f,event:t,timeStamp:u,elapsedTime:y,args:i,previous:s}}function ij(e,t,n){var r=e.state.offset,i=n.timeStamp;return Ao({},jk()[e.stateKey],{_active:!0,values:t,initial:t,offset:r,lastOffset:r,startTime:i})}function oj(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return e.call.apply(e,[this,Ao({},t,{event:n})].concat(i))}}var aj=function(t){var n=this;this.classes=t,this.bind=function(){for(var r={},i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];for(var s=R_(n.classes),y;!(y=s()).done;){var w=y.value;new w(n,u).addBindings(r)}for(var I=0,A=Object.entries(n.nativeRefs);I<A.length;I++){var R=A[I],O=R[0],z=R[1];gb(r,O,oj(z,Ao({},n.state.shared,{args:u})))}return n.config.domTarget?cj(n,r):hj(n,r)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=Gk(n.config),i=n.config.eventOptions;r&&Im(r,$k(n.domListeners),i),Object.values(n.timeouts).forEach(clearTimeout),sj(n)},this.state=jk(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function sj(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(n){for(var u in i){var f=i[u];Im(n,f,r)}e.windowListeners={}}}function lj(e,t){var n=e.config,r=e.windowListeners;n.window&&(Im(n.window,r[t],n.eventOptions),delete r[t])}function uj(e,t,n){var r=e.config,i=e.windowListeners;n===void 0&&(n=[]),r.window&&(Im(r.window,i[t],r.eventOptions),qk(r.window,i[t]=n,r.eventOptions))}function cj(e,t){var n=e.config,r=e.domListeners,i=Gk(n);if(!i)throw new Error("domTarget must be defined");var u=n.eventOptions;Im(i,$k(r),u);for(var f=0,s=Object.entries(t);f<s.length;f++){var y=s[f],w=y[0],I=y[1],A=w.slice(2).toLowerCase();r.push([A,Vk.apply(void 0,I)])}qk(i,r,u)}function hj(e,t){for(var n=e.config,r={},i=n.eventOptions.capture?"Capture":"",u=0,f=Object.entries(t);u<f.length;u++){var s=f[u],y=s[0],w=s[1],I=Array.isArray(w)?w:[w],A=y+i;r[A]=Vk.apply(void 0,I)}return r}function $k(e){return e===void 0&&(e=[]),e.splice(0,e.length)}function Gk(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function gb(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function qk(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={});for(var r=R_(t),i;!(i=r()).done;){var u=i.value,f=u[0],s=u[1];e.addEventListener(f,s,n)}}function Im(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={});for(var r=R_(t),i;!(i=r()).done;){var u=i.value,f=u[0],s=u[1];e.removeEventListener(f,s,n)}}function dj(e,t,n){n===void 0&&(n={});var r=pj(e),i=Zr.useMemo(function(){return new aj(r)},[]);return i.config=t,i.handlers=e,i.nativeRefs=n,Zr.useEffect(i.effect,[]),i.config.domTarget?fj:i.bind}function fj(){}function pj(e){var t=new Set;return e.drag&&t.add(th.get("drag")),e.wheel&&t.add(th.get("wheel")),e.scroll&&t.add(th.get("scroll")),e.move&&t.add(th.get("move")),e.pinch&&t.add(th.get("pinch")),e.hover&&t.add(th.get("hover")),t}var mj=function(e){Fk(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.getInternalMovement=function(i,u){return Bk(i,u.initial)},n.checkIntentionality=function(i,u){if(i[0]===!1&&i[1]===!1)return{_intentional:i,axis:this.state.axis};var f=u.map(Math.abs),s=f[0],y=f[1],w=this.state.axis||(s>y?"x":s<y?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:i,_blocked:!1,axis:w}:w?this.config.axis&&w!==this.config.axis?{_intentional:i,_blocked:!0,axis:w}:(i[w==="x"?1:0]=!1,{_intentional:i,_blocked:!1,axis:w}):{_intentional:[!1,!1],_blocked:!1,axis:w}},n.getKinematics=function(i,u){var f=this.getMovement(i);if(!f._blocked){var s=u.timeStamp-this.state.timeStamp;Object.assign(f,UH(f.movement,f.delta,s))}return f},n.mapStateValues=function(i){return{xy:i.values,vxvy:i.velocities}},t}(rj);function Wk(e){if("touches"in e){var t=e.targetTouches,n=e.changedTouches;return t.length>0?t:n}return null}function nA(e){var t="buttons"in e?e.buttons:0,n=Wk(e),r=n&&n.length||0,i=r>0||t>0,u=e.shiftKey,f=e.altKey,s=e.metaKey,y=e.ctrlKey;return{touches:r,down:i,buttons:t,shiftKey:u,altKey:f,metaKey:s,ctrlKey:y}}function rA(e){var t=Wk(e),n=t?t[0]:e,r=n.clientX,i=n.clientY;return[r,i]}var gj=3,vj=220,yj=function(e){Fk(t,e);function t(){var r;return r=e.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.onDragStart=function(i){!r.enabled||r.state._active||(uj(r.controller,r.stateKey,[["pointermove",r.onDragChange],["pointerup",r.onDragEnd],["pointercancel",r.onDragEnd]]),r.updateGestureState({_pointerId:i.pointerId}),r.config.delay>0?(r.state._delayedEvent=!0,"persist"in i&&typeof i.persist=="function"&&i.persist(),r.setTimeout(r.startDrag.bind(Pg(r)),r.config.delay,i)):r.startDrag(i))},r.onDragChange=function(i){if(!r.state.canceled&&i.pointerId===r.state._pointerId){if(!r.state._active){r.state._delayedEvent&&(r.clearTimeout(),r.startDrag(i));return}var u=nA(i);if(!u.down){r.onDragEnd(i);return}r.updateSharedState(u);var f=rA(i),s=r.getKinematics(f,i),y=b1(Pg(r),i),w=r.state._isTap,I=pb(s._movement);w&&I>=gj&&(w=!1),r.updateGestureState(Ao({},y,s,{_isTap:w})),r.fireGestureHandler()}},r.onDragEnd=function(i){if(i.pointerId===r.state._pointerId){r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0});var u=r.state._isTap,f=r.state.velocities,s=f[0],y=f[1],w=r.state.movement,I=w[0],A=w[1],R=r.state._intentional,O=R[0],z=R[1],V=r.config.swipeVelocity,G=V[0],F=V[1],B=r.config.swipeDistance,j=B[0],Y=B[1],Q=Ao({},b1(Pg(r),i),r.getMovement(r.state.values)),J=[0,0];Q.elapsedTime<vj&&(O!==!1&&Math.abs(s)>G&&Math.abs(I)>j&&(J[0]=mb(s)),z!==!1&&Math.abs(y)>F&&Math.abs(A)>Y&&(J[1]=mb(y))),r.updateGestureState(Ao({},Q,{tap:u,swipe:J})),r.fireGestureHandler(u===!0)}},r.clean=function(){e.prototype.clean.call(Pg(r)),r.state._delayedEvent=!1,lj(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0}),r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return r.fireGestureHandler()}))},r.onClick=function(i){r.state._isTap||i.stopPropagation()},r}var n=t.prototype;return n.startDrag=function(i){var u=rA(i);this.updateSharedState(nA(i)),this.updateGestureState(Ao({},ij(this,u,i),b1(this,i,!0),{_pointerId:i.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(u)),this.fireGestureHandler()},n.addBindings=function(i){if(gb(i,"onPointerDown",this.onDragStart),this.config.filterTaps){var u=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";gb(i,u,this.onClick)}},t}(mj);function _j(e,t){var n,r=[],i,u=!1;function f(){for(var s=arguments.length,y=new Array(s),w=0;w<s;w++)y[w]=arguments[w];return u&&n===this&&t(y,r)||(i=e.apply(this,y),u=!0,n=this,r=y),i}return f}function cv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!cv(e[r],t[r]))return!1;return!0}var u;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(u=e.entries();!(r=u.next()).done;)if(!t.has(r.value[0]))return!1;for(u=e.entries();!(r=u.next()).done;)if(!cv(r.value[1],t.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(u=e.entries();!(r=u.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!(i[r]==="_owner"&&e.$$typeof)&&!cv(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}function xj(e,t){try{return cv(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function bj(e,t){t===void 0&&(t={}),th.set("drag",yj);var n=le.useRef();return n.current||(n.current=_j(nj,xj)),dj({drag:e},n.current(t))}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Zk=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],wy=Zk.join(","),Kk=typeof Element>"u",xh=Kk?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,vb=!Kk&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},Xk=function(t,n,r){var i=Array.prototype.slice.apply(t.querySelectorAll(wy));return n&&xh.call(t,wy)&&i.unshift(t),i=i.filter(r),i},Yk=function e(t,n,r){for(var i=[],u=Array.from(t);u.length;){var f=u.shift();if(f.tagName==="SLOT"){var s=f.assignedElements(),y=s.length?s:f.children,w=e(y,!0,r);r.flatten?i.push.apply(i,w):i.push({scope:f,candidates:w})}else{var I=xh.call(f,wy);I&&r.filter(f)&&(n||!t.includes(f))&&i.push(f);var A=f.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(f),R=!r.shadowRootFilter||r.shadowRootFilter(f);if(A&&R){var O=e(A===!0?f.children:A.children,!0,r);r.flatten?i.push.apply(i,O):i.push({scope:f,candidates:O})}else u.unshift.apply(u,f.children)}}return i},Jk=function(t,n){return t.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t.isContentEditable)&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},wj=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Qk=function(t){return t.tagName==="INPUT"},Ej=function(t){return Qk(t)&&t.type==="hidden"},Sj=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Tj=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Ij=function(t){if(!t.name)return!0;var n=t.form||vb(t),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(f){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",f.message),!1}var u=Tj(i,t.form);return!u||u===t},Aj=function(t){return Qk(t)&&t.type==="radio"},Pj=function(t){return Aj(t)&&!Ij(t)},iA=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Oj=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=xh.call(t,"details>summary:first-of-type"),f=u?t.parentElement:t;if(xh.call(f,"details:not([open]) *"))return!0;var s=vb(t).host,y=(s==null?void 0:s.ownerDocument.contains(s))||t.ownerDocument.contains(t);if(!r||r==="full"){if(typeof i=="function"){for(var w=t;t;){var I=t.parentElement,A=vb(t);if(I&&!I.shadowRoot&&i(I)===!0)return iA(t);t.assignedSlot?t=t.assignedSlot:!I&&A!==t.ownerDocument?t=A.host:t=I}t=w}if(y)return!t.getClientRects().length}else if(r==="non-zero-area")return iA(t);return!1},Cj=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return xh.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},Ey=function(t,n){return!(n.disabled||Ej(n)||Oj(n,t)||Sj(n)||Cj(n))},yb=function(t,n){return!(Pj(n)||Jk(n)<0||!Ey(t,n))},Rj=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},kj=function e(t){var n=[],r=[];return t.forEach(function(i,u){var f=!!i.scope,s=f?i.scope:i,y=Jk(s,f),w=f?e(i.candidates):s;y===0?f?n.push.apply(n,w):n.push(s):r.push({documentOrder:u,tabIndex:y,item:i,isScope:f,content:w})}),r.sort(wj).reduce(function(i,u){return u.isScope?i.push.apply(i,u.content):i.push(u.content),i},[]).concat(n)},Lj=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Yk([t],n.includeContainer,{filter:yb.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Rj}):r=Xk(t,n.includeContainer,yb.bind(null,n)),kj(r)},Mj=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Yk([t],n.includeContainer,{filter:Ey.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Xk(t,n.includeContainer,Ey.bind(null,n)),r},Cg=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return xh.call(t,wy)===!1?!1:yb(n,t)},Dj=Zk.concat("iframe").join(","),w1=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return xh.call(t,Dj)===!1?!1:Ey(n,t)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){Nj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sA=function(){var e=[];return{activateTrap:function(n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}}}(),zj=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Bj=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},Fj=function(t){return t.key==="Tab"||t.keyCode===9},lA=function(t){return setTimeout(t,0)},uA=function(t,n){var r=-1;return t.every(function(i,u){return n(i)?(r=u,!1):!0}),r},qf=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},Rg=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},Uj=function(t,n){var r=(n==null?void 0:n.document)||document,i=aA({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),u={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},f,s=function(J,ee,se){return J&&J[ee]!==void 0?J[ee]:i[se||ee]},y=function(J){return u.containerGroups.findIndex(function(ee){var se=ee.container,ge=ee.tabbableNodes;return se.contains(J)||ge.find(function(he){return he===J})})},w=function(J){var ee=i[J];if(typeof ee=="function"){for(var se=arguments.length,ge=new Array(se>1?se-1:0),he=1;he<se;he++)ge[he-1]=arguments[he];ee=ee.apply(void 0,ge)}if(ee===!0&&(ee=void 0),!ee){if(ee===void 0||ee===!1)return ee;throw new Error("`".concat(J,"` was specified but was not a node, or did not return a node"))}var Ee=ee;if(typeof ee=="string"&&(Ee=r.querySelector(ee),!Ee))throw new Error("`".concat(J,"` as selector refers to no known node"));return Ee},I=function(){var J=w("initialFocus");if(J===!1)return!1;if(J===void 0)if(y(r.activeElement)>=0)J=r.activeElement;else{var ee=u.tabbableGroups[0],se=ee&&ee.firstTabbableNode;J=se||w("fallbackFocus")}if(!J)throw new Error("Your focus-trap needs to have at least one focusable element");return J},A=function(){if(u.containerGroups=u.containers.map(function(J){var ee=Lj(J,i.tabbableOptions),se=Mj(J,i.tabbableOptions);return{container:J,tabbableNodes:ee,focusableNodes:se,firstTabbableNode:ee.length>0?ee[0]:null,lastTabbableNode:ee.length>0?ee[ee.length-1]:null,nextTabbableNode:function(he){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,De=se.findIndex(function(We){return We===he});if(!(De<0))return Ee?se.slice(De+1).find(function(We){return Cg(We,i.tabbableOptions)}):se.slice(0,De).reverse().find(function(We){return Cg(We,i.tabbableOptions)})}}}),u.tabbableGroups=u.containerGroups.filter(function(J){return J.tabbableNodes.length>0}),u.tabbableGroups.length<=0&&!w("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},R=function Q(J){if(J!==!1&&J!==r.activeElement){if(!J||!J.focus){Q(I());return}J.focus({preventScroll:!!i.preventScroll}),u.mostRecentlyFocusedNode=J,zj(J)&&J.select()}},O=function(J){var ee=w("setReturnFocus",J);return ee||(ee===!1?!1:J)},z=function(J){var ee=Rg(J);if(!(y(ee)>=0)){if(qf(i.clickOutsideDeactivates,J)){f.deactivate({returnFocus:i.returnFocusOnDeactivate&&!w1(ee,i.tabbableOptions)});return}qf(i.allowOutsideClick,J)||J.preventDefault()}},V=function(J){var ee=Rg(J),se=y(ee)>=0;se||ee instanceof Document?se&&(u.mostRecentlyFocusedNode=ee):(J.stopImmediatePropagation(),R(u.mostRecentlyFocusedNode||I()))},G=function(J){var ee=Rg(J);A();var se=null;if(u.tabbableGroups.length>0){var ge=y(ee),he=ge>=0?u.containerGroups[ge]:void 0;if(ge<0)J.shiftKey?se=u.tabbableGroups[u.tabbableGroups.length-1].lastTabbableNode:se=u.tabbableGroups[0].firstTabbableNode;else if(J.shiftKey){var Ee=uA(u.tabbableGroups,function(pt){var Pe=pt.firstTabbableNode;return ee===Pe});if(Ee<0&&(he.container===ee||w1(ee,i.tabbableOptions)&&!Cg(ee,i.tabbableOptions)&&!he.nextTabbableNode(ee,!1))&&(Ee=ge),Ee>=0){var De=Ee===0?u.tabbableGroups.length-1:Ee-1,We=u.tabbableGroups[De];se=We.lastTabbableNode}}else{var Fe=uA(u.tabbableGroups,function(pt){var Pe=pt.lastTabbableNode;return ee===Pe});if(Fe<0&&(he.container===ee||w1(ee,i.tabbableOptions)&&!Cg(ee,i.tabbableOptions)&&!he.nextTabbableNode(ee))&&(Fe=ge),Fe>=0){var tt=Fe===u.tabbableGroups.length-1?0:Fe+1,Ye=u.tabbableGroups[tt];se=Ye.firstTabbableNode}}}else se=w("fallbackFocus");se&&(J.preventDefault(),R(se))},F=function(J){if(Bj(J)&&qf(i.escapeDeactivates,J)!==!1){J.preventDefault(),f.deactivate();return}if(Fj(J)){G(J);return}},B=function(J){var ee=Rg(J);y(ee)>=0||qf(i.clickOutsideDeactivates,J)||qf(i.allowOutsideClick,J)||(J.preventDefault(),J.stopImmediatePropagation())},j=function(){if(u.active)return sA.activateTrap(f),u.delayInitialFocusTimer=i.delayInitialFocus?lA(function(){R(I())}):R(I()),r.addEventListener("focusin",V,!0),r.addEventListener("mousedown",z,{capture:!0,passive:!1}),r.addEventListener("touchstart",z,{capture:!0,passive:!1}),r.addEventListener("click",B,{capture:!0,passive:!1}),r.addEventListener("keydown",F,{capture:!0,passive:!1}),f},Y=function(){if(u.active)return r.removeEventListener("focusin",V,!0),r.removeEventListener("mousedown",z,!0),r.removeEventListener("touchstart",z,!0),r.removeEventListener("click",B,!0),r.removeEventListener("keydown",F,!0),f};return f={get active(){return u.active},get paused(){return u.paused},activate:function(J){if(u.active)return this;var ee=s(J,"onActivate"),se=s(J,"onPostActivate"),ge=s(J,"checkCanFocusTrap");ge||A(),u.active=!0,u.paused=!1,u.nodeFocusedBeforeActivation=r.activeElement,ee&&ee();var he=function(){ge&&A(),j(),se&&se()};return ge?(ge(u.containers.concat()).then(he,he),this):(he(),this)},deactivate:function(J){if(!u.active)return this;var ee=aA({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},J);clearTimeout(u.delayInitialFocusTimer),u.delayInitialFocusTimer=void 0,Y(),u.active=!1,u.paused=!1,sA.deactivateTrap(f);var se=s(ee,"onDeactivate"),ge=s(ee,"onPostDeactivate"),he=s(ee,"checkCanReturnFocus"),Ee=s(ee,"returnFocus","returnFocusOnDeactivate");se&&se();var De=function(){lA(function(){Ee&&R(O(u.nodeFocusedBeforeActivation)),ge&&ge()})};return Ee&&he?(he(O(u.nodeFocusedBeforeActivation)).then(De,De),this):(De(),this)},pause:function(){return u.paused||!u.active?this:(u.paused=!0,Y(),this)},unpause:function(){return!u.paused||!u.active?this:(u.paused=!1,A(),j(),this)},updateContainerElements:function(J){var ee=[].concat(J).filter(Boolean);return u.containers=ee.map(function(se){return typeof se=="string"?r.querySelector(se):se}),u.active&&A(),this}},f.updateContainerElements(t),f};function Vj(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var lE=!1;if(typeof window<"u"){var cA={get passive(){lE=!0}};window.addEventListener("testPassive",null,cA),window.removeEventListener("testPassive",null,cA)}var eL=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Zu=[],Sy=!1,tL=-1,Ap=void 0,Pp=void 0,nL=function(t){return Zu.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(t))})},Ty=function(t){var n=t||window.event;return nL(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},Hj=function(t){if(Pp===void 0){var n=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;n&&r>0&&(Pp=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}Ap===void 0&&(Ap=document.body.style.overflow,document.body.style.overflow="hidden")},jj=function(){Pp!==void 0&&(document.body.style.paddingRight=Pp,Pp=void 0),Ap!==void 0&&(document.body.style.overflow=Ap,Ap=void 0)},$j=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},Gj=function(t,n){var r=t.targetTouches[0].clientY-tL;return nL(t.target)?!1:n&&n.scrollTop===0&&r>0||$j(n)&&r<0?Ty(t):(t.stopPropagation(),!0)},qj=function(t,n){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Zu.some(function(i){return i.targetElement===t})){var r={targetElement:t,options:n||{}};Zu=[].concat(Vj(Zu),[r]),eL?(t.ontouchstart=function(i){i.targetTouches.length===1&&(tL=i.targetTouches[0].clientY)},t.ontouchmove=function(i){i.targetTouches.length===1&&Gj(i,t)},Sy||(document.addEventListener("touchmove",Ty,lE?{passive:!1}:void 0),Sy=!0)):Hj(n)}},Wj=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Zu=Zu.filter(function(n){return n.targetElement!==t}),eL?(t.ontouchstart=null,t.ontouchmove=null,Sy&&Zu.length===0&&(document.removeEventListener("touchmove",Ty,lE?{passive:!1}:void 0),Sy=!1)):Zu.length||jj()},ch=[],Zj=function(){return ch.some(function(e){return e.activeTargets.length>0})},Kj=function(){return ch.some(function(e){return e.skippedTargets.length>0})},hA="ResizeObserver loop completed with undelivered notifications.",Xj=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:hA}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=hA),window.dispatchEvent(e)},lm;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(lm||(lm={}));var hh=function(e){return Object.freeze(e)},Yj=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,hh(this)}return e}(),rL=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,hh(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,u=t.right,f=t.bottom,s=t.left,y=t.width,w=t.height;return{x:n,y:r,top:i,right:u,bottom:f,left:s,width:y,height:w}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),uE=function(e){return e instanceof SVGElement&&"getBBox"in e},iL=function(e){if(uE(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,u=i.offsetWidth,f=i.offsetHeight;return!(u||f||e.getClientRects().length)},dA=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Jj=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Op=typeof window<"u"?window:{},kg=new WeakMap,fA=/auto|scroll/,Qj=/^tb|vertical/,e$=/msie|trident/i.test(Op.navigator&&Op.navigator.userAgent),Js=function(e){return parseFloat(e||"0")},Md=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Yj((n?t:e)||0,(n?e:t)||0)},pA=hh({devicePixelContentBoxSize:Md(),borderBoxSize:Md(),contentBoxSize:Md(),contentRect:new rL(0,0,0,0)}),oL=function(e,t){if(t===void 0&&(t=!1),kg.has(e)&&!t)return kg.get(e);if(iL(e))return kg.set(e,pA),pA;var n=getComputedStyle(e),r=uE(e)&&e.ownerSVGElement&&e.getBBox(),i=!e$&&n.boxSizing==="border-box",u=Qj.test(n.writingMode||""),f=!r&&fA.test(n.overflowY||""),s=!r&&fA.test(n.overflowX||""),y=r?0:Js(n.paddingTop),w=r?0:Js(n.paddingRight),I=r?0:Js(n.paddingBottom),A=r?0:Js(n.paddingLeft),R=r?0:Js(n.borderTopWidth),O=r?0:Js(n.borderRightWidth),z=r?0:Js(n.borderBottomWidth),V=r?0:Js(n.borderLeftWidth),G=A+w,F=y+I,B=V+O,j=R+z,Y=s?e.offsetHeight-j-e.clientHeight:0,Q=f?e.offsetWidth-B-e.clientWidth:0,J=i?G+B:0,ee=i?F+j:0,se=r?r.width:Js(n.width)-J-Q,ge=r?r.height:Js(n.height)-ee-Y,he=se+G+Q+B,Ee=ge+F+Y+j,De=hh({devicePixelContentBoxSize:Md(Math.round(se*devicePixelRatio),Math.round(ge*devicePixelRatio),u),borderBoxSize:Md(he,Ee,u),contentBoxSize:Md(se,ge,u),contentRect:new rL(A,y,se,ge)});return kg.set(e,De),De},aL=function(e,t,n){var r=oL(e,n),i=r.borderBoxSize,u=r.contentBoxSize,f=r.devicePixelContentBoxSize;switch(t){case lm.DEVICE_PIXEL_CONTENT_BOX:return f;case lm.BORDER_BOX:return i;default:return u}},t$=function(){function e(t){var n=oL(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=hh([n.borderBoxSize]),this.contentBoxSize=hh([n.contentBoxSize]),this.devicePixelContentBoxSize=hh([n.devicePixelContentBoxSize])}return e}(),sL=function(e){if(iL(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},n$=function(){var e=1/0,t=[];ch.forEach(function(f){if(f.activeTargets.length!==0){var s=[];f.activeTargets.forEach(function(w){var I=new t$(w.target),A=sL(w.target);s.push(I),w.lastReportedSize=aL(w.target,w.observedBox),A<e&&(e=A)}),t.push(function(){f.callback.call(f.observer,s,f.observer)}),f.activeTargets.splice(0,f.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},mA=function(e){ch.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(sL(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},r$=function(){var e=0;for(mA(e);Zj();)e=n$(),mA(e);return Kj()&&Xj(),e>0},E1,lL=[],i$=function(){return lL.splice(0).forEach(function(e){return e()})},o$=function(e){if(!E1){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return i$()}).observe(n,r),E1=function(){n.textContent="".concat(t?t--:t++)}}lL.push(e),E1()},a$=function(e){o$(function(){requestAnimationFrame(e)})},hv=0,s$=function(){return!!hv},l$=250,u$={attributes:!0,characterData:!0,childList:!0,subtree:!0},gA=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],vA=function(e){return e===void 0&&(e=0),Date.now()+e},S1=!1,c$=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=l$),!S1){S1=!0;var r=vA(t);a$(function(){var i=!1;try{i=r$()}finally{if(S1=!1,t=r-vA(),!s$())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,u$)};document.body?n():Op.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),gA.forEach(function(n){return Op.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),gA.forEach(function(n){return Op.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),_b=new c$,yA=function(e){!hv&&e>0&&_b.start(),hv+=e,!hv&&_b.stop()},h$=function(e){return!uE(e)&&!Jj(e)&&getComputedStyle(e).display==="inline"},d$=function(){function e(t,n){this.target=t,this.observedBox=n||lm.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=aL(this.target,this.observedBox,!0);return h$(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),f$=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Lg=new WeakMap,_A=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Mg=function(){function e(){}return e.connect=function(t,n){var r=new f$(t,n);Lg.set(t,r)},e.observe=function(t,n,r){var i=Lg.get(t),u=i.observationTargets.length===0;_A(i.observationTargets,n)<0&&(u&&ch.push(i),i.observationTargets.push(new d$(n,r&&r.box)),yA(1),_b.schedule())},e.unobserve=function(t,n){var r=Lg.get(t),i=_A(r.observationTargets,n),u=r.observationTargets.length===1;i>=0&&(u&&ch.splice(ch.indexOf(r),1),r.observationTargets.splice(i,1),yA(-1))},e.disconnect=function(t){var n=this,r=Lg.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),p$=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Mg.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!dA(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Mg.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!dA(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Mg.unobserve(this,t)},e.prototype.disconnect=function(){Mg.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function oo(){return oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo.apply(this,arguments)}function dv(e,t){if(e==null)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)t.indexOf(n=u[r])>=0||(i[n]=e[n]);return i}var Cp=typeof window<"u"?le.useLayoutEffect:le.useEffect;function Wf(e,t,n){return t=(t=+t)==t?t:0,n=(n=+n)==n?n:0,(e=+e)==e&&(e=(e=e<=n?e:n)>=t?e:t),e}function Dg(e){var t=Math.round(e);if(Number.isNaN(e))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return t}var m$={box:"border-box"};function T1(e,t){var n=t.label,r=t.enabled,i=t.resizeSourceRef,u=le.useState(0),f=u[0],s=u[1];le.useDebugValue(n+": "+f);var y=le.useCallback(function(w){s(w[0].borderBoxSize[0].blockSize),i.current="element"},[i]);return Cp(function(){if(e.current&&r){var w=new p$(y);return w.observe(e.current,m$),function(){w.disconnect()}}},[e,y,r]),r?f:0}function no(e){return e===void 0&&(e=1e3),new Promise(function(t){return setTimeout(t,e)})}var xA={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},bA={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},g$=HV({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:oo({},xA,bA)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:oo({},xA,bA)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:oo({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[jV({y:function(e,t){return t.payload.y},velocity:function(e,t){return t.payload.velocity},snapSource:function(e,t){var n=t.payload.source;return n===void 0?"custom":n}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(e,t){},onSnapCancel:function(e,t){},onResizeCancel:function(e,t){},onCloseCancel:function(e,t){},onOpenEnd:function(e,t){},onSnapEnd:function(e,t){},onRezizeEnd:function(e,t){}},services:{onSnapStart:function(){try{return Promise.resolve(no()).then(function(){})}catch(e){return Promise.reject(e)}},onOpenStart:function(){try{return Promise.resolve(no()).then(function(){})}catch(e){return Promise.reject(e)}},onCloseStart:function(){try{return Promise.resolve(no()).then(function(){})}catch(e){return Promise.reject(e)}},onResizeStart:function(){try{return Promise.resolve(no()).then(function(){})}catch(e){return Promise.reject(e)}},onSnapEnd:function(){try{return Promise.resolve(no()).then(function(){})}catch(e){return Promise.reject(e)}},onOpenEnd:function(){try{return Promise.resolve(no()).then(function(){})}catch(e){return Promise.reject(e)}},onCloseEnd:function(){try{return Promise.resolve(no()).then(function(){})}catch(e){return Promise.reject(e)}},onResizeEnd:function(){try{return Promise.resolve(no()).then(function(){})}catch(e){return Promise.reject(e)}},renderVisuallyHidden:function(e,t){try{return Promise.resolve(no()).then(function(){})}catch(n){return Promise.reject(n)}},activate:function(e,t){try{return Promise.resolve(no()).then(function(){})}catch(n){return Promise.reject(n)}},deactivate:function(e,t){try{return Promise.resolve(no()).then(function(){})}catch(n){return Promise.reject(n)}},openSmoothly:function(e,t){try{return Promise.resolve(no()).then(function(){})}catch(n){return Promise.reject(n)}},openImmediately:function(e,t){try{return Promise.resolve(no()).then(function(){})}catch(n){return Promise.reject(n)}},snapSmoothly:function(e,t){try{return Promise.resolve(no()).then(function(){})}catch(n){return Promise.reject(n)}},resizeSmoothly:function(e,t){try{return Promise.resolve(no()).then(function(){})}catch(n){return Promise.reject(n)}},closeSmoothly:function(e,t){try{return Promise.resolve(no()).then(function(){})}catch(n){return Promise.reject(n)}}},guards:{initiallyClosed:function(e){return e.initialState==="CLOSED"},initiallyOpen:function(e){return e.initialState==="OPEN"}}}),v$=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],y$=["velocity"],_$=["onRest","config"],uL=mH.default,x$=uL.tension,Ng=uL.friction,b$=Zr.forwardRef(function(e,t){var n=e.children,r=e.sibling,i=e.className,u=e.footer,f=e.header,s=e.open,y=e.initialState,w=e.lastSnapRef,I=e.initialFocusRef,A=e.onDismiss,R=e.maxHeight,O=e.defaultSnap,z=O===void 0?E$:O,V=e.snapPoints,G=V===void 0?S$:V,F=e.blocking,B=F===void 0||F,j=e.scrollLocking,Y=j===void 0||j,Q=e.style,J=e.onSpringStart,ee=e.onSpringCancel,se=e.onSpringEnd,ge=e.reserveScrollBarGap,he=ge===void 0?B:ge,Ee=e.expandOnContentDrag,De=Ee!==void 0&&Ee,We=dv(e,v$),Fe=function(){var ht=le.useState(!1),Qt=ht[0],Rt=ht[1],vn=le.useState({}),Mn=vn[0],yn=vn[1],Gt=le.useCallback(function(Dn){return yn(function(Rn){var Yt;return oo({},Rn,((Yt={})[Dn]=!1,Yt))}),function(){yn(function(Rn){var Yt;return oo({},Rn,((Yt={})[Dn]=!0,Yt))})}},[]);return le.useEffect(function(){var Dn=Object.values(Mn);Dn.length!==0&&Dn.every(Boolean)&&Rt(!0)},[Mn]),{ready:Qt,registerReady:Gt}}(),tt=Fe.ready,Ye=Fe.registerReady,pt=le.useRef(!1),Pe=le.useRef(J),et=le.useRef(ee),ze=le.useRef(se);le.useEffect(function(){Pe.current=J,et.current=ee,ze.current=se},[ee,J,se]);var rt,Be,qe=xH(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),$e=qe[0],Je=qe[1],Ae=le.useRef(null),vt=le.useRef(null),lt=le.useRef(null),en=le.useRef(null),ke=le.useRef(null),Xe=le.useRef(null),_t=le.useRef(0),Jt=le.useRef(),Wt=le.useRef(!1),Zt=(rt=le.useMemo(function(){return typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),Be=le.useRef(rt==null?void 0:rt.matches),le.useDebugValue(Be.current?"reduce":"no-preference"),le.useEffect(function(){var ht=function(Qt){Be.current=Qt.matches};return rt==null||rt.addListener(ht),function(){return rt==null?void 0:rt.removeListener(ht)}},[rt]),Be),un=function(ht){var Qt=ht.targetRef,Rt=ht.enabled,vn=ht.reserveScrollBarGap,Mn=le.useRef({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return le.useDebugValue(Rt?"Enabled":"Disabled"),le.useEffect(function(){if(!Rt)return Mn.current.deactivate(),void(Mn.current={activate:function(){},deactivate:function(){}});var yn=Qt.current,Gt=!1;Mn.current={activate:function(){Gt||(Gt=!0,qj(yn,{allowTouchMove:function(Dn){return Dn.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:vn}))},deactivate:function(){Gt&&(Gt=!1,Wj(yn))}}},[Rt,Qt,vn]),Mn}({targetRef:vt,enabled:tt&&Y,reserveScrollBarGap:he}),nn=function(ht){var Qt=ht.targetRef,Rt=ht.enabled,vn=le.useRef({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return le.useDebugValue(Rt?"Enabled":"Disabled"),le.useEffect(function(){if(!Rt)return vn.current.deactivate(),void(vn.current={activate:function(){},deactivate:function(){}});var Mn=Qt.current,yn=!1,Gt=[],Dn=[];vn.current={activate:function(){if(!yn){yn=!0;var Rn=Mn.parentNode;document.querySelectorAll("body > *").forEach(function(Yt){if(Yt!==Rn){var rn=Yt.getAttribute("aria-hidden");rn!==null&&rn!=="false"||(Gt.push(rn),Dn.push(Yt),Yt.setAttribute("aria-hidden","true"))}})}},deactivate:function(){yn&&(yn=!1,Dn.forEach(function(Rn,Yt){var rn=Gt[Yt];rn===null?Rn.removeAttribute("aria-hidden"):Rn.setAttribute("aria-hidden",rn)}),Gt=[],Dn=[])}}},[Qt,Rt]),vn}({targetRef:Ae,enabled:tt&&B}),dn=function(ht){var Qt=ht.targetRef,Rt=ht.fallbackRef,vn=ht.initialFocusRef,Mn=ht.enabled,yn=le.useRef({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return le.useDebugValue(Mn?"Enabled":"Disabled"),le.useEffect(function(){if(!Mn)return yn.current.deactivate(),void(yn.current={activate:function(){},deactivate:function(){}});var Gt=Rt.current,Dn=Uj(Qt.current,{onActivate:void 0,initialFocus:vn?function(){return(vn==null?void 0:vn.current)||Gt}:void 0,fallbackFocus:Gt,escapeDeactivates:!1,clickOutsideDeactivates:!1}),Rn=!1;yn.current={activate:function(){try{return Rn?Promise.resolve():(Rn=!0,Promise.resolve(Dn.activate()).then(function(){return Promise.resolve(new Promise(function(Yt){return setTimeout(function(){return Yt(void 0)},0)})).then(function(){})}))}catch(Yt){return Promise.reject(Yt)}},deactivate:function(){Rn&&(Rn=!1,Dn.deactivate())}}},[Mn,Rt,vn,Qt]),yn}({targetRef:Ae,fallbackRef:Xe,initialFocusRef:I||void 0,enabled:tt&&B&&I!==!1}),mt=function(ht){var Qt=ht.getSnapPoints,Rt=ht.heightRef,vn=ht.lastSnapRef,Mn=ht.ready,yn=function(ue){var Z=ue.contentRef,te=ue.controlledMaxHeight,ce=ue.footerEnabled,me=ue.footerRef,xe=ue.headerEnabled,ve=ue.headerRef,Ie=ue.registerReady,Se=ue.resizeSourceRef,Le=le.useMemo(function(){return Ie("contentHeight")},[Ie]),Ge=function(Ft,gn,zn){var cn=le.useMemo(function(){return gn("maxHeight")},[gn]),bn=le.useState(function(){return Dg(Ft)||typeof window<"u"?window.innerHeight:0}),Bn=bn[0],sr=bn[1],Rr=Bn>0,fr=le.useRef(0);return le.useDebugValue(Ft?"controlled":"auto"),le.useEffect(function(){Rr&&cn()},[Rr,cn]),Cp(function(){if(Ft)return sr(Dg(Ft)),void(zn.current="maxheightprop");var Yo=function(){fr.current||(fr.current=requestAnimationFrame(function(){sr(window.innerHeight),zn.current="window",fr.current=0}))};return window.addEventListener("resize",Yo),sr(window.innerHeight),zn.current="window",cn(),function(){window.removeEventListener("resize",Yo),cancelAnimationFrame(fr.current)}},[Ft,cn,zn]),Bn}(te,Ie,Se),st=T1(ve,{label:"headerHeight",enabled:xe,resizeSourceRef:Se}),Qe=T1(Z,{label:"contentHeight",enabled:!0,resizeSourceRef:Se}),Mt=T1(me,{label:"footerHeight",enabled:ce,resizeSourceRef:Se}),$t=Math.min(Ge-st-Mt,Qe)+st+Mt;le.useDebugValue("minHeight: "+$t);var Ct=Qe>0;return le.useEffect(function(){Ct&&Le()},[Ct,Le]),{maxHeight:Ge,minHeight:$t,headerHeight:st,footerHeight:Mt}}({contentRef:ht.contentRef,controlledMaxHeight:ht.controlledMaxHeight,footerEnabled:ht.footerEnabled,footerRef:ht.footerRef,headerEnabled:ht.headerEnabled,headerRef:ht.headerRef,registerReady:ht.registerReady,resizeSourceRef:ht.resizeSourceRef}),Gt=yn.maxHeight,Dn=yn.minHeight,Rn=yn.headerHeight,Yt=yn.footerHeight,rn=function(ue,Z){var te=[].concat(ue).map(Dg).reduce(function(ve,Ie){return ve.add(Wf(Ie,0,Z)),ve},new Set),ce=Array.from(te),me=Math.min.apply(Math,ce);if(Number.isNaN(me))throw new TypeError("minSnap is NaN");var xe=Math.max.apply(Math,ce);if(Number.isNaN(xe))throw new TypeError("maxSnap is NaN");return{snapPoints:ce,minSnap:me,maxSnap:xe}}(Mn?Qt({height:Rt.current,footerHeight:Yt,headerHeight:Rn,minHeight:Dn,maxHeight:Gt}):[0],Gt),Qn=rn.snapPoints,Sr=rn.minSnap,Pr=rn.maxSnap;return le.useDebugValue("minSnap: "+Sr+", maxSnap:"+Pr),{minSnap:Sr,maxSnap:Pr,findSnap:function(ue){var Z=Dg(typeof ue=="function"?ue({footerHeight:Yt,headerHeight:Rn,height:Rt.current,minHeight:Dn,maxHeight:Gt,snapPoints:Qn,lastSnap:vn.current}):ue);return Qn.reduce(function(te,ce){return Math.abs(ce-Z)<Math.abs(te-Z)?ce:te},Sr)},maxHeight:Gt}}({contentRef:lt,controlledMaxHeight:R,footerEnabled:!!u,footerRef:ke,getSnapPoints:G,headerEnabled:f!==!1,headerRef:en,heightRef:_t,lastSnapRef:w,ready:tt,registerReady:Ye,resizeSourceRef:Jt}),Ot=mt.minSnap,jt=mt.maxSnap,Kn=mt.maxHeight,xn=mt.findSnap,it=le.useRef(Kn),fn=le.useRef(Ot),pn=le.useRef(jt),Xr=le.useRef(xn),Ln=le.useRef(0);Cp(function(){it.current=Kn,pn.current=jt,fn.current=Ot,Xr.current=xn,Ln.current=xn(z)},[xn,z,Kn,jt,Ot]);var Hn=le.useCallback(function(ht){var Qt=ht.onRest,Rt=ht.config,vn=(Rt=Rt===void 0?{}:Rt).velocity,Mn=vn===void 0?1:vn,yn=dv(Rt,y$),Gt=dv(ht,_$);return new Promise(function(Dn){return Je(oo({},Gt,{config:oo({velocity:Mn},yn,{mass:1,tension:x$,friction:Math.max(Ng,Ng+(Ng-Ng*Mn))}),onRest:function(){var Rn=[].slice.call(arguments);Dn.apply(void 0,Rn),Qt==null||Qt.apply(void 0,Rn)}}))})},[Je]),Cn=JV(g$,{devTools:!1,actions:{onOpenCancel:le.useCallback(function(){return et.current==null?void 0:et.current({type:"OPEN"})},[]),onSnapCancel:le.useCallback(function(ht){return et.current==null?void 0:et.current({type:"SNAP",source:ht.snapSource})},[]),onCloseCancel:le.useCallback(function(){return et.current==null?void 0:et.current({type:"CLOSE"})},[]),onResizeCancel:le.useCallback(function(){return et.current==null?void 0:et.current({type:"RESIZE",source:Jt.current})},[]),onOpenEnd:le.useCallback(function(){return ze.current==null?void 0:ze.current({type:"OPEN"})},[]),onSnapEnd:le.useCallback(function(ht,Qt){return ze.current==null?void 0:ze.current({type:"SNAP",source:ht.snapSource})},[]),onResizeEnd:le.useCallback(function(){return ze.current==null?void 0:ze.current({type:"RESIZE",source:Jt.current})},[])},context:{initialState:y},services:{onSnapStart:le.useCallback(function(ht,Qt){try{return Promise.resolve(Pe.current==null?void 0:Pe.current({type:"SNAP",source:Qt.payload.source||"custom"}))}catch(Rt){return Promise.reject(Rt)}},[]),onOpenStart:le.useCallback(function(){try{return Promise.resolve(Pe.current==null?void 0:Pe.current({type:"OPEN"}))}catch(ht){return Promise.reject(ht)}},[]),onCloseStart:le.useCallback(function(){try{return Promise.resolve(Pe.current==null?void 0:Pe.current({type:"CLOSE"}))}catch(ht){return Promise.reject(ht)}},[]),onResizeStart:le.useCallback(function(){try{return Promise.resolve(Pe.current==null?void 0:Pe.current({type:"RESIZE",source:Jt.current}))}catch(ht){return Promise.reject(ht)}},[]),onSnapEnd:le.useCallback(function(ht,Qt){try{return Promise.resolve(ze.current==null?void 0:ze.current({type:"SNAP",source:ht.snapSource}))}catch(Rt){return Promise.reject(Rt)}},[]),onOpenEnd:le.useCallback(function(){try{return Promise.resolve(ze.current==null?void 0:ze.current({type:"OPEN"}))}catch(ht){return Promise.reject(ht)}},[]),onCloseEnd:le.useCallback(function(){try{return Promise.resolve(ze.current==null?void 0:ze.current({type:"CLOSE"}))}catch(ht){return Promise.reject(ht)}},[]),onResizeEnd:le.useCallback(function(){try{return Promise.resolve(ze.current==null?void 0:ze.current({type:"RESIZE",source:Jt.current}))}catch(ht){return Promise.reject(ht)}},[]),renderVisuallyHidden:le.useCallback(function(ht,Qt){try{return Promise.resolve(Hn({y:Ln.current,ready:0,maxHeight:it.current,maxSnap:pn.current,minSnap:Ln.current,immediate:!0})).then(function(){})}catch(Rt){return Promise.reject(Rt)}},[Hn]),activate:le.useCallback(function(ht,Qt){try{return pt.current=!0,Promise.resolve(Promise.all([un.current.activate(),dn.current.activate(),nn.current.activate()])).then(function(){})}catch(Rt){return Promise.reject(Rt)}},[nn,dn,un]),deactivate:le.useCallback(function(){try{return un.current.deactivate(),dn.current.deactivate(),nn.current.deactivate(),pt.current=!1,Promise.resolve()}catch(ht){return Promise.reject(ht)}},[nn,dn,un]),openImmediately:le.useCallback(function(){try{return _t.current=Ln.current,Promise.resolve(Hn({y:Ln.current,ready:1,maxHeight:it.current,maxSnap:pn.current,minSnap:Ln.current,immediate:!0})).then(function(){})}catch(ht){return Promise.reject(ht)}},[Hn]),openSmoothly:le.useCallback(function(){try{return Promise.resolve(Hn({y:0,ready:1,maxHeight:it.current,maxSnap:pn.current,minSnap:Ln.current,immediate:!0})).then(function(){return _t.current=Ln.current,Promise.resolve(Hn({y:Ln.current,ready:1,maxHeight:it.current,maxSnap:pn.current,minSnap:Ln.current,immediate:Zt.current})).then(function(){})})}catch(ht){return Promise.reject(ht)}},[Hn,Zt]),snapSmoothly:le.useCallback(function(ht,Qt){try{var Rt=Xr.current(ht.y);return _t.current=Rt,w.current=Rt,Promise.resolve(Hn({y:Rt,ready:1,maxHeight:it.current,maxSnap:pn.current,minSnap:fn.current,immediate:Zt.current,config:{velocity:ht.velocity}})).then(function(){})}catch(vn){return Promise.reject(vn)}},[Hn,w,Zt]),resizeSmoothly:le.useCallback(function(){try{var ht=Xr.current(_t.current);return _t.current=ht,w.current=ht,Promise.resolve(Hn({y:ht,ready:1,maxHeight:it.current,maxSnap:pn.current,minSnap:fn.current,immediate:Jt.current!=="element"||Zt.current})).then(function(){})}catch(Qt){return Promise.reject(Qt)}},[Hn,w,Zt]),closeSmoothly:le.useCallback(function(ht,Qt){try{return Hn({minSnap:_t.current,immediate:!0}),_t.current=0,Promise.resolve(Hn({y:0,maxHeight:it.current,maxSnap:pn.current,immediate:Zt.current})).then(function(){return Promise.resolve(Hn({ready:0,immediate:!0})).then(function(){})})}catch(Rt){return Promise.reject(Rt)}},[Hn,Zt])}}),Xo=Cn[0],ni=Cn[1];le.useEffect(function(){tt&&ni(s?"OPEN":"CLOSE")},[s,ni,tt]),Cp(function(){(Kn||jt||Ot)&&ni("RESIZE")},[Kn,jt,Ot,ni]),le.useEffect(function(){return function(){un.current.deactivate(),dn.current.deactivate(),nn.current.deactivate()}},[nn,dn,un]),le.useImperativeHandle(t,function(){return{snapTo:function(ht,Qt){var Rt=Qt===void 0?{}:Qt,vn=Rt.velocity,Mn=vn===void 0?1:vn,yn=Rt.source,Gt=yn===void 0?"custom":yn;ni("SNAP",{payload:{y:Xr.current(ht),velocity:Mn,source:Gt}})},get height(){return _t.current}}},[ni]),le.useEffect(function(){var ht=vt.current,Qt=function(vn){Wt.current&&vn.preventDefault()},Rt=function(vn){ht.scrollTop<0&&(requestAnimationFrame(function(){ht.style.overflow="hidden",ht.scrollTop=0,ht.style.removeProperty("overflow")}),vn.preventDefault())};return De&&(ht.addEventListener("scroll",Qt),ht.addEventListener("touchmove",Qt),ht.addEventListener("touchstart",Rt)),function(){ht.removeEventListener("scroll",Qt),ht.removeEventListener("touchmove",Qt),ht.removeEventListener("touchstart",Rt)}},[De,vt]);var Gi=bj(function(ht){var Qt=ht.args,Rt=(Qt=Qt===void 0?[]:Qt)[0],vn=(Rt=Rt===void 0?{}:Rt).closeOnTap,Mn=vn!==void 0&&vn,yn=Rt.isContentDragging,Gt=yn!==void 0&&yn,Dn=ht.cancel,Rn=ht.direction[1],Yt=ht.down,rn=ht.first,Qn=ht.last,Sr=ht.memo,Pr=Sr===void 0?$e.y.getValue():Sr,ue=ht.tap,Z=ht.velocity,te=-1*ht.movement[1];if(!pt.current)return Dn(),Pr;if(A&&Mn&&ue)return Dn(),setTimeout(function(){return A()},0),Pr;if(ue)return Pr;var ce=Pr+te,me=te*Z,xe=Math.max(fn.current,Math.min(pn.current,ce+2*me));if(!Yt&&A&&Rn>0&&ce+me<fn.current/2)return Dn(),A(),Pr;var ve=Yt?A||fn.current!==pn.current?Ip(ce,A?0:fn.current,pn.current,.55):ce<fn.current?Ip(ce,fn.current,2*pn.current,.55):Ip(ce,fn.current/2,pn.current,.55):xe;return De&&Gt?(ve>=pn.current&&(ve=pn.current),Pr===pn.current&&vt.current.scrollTop>0&&(ve=pn.current),Wt.current=ve<pn.current):Wt.current=!1,rn&&ni("DRAG"),Qn?(ni("SNAP",{payload:{y:ve,velocity:Z>.05?Z:1,source:"dragging"}}),Pr):(Je({y:ve,ready:1,maxHeight:it.current,maxSnap:pn.current,minSnap:fn.current,immediate:!0,config:{velocity:Z}}),Pr)},{filterTaps:!0});if(Number.isNaN(pn.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(fn.current))throw new TypeError("minSnapRef is NaN!!");var mn=function(ht){var Qt,Rt=ht.spring,vn=id([Rt.y,Rt.maxHeight],function(Yt,rn){return Math.round(Wf(rn-Yt,0,16))+"px"}),Mn=id([Rt.y,Rt.minSnap,Rt.maxSnap],function(Yt,rn,Qn){return Wf(Yt,rn,Qn)+"px"}),yn=id([Rt.y,Rt.minSnap,Rt.maxSnap],function(Yt,rn,Qn){return Yt<rn?rn-Yt+"px":Yt>Qn?Qn-Yt+"px":"0px"}),Gt=id([Rt.y,Rt.maxSnap],function(Yt,rn){return Yt>=rn?Math.ceil(Yt-rn):0}),Dn=id([Rt.y,Rt.minSnap],function(Yt,rn){if(!rn)return 0;var Qn=Math.max(rn/2-45,0);return Wf((Yt-Qn)*(1/(Math.min(rn/2+45,rn)-Qn)+0),0,1)}),Rn=id([Rt.y,Rt.minSnap],function(Yt,rn){return rn?Wf(Yt/rn,0,1):0});return(Qt={})["--rsbs-content-opacity"]=Dn,Qt["--rsbs-backdrop-opacity"]=Rn,Qt["--rsbs-antigap-scale-y"]=Gt,Qt["--rsbs-overlay-translate-y"]=yn,Qt["--rsbs-overlay-rounded"]=vn,Qt["--rsbs-overlay-h"]=Mn,Qt}({spring:$e});return Zr.createElement(FH.div,oo({},We,{"data-rsbs-root":!0,"data-rsbs-state":w$.find(Xo.matches),"data-rsbs-is-blocking":B,"data-rsbs-is-dismissable":!!A,"data-rsbs-has-header":!!f,"data-rsbs-has-footer":!!u,className:i,ref:Ae,style:oo({},mn,Q,{opacity:$e.ready})}),r,B&&Zr.createElement("div",oo({key:"backdrop","data-rsbs-backdrop":!0},Gi({closeOnTap:!0}))),Zr.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:Xe,onKeyDown:function(ht){ht.key==="Escape"&&(ht.stopPropagation(),A&&A())}},f!==!1&&Zr.createElement("div",oo({key:"header","data-rsbs-header":!0,ref:en},Gi()),f),Zr.createElement("div",oo({key:"scroll","data-rsbs-scroll":!0,ref:vt},De?Gi({isContentDragging:!0}):{}),Zr.createElement("div",{"data-rsbs-content":!0,ref:lt},n)),u&&Zr.createElement("div",oo({key:"footer",ref:ke,"data-rsbs-footer":!0},Gi()),u)))}),w$=["closed","opening","open","closing","dragging","snapping","resizing"];function E$(e){var t=e.lastSnap;return t??Math.min.apply(Math,e.snapPoints)}function S$(e){return e.minHeight}var T$=["onSpringStart","onSpringEnd","skipInitialTransition"],qW=le.forwardRef(function(e,t){var n=e.onSpringStart,r=e.onSpringEnd,i=e.skipInitialTransition,u=dv(e,T$),f=le.useState(!1),s=f[0],y=f[1],w=le.useRef(),I=le.useRef(null),A=le.useRef(i&&u.open?"OPEN":"CLOSED");Cp(function(){if(u.open)return cancelAnimationFrame(w.current),y(!0),function(){A.current="CLOSED"}},[u.open]);var R=le.useCallback(function(z){return Promise.resolve(n==null?void 0:n(z)).then(function(){z.type==="OPEN"&&cancelAnimationFrame(w.current)})},[n]),O=le.useCallback(function(z){return Promise.resolve(r==null?void 0:r(z)).then(function(){z.type==="CLOSE"&&(w.current=requestAnimationFrame(function(){return y(!1)}))})},[r]);return s?Zr.createElement(Z8,{"data-rsbs-portal":!0},Zr.createElement(b$,oo({},u,{lastSnapRef:I,ref:t,initialState:A.current,onSpringStart:R,onSpringEnd:O}))):null}),Iy={},I$={get exports(){return Iy},set exports(e){Iy=e}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(xP,function(n){var r="1.9.3";function i(h){var g,T,k,$;for(T=1,k=arguments.length;T<k;T++){$=arguments[T];for(g in $)h[g]=$[g]}return h}var u=Object.create||function(){function h(){}return function(g){return h.prototype=g,new h}}();function f(h,g){var T=Array.prototype.slice;if(h.bind)return h.bind.apply(h,T.call(arguments,1));var k=T.call(arguments,2);return function(){return h.apply(g,k.length?k.concat(T.call(arguments)):arguments)}}var s=0;function y(h){return"_leaflet_id"in h||(h._leaflet_id=++s),h._leaflet_id}function w(h,g,T){var k,$,oe,Te;return Te=function(){k=!1,$&&(oe.apply(T,$),$=!1)},oe=function(){k?$=arguments:(h.apply(T,arguments),setTimeout(Te,g),k=!0)},oe}function I(h,g,T){var k=g[1],$=g[0],oe=k-$;return h===k&&T?h:((h-$)%oe+oe)%oe+$}function A(){return!1}function R(h,g){if(g===!1)return h;var T=Math.pow(10,g===void 0?6:g);return Math.round(h*T)/T}function O(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function z(h){return O(h).split(/\s+/)}function V(h,g){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?u(h.options):{});for(var T in g)h.options[T]=g[T];return h.options}function G(h,g,T){var k=[];for(var $ in h)k.push(encodeURIComponent(T?$.toUpperCase():$)+"="+encodeURIComponent(h[$]));return(!g||g.indexOf("?")===-1?"?":"&")+k.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function B(h,g){return h.replace(F,function(T,k){var $=g[k];if($===void 0)throw new Error("No value provided for variable "+T);return typeof $=="function"&&($=$(g)),$})}var j=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function Y(h,g){for(var T=0;T<h.length;T++)if(h[T]===g)return T;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function J(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var ee=0;function se(h){var g=+new Date,T=Math.max(0,16-(g-ee));return ee=g+T,window.setTimeout(h,T)}var ge=window.requestAnimationFrame||J("RequestAnimationFrame")||se,he=window.cancelAnimationFrame||J("CancelAnimationFrame")||J("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function Ee(h,g,T){if(T&&ge===se)h.call(g);else return ge.call(window,f(h,g))}function De(h){h&&he.call(window,h)}var We={__proto__:null,extend:i,create:u,bind:f,get lastId(){return s},stamp:y,throttle:w,wrapNum:I,falseFn:A,formatNum:R,trim:O,splitWords:z,setOptions:V,getParamString:G,template:B,isArray:j,indexOf:Y,emptyImageUrl:Q,requestFn:ge,cancelFn:he,requestAnimFrame:Ee,cancelAnimFrame:De};function Fe(){}Fe.extend=function(h){var g=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},T=g.__super__=this.prototype,k=u(T);k.constructor=g,g.prototype=k;for(var $ in this)Object.prototype.hasOwnProperty.call(this,$)&&$!=="prototype"&&$!=="__super__"&&(g[$]=this[$]);return h.statics&&i(g,h.statics),h.includes&&(tt(h.includes),i.apply(null,[k].concat(h.includes))),i(k,h),delete k.statics,delete k.includes,k.options&&(k.options=T.options?u(T.options):{},i(k.options,h.options)),k._initHooks=[],k.callInitHooks=function(){if(!this._initHooksCalled){T.callInitHooks&&T.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,Te=k._initHooks.length;oe<Te;oe++)k._initHooks[oe].call(this)}},g},Fe.include=function(h){var g=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=g,this.mergeOptions(h.options)),this},Fe.mergeOptions=function(h){return i(this.prototype.options,h),this},Fe.addInitHook=function(h){var g=Array.prototype.slice.call(arguments,1),T=typeof h=="function"?h:function(){this[h].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(T),this};function tt(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=j(h)?h:[h];for(var g=0;g<h.length;g++)h[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ye={on:function(h,g,T){if(typeof h=="object")for(var k in h)this._on(k,h[k],g);else{h=z(h);for(var $=0,oe=h.length;$<oe;$++)this._on(h[$],g,T)}return this},off:function(h,g,T){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var k in h)this._off(k,h[k],g);else{h=z(h);for(var $=arguments.length===1,oe=0,Te=h.length;oe<Te;oe++)$?this._off(h[oe]):this._off(h[oe],g,T)}return this},_on:function(h,g,T,k){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(h,g,T)===!1){T===this&&(T=void 0);var $={fn:g,ctx:T};k&&($.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push($)}},_off:function(h,g,T){var k,$,oe;if(this._events&&(k=this._events[h],!!k)){if(arguments.length===1){if(this._firingCount)for($=0,oe=k.length;$<oe;$++)k[$].fn=A;delete this._events[h];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var Te=this._listens(h,g,T);if(Te!==!1){var Ue=k[Te];this._firingCount&&(Ue.fn=A,this._events[h]=k=k.slice()),k.splice(Te,1)}}},fire:function(h,g,T){if(!this.listens(h,T))return this;var k=i({},g,{type:h,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var $=this._events[h];if($){this._firingCount=this._firingCount+1||1;for(var oe=0,Te=$.length;oe<Te;oe++){var Ue=$[oe],Ke=Ue.fn;Ue.once&&this.off(h,Ke,Ue.ctx),Ke.call(Ue.ctx||this,k)}this._firingCount--}}return T&&this._propagateEvent(k),this},listens:function(h,g,T,k){typeof h!="string"&&console.warn('"string" type argument expected');var $=g;typeof g!="function"&&(k=!!g,$=void 0,T=void 0);var oe=this._events&&this._events[h];if(oe&&oe.length&&this._listens(h,$,T)!==!1)return!0;if(k){for(var Te in this._eventParents)if(this._eventParents[Te].listens(h,g,T,k))return!0}return!1},_listens:function(h,g,T){if(!this._events)return!1;var k=this._events[h]||[];if(!g)return!!k.length;T===this&&(T=void 0);for(var $=0,oe=k.length;$<oe;$++)if(k[$].fn===g&&k[$].ctx===T)return $;return!1},once:function(h,g,T){if(typeof h=="object")for(var k in h)this._on(k,h[k],g,!0);else{h=z(h);for(var $=0,oe=h.length;$<oe;$++)this._on(h[$],g,T,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[y(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[y(h)],this},_propagateEvent:function(h){for(var g in this._eventParents)this._eventParents[g].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};Ye.addEventListener=Ye.on,Ye.removeEventListener=Ye.clearAllEventListeners=Ye.off,Ye.addOneTimeEventListener=Ye.once,Ye.fireEvent=Ye.fire,Ye.hasEventListeners=Ye.listens;var pt=Fe.extend(Ye);function Pe(h,g,T){this.x=T?Math.round(h):h,this.y=T?Math.round(g):g}var et=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};Pe.prototype={clone:function(){return new Pe(this.x,this.y)},add:function(h){return this.clone()._add(ze(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(ze(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new Pe(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new Pe(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=et(this.x),this.y=et(this.y),this},distanceTo:function(h){h=ze(h);var g=h.x-this.x,T=h.y-this.y;return Math.sqrt(g*g+T*T)},equals:function(h){return h=ze(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=ze(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function ze(h,g,T){return h instanceof Pe?h:j(h)?new Pe(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new Pe(h.x,h.y):new Pe(h,g,T)}function rt(h,g){if(h)for(var T=g?[h,g]:h,k=0,$=T.length;k<$;k++)this.extend(T[k])}rt.prototype={extend:function(h){var g,T;if(!h)return this;if(h instanceof Pe||typeof h[0]=="number"||"x"in h)g=T=ze(h);else if(h=Be(h),g=h.min,T=h.max,!g||!T)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=T.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(T.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(T.y,this.max.y)),this},getCenter:function(h){return ze((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return ze(this.min.x,this.max.y)},getTopRight:function(){return ze(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var g,T;return typeof h[0]=="number"||h instanceof Pe?h=ze(h):h=Be(h),h instanceof rt?(g=h.min,T=h.max):g=T=h,g.x>=this.min.x&&T.x<=this.max.x&&g.y>=this.min.y&&T.y<=this.max.y},intersects:function(h){h=Be(h);var g=this.min,T=this.max,k=h.min,$=h.max,oe=$.x>=g.x&&k.x<=T.x,Te=$.y>=g.y&&k.y<=T.y;return oe&&Te},overlaps:function(h){h=Be(h);var g=this.min,T=this.max,k=h.min,$=h.max,oe=$.x>g.x&&k.x<T.x,Te=$.y>g.y&&k.y<T.y;return oe&&Te},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var g=this.min,T=this.max,k=Math.abs(g.x-T.x)*h,$=Math.abs(g.y-T.y)*h;return Be(ze(g.x-k,g.y-$),ze(T.x+k,T.y+$))},equals:function(h){return h?(h=Be(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function Be(h,g){return!h||h instanceof rt?h:new rt(h,g)}function qe(h,g){if(h)for(var T=g?[h,g]:h,k=0,$=T.length;k<$;k++)this.extend(T[k])}qe.prototype={extend:function(h){var g=this._southWest,T=this._northEast,k,$;if(h instanceof Je)k=h,$=h;else if(h instanceof qe){if(k=h._southWest,$=h._northEast,!k||!$)return this}else return h?this.extend(Ae(h)||$e(h)):this;return!g&&!T?(this._southWest=new Je(k.lat,k.lng),this._northEast=new Je($.lat,$.lng)):(g.lat=Math.min(k.lat,g.lat),g.lng=Math.min(k.lng,g.lng),T.lat=Math.max($.lat,T.lat),T.lng=Math.max($.lng,T.lng)),this},pad:function(h){var g=this._southWest,T=this._northEast,k=Math.abs(g.lat-T.lat)*h,$=Math.abs(g.lng-T.lng)*h;return new qe(new Je(g.lat-k,g.lng-$),new Je(T.lat+k,T.lng+$))},getCenter:function(){return new Je((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Je(this.getNorth(),this.getWest())},getSouthEast:function(){return new Je(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof Je||"lat"in h?h=Ae(h):h=$e(h);var g=this._southWest,T=this._northEast,k,$;return h instanceof qe?(k=h.getSouthWest(),$=h.getNorthEast()):k=$=h,k.lat>=g.lat&&$.lat<=T.lat&&k.lng>=g.lng&&$.lng<=T.lng},intersects:function(h){h=$e(h);var g=this._southWest,T=this._northEast,k=h.getSouthWest(),$=h.getNorthEast(),oe=$.lat>=g.lat&&k.lat<=T.lat,Te=$.lng>=g.lng&&k.lng<=T.lng;return oe&&Te},overlaps:function(h){h=$e(h);var g=this._southWest,T=this._northEast,k=h.getSouthWest(),$=h.getNorthEast(),oe=$.lat>g.lat&&k.lat<T.lat,Te=$.lng>g.lng&&k.lng<T.lng;return oe&&Te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,g){return h?(h=$e(h),this._southWest.equals(h.getSouthWest(),g)&&this._northEast.equals(h.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $e(h,g){return h instanceof qe?h:new qe(h,g)}function Je(h,g,T){if(isNaN(h)||isNaN(g))throw new Error("Invalid LatLng object: ("+h+", "+g+")");this.lat=+h,this.lng=+g,T!==void 0&&(this.alt=+T)}Je.prototype={equals:function(h,g){if(!h)return!1;h=Ae(h);var T=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return T<=(g===void 0?1e-9:g)},toString:function(h){return"LatLng("+R(this.lat,h)+", "+R(this.lng,h)+")"},distanceTo:function(h){return lt.distance(this,Ae(h))},wrap:function(){return lt.wrapLatLng(this)},toBounds:function(h){var g=180*h/40075017,T=g/Math.cos(Math.PI/180*this.lat);return $e([this.lat-g,this.lng-T],[this.lat+g,this.lng+T])},clone:function(){return new Je(this.lat,this.lng,this.alt)}};function Ae(h,g,T){return h instanceof Je?h:j(h)&&typeof h[0]!="object"?h.length===3?new Je(h[0],h[1],h[2]):h.length===2?new Je(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new Je(h.lat,"lng"in h?h.lng:h.lon,h.alt):g===void 0?null:new Je(h,g,T)}var vt={latLngToPoint:function(h,g){var T=this.projection.project(h),k=this.scale(g);return this.transformation._transform(T,k)},pointToLatLng:function(h,g){var T=this.scale(g),k=this.transformation.untransform(h,T);return this.projection.unproject(k)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var g=this.projection.bounds,T=this.scale(h),k=this.transformation.transform(g.min,T),$=this.transformation.transform(g.max,T);return new rt(k,$)},infinite:!1,wrapLatLng:function(h){var g=this.wrapLng?I(h.lng,this.wrapLng,!0):h.lng,T=this.wrapLat?I(h.lat,this.wrapLat,!0):h.lat,k=h.alt;return new Je(T,g,k)},wrapLatLngBounds:function(h){var g=h.getCenter(),T=this.wrapLatLng(g),k=g.lat-T.lat,$=g.lng-T.lng;if(k===0&&$===0)return h;var oe=h.getSouthWest(),Te=h.getNorthEast(),Ue=new Je(oe.lat-k,oe.lng-$),Ke=new Je(Te.lat-k,Te.lng-$);return new qe(Ue,Ke)}},lt=i({},vt,{wrapLng:[-180,180],R:6371e3,distance:function(h,g){var T=Math.PI/180,k=h.lat*T,$=g.lat*T,oe=Math.sin((g.lat-h.lat)*T/2),Te=Math.sin((g.lng-h.lng)*T/2),Ue=oe*oe+Math.cos(k)*Math.cos($)*Te*Te,Ke=2*Math.atan2(Math.sqrt(Ue),Math.sqrt(1-Ue));return this.R*Ke}}),en=6378137,ke={R:en,MAX_LATITUDE:85.0511287798,project:function(h){var g=Math.PI/180,T=this.MAX_LATITUDE,k=Math.max(Math.min(T,h.lat),-T),$=Math.sin(k*g);return new Pe(this.R*h.lng*g,this.R*Math.log((1+$)/(1-$))/2)},unproject:function(h){var g=180/Math.PI;return new Je((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*g,h.x*g/this.R)},bounds:function(){var h=en*Math.PI;return new rt([-h,-h],[h,h])}()};function Xe(h,g,T,k){if(j(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=g,this._c=T,this._d=k}Xe.prototype={transform:function(h,g){return this._transform(h.clone(),g)},_transform:function(h,g){return g=g||1,h.x=g*(this._a*h.x+this._b),h.y=g*(this._c*h.y+this._d),h},untransform:function(h,g){return g=g||1,new Pe((h.x/g-this._b)/this._a,(h.y/g-this._d)/this._c)}};function _t(h,g,T,k){return new Xe(h,g,T,k)}var Jt=i({},lt,{code:"EPSG:3857",projection:ke,transformation:function(){var h=.5/(Math.PI*ke.R);return _t(h,.5,-h,.5)}()}),Wt=i({},Jt,{code:"EPSG:900913"});function Zt(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function un(h,g){var T="",k,$,oe,Te,Ue,Ke;for(k=0,oe=h.length;k<oe;k++){for(Ue=h[k],$=0,Te=Ue.length;$<Te;$++)Ke=Ue[$],T+=($?"L":"M")+Ke.x+" "+Ke.y;T+=g?ve.svg?"z":"x":""}return T||"M0 0"}var nn=document.documentElement.style,dn="ActiveXObject"in window,mt=dn&&!document.addEventListener,Ot="msLaunchUri"in navigator&&!("documentMode"in document),jt=xe("webkit"),Kn=xe("android"),xn=xe("android 2")||xe("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),fn=Kn&&xe("Google")&&it<537&&!("AudioNode"in window),pn=!!window.opera,Xr=!Ot&&xe("chrome"),Ln=xe("gecko")&&!jt&&!pn&&!dn,Hn=!Xr&&xe("safari"),Cn=xe("phantom"),Xo="OTransition"in nn,ni=navigator.platform.indexOf("Win")===0,Gi=dn&&"transition"in nn,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xn,ht="MozPerspective"in nn,Qt=!window.L_DISABLE_3D&&(Gi||mn||ht)&&!Xo&&!Cn,Rt=typeof orientation<"u"||xe("mobile"),vn=Rt&&jt,Mn=Rt&&mn,yn=!window.PointerEvent&&window.MSPointerEvent,Gt=!!(window.PointerEvent||yn),Dn="ontouchstart"in window||!!window.TouchEvent,Rn=!window.L_NO_TOUCH&&(Dn||Gt),Yt=Rt&&pn,rn=Rt&&Ln,Qn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Sr=function(){var h=!1;try{var g=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",A,g),window.removeEventListener("testPassiveEventSupport",A,g)}catch{}return h}(),Pr=function(){return!!document.createElement("canvas").getContext}(),ue=!!(document.createElementNS&&Zt("svg").createSVGRect),Z=!!ue&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),te=!ue&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var g=h.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),ce=navigator.platform.indexOf("Mac")===0,me=navigator.platform.indexOf("Linux")===0;function xe(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var ve={ie:dn,ielt9:mt,edge:Ot,webkit:jt,android:Kn,android23:xn,androidStock:fn,opera:pn,chrome:Xr,gecko:Ln,safari:Hn,phantom:Cn,opera12:Xo,win:ni,ie3d:Gi,webkit3d:mn,gecko3d:ht,any3d:Qt,mobile:Rt,mobileWebkit:vn,mobileWebkit3d:Mn,msPointer:yn,pointer:Gt,touch:Rn,touchNative:Dn,mobileOpera:Yt,mobileGecko:rn,retina:Qn,passiveEvents:Sr,canvas:Pr,svg:ue,vml:te,inlineSvg:Z,mac:ce,linux:me},Ie=ve.msPointer?"MSPointerDown":"pointerdown",Se=ve.msPointer?"MSPointerMove":"pointermove",Le=ve.msPointer?"MSPointerUp":"pointerup",Ge=ve.msPointer?"MSPointerCancel":"pointercancel",st={touchstart:Ie,touchmove:Se,touchend:Le,touchcancel:Ge},Qe={touchstart:sr,touchmove:Bn,touchend:Bn,touchcancel:Bn},Mt={},$t=!1;function Ct(h,g,T){return g==="touchstart"&&bn(),Qe[g]?(T=Qe[g].bind(this,T),h.addEventListener(st[g],T,!1),T):(console.warn("wrong event specified:",g),A)}function Ft(h,g,T){if(!st[g]){console.warn("wrong event specified:",g);return}h.removeEventListener(st[g],T,!1)}function gn(h){Mt[h.pointerId]=h}function zn(h){Mt[h.pointerId]&&(Mt[h.pointerId]=h)}function cn(h){delete Mt[h.pointerId]}function bn(){$t||(document.addEventListener(Ie,gn,!0),document.addEventListener(Se,zn,!0),document.addEventListener(Le,cn,!0),document.addEventListener(Ge,cn,!0),$t=!0)}function Bn(h,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var T in Mt)g.touches.push(Mt[T]);g.changedTouches=[g],h(g)}}function sr(h,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Yr(g),Bn(h,g)}function Rr(h){var g={},T,k;for(k in h)T=h[k],g[k]=T&&T.bind?T.bind(h):T;return h=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var fr=200;function Yo(h,g){h.addEventListener("dblclick",g);var T=0,k;function $(oe){if(oe.detail!==1){k=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var Te=Ec(oe);if(!(Te.some(function(Ke){return Ke instanceof HTMLLabelElement&&Ke.attributes.for})&&!Te.some(function(Ke){return Ke instanceof HTMLInputElement||Ke instanceof HTMLSelectElement}))){var Ue=Date.now();Ue-T<=fr?(k++,k===2&&g(Rr(oe))):k=1,T=Ue}}}return h.addEventListener("click",$),{dblclick:g,simDblclick:$}}function Th(h,g){h.removeEventListener("dblclick",g.dblclick),h.removeEventListener("click",g.simDblclick)}var iu=Xa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),uo=Xa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vl=uo==="webkitTransition"||uo==="OTransition"?uo+"End":"transitionend";function Za(h){return typeof h=="string"?document.getElementById(h):h}function qi(h,g){var T=h.style[g]||h.currentStyle&&h.currentStyle[g];if((!T||T==="auto")&&document.defaultView){var k=document.defaultView.getComputedStyle(h,null);T=k?k[g]:null}return T==="auto"?null:T}function kn(h,g,T){var k=document.createElement(h);return k.className=g||"",T&&T.appendChild(k),k}function lr(h){var g=h.parentNode;g&&g.removeChild(h)}function Jo(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Ia(h){var g=h.parentNode;g&&g.lastChild!==h&&g.appendChild(h)}function Qo(h){var g=h.parentNode;g&&g.firstChild!==h&&g.insertBefore(h,g.firstChild)}function Ka(h,g){if(h.classList!==void 0)return h.classList.contains(g);var T=yl(h);return T.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(T)}function Vt(h,g){if(h.classList!==void 0)for(var T=z(g),k=0,$=T.length;k<$;k++)h.classList.add(T[k]);else if(!Ka(h,g)){var oe=yl(h);ou(h,(oe?oe+" ":"")+g)}}function er(h,g){h.classList!==void 0?h.classList.remove(g):ou(h,O((" "+yl(h)+" ").replace(" "+g+" "," ")))}function ou(h,g){h.className.baseVal===void 0?h.className=g:h.className.baseVal=g}function yl(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function Pi(h,g){"opacity"in h.style?h.style.opacity=g:"filter"in h.style&&Wi(h,g)}function Wi(h,g){var T=!1,k="DXImageTransform.Microsoft.Alpha";try{T=h.filters.item(k)}catch{if(g===1)return}g=Math.round(g*100),T?(T.Enabled=g!==100,T.Opacity=g):h.style.filter+=" progid:"+k+"(opacity="+g+")"}function Xa(h){for(var g=document.documentElement.style,T=0;T<h.length;T++)if(h[T]in g)return h[T];return!1}function ea(h,g,T){var k=g||new Pe(0,0);h.style[iu]=(ve.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(T?" scale("+T+")":"")}function pr(h,g){h._leaflet_pos=g,ve.any3d?ea(h,g):(h.style.left=g.x+"px",h.style.top=g.y+"px")}function On(h){return h._leaflet_pos||new Pe(0,0)}var Ja,ta,_l;if("onselectstart"in document)Ja=function(){ln(window,"selectstart",Yr)},ta=function(){Yn(window,"selectstart",Yr)};else{var Qa=Xa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ja=function(){if(Qa){var h=document.documentElement.style;_l=h[Qa],h[Qa]="none"}},ta=function(){Qa&&(document.documentElement.style[Qa]=_l,_l=void 0)}}function xl(){ln(window,"dragstart",Yr)}function wc(){Yn(window,"dragstart",Yr)}var na,Aa;function au(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(ri(),na=h,Aa=h.style.outline,h.style.outline="none",ln(window,"keydown",ri))}function ri(){na&&(na.style.outline=Aa,na=void 0,Aa=void 0,Yn(window,"keydown",ri))}function su(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Rs(h){var g=h.getBoundingClientRect();return{x:g.width/h.offsetWidth||1,y:g.height/h.offsetHeight||1,boundingClientRect:g}}var bl={__proto__:null,TRANSFORM:iu,TRANSITION:uo,TRANSITION_END:vl,get:Za,getStyle:qi,create:kn,remove:lr,empty:Jo,toFront:Ia,toBack:Qo,hasClass:Ka,addClass:Vt,removeClass:er,setClass:ou,getClass:yl,setOpacity:Pi,testProp:Xa,setTransform:ea,setPosition:pr,getPosition:On,get disableTextSelection(){return Ja},get enableTextSelection(){return ta},disableImageDrag:xl,enableImageDrag:wc,preventOutline:au,restoreOutline:ri,getSizedParentNode:su,getScale:Rs};function ln(h,g,T,k){if(g&&typeof g=="object")for(var $ in g)Ls(h,$,g[$],T);else{g=z(g);for(var oe=0,Te=g.length;oe<Te;oe++)Ls(h,g[oe],T,k)}return this}var Zi="_leaflet_events";function Yn(h,g,T,k){if(arguments.length===1)ks(h),delete h[Zi];else if(g&&typeof g=="object")for(var $ in g)lu(h,$,g[$],T);else if(g=z(g),arguments.length===2)ks(h,function(Ue){return Y(g,Ue)!==-1});else for(var oe=0,Te=g.length;oe<Te;oe++)lu(h,g[oe],T,k);return this}function ks(h,g){for(var T in h[Zi]){var k=T.split(/\d/)[0];(!g||g(k))&&lu(h,k,null,null,T)}}var wl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ls(h,g,T,k){var $=g+y(T)+(k?"_"+y(k):"");if(h[Zi]&&h[Zi][$])return this;var oe=function(Ue){return T.call(k||h,Ue||window.event)},Te=oe;!ve.touchNative&&ve.pointer&&g.indexOf("touch")===0?oe=Ct(h,g,oe):ve.touch&&g==="dblclick"?oe=Yo(h,oe):"addEventListener"in h?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?h.addEventListener(wl[g]||g,oe,ve.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(oe=function(Ue){Ue=Ue||window.event,Ms(h,Ue)&&Te(Ue)},h.addEventListener(wl[g],oe,!1)):h.addEventListener(g,Te,!1):h.attachEvent("on"+g,oe),h[Zi]=h[Zi]||{},h[Zi][$]=oe}function lu(h,g,T,k,$){$=$||g+y(T)+(k?"_"+y(k):"");var oe=h[Zi]&&h[Zi][$];if(!oe)return this;!ve.touchNative&&ve.pointer&&g.indexOf("touch")===0?Ft(h,g,oe):ve.touch&&g==="dblclick"?Th(h,oe):"removeEventListener"in h?h.removeEventListener(wl[g]||g,oe,!1):h.detachEvent("on"+g,oe),h[Zi][$]=null}function ra(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function ia(h){return Ls(h,"wheel",ra),this}function El(h){return ln(h,"mousedown touchstart dblclick contextmenu",ra),h._leaflet_disable_click=!0,this}function Yr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Pa(h){return Yr(h),ra(h),this}function Ec(h){if(h.composedPath)return h.composedPath();for(var g=[],T=h.target;T;)g.push(T),T=T.parentNode;return g}function Ih(h,g){if(!g)return new Pe(h.clientX,h.clientY);var T=Rs(g),k=T.boundingClientRect;return new Pe((h.clientX-k.left)/T.x-g.clientLeft,(h.clientY-k.top)/T.y-g.clientTop)}var df=ve.linux&&ve.chrome?window.devicePixelRatio:ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function uu(h){return ve.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/df:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Ms(h,g){var T=g.relatedTarget;if(!T)return!0;try{for(;T&&T!==h;)T=T.parentNode}catch{return!1}return T!==h}var Sc={__proto__:null,on:ln,off:Yn,stopPropagation:ra,disableScrollPropagation:ia,disableClickPropagation:El,preventDefault:Yr,stop:Pa,getPropagationPath:Ec,getMousePosition:Ih,getWheelDelta:uu,isExternalTarget:Ms,addListener:ln,removeListener:Yn},cu=pt.extend({run:function(h,g,T,k){this.stop(),this._el=h,this._inProgress=!0,this._duration=T||.25,this._easeOutPower=1/Math.max(k||.5,.2),this._startPos=On(h),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ee(this._animate,this),this._step()},_step:function(h){var g=+new Date-this._startTime,T=this._duration*1e3;g<T?this._runFrame(this._easeOut(g/T),h):(this._runFrame(1),this._complete())},_runFrame:function(h,g){var T=this._startPos.add(this._offset.multiplyBy(h));g&&T._round(),pr(this._el,T),this.fire("step")},_complete:function(){De(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),wn=pt.extend({options:{crs:Jt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,g){g=V(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(Ae(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=uo&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ln(this._proxy,vl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,g,T){if(g=g===void 0?this._zoom:this._limitZoom(g),h=this._limitCenter(Ae(h),g,this.options.maxBounds),T=T||{},this._stop(),this._loaded&&!T.reset&&T!==!0){T.animate!==void 0&&(T.zoom=i({animate:T.animate},T.zoom),T.pan=i({animate:T.animate,duration:T.duration},T.pan));var k=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,g,T.zoom):this._tryAnimatedPan(h,T.pan);if(k)return clearTimeout(this._sizeTimer),this}return this._resetView(h,g,T.pan&&T.pan.noMoveStart),this},setZoom:function(h,g){return this._loaded?this.setView(this.getCenter(),h,{zoom:g}):(this._zoom=h,this)},zoomIn:function(h,g){return h=h||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,g)},zoomOut:function(h,g){return h=h||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,g)},setZoomAround:function(h,g,T){var k=this.getZoomScale(g),$=this.getSize().divideBy(2),oe=h instanceof Pe?h:this.latLngToContainerPoint(h),Te=oe.subtract($).multiplyBy(1-1/k),Ue=this.containerPointToLatLng($.add(Te));return this.setView(Ue,g,{zoom:T})},_getBoundsCenterZoom:function(h,g){g=g||{},h=h.getBounds?h.getBounds():$e(h);var T=ze(g.paddingTopLeft||g.padding||[0,0]),k=ze(g.paddingBottomRight||g.padding||[0,0]),$=this.getBoundsZoom(h,!1,T.add(k));if($=typeof g.maxZoom=="number"?Math.min(g.maxZoom,$):$,$===1/0)return{center:h.getCenter(),zoom:$};var oe=k.subtract(T).divideBy(2),Te=this.project(h.getSouthWest(),$),Ue=this.project(h.getNorthEast(),$),Ke=this.unproject(Te.add(Ue).divideBy(2).add(oe),$);return{center:Ke,zoom:$}},fitBounds:function(h,g){if(h=$e(h),!h.isValid())throw new Error("Bounds are not valid.");var T=this._getBoundsCenterZoom(h,g);return this.setView(T.center,T.zoom,g)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,g){return this.setView(h,this._zoom,{pan:g})},panBy:function(h,g){if(h=ze(h).round(),g=g||{},!h.x&&!h.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){Vt(this._mapPane,"leaflet-pan-anim");var T=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,T,g.duration||.25,g.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,g,T){if(T=T||{},T.animate===!1||!ve.any3d)return this.setView(h,g,T);this._stop();var k=this.project(this.getCenter()),$=this.project(h),oe=this.getSize(),Te=this._zoom;h=Ae(h),g=g===void 0?Te:g;var Ue=Math.max(oe.x,oe.y),Ke=Ue*this.getZoomScale(Te,g),dt=$.distanceTo(k)||1,Pt=1.42,on=Pt*Pt;function Tn(Tr){var cs=Tr?-1:1,jc=Tr?Ke:Ue,Bh=Ke*Ke-Ue*Ue+cs*on*on*dt*dt,$c=2*jc*on*dt,Gs=Bh/$c,Su=Math.sqrt(Gs*Gs+1)-Gs,Tu=Su<1e-9?-18:Math.log(Su);return Tu}function ci(Tr){return(Math.exp(Tr)-Math.exp(-Tr))/2}function Bo(Tr){return(Math.exp(Tr)+Math.exp(-Tr))/2}function $s(Tr){return ci(Tr)/Bo(Tr)}var Fo=Tn(0);function Ml(Tr){return Ue*(Bo(Fo)/Bo(Fo+Pt*Tr))}function Vc(Tr){return Ue*(Bo(Fo)*$s(Fo+Pt*Tr)-ci(Fo))/on}function bu(Tr){return 1-Math.pow(1-Tr,1.5)}var Hc=Date.now(),ua=(Tn(1)-Fo)/Pt,wu=T.duration?1e3*T.duration:1e3*ua*.8;function Eu(){var Tr=(Date.now()-Hc)/wu,cs=bu(Tr)*ua;Tr<=1?(this._flyToFrame=Ee(Eu,this),this._move(this.unproject(k.add($.subtract(k).multiplyBy(Vc(cs)/dt)),Te),this.getScaleZoom(Ue/Ml(cs),Te),{flyTo:!0})):this._move(h,g)._moveEnd(!0)}return this._moveStart(!0,T.noMoveStart),Eu.call(this),this},flyToBounds:function(h,g){var T=this._getBoundsCenterZoom(h,g);return this.flyTo(T.center,T.zoom,g)},setMaxBounds:function(h){return h=$e(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var g=this.options.minZoom;return this.options.minZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var g=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,g){this._enforcingBounds=!0;var T=this.getCenter(),k=this._limitCenter(T,this._zoom,$e(h));return T.equals(k)||this.panTo(k,g),this._enforcingBounds=!1,this},panInside:function(h,g){g=g||{};var T=ze(g.paddingTopLeft||g.padding||[0,0]),k=ze(g.paddingBottomRight||g.padding||[0,0]),$=this.project(this.getCenter()),oe=this.project(h),Te=this.getPixelBounds(),Ue=Be([Te.min.add(T),Te.max.subtract(k)]),Ke=Ue.getSize();if(!Ue.contains(oe)){this._enforcingBounds=!0;var dt=oe.subtract(Ue.getCenter()),Pt=Ue.extend(oe).getSize().subtract(Ke);$.x+=dt.x<0?-Pt.x:Pt.x,$.y+=dt.y<0?-Pt.y:Pt.y,this.panTo(this.unproject($),g),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var T=this.getSize(),k=g.divideBy(2).round(),$=T.divideBy(2).round(),oe=k.subtract($);return!oe.x&&!oe.y?this:(h.animate&&h.pan?this.panBy(oe):(h.pan&&this._rawPanBy(oe),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:T}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=f(this._handleGeolocationResponse,this),T=f(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,T,h):navigator.geolocation.getCurrentPosition(g,T,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var g=h.code,T=h.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+T+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var g=h.coords.latitude,T=h.coords.longitude,k=new Je(g,T),$=k.toBounds(h.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var Te=this.getBoundsZoom($);this.setView(k,oe.maxZoom?Math.min(Te,oe.maxZoom):Te)}var Ue={latlng:k,bounds:$,timestamp:h.timestamp};for(var Ke in h.coords)typeof h.coords[Ke]=="number"&&(Ue[Ke]=h.coords[Ke]);this.fire("locationfound",Ue)}},addHandler:function(h,g){if(!g)return this;var T=this[h]=new g(this);return this._handlers.push(T),this.options[h]&&T.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(De(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)lr(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,g){var T="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),k=kn("div",T,g||this._mapPane);return h&&(this._panes[h]=k),k},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),g=this.unproject(h.getBottomLeft()),T=this.unproject(h.getTopRight());return new qe(g,T)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,g,T){h=$e(h),T=ze(T||[0,0]);var k=this.getZoom()||0,$=this.getMinZoom(),oe=this.getMaxZoom(),Te=h.getNorthWest(),Ue=h.getSouthEast(),Ke=this.getSize().subtract(T),dt=Be(this.project(Ue,k),this.project(Te,k)).getSize(),Pt=ve.any3d?this.options.zoomSnap:1,on=Ke.x/dt.x,Tn=Ke.y/dt.y,ci=g?Math.max(on,Tn):Math.min(on,Tn);return k=this.getScaleZoom(ci,k),Pt&&(k=Math.round(k/(Pt/100))*(Pt/100),k=g?Math.ceil(k/Pt)*Pt:Math.floor(k/Pt)*Pt),Math.max($,Math.min(oe,k))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,g){var T=this._getTopLeftPoint(h,g);return new rt(T,T.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,g){var T=this.options.crs;return g=g===void 0?this._zoom:g,T.scale(h)/T.scale(g)},getScaleZoom:function(h,g){var T=this.options.crs;g=g===void 0?this._zoom:g;var k=T.zoom(h*T.scale(g));return isNaN(k)?1/0:k},project:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(Ae(h),g)},unproject:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(ze(h),g)},layerPointToLatLng:function(h){var g=ze(h).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(h){var g=this.project(Ae(h))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(Ae(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds($e(h))},distance:function(h,g){return this.options.crs.distance(Ae(h),Ae(g))},containerPointToLayerPoint:function(h){return ze(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return ze(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var g=this.containerPointToLayerPoint(ze(h));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(h)))},mouseEventToContainerPoint:function(h){return Ih(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var g=this._container=Za(h);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ln(g,"scroll",this._onScroll,this),this._containerId=y(g)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,Vt(h,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=qi(h,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pr(this._mapPane,new Pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Vt(h.markerPane,"leaflet-zoom-hide"),Vt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,g,T){pr(this._mapPane,new Pe(0,0));var k=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var $=this._zoom!==g;this._moveStart($,T)._move(h,g)._moveEnd($),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(h,g){return h&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(h,g,T,k){g===void 0&&(g=this._zoom);var $=this._zoom!==g;return this._zoom=g,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),k?T&&T.pinch&&this.fire("zoom",T):(($||T&&T.pinch)&&this.fire("zoom",T),this.fire("move",T)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return De(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){pr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[y(this._container)]=this;var g=h?Yn:ln;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){De(this._resizeRequest),this._resizeRequest=Ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,g){for(var T=[],k,$=g==="mouseout"||g==="mouseover",oe=h.target||h.srcElement,Te=!1;oe;){if(k=this._targets[y(oe)],k&&(g==="click"||g==="preclick")&&this._draggableMoved(k)){Te=!0;break}if(k&&k.listens(g,!0)&&($&&!Ms(oe,h)||(T.push(k),$))||oe===this._container)break;oe=oe.parentNode}return!T.length&&!Te&&!$&&this.listens(g,!0)&&(T=[this]),T},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var g=h.target||h.srcElement;if(!(!this._loaded||g._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(g))){var T=h.type;T==="mousedown"&&au(g),this._fireDOMEvent(h,T)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,g,T){if(h.type==="click"){var k=i({},h);k.type="preclick",this._fireDOMEvent(k,k.type,T)}var $=this._findEventTargets(h,g);if(T){for(var oe=[],Te=0;Te<T.length;Te++)T[Te].listens(g,!0)&&oe.push(T[Te]);$=oe.concat($)}if($.length){g==="contextmenu"&&Yr(h);var Ue=$[0],Ke={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var dt=Ue.getLatLng&&(!Ue._radius||Ue._radius<=10);Ke.containerPoint=dt?this.latLngToContainerPoint(Ue.getLatLng()):this.mouseEventToContainerPoint(h),Ke.layerPoint=this.containerPointToLayerPoint(Ke.containerPoint),Ke.latlng=dt?Ue.getLatLng():this.layerPointToLatLng(Ke.layerPoint)}for(Te=0;Te<$.length;Te++)if($[Te].fire(g,Ke,!0),Ke.originalEvent._stopped||$[Te].options.bubblingMouseEvents===!1&&Y(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,g=this._handlers.length;h<g;h++)this._handlers[h].disable()},whenReady:function(h,g){return this._loaded?h.call(g||this,{target:this}):this.on("load",h,g),this},_getMapPanePos:function(){return On(this._mapPane)||new Pe(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,g){var T=h&&g!==void 0?this._getNewPixelOrigin(h,g):this.getPixelOrigin();return T.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,g){var T=this.getSize()._divideBy(2);return this.project(h,g)._subtract(T)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,g,T){var k=this._getNewPixelOrigin(T,g);return this.project(h,g)._subtract(k)},_latLngBoundsToNewLayerBounds:function(h,g,T){var k=this._getNewPixelOrigin(T,g);return Be([this.project(h.getSouthWest(),g)._subtract(k),this.project(h.getNorthWest(),g)._subtract(k),this.project(h.getSouthEast(),g)._subtract(k),this.project(h.getNorthEast(),g)._subtract(k)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,g,T){if(!T)return h;var k=this.project(h,g),$=this.getSize().divideBy(2),oe=new rt(k.subtract($),k.add($)),Te=this._getBoundsOffset(oe,T,g);return Math.abs(Te.x)<=1&&Math.abs(Te.y)<=1?h:this.unproject(k.add(Te),g)},_limitOffset:function(h,g){if(!g)return h;var T=this.getPixelBounds(),k=new rt(T.min.add(h),T.max.add(h));return h.add(this._getBoundsOffset(k,g))},_getBoundsOffset:function(h,g,T){var k=Be(this.project(g.getNorthEast(),T),this.project(g.getSouthWest(),T)),$=k.min.subtract(h.min),oe=k.max.subtract(h.max),Te=this._rebound($.x,-oe.x),Ue=this._rebound($.y,-oe.y);return new Pe(Te,Ue)},_rebound:function(h,g){return h+g>0?Math.round(h-g)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(g))},_limitZoom:function(h){var g=this.getMinZoom(),T=this.getMaxZoom(),k=ve.any3d?this.options.zoomSnap:1;return k&&(h=Math.round(h/k)*k),Math.max(g,Math.min(T,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){er(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,g){var T=this._getCenterOffset(h)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(T)?!1:(this.panBy(T,g),!0)},_createAnimProxy:function(){var h=this._proxy=kn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(g){var T=iu,k=this._proxy.style[T];ea(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),k===this._proxy.style[T]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),g=this.getZoom();ea(this._proxy,this.project(h,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,g,T){if(this._animatingZoom)return!0;if(T=T||{},!this._zoomAnimated||T.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(g),$=this._getCenterOffset(h)._divideBy(1-1/k);return T.animate!==!0&&!this.getSize().contains($)?!1:(Ee(function(){this._moveStart(!0,!1)._animateZoom(h,g,!0)},this),!0)},_animateZoom:function(h,g,T,k){this._mapPane&&(T&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=g,Vt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:g,noUpdate:k}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&er(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fn(h,g){return new wn(h,g)}var Ki=Fe.extend({options:{position:"topright"},initialize:function(h){V(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var g=this._map;return g&&g.removeControl(this),this.options.position=h,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var g=this._container=this.onAdd(h),T=this.getPosition(),k=h._controlCorners[T];return Vt(g,"leaflet-control"),T.indexOf("bottom")!==-1?k.insertBefore(g,k.firstChild):k.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),es=function(h){return new Ki(h)};wn.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},g="leaflet-",T=this._controlContainer=kn("div",g+"control-container",this._container);function k($,oe){var Te=g+$+" "+g+oe;h[$+oe]=kn("div",Te,T)}k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)lr(this._controlCorners[h]);lr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Oa=Ki.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,g,T,k){return T<k?-1:k<T?1:0}},initialize:function(h,g,T){V(this,T),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var k in h)this._addLayer(h[k],k);for(k in g)this._addLayer(g[k],k,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Ki.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,g){return this._addLayer(h,g),this._map?this._update():this},addOverlay:function(h,g){return this._addLayer(h,g,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var g=this._getLayer(y(h));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){Vt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Vt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):er(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return er(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",g=this._container=kn("div",h),T=this.options.collapsed;g.setAttribute("aria-haspopup",!0),El(g),ia(g);var k=this._section=kn("section",h+"-list");T&&(this._map.on("click",this.collapse,this),ln(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var $=this._layersLink=kn("a",h+"-toggle",g);$.href="#",$.title="Layers",$.setAttribute("role","button"),ln($,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){Yr(oe),this._expandSafely()}},this),T||this.expand(),this._baseLayersList=kn("div",h+"-base",k),this._separator=kn("div",h+"-separator",k),this._overlaysList=kn("div",h+"-overlays",k),g.appendChild(k)},_getLayer:function(h){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&y(this._layers[g].layer)===h)return this._layers[g]},_addLayer:function(h,g,T){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:g,overlay:T}),this.options.sortLayers&&this._layers.sort(f(function(k,$){return this.options.sortFunction(k.layer,$.layer,k.name,$.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jo(this._baseLayersList),Jo(this._overlaysList),this._layerControlInputs=[];var h,g,T,k,$=0;for(T=0;T<this._layers.length;T++)k=this._layers[T],this._addItem(k),g=g||k.overlay,h=h||!k.overlay,$+=k.overlay?0:1;return this.options.hideSingleBase&&(h=h&&$>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=g&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var g=this._getLayer(y(h.target)),T=g.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;T&&this._map.fire(T,g)},_createRadioElement:function(h,g){var T='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(g?' checked="checked"':"")+"/>",k=document.createElement("div");return k.innerHTML=T,k.firstChild},_addItem:function(h){var g=document.createElement("label"),T=this._map.hasLayer(h.layer),k;h.overlay?(k=document.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=T):k=this._createRadioElement("leaflet-base-layers_"+y(this),T),this._layerControlInputs.push(k),k.layerId=y(h.layer),ln(k,"click",this._onInputClick,this);var $=document.createElement("span");$.innerHTML=" "+h.name;var oe=document.createElement("span");g.appendChild(oe),oe.appendChild(k),oe.appendChild($);var Te=h.overlay?this._overlaysList:this._baseLayersList;return Te.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){var h=this._layerControlInputs,g,T,k=[],$=[];this._handlingClick=!0;for(var oe=h.length-1;oe>=0;oe--)g=h[oe],T=this._getLayer(g.layerId).layer,g.checked?k.push(T):g.checked||$.push(T);for(oe=0;oe<$.length;oe++)this._map.hasLayer($[oe])&&this._map.removeLayer($[oe]);for(oe=0;oe<k.length;oe++)this._map.hasLayer(k[oe])||this._map.addLayer(k[oe]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,g,T,k=this._map.getZoom(),$=h.length-1;$>=0;$--)g=h[$],T=this._getLayer(g.layerId).layer,g.disabled=T.options.minZoom!==void 0&&k<T.options.minZoom||T.options.maxZoom!==void 0&&k>T.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;ln(h,"click",Yr),this.expand(),setTimeout(function(){Yn(h,"click",Yr)})}}),Ah=function(h,g,T){return new Oa(h,g,T)},Ca=Ki.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var g="leaflet-control-zoom",T=kn("div",g+" leaflet-bar"),k=this.options;return this._zoomInButton=this._createButton(k.zoomInText,k.zoomInTitle,g+"-in",T,this._zoomIn),this._zoomOutButton=this._createButton(k.zoomOutText,k.zoomOutTitle,g+"-out",T,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),T},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,g,T,k,$){var oe=kn("a",T,k);return oe.innerHTML=h,oe.href="#",oe.title=g,oe.setAttribute("role","button"),oe.setAttribute("aria-label",g),El(oe),ln(oe,"click",Pa),ln(oe,"click",$,this),ln(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var h=this._map,g="leaflet-disabled";er(this._zoomInButton,g),er(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Vt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Vt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});wn.mergeOptions({zoomControl:!0}),wn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ca,this.addControl(this.zoomControl))});var Ds=function(h){return new Ca(h)},Tc=Ki.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var g="leaflet-control-scale",T=kn("div",g),k=this.options;return this._addScales(k,g+"-line",T),h.on(k.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),T},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,g,T){h.metric&&(this._mScale=kn("div",g,T)),h.imperial&&(this._iScale=kn("div",g,T))},_update:function(){var h=this._map,g=h.getSize().y/2,T=h.distance(h.containerPointToLatLng([0,g]),h.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(T)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var g=this._getRoundNum(h),T=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,T,g/h)},_updateImperial:function(h){var g=h*3.2808399,T,k,$;g>5280?(T=g/5280,k=this._getRoundNum(T),this._updateScale(this._iScale,k+" mi",k/T)):($=this._getRoundNum(g),this._updateScale(this._iScale,$+" ft",$/g))},_updateScale:function(h,g,T){h.style.width=Math.round(this.options.maxWidth*T)+"px",h.innerHTML=g},_getRoundNum:function(h){var g=Math.pow(10,(Math.floor(h)+"").length-1),T=h/g;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:1,g*T}}),Ic=function(h){return new Tc(h)},jn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ns=Ki.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?jn+" ":"")+"Leaflet</a>"},initialize:function(h){V(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=kn("div","leaflet-control-attribution"),El(this._container);for(var g in h._layers)h._layers[g].getAttribution&&this.addAttribution(h._layers[g].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var g in this._attributions)this._attributions[g]&&h.push(g);var T=[];this.options.prefix&&T.push(this.options.prefix),h.length&&T.push(h.join(", ")),this._container.innerHTML=T.join(' <span aria-hidden="true">|</span> ')}}});wn.mergeOptions({attributionControl:!0}),wn.addInitHook(function(){this.options.attributionControl&&new Ns().addTo(this)});var ff=function(h){return new Ns(h)};Ki.Layers=Oa,Ki.Zoom=Ca,Ki.Scale=Tc,Ki.Attribution=Ns,es.layers=Ah,es.zoom=Ds,es.scale=Ic,es.attribution=ff;var co=Fe.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});co.addTo=function(h,g){return h.addHandler(g,this),this};var Sl={Events:Ye},Ph=ve.touch?"touchstart mousedown":"mousedown",Ra=pt.extend({options:{clickTolerance:3},initialize:function(h,g,T,k){V(this,k),this._element=h,this._dragStartTarget=g||h,this._preventOutline=T},enable:function(){this._enabled||(ln(this._dragStartTarget,Ph,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ra._dragging===this&&this.finishDrag(!0),Yn(this._dragStartTarget,Ph,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Ka(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){Ra._dragging===this&&this.finishDrag();return}if(!(Ra._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(Ra._dragging=this,this._preventOutline&&au(this._element),xl(),Ja(),!this._moving)){this.fire("down");var g=h.touches?h.touches[0]:h,T=su(this._element);this._startPoint=new Pe(g.clientX,g.clientY),this._startPos=On(this._element),this._parentScale=Rs(T);var k=h.type==="mousedown";ln(document,k?"mousemove":"touchmove",this._onMove,this),ln(document,k?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var g=h.touches&&h.touches.length===1?h.touches[0]:h,T=new Pe(g.clientX,g.clientY)._subtract(this._startPoint);!T.x&&!T.y||Math.abs(T.x)+Math.abs(T.y)<this.options.clickTolerance||(T.x/=this._parentScale.x,T.y/=this._parentScale.y,Yr(h),this._moved||(this.fire("dragstart"),this._moved=!0,Vt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Vt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(T),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),pr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){er(document.body,"leaflet-dragging"),this._lastTarget&&(er(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Yn(document,"mousemove touchmove",this._onMove,this),Yn(document,"mouseup touchend touchcancel",this._onUp,this),wc(),ta(),this._moved&&this._moving&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ra._dragging=!1}});function Ac(h,g){if(!g||!h.length)return h.slice();var T=g*g;return h=Oc(h,T),h=hu(h,T),h}function Oh(h,g,T){return Math.sqrt(Bs(h,g,T,!0))}function Pc(h,g,T){return Bs(h,g,T)}function hu(h,g){var T=h.length,k=typeof Uint8Array!=void 0+""?Uint8Array:Array,$=new k(T);$[0]=$[T-1]=1,zs(h,$,g,0,T-1);var oe,Te=[];for(oe=0;oe<T;oe++)$[oe]&&Te.push(h[oe]);return Te}function zs(h,g,T,k,$){var oe=0,Te,Ue,Ke;for(Ue=k+1;Ue<=$-1;Ue++)Ke=Bs(h[Ue],h[k],h[$],!0),Ke>oe&&(Te=Ue,oe=Ke);oe>T&&(g[Te]=1,zs(h,g,T,k,Te),zs(h,g,T,Te,$))}function Oc(h,g){for(var T=[h[0]],k=1,$=0,oe=h.length;k<oe;k++)Xi(h[k],h[$])>g&&(T.push(h[k]),$=k);return $<oe-1&&T.push(h[oe-1]),T}var du;function Cc(h,g,T,k,$){var oe=k?du:Lo(h,T),Te=Lo(g,T),Ue,Ke,dt;for(du=Te;;){if(!(oe|Te))return[h,g];if(oe&Te)return!1;Ue=oe||Te,Ke=ts(h,g,Ue,T,$),dt=Lo(Ke,T),Ue===oe?(h=Ke,oe=dt):(g=Ke,Te=dt)}}function ts(h,g,T,k,$){var oe=g.x-h.x,Te=g.y-h.y,Ue=k.min,Ke=k.max,dt,Pt;return T&8?(dt=h.x+oe*(Ke.y-h.y)/Te,Pt=Ke.y):T&4?(dt=h.x+oe*(Ue.y-h.y)/Te,Pt=Ue.y):T&2?(dt=Ke.x,Pt=h.y+Te*(Ke.x-h.x)/oe):T&1&&(dt=Ue.x,Pt=h.y+Te*(Ue.x-h.x)/oe),new Pe(dt,Pt,$)}function Lo(h,g){var T=0;return h.x<g.min.x?T|=1:h.x>g.max.x&&(T|=2),h.y<g.min.y?T|=4:h.y>g.max.y&&(T|=8),T}function Xi(h,g){var T=g.x-h.x,k=g.y-h.y;return T*T+k*k}function Bs(h,g,T,k){var $=g.x,oe=g.y,Te=T.x-$,Ue=T.y-oe,Ke=Te*Te+Ue*Ue,dt;return Ke>0&&(dt=((h.x-$)*Te+(h.y-oe)*Ue)/Ke,dt>1?($=T.x,oe=T.y):dt>0&&($+=Te*dt,oe+=Ue*dt)),Te=h.x-$,Ue=h.y-oe,k?Te*Te+Ue*Ue:new Pe($,oe)}function mi(h){return!j(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Rc(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mi(h)}function ns(h,g){var T,k,$,oe,Te,Ue,Ke,dt;if(!h||h.length===0)throw new Error("latlngs not passed");mi(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Pt=[];for(var on in h)Pt.push(g.project(Ae(h[on])));var Tn=Pt.length;for(T=0,k=0;T<Tn-1;T++)k+=Pt[T].distanceTo(Pt[T+1])/2;if(k===0)dt=Pt[0];else for(T=0,oe=0;T<Tn-1;T++)if(Te=Pt[T],Ue=Pt[T+1],$=Te.distanceTo(Ue),oe+=$,oe>k){Ke=(oe-k)/$,dt=[Ue.x-Ke*(Ue.x-Te.x),Ue.y-Ke*(Ue.y-Te.y)];break}return g.unproject(ze(dt))}var fu={__proto__:null,simplify:Ac,pointToSegmentDistance:Oh,closestPointOnSegment:Pc,clipSegment:Cc,_getEdgeIntersection:ts,_getBitCode:Lo,_sqClosestPointOnSegment:Bs,isFlat:mi,_flat:Rc,polylineCenter:ns};function Tl(h,g,T){var k,$=[1,4,2,8],oe,Te,Ue,Ke,dt,Pt,on,Tn;for(oe=0,Pt=h.length;oe<Pt;oe++)h[oe]._code=Lo(h[oe],g);for(Ue=0;Ue<4;Ue++){for(on=$[Ue],k=[],oe=0,Pt=h.length,Te=Pt-1;oe<Pt;Te=oe++)Ke=h[oe],dt=h[Te],Ke._code&on?dt._code&on||(Tn=ts(dt,Ke,on,g,T),Tn._code=Lo(Tn,g),k.push(Tn)):(dt._code&on&&(Tn=ts(dt,Ke,on,g,T),Tn._code=Lo(Tn,g),k.push(Tn)),k.push(Ke));h=k}return h}function Ch(h,g){var T,k,$,oe,Te,Ue,Ke,dt,Pt;if(!h||h.length===0)throw new Error("latlngs not passed");mi(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var on=[];for(var Tn in h)on.push(g.project(Ae(h[Tn])));var ci=on.length;for(Ue=Ke=dt=0,T=0,k=ci-1;T<ci;k=T++)$=on[T],oe=on[k],Te=$.y*oe.x-oe.y*$.x,Ke+=($.x+oe.x)*Te,dt+=($.y+oe.y)*Te,Ue+=Te*3;return Ue===0?Pt=on[0]:Pt=[Ke/Ue,dt/Ue],g.unproject(ze(Pt))}var kc={__proto__:null,clipPolygon:Tl,polygonCenter:Ch},Lc={project:function(h){return new Pe(h.lng,h.lat)},unproject:function(h){return new Je(h.y,h.x)},bounds:new rt([-180,-90],[180,90])},mr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new rt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var g=Math.PI/180,T=this.R,k=h.lat*g,$=this.R_MINOR/T,oe=Math.sqrt(1-$*$),Te=oe*Math.sin(k),Ue=Math.tan(Math.PI/4-k/2)/Math.pow((1-Te)/(1+Te),oe/2);return k=-T*Math.log(Math.max(Ue,1e-10)),new Pe(h.lng*g*T,k)},unproject:function(h){for(var g=180/Math.PI,T=this.R,k=this.R_MINOR/T,$=Math.sqrt(1-k*k),oe=Math.exp(-h.y/T),Te=Math.PI/2-2*Math.atan(oe),Ue=0,Ke=.1,dt;Ue<15&&Math.abs(Ke)>1e-7;Ue++)dt=$*Math.sin(Te),dt=Math.pow((1-dt)/(1+dt),$/2),Ke=Math.PI/2-2*Math.atan(oe*dt)-Te,Te+=Ke;return new Je(Te*g,h.x*g/T)}},pu={__proto__:null,LonLat:Lc,Mercator:mr,SphericalMercator:ke},En=i({},lt,{code:"EPSG:3395",projection:mr,transformation:function(){var h=.5/(Math.PI*mr.R);return _t(h,.5,-h,.5)}()}),Il=i({},lt,{code:"EPSG:4326",projection:Lc,transformation:_t(1/180,1,-1/180,.5)}),ur=i({},vt,{projection:Lc,transformation:_t(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,g){var T=g.lng-h.lng,k=g.lat-h.lat;return Math.sqrt(T*T+k*k)},infinite:!0});vt.Earth=lt,vt.EPSG3395=En,vt.EPSG3857=Jt,vt.EPSG900913=Wt,vt.EPSG4326=Il,vt.Simple=ur;var Sn=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[y(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[y(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var g=h.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var T=this.getEvents();g.on(T,this),this.once("remove",function(){g.off(T,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});wn.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var g=y(h);return this._layers[g]?this:(this._layers[g]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var g=y(h);return this._layers[g]?(this._loaded&&h.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return y(h)in this._layers},eachLayer:function(h,g){for(var T in this._layers)h.call(g,this._layers[T]);return this},_addLayers:function(h){h=h?j(h)?h:[h]:[];for(var g=0,T=h.length;g<T;g++)this.addLayer(h[g])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[y(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var g=y(h);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,g=-1/0,T=this._getZoomSpan();for(var k in this._zoomBoundLayers){var $=this._zoomBoundLayers[k].options;h=$.minZoom===void 0?h:Math.min(h,$.minZoom),g=$.maxZoom===void 0?g:Math.max(g,$.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=h===1/0?void 0:h,T!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ho=Sn.extend({initialize:function(h,g){V(this,g),this._layers={};var T,k;if(h)for(T=0,k=h.length;T<k;T++)this.addLayer(h[T])},addLayer:function(h){var g=this.getLayerId(h);return this._layers[g]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var g=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(h){var g=typeof h=="number"?h:this.getLayerId(h);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var g=Array.prototype.slice.call(arguments,1),T,k;for(T in this._layers)k=this._layers[T],k[h]&&k[h].apply(k,g);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,g){for(var T in this._layers)h.call(g,this._layers[T]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return y(h)}}),Mc=function(h,g){return new ho(h,g)},Mo=ho.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),ho.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),ho.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new qe;for(var g in this._layers){var T=this._layers[g];h.extend(T.getBounds?T.getBounds():T.getLatLng())}return h}}),Rh=function(h,g){return new Mo(h,g)},rs=Fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){V(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,g){var T=this._getIconUrl(h);if(!T){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var k=this._createImg(T,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(k,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),k},_setIconStyles:function(h,g){var T=this.options,k=T[g+"Size"];typeof k=="number"&&(k=[k,k]);var $=ze(k),oe=ze(g==="shadow"&&T.shadowAnchor||T.iconAnchor||$&&$.divideBy(2,!0));h.className="leaflet-marker-"+g+" "+(T.className||""),oe&&(h.style.marginLeft=-oe.x+"px",h.style.marginTop=-oe.y+"px"),$&&(h.style.width=$.x+"px",h.style.height=$.y+"px")},_createImg:function(h,g){return g=g||document.createElement("img"),g.src=h,g},_getIconUrl:function(h){return ve.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function kh(h){return new rs(h)}var Yi=rs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Yi.imagePath!="string"&&(Yi.imagePath=this._detectIconPath()),(this.options.imagePath||Yi.imagePath)+rs.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var g=function(T,k,$){var oe=k.exec(T);return oe&&oe[$]};return h=g(h,/^url\((['"])?(.+)\1\)$/,2),h&&g(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=kn("div","leaflet-default-icon-path",document.body),g=qi(h,"background-image")||qi(h,"backgroundImage");if(document.body.removeChild(h),g=this._stripUrl(g),g)return g;var T=document.querySelector('link[href$="leaflet.css"]');return T?T.href.substring(0,T.href.length-11-1):""}}),mu=co.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new Ra(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Vt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&er(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var g=this._marker,T=g._map,k=this._marker.options.autoPanSpeed,$=this._marker.options.autoPanPadding,oe=On(g._icon),Te=T.getPixelBounds(),Ue=T.getPixelOrigin(),Ke=Be(Te.min._subtract(Ue).add($),Te.max._subtract(Ue).subtract($));if(!Ke.contains(oe)){var dt=ze((Math.max(Ke.max.x,oe.x)-Ke.max.x)/(Te.max.x-Ke.max.x)-(Math.min(Ke.min.x,oe.x)-Ke.min.x)/(Te.min.x-Ke.min.x),(Math.max(Ke.max.y,oe.y)-Ke.max.y)/(Te.max.y-Ke.max.y)-(Math.min(Ke.min.y,oe.y)-Ke.min.y)/(Te.min.y-Ke.min.y)).multiplyBy(k);T.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),pr(g._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=Ee(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(De(this._panRequest),this._panRequest=Ee(this._adjustPan.bind(this,h)))},_onDrag:function(h){var g=this._marker,T=g._shadow,k=On(g._icon),$=g._map.layerPointToLatLng(k);T&&pr(T,k),g._latlng=$,h.latlng=$,h.oldLatLng=this._oldLatLng,g.fire("move",h).fire("drag",h)},_onDragEnd:function(h){De(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Fs=Sn.extend({options:{icon:new Yi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,g){V(this,g),this._latlng=Ae(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var g=this._latlng;return this._latlng=Ae(h),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),T=h.icon.createIcon(this._icon),k=!1;T!==this._icon&&(this._icon&&this._removeIcon(),k=!0,h.title&&(T.title=h.title),T.tagName==="IMG"&&(T.alt=h.alt||"")),Vt(T,g),h.keyboard&&(T.tabIndex="0",T.setAttribute("role","button")),this._icon=T,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ln(T,"focus",this._panOnFocus,this);var $=h.icon.createShadow(this._shadow),oe=!1;$!==this._shadow&&(this._removeShadow(),oe=!0),$&&(Vt($,g),$.alt=""),this._shadow=$,h.opacity<1&&this._updateOpacity(),k&&this.getPane().appendChild(this._icon),this._initInteraction(),$&&oe&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yn(this._icon,"focus",this._panOnFocus,this),lr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lr(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&pr(this._icon,h),this._shadow&&pr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(Vt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mu)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mu(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&Pi(this._icon,h),this._shadow&&Pi(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var g=this.options.icon.options,T=g.iconSize?ze(g.iconSize):ze(0,0),k=g.iconAnchor?ze(g.iconAnchor):ze(0,0);h.panInside(this._latlng,{paddingTopLeft:k,paddingBottomRight:T.subtract(k)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Dc(h,g){return new Fs(h,g)}var fo=Sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return V(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Al=fo.extend({options:{fill:!0,radius:10},initialize:function(h,g){V(this,g),this._latlng=Ae(h),this._radius=this.options.radius},setLatLng:function(h){var g=this._latlng;return this._latlng=Ae(h),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var g=h&&h.radius||this._radius;return fo.prototype.setStyle.call(this,h),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,g=this._radiusY||h,T=this._clickTolerance(),k=[h+T,g+T];this._pxBounds=new rt(this._point.subtract(k),this._point.add(k))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lh(h,g){return new Al(h,g)}var is=Al.extend({initialize:function(h,g,T){if(typeof g=="number"&&(g=i({},T,{radius:g})),V(this,g),this._latlng=Ae(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new qe(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:fo.prototype.setStyle,_project:function(){var h=this._latlng.lng,g=this._latlng.lat,T=this._map,k=T.options.crs;if(k.distance===lt.distance){var $=Math.PI/180,oe=this._mRadius/lt.R/$,Te=T.project([g+oe,h]),Ue=T.project([g-oe,h]),Ke=Te.add(Ue).divideBy(2),dt=T.unproject(Ke).lat,Pt=Math.acos((Math.cos(oe*$)-Math.sin(g*$)*Math.sin(dt*$))/(Math.cos(g*$)*Math.cos(dt*$)))/$;(isNaN(Pt)||Pt===0)&&(Pt=oe/Math.cos(Math.PI/180*g)),this._point=Ke.subtract(T.getPixelOrigin()),this._radius=isNaN(Pt)?0:Ke.x-T.project([dt,h-Pt]).x,this._radiusY=Ke.y-Te.y}else{var on=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=T.latLngToLayerPoint(this._latlng),this._radius=this._point.x-T.latLngToLayerPoint(on).x}this._updateBounds()}});function Mh(h,g,T){return new is(h,g,T)}var Hr=fo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,g){V(this,g),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var g=1/0,T=null,k=Bs,$,oe,Te=0,Ue=this._parts.length;Te<Ue;Te++)for(var Ke=this._parts[Te],dt=1,Pt=Ke.length;dt<Pt;dt++){$=Ke[dt-1],oe=Ke[dt];var on=k(h,$,oe,!0);on<g&&(g=on,T=k(h,$,oe))}return T&&(T.distance=Math.sqrt(g)),T},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ns(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,g){return g=g||this._defaultShape(),h=Ae(h),g.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new qe,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return mi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var g=[],T=mi(h),k=0,$=h.length;k<$;k++)T?(g[k]=Ae(h[k]),this._bounds.extend(g[k])):g[k]=this._convertLatLngs(h[k]);return g},_project:function(){var h=new rt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),g=new Pe(h,h);this._rawPxBounds&&(this._pxBounds=new rt([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(h,g,T){var k=h[0]instanceof Je,$=h.length,oe,Te;if(k){for(Te=[],oe=0;oe<$;oe++)Te[oe]=this._map.latLngToLayerPoint(h[oe]),T.extend(Te[oe]);g.push(Te)}else for(oe=0;oe<$;oe++)this._projectLatlngs(h[oe],g,T)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,T,k,$,oe,Te,Ue,Ke;for(T=0,$=0,oe=this._rings.length;T<oe;T++)for(Ke=this._rings[T],k=0,Te=Ke.length;k<Te-1;k++)Ue=Cc(Ke[k],Ke[k+1],h,k,!0),Ue&&(g[$]=g[$]||[],g[$].push(Ue[0]),(Ue[1]!==Ke[k+1]||k===Te-2)&&(g[$].push(Ue[1]),$++))}},_simplifyPoints:function(){for(var h=this._parts,g=this.options.smoothFactor,T=0,k=h.length;T<k;T++)h[T]=Ac(h[T],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,g){var T,k,$,oe,Te,Ue,Ke=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(T=0,oe=this._parts.length;T<oe;T++)for(Ue=this._parts[T],k=0,Te=Ue.length,$=Te-1;k<Te;$=k++)if(!(!g&&k===0)&&Oh(h,Ue[$],Ue[k])<=Ke)return!0;return!1}});function oa(h,g){return new Hr(h,g)}Hr._flat=Rc;var os=Hr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ch(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var g=Hr.prototype._convertLatLngs.call(this,h),T=g.length;return T>=2&&g[0]instanceof Je&&g[0].equals(g[T-1])&&g.pop(),g},_setLatLngs:function(h){Hr.prototype._setLatLngs.call(this,h),mi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,g=this.options.weight,T=new Pe(g,g);if(h=new rt(h.min.subtract(T),h.max.add(T)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var k=0,$=this._rings.length,oe;k<$;k++)oe=Tl(this._rings[k],h,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var g=!1,T,k,$,oe,Te,Ue,Ke,dt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(oe=0,Ke=this._parts.length;oe<Ke;oe++)for(T=this._parts[oe],Te=0,dt=T.length,Ue=dt-1;Te<dt;Ue=Te++)k=T[Te],$=T[Ue],k.y>h.y!=$.y>h.y&&h.x<($.x-k.x)*(h.y-k.y)/($.y-k.y)+k.x&&(g=!g);return g||Hr.prototype._containsPoint.call(this,h,!0)}});function aa(h,g){return new os(h,g)}var gi=Mo.extend({initialize:function(h,g){V(this,g),this._layers={},h&&this.addData(h)},addData:function(h){var g=j(h)?h:h.features,T,k,$;if(g){for(T=0,k=g.length;T<k;T++)$=g[T],($.geometries||$.geometry||$.features||$.coordinates)&&this.addData($);return this}var oe=this.options;if(oe.filter&&!oe.filter(h))return this;var Te=Pl(h,oe);return Te?(Te.feature=La(h),Te.defaultOptions=Te.options,this.resetStyle(Te),oe.onEachFeature&&oe.onEachFeature(h,Te),this.addLayer(Te)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(g){this._setLayerStyle(g,h)},this)},_setLayerStyle:function(h,g){h.setStyle&&(typeof g=="function"&&(g=g(h.feature)),h.setStyle(g))}});function Pl(h,g){var T=h.type==="Feature"?h.geometry:h,k=T?T.coordinates:null,$=[],oe=g&&g.pointToLayer,Te=g&&g.coordsToLatLng||Nc,Ue,Ke,dt,Pt;if(!k&&!T)return null;switch(T.type){case"Point":return Ue=Te(k),Ol(oe,h,Ue,g);case"MultiPoint":for(dt=0,Pt=k.length;dt<Pt;dt++)Ue=Te(k[dt]),$.push(Ol(oe,h,Ue,g));return new Mo($);case"LineString":case"MultiLineString":return Ke=Us(k,T.type==="LineString"?0:1,Te),new Hr(Ke,g);case"Polygon":case"MultiPolygon":return Ke=Us(k,T.type==="Polygon"?1:2,Te),new os(Ke,g);case"GeometryCollection":for(dt=0,Pt=T.geometries.length;dt<Pt;dt++){var on=Pl({geometry:T.geometries[dt],type:"Feature",properties:h.properties},g);on&&$.push(on)}return new Mo($);case"FeatureCollection":for(dt=0,Pt=T.features.length;dt<Pt;dt++){var Tn=Pl(T.features[dt],g);Tn&&$.push(Tn)}return new Mo($);default:throw new Error("Invalid GeoJSON object.")}}function Ol(h,g,T,k){return h?h(g,T):new Fs(T,k&&k.markersInheritOptions&&k)}function Nc(h){return new Je(h[1],h[0],h[2])}function Us(h,g,T){for(var k=[],$=0,oe=h.length,Te;$<oe;$++)Te=g?Us(h[$],g-1,T):(T||Nc)(h[$]),k.push(Te);return k}function ka(h,g){return h=Ae(h),h.alt!==void 0?[R(h.lng,g),R(h.lat,g),R(h.alt,g)]:[R(h.lng,g),R(h.lat,g)]}function po(h,g,T,k){for(var $=[],oe=0,Te=h.length;oe<Te;oe++)$.push(g?po(h[oe],mi(h[oe])?0:g-1,T,k):ka(h[oe],k));return!g&&T&&$.push($[0].slice()),$}function Tt(h,g){return h.feature?i({},h.feature,{geometry:g}):La(g)}function La(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var sa={toGeoJSON:function(h){return Tt(this,{type:"Point",coordinates:ka(this.getLatLng(),h)})}};Fs.include(sa),is.include(sa),Al.include(sa),Hr.include({toGeoJSON:function(h){var g=!mi(this._latlngs),T=po(this._latlngs,g?1:0,!1,h);return Tt(this,{type:(g?"Multi":"")+"LineString",coordinates:T})}}),os.include({toGeoJSON:function(h){var g=!mi(this._latlngs),T=g&&!mi(this._latlngs[0]),k=po(this._latlngs,T?2:g?1:0,!0,h);return g||(k=[k]),Tt(this,{type:(T?"Multi":"")+"Polygon",coordinates:k})}}),ho.include({toMultiPoint:function(h){var g=[];return this.eachLayer(function(T){g.push(T.toGeoJSON(h).geometry.coordinates)}),Tt(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(h){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(h);var T=g==="GeometryCollection",k=[];return this.eachLayer(function($){if($.toGeoJSON){var oe=$.toGeoJSON(h);if(T)k.push(oe.geometry);else{var Te=La(oe);Te.type==="FeatureCollection"?k.push.apply(k,Te.features):k.push(Te)}}}),T?Tt(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}});function Ma(h,g){return new gi(h,g)}var Dh=Ma,wt=Sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,g,T){this._url=h,this._bounds=$e(g),V(this,T)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Vt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Ia(this._image),this},bringToBack:function(){return this._map&&Qo(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=$e(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",g=this._image=h?this._url:kn("img");if(Vt(g,"leaflet-image-layer"),this._zoomAnimated&&Vt(g,"leaflet-zoom-animated"),this.options.className&&Vt(g,this.options.className),g.onselectstart=A,g.onmousemove=A,g.onload=f(this.fire,this,"load"),g.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(h){var g=this._map.getZoomScale(h.zoom),T=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;ea(this._image,T,g)},_reset:function(){var h=this._image,g=new rt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),T=g.getSize();pr(h,g.min),h.style.width=T.x+"px",h.style.height=T.y+"px"},_updateOpacity:function(){Pi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),zc=function(h,g,T){return new wt(h,g,T)},Nh=wt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",g=this._image=h?this._url:kn("video");if(Vt(g,"leaflet-image-layer"),this._zoomAnimated&&Vt(g,"leaflet-zoom-animated"),this.options.className&&Vt(g,this.options.className),g.onselectstart=A,g.onmousemove=A,g.onloadeddata=f(this.fire,this,"load"),h){for(var T=g.getElementsByTagName("source"),k=[],$=0;$<T.length;$++)k.push(T[$].src);this._url=T.length>0?k:[g.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var Te=kn("source");Te.src=this._url[oe],g.appendChild(Te)}}});function pf(h,g,T){return new Nh(h,g,T)}var gu=wt.extend({_initImage:function(){var h=this._image=this._url;Vt(h,"leaflet-image-layer"),this._zoomAnimated&&Vt(h,"leaflet-zoom-animated"),this.options.className&&Vt(h,this.options.className),h.onselectstart=A,h.onmousemove=A}});function zh(h,g,T){return new gu(h,g,T)}var vi=Sn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,g){h&&(h instanceof Je||j(h))?(this._latlng=Ae(h),V(this,g)):(V(this,h),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&Pi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&Pi(this._container,1),this.bringToFront(),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(Pi(this._container,0),this._removeTimeout=setTimeout(f(lr,void 0,this._container),200)):lr(this._container),this.options.interactive&&(er(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=Ae(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ia(this._container),this},bringToBack:function(){return this._map&&Qo(this._container),this},_prepareOpen:function(h){var g=this._source;if(!g._map)return!1;if(g instanceof Mo){g=null;var T=this._source._layers;for(var k in T)if(T[k]._map){g=T[k];break}if(!g)return!1;this._source=g}if(!h)if(g.getCenter)h=g.getCenter();else if(g.getLatLng)h=g.getLatLng();else if(g.getBounds)h=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")h.innerHTML=g;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),g=ze(this.options.offset),T=this._getAnchor();this._zoomAnimated?pr(this._container,h.add(T)):g=g.add(h).add(T);var k=this._containerBottom=-g.y,$=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=k+"px",this._container.style.left=$+"px"}},_getAnchor:function(){return[0,0]}});wn.include({_initOverlay:function(h,g,T,k){var $=g;return $ instanceof h||($=new h(k).setContent(g)),T&&$.setLatLng(T),$}}),Sn.include({_initOverlay:function(h,g,T,k){var $=T;return $ instanceof h?(V($,k),$._source=this):($=g&&!k?g:new h(k,this),$.setContent(T)),$}});var as=vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,vi.prototype.openOn.call(this,h)},onAdd:function(h){vi.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fo||this._source.on("preclick",ra))},onRemove:function(h){vi.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fo||this._source.off("preclick",ra))},getEvents:function(){var h=vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",g=this._container=kn("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),T=this._wrapper=kn("div",h+"-content-wrapper",g);if(this._contentNode=kn("div",h+"-content",T),El(g),ia(this._contentNode),ln(g,"contextmenu",ra),this._tipContainer=kn("div",h+"-tip-container",g),this._tip=kn("div",h+"-tip",this._tipContainer),this.options.closeButton){var k=this._closeButton=kn("a",h+"-close-button",g);k.setAttribute("role","button"),k.setAttribute("aria-label","Close popup"),k.href="#close",k.innerHTML='<span aria-hidden="true">&#215;</span>',ln(k,"click",function($){Yr($),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,g=h.style;g.width="",g.whiteSpace="nowrap";var T=h.offsetWidth;T=Math.min(T,this.options.maxWidth),T=Math.max(T,this.options.minWidth),g.width=T+1+"px",g.whiteSpace="",g.height="";var k=h.offsetHeight,$=this.options.maxHeight,oe="leaflet-popup-scrolled";$&&k>$?(g.height=$+"px",Vt(h,oe)):er(h,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),T=this._getAnchor();pr(this._container,g.add(T))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,g=parseInt(qi(this._container,"marginBottom"),10)||0,T=this._container.offsetHeight+g,k=this._containerWidth,$=new Pe(this._containerLeft,-T-this._containerBottom);$._add(On(this._container));var oe=h.layerPointToContainerPoint($),Te=ze(this.options.autoPanPadding),Ue=ze(this.options.autoPanPaddingTopLeft||Te),Ke=ze(this.options.autoPanPaddingBottomRight||Te),dt=h.getSize(),Pt=0,on=0;oe.x+k+Ke.x>dt.x&&(Pt=oe.x+k-dt.x+Ke.x),oe.x-Pt-Ue.x<0&&(Pt=oe.x-Ue.x),oe.y+T+Ke.y>dt.y&&(on=oe.y+T-dt.y+Ke.y),oe.y-on-Ue.y<0&&(on=oe.y-Ue.y),(Pt||on)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Pt,on]))}},_getAnchor:function(){return ze(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ji=function(h,g){return new as(h,g)};wn.mergeOptions({closePopupOnClick:!0}),wn.include({openPopup:function(h,g,T){return this._initOverlay(as,h,g,T).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Sn.include({bindPopup:function(h,g){return this._popup=this._initOverlay(as,this._popup,h,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Mo||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){Pa(h);var g=h.layer||h.target;if(this._popup._source===g&&!(g instanceof fo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=g,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var la=vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){vi.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){vi.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=vi.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",g=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kn("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var g,T,k=this._map,$=this._container,oe=k.latLngToContainerPoint(k.getCenter()),Te=k.layerPointToContainerPoint(h),Ue=this.options.direction,Ke=$.offsetWidth,dt=$.offsetHeight,Pt=ze(this.options.offset),on=this._getAnchor();Ue==="top"?(g=Ke/2,T=dt):Ue==="bottom"?(g=Ke/2,T=0):Ue==="center"?(g=Ke/2,T=dt/2):Ue==="right"?(g=0,T=dt/2):Ue==="left"?(g=Ke,T=dt/2):Te.x<oe.x?(Ue="right",g=0,T=dt/2):(Ue="left",g=Ke+(Pt.x+on.x)*2,T=dt/2),h=h.subtract(ze(g,T,!0)).add(Pt).add(on),er($,"leaflet-tooltip-right"),er($,"leaflet-tooltip-left"),er($,"leaflet-tooltip-top"),er($,"leaflet-tooltip-bottom"),Vt($,"leaflet-tooltip-"+Ue),pr($,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&Pi(this._container,h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(g)},_getAnchor:function(){return ze(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bc=function(h,g){return new la(h,g)};wn.include({openTooltip:function(h,g,T){return this._initOverlay(la,h,g,T).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Sn.include({bindTooltip:function(h,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(la,this._tooltip,h,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var g=h?"off":"on",T={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?T.add=this._openTooltip:(T.mouseover=this._openTooltip,T.mouseout=this.closeTooltip,T.click=this._openTooltip,this._map?this._addFocusListeners():T.add=this._addFocusListeners),this._tooltip.options.sticky&&(T.mousemove=this._moveTooltip),this[g](T),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Mo||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var g=h.getElement();g&&(ln(g,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),ln(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var g=h.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0))},_moveTooltip:function(h){var g=h.latlng,T,k;this._tooltip.options.sticky&&h.originalEvent&&(T=this._map.mouseEventToContainerPoint(h.originalEvent),k=this._map.containerPointToLayerPoint(T),g=this._map.layerPointToLatLng(k)),this._tooltip.setLatLng(g)}});var vu=rs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var g=h&&h.tagName==="DIV"?h:document.createElement("div"),T=this.options;if(T.html instanceof Element?(Jo(g),g.appendChild(T.html)):g.innerHTML=T.html!==!1?T.html:"",T.bgPos){var k=ze(T.bgPos);g.style.backgroundPosition=-k.x+"px "+-k.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function Fc(h){return new vu(h)}rs.Default=Yi;var jr=Sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){V(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),lr(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ia(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof Pe?h:new Pe(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var g=this.getPane().children,T=-h(-1/0,1/0),k=0,$=g.length,oe;k<$;k++)oe=g[k].style.zIndex,g[k]!==this._container&&oe&&(T=h(T,+oe));isFinite(T)&&(this.options.zIndex=T+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){Pi(this._container,this.options.opacity);var h=+new Date,g=!1,T=!1;for(var k in this._tiles){var $=this._tiles[k];if(!(!$.current||!$.loaded)){var oe=Math.min(1,(h-$.loaded)/200);Pi($.el,oe),oe<1?g=!0:($.active?T=!0:this._onOpaqueTile($),$.active=!0)}}T&&!this._noPrune&&this._pruneTiles(),g&&(De(this._fadeFrame),this._fadeFrame=Ee(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=kn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,g=this.options.maxZoom;if(h!==void 0){for(var T in this._levels)T=Number(T),this._levels[T].el.children.length||T===h?(this._levels[T].el.style.zIndex=g-Math.abs(h-T),this._onUpdateLevel(T)):(lr(this._levels[T].el),this._removeTilesAtZoom(T),this._onRemoveLevel(T),delete this._levels[T]);var k=this._levels[h],$=this._map;return k||(k=this._levels[h]={},k.el=kn("div","leaflet-tile-container leaflet-zoom-animated",this._container),k.el.style.zIndex=g,k.origin=$.project($.unproject($.getPixelOrigin()),h).round(),k.zoom=h,this._setZoomTransform(k,$.getCenter(),$.getZoom()),A(k.el.offsetWidth),this._onCreateLevel(k)),this._level=k,k}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var h,g,T=this._map.getZoom();if(T>this.options.maxZoom||T<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)g=this._tiles[h],g.retain=g.current;for(h in this._tiles)if(g=this._tiles[h],g.current&&!g.active){var k=g.coords;this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var g in this._tiles)this._tiles[g].coords.z===h&&this._removeTile(g)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)lr(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,g,T,k){var $=Math.floor(h/2),oe=Math.floor(g/2),Te=T-1,Ue=new Pe(+$,+oe);Ue.z=+Te;var Ke=this._tileCoordsToKey(Ue),dt=this._tiles[Ke];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),Te>k?this._retainParent($,oe,Te,k):!1)},_retainChildren:function(h,g,T,k){for(var $=2*h;$<2*h+2;$++)for(var oe=2*g;oe<2*g+2;oe++){var Te=new Pe($,oe);Te.z=T+1;var Ue=this._tileCoordsToKey(Te),Ke=this._tiles[Ue];if(Ke&&Ke.active){Ke.retain=!0;continue}else Ke&&Ke.loaded&&(Ke.retain=!0);T+1<k&&this._retainChildren($,oe,T+1,k)}},_resetView:function(h){var g=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var g=this.options;return g.minNativeZoom!==void 0&&h<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<h?g.maxNativeZoom:h},_setView:function(h,g,T,k){var $=Math.round(g);this.options.maxZoom!==void 0&&$>this.options.maxZoom||this.options.minZoom!==void 0&&$<this.options.minZoom?$=void 0:$=this._clampZoom($);var oe=this.options.updateWhenZooming&&$!==this._tileZoom;(!k||oe)&&(this._tileZoom=$,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),$!==void 0&&this._update(h),T||this._pruneTiles(),this._noPrune=!!T),this._setZoomTransforms(h,g)},_setZoomTransforms:function(h,g){for(var T in this._levels)this._setZoomTransform(this._levels[T],h,g)},_setZoomTransform:function(h,g,T){var k=this._map.getZoomScale(T,h.zoom),$=h.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(g,T)).round();ve.any3d?ea(h.el,$,k):pr(h.el,$)},_resetGrid:function(){var h=this._map,g=h.options.crs,T=this._tileSize=this.getTileSize(),k=this._tileZoom,$=this._map.getPixelWorldBounds(this._tileZoom);$&&(this._globalTileRange=this._pxBoundsToTileRange($)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,g.wrapLng[0]],k).x/T.x),Math.ceil(h.project([0,g.wrapLng[1]],k).x/T.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([g.wrapLat[0],0],k).y/T.x),Math.ceil(h.project([g.wrapLat[1],0],k).y/T.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var g=this._map,T=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),k=g.getZoomScale(T,this._tileZoom),$=g.project(h,this._tileZoom).floor(),oe=g.getSize().divideBy(k*2);return new rt($.subtract(oe),$.add(oe))},_update:function(h){var g=this._map;if(g){var T=this._clampZoom(g.getZoom());if(h===void 0&&(h=g.getCenter()),this._tileZoom!==void 0){var k=this._getTiledPixelBounds(h),$=this._pxBoundsToTileRange(k),oe=$.getCenter(),Te=[],Ue=this.options.keepBuffer,Ke=new rt($.getBottomLeft().subtract([Ue,-Ue]),$.getTopRight().add([Ue,-Ue]));if(!(isFinite($.min.x)&&isFinite($.min.y)&&isFinite($.max.x)&&isFinite($.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var Pt=this._tiles[dt].coords;(Pt.z!==this._tileZoom||!Ke.contains(new Pe(Pt.x,Pt.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(T-this._tileZoom)>1){this._setView(h,T);return}for(var on=$.min.y;on<=$.max.y;on++)for(var Tn=$.min.x;Tn<=$.max.x;Tn++){var ci=new Pe(Tn,on);if(ci.z=this._tileZoom,!!this._isValidTile(ci)){var Bo=this._tiles[this._tileCoordsToKey(ci)];Bo?Bo.current=!0:Te.push(ci)}}if(Te.sort(function(Fo,Ml){return Fo.distanceTo(oe)-Ml.distanceTo(oe)}),Te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $s=document.createDocumentFragment();for(Tn=0;Tn<Te.length;Tn++)this._addTile(Te[Tn],$s);this._level.el.appendChild($s)}}}},_isValidTile:function(h){var g=this._map.options.crs;if(!g.infinite){var T=this._globalTileRange;if(!g.wrapLng&&(h.x<T.min.x||h.x>T.max.x)||!g.wrapLat&&(h.y<T.min.y||h.y>T.max.y))return!1}if(!this.options.bounds)return!0;var k=this._tileCoordsToBounds(h);return $e(this.options.bounds).overlaps(k)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var g=this._map,T=this.getTileSize(),k=h.scaleBy(T),$=k.add(T),oe=g.unproject(k,h.z),Te=g.unproject($,h.z);return[oe,Te]},_tileCoordsToBounds:function(h){var g=this._tileCoordsToNwSe(h),T=new qe(g[0],g[1]);return this.options.noWrap||(T=this._map.wrapLatLngBounds(T)),T},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var g=h.split(":"),T=new Pe(+g[0],+g[1]);return T.z=+g[2],T},_removeTile:function(h){var g=this._tiles[h];g&&(lr(g.el),delete this._tiles[h],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Vt(h,"leaflet-tile");var g=this.getTileSize();h.style.width=g.x+"px",h.style.height=g.y+"px",h.onselectstart=A,h.onmousemove=A,ve.ielt9&&this.options.opacity<1&&Pi(h,this.options.opacity)},_addTile:function(h,g){var T=this._getTilePos(h),k=this._tileCoordsToKey(h),$=this.createTile(this._wrapCoords(h),f(this._tileReady,this,h));this._initTile($),this.createTile.length<2&&Ee(f(this._tileReady,this,h,null,$)),pr($,T),this._tiles[k]={el:$,coords:h,current:!0},g.appendChild($),this.fire("tileloadstart",{tile:$,coords:h})},_tileReady:function(h,g,T){g&&this.fire("tileerror",{error:g,tile:T,coords:h});var k=this._tileCoordsToKey(h);T=this._tiles[k],T&&(T.loaded=+new Date,this._map._fadeAnimated?(Pi(T.el,0),De(this._fadeFrame),this._fadeFrame=Ee(this._updateOpacity,this)):(T.active=!0,this._pruneTiles()),g||(Vt(T.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:T.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?Ee(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var g=new Pe(this._wrapX?I(h.x,this._wrapX):h.x,this._wrapY?I(h.y,this._wrapY):h.y);return g.z=h.z,g},_pxBoundsToTileRange:function(h){var g=this.getTileSize();return new rt(h.min.unscaleBy(g).floor(),h.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function Do(h){return new jr(h)}var ss=jr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,g){this._url=h,g=V(this,g),g.detectRetina&&ve.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,g){return this._url===h&&g===void 0&&(g=!0),this._url=h,g||this.redraw(),this},createTile:function(h,g){var T=document.createElement("img");return ln(T,"load",f(this._tileOnLoad,this,g,T)),ln(T,"error",f(this._tileOnError,this,g,T)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(T.referrerPolicy=this.options.referrerPolicy),T.alt="",T.src=this.getTileUrl(h),T},getTileUrl:function(h){var g={r:ve.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var T=this._globalTileRange.max.y-h.y;this.options.tms&&(g.y=T),g["-y"]=T}return B(this._url,i(g,this.options))},_tileOnLoad:function(h,g){ve.ielt9?setTimeout(f(h,this,null,g),0):h(null,g)},_tileOnError:function(h,g,T){var k=this.options.errorTileUrl;k&&g.getAttribute("src")!==k&&(g.src=k),h(T,g)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,g=this.options.maxZoom,T=this.options.zoomReverse,k=this.options.zoomOffset;return T&&(h=g-h),h+k},_getSubdomain:function(h){var g=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var h,g;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(g=this._tiles[h].el,g.onload=A,g.onerror=A,!g.complete)){g.src=Q;var T=this._tiles[h].coords;lr(g),delete this._tiles[h],this.fire("tileabort",{tile:g,coords:T})}},_removeTile:function(h){var g=this._tiles[h];if(g)return g.el.setAttribute("src",Q),jr.prototype._removeTile.call(this,h)},_tileReady:function(h,g,T){if(!(!this._map||T&&T.getAttribute("src")===Q))return jr.prototype._tileReady.call(this,h,g,T)}});function Vs(h,g){return new ss(h,g)}var yu=ss.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,g){this._url=h;var T=i({},this.defaultWmsParams);for(var k in g)k in this.options||(T[k]=g[k]);g=V(this,g);var $=g.detectRetina&&ve.retina?2:1,oe=this.getTileSize();T.width=oe.x*$,T.height=oe.y*$,this.wmsParams=T},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,ss.prototype.onAdd.call(this,h)},getTileUrl:function(h){var g=this._tileCoordsToNwSe(h),T=this._crs,k=Be(T.project(g[0]),T.project(g[1])),$=k.min,oe=k.max,Te=(this._wmsVersion>=1.3&&this._crs===Il?[$.y,$.x,oe.y,oe.x]:[$.x,$.y,oe.x,oe.y]).join(","),Ue=ss.prototype.getTileUrl.call(this,h);return Ue+G(this.wmsParams,Ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Te},setParams:function(h,g){return i(this.wmsParams,h),g||this.redraw(),this}});function ls(h,g){return new yu(h,g)}ss.WMS=yu,Vs.wms=ls;var No=Sn.extend({options:{padding:.1},initialize:function(h){V(this,h),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Vt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,g){var T=this._map.getZoomScale(g,this._zoom),k=this._map.getSize().multiplyBy(.5+this.options.padding),$=this._map.project(this._center,g),oe=k.multiplyBy(-T).add($).subtract(this._map._getNewPixelOrigin(h,g));ve.any3d?ea(this._container,oe,T):pr(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,g=this._map.getSize(),T=this._map.containerPointToLayerPoint(g.multiplyBy(-h)).round();this._bounds=new rt(T,T.add(g.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),li=No.extend({options:{tolerance:0},getEvents:function(){var h=No.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){No.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");ln(h,"mousemove",this._onMouseMove,this),ln(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ln(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){De(this._redrawRequest),delete this._ctx,lr(this._container),Yn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var g in this._layers)h=this._layers[g],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){No.prototype._update.call(this);var h=this._bounds,g=this._container,T=h.getSize(),k=ve.retina?2:1;pr(g,h.min),g.width=k*T.x,g.height=k*T.y,g.style.width=T.x+"px",g.style.height=T.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){No.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[y(h)]=h;var g=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var g=h._order,T=g.next,k=g.prev;T?T.prev=k:this._drawLast=k,k?k.next=T:this._drawFirst=T,delete h._order,delete this._layers[y(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var g=h.options.dashArray.split(/[, ]+/),T=[],k,$;for($=0;$<g.length;$++){if(k=Number(g[$]),isNaN(k))return;T.push(k)}h.options._dashArray=T}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||Ee(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var g=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new rt,this._redrawBounds.extend(h._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(h._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var g=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,g=this._redrawBounds;if(this._ctx.save(),g){var T=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,T.x,T.y),this._ctx.clip()}this._drawing=!0;for(var k=this._drawFirst;k;k=k.next)h=k.layer,(!g||h._pxBounds&&h._pxBounds.intersects(g))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,g){if(this._drawing){var T,k,$,oe,Te=h._parts,Ue=Te.length,Ke=this._ctx;if(Ue){for(Ke.beginPath(),T=0;T<Ue;T++){for(k=0,$=Te[T].length;k<$;k++)oe=Te[T][k],Ke[k?"lineTo":"moveTo"](oe.x,oe.y);g&&Ke.closePath()}this._fillStroke(Ke,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var g=h._point,T=this._ctx,k=Math.max(Math.round(h._radius),1),$=(Math.max(Math.round(h._radiusY),1)||k)/k;$!==1&&(T.save(),T.scale(1,$)),T.beginPath(),T.arc(g.x,g.y/$,k,0,Math.PI*2,!1),$!==1&&T.restore(),this._fillStroke(T,h)}},_fillStroke:function(h,g){var T=g.options;T.fill&&(h.globalAlpha=T.fillOpacity,h.fillStyle=T.fillColor||T.color,h.fill(T.fillRule||"evenodd")),T.stroke&&T.weight!==0&&(h.setLineDash&&h.setLineDash(g.options&&g.options._dashArray||[]),h.globalAlpha=T.opacity,h.lineWidth=T.weight,h.strokeStyle=T.color,h.lineCap=T.lineCap,h.lineJoin=T.lineJoin,h.stroke())},_onClick:function(h){for(var g=this._map.mouseEventToLayerPoint(h),T,k,$=this._drawFirst;$;$=$.next)T=$.layer,T.options.interactive&&T._containsPoint(g)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(T))&&(k=T);this._fireEvent(k?[k]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,g)}},_handleMouseOut:function(h){var g=this._hoveredLayer;g&&(er(this._container,"leaflet-interactive"),this._fireEvent([g],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,g){if(!this._mouseHoverThrottled){for(var T,k,$=this._drawFirst;$;$=$.next)T=$.layer,T.options.interactive&&T._containsPoint(g)&&(k=T);k!==this._hoveredLayer&&(this._handleMouseOut(h),k&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([k],h,"mouseover"),this._hoveredLayer=k)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,g,T){this._map._fireDOMEvent(g,T||g.type,h)},_bringToFront:function(h){var g=h._order;if(g){var T=g.next,k=g.prev;if(T)T.prev=k;else return;k?k.next=T:T&&(this._drawFirst=T),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(h)}},_bringToBack:function(h){var g=h._order;if(g){var T=g.next,k=g.prev;if(k)k.next=T;else return;T?T.prev=k:k&&(this._drawLast=k),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(h)}}});function tr(h){return ve.canvas?new li(h):null}var zo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_u={_initContainer:function(){this._container=kn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(No.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var g=h._container=zo("shape");Vt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",h._path=zo("path"),g.appendChild(h._path),this._updateStyle(h),this._layers[y(h)]=h},_addPath:function(h){var g=h._container;this._container.appendChild(g),h.options.interactive&&h.addInteractiveTarget(g)},_removePath:function(h){var g=h._container;lr(g),h.removeInteractiveTarget(g),delete this._layers[y(h)]},_updateStyle:function(h){var g=h._stroke,T=h._fill,k=h.options,$=h._container;$.stroked=!!k.stroke,$.filled=!!k.fill,k.stroke?(g||(g=h._stroke=zo("stroke")),$.appendChild(g),g.weight=k.weight+"px",g.color=k.color,g.opacity=k.opacity,k.dashArray?g.dashStyle=j(k.dashArray)?k.dashArray.join(" "):k.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=k.lineCap.replace("butt","flat"),g.joinstyle=k.lineJoin):g&&($.removeChild(g),h._stroke=null),k.fill?(T||(T=h._fill=zo("fill")),$.appendChild(T),T.color=k.fillColor||k.color,T.opacity=k.fillOpacity):T&&($.removeChild(T),h._fill=null)},_updateCircle:function(h){var g=h._point.round(),T=Math.round(h._radius),k=Math.round(h._radiusY||T);this._setPath(h,h._empty()?"M0 0":"AL "+g.x+","+g.y+" "+T+","+k+" 0,"+65535*360)},_setPath:function(h,g){h._path.v=g},_bringToFront:function(h){Ia(h._container)},_bringToBack:function(h){Qo(h._container)}},Hs=ve.vml?zo:Zt,js=No.extend({_initContainer:function(){this._container=Hs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lr(this._container),Yn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){No.prototype._update.call(this);var h=this._bounds,g=h.getSize(),T=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,T.setAttribute("width",g.x),T.setAttribute("height",g.y)),pr(T,h.min),T.setAttribute("viewBox",[h.min.x,h.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(h){var g=h._path=Hs("path");h.options.className&&Vt(g,h.options.className),h.options.interactive&&Vt(g,"leaflet-interactive"),this._updateStyle(h),this._layers[y(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){lr(h._path),h.removeInteractiveTarget(h._path),delete this._layers[y(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var g=h._path,T=h.options;g&&(T.stroke?(g.setAttribute("stroke",T.color),g.setAttribute("stroke-opacity",T.opacity),g.setAttribute("stroke-width",T.weight),g.setAttribute("stroke-linecap",T.lineCap),g.setAttribute("stroke-linejoin",T.lineJoin),T.dashArray?g.setAttribute("stroke-dasharray",T.dashArray):g.removeAttribute("stroke-dasharray"),T.dashOffset?g.setAttribute("stroke-dashoffset",T.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),T.fill?(g.setAttribute("fill",T.fillColor||T.color),g.setAttribute("fill-opacity",T.fillOpacity),g.setAttribute("fill-rule",T.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(h,g){this._setPath(h,un(h._parts,g))},_updateCircle:function(h){var g=h._point,T=Math.max(Math.round(h._radius),1),k=Math.max(Math.round(h._radiusY),1)||T,$="a"+T+","+k+" 0 1,0 ",oe=h._empty()?"M0 0":"M"+(g.x-T)+","+g.y+$+T*2+",0 "+$+-T*2+",0 ";this._setPath(h,oe)},_setPath:function(h,g){h._path.setAttribute("d",g)},_bringToFront:function(h){Ia(h._path)},_bringToBack:function(h){Qo(h._path)}});ve.vml&&js.include(_u);function Cl(h){return ve.svg||ve.vml?new js(h):null}wn.include({getRenderer:function(h){var g=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var g=this._paneRenderers[h];return g===void 0&&(g=this._createRenderer({pane:h}),this._paneRenderers[h]=g),g},_createRenderer:function(h){return this.options.preferCanvas&&tr(h)||Cl(h)}});var Rl=os.extend({initialize:function(h,g){os.prototype.initialize.call(this,this._boundsToLatLngs(h),g)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=$e(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function mo(h,g){return new Rl(h,g)}js.create=Hs,js.pointsToPath=un,gi.geometryToLayer=Pl,gi.coordsToLatLng=Nc,gi.coordsToLatLngs=Us,gi.latLngToCoords=ka,gi.latLngsToCoords=po,gi.getFeature=Tt,gi.asFeature=La,wn.mergeOptions({boxZoom:!0});var kl=co.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){ln(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Yn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ja(),xl(),this._startPoint=this._map.mouseEventToContainerPoint(h),ln(document,{contextmenu:Pa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=kn("div","leaflet-zoom-box",this._container),Vt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var g=new rt(this._point,this._startPoint),T=g.getSize();pr(this._box,g.min),this._box.style.width=T.x+"px",this._box.style.height=T.y+"px"},_finish:function(){this._moved&&(lr(this._box),er(this._container,"leaflet-crosshair")),ta(),wc(),Yn(document,{contextmenu:Pa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var g=new qe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});wn.addInitHook("addHandler","boxZoom",kl),wn.mergeOptions({doubleClickZoom:!0});var zt=co.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var g=this._map,T=g.getZoom(),k=g.options.zoomDelta,$=h.originalEvent.shiftKey?T-k:T+k;g.options.doubleClickZoom==="center"?g.setZoom($):g.setZoomAround(h.containerPoint,$)}});wn.addInitHook("addHandler","doubleClickZoom",zt),wn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xt=co.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new Ra(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Vt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){er(this._map._container,"leaflet-grab"),er(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=$e(this._map.options.maxBounds);this._offsetLimit=Be(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var g=this._lastTime=+new Date,T=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(T),this._times.push(g),this._prunePositions(g)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,g){return h-(h-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;h.x<g.min.x&&(h.x=this._viscousLimit(h.x,g.min.x)),h.y<g.min.y&&(h.y=this._viscousLimit(h.y,g.min.y)),h.x>g.max.x&&(h.x=this._viscousLimit(h.x,g.max.x)),h.y>g.max.y&&(h.y=this._viscousLimit(h.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,g=Math.round(h/2),T=this._initialWorldOffset,k=this._draggable._newPos.x,$=(k-g+T)%h+g-T,oe=(k+g+T)%h-g-T,Te=Math.abs($+T)<Math.abs(oe+T)?$:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Te},_onDragEnd:function(h){var g=this._map,T=g.options,k=!T.inertia||h.noInertia||this._times.length<2;if(g.fire("dragend",h),k)g.fire("moveend");else{this._prunePositions(+new Date);var $=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,Te=T.easeLinearity,Ue=$.multiplyBy(Te/oe),Ke=Ue.distanceTo([0,0]),dt=Math.min(T.inertiaMaxSpeed,Ke),Pt=Ue.multiplyBy(dt/Ke),on=dt/(T.inertiaDeceleration*Te),Tn=Pt.multiplyBy(-on/2).round();!Tn.x&&!Tn.y?g.fire("moveend"):(Tn=g._limitOffset(Tn,g.options.maxBounds),Ee(function(){g.panBy(Tn,{duration:on,easeLinearity:Te,noMoveStart:!0,animate:!0})}))}}});wn.addInitHook("addHandler","dragging",Xt),wn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var us=co.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),ln(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Yn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,g=document.documentElement,T=h.scrollTop||g.scrollTop,k=h.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(k,T)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var g=this._panKeys={},T=this.keyCodes,k,$;for(k=0,$=T.left.length;k<$;k++)g[T.left[k]]=[-1*h,0];for(k=0,$=T.right.length;k<$;k++)g[T.right[k]]=[h,0];for(k=0,$=T.down.length;k<$;k++)g[T.down[k]]=[0,h];for(k=0,$=T.up.length;k<$;k++)g[T.up[k]]=[0,-1*h]},_setZoomDelta:function(h){var g=this._zoomKeys={},T=this.keyCodes,k,$;for(k=0,$=T.zoomIn.length;k<$;k++)g[T.zoomIn[k]]=h;for(k=0,$=T.zoomOut.length;k<$;k++)g[T.zoomOut[k]]=-h},_addHooks:function(){ln(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Yn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var g=h.keyCode,T=this._map,k;if(g in this._panKeys){if(!T._panAnim||!T._panAnim._inProgress)if(k=this._panKeys[g],h.shiftKey&&(k=ze(k).multiplyBy(3)),T.options.maxBounds&&(k=T._limitOffset(ze(k),T.options.maxBounds)),T.options.worldCopyJump){var $=T.wrapLatLng(T.unproject(T.project(T.getCenter()).add(k)));T.panTo($)}else T.panBy(k)}else if(g in this._zoomKeys)T.setZoom(T.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&T._popup&&T._popup.options.closeOnEscapeKey)T.closePopup();else return;Pa(h)}}});wn.addInitHook("addHandler","keyboard",us),wn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xu=co.extend({addHooks:function(){ln(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Yn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var g=uu(h),T=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var k=Math.max(T-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),k),Pa(h)},_performZoom:function(){var h=this._map,g=h.getZoom(),T=this._map.options.zoomSnap||0;h._stop();var k=this._delta/(this._map.options.wheelPxPerZoomLevel*4),$=4*Math.log(2/(1+Math.exp(-Math.abs(k))))/Math.LN2,oe=T?Math.ceil($/T)*T:$,Te=h._limitZoom(g+(this._delta>0?oe:-oe))-g;this._delta=0,this._startTime=null,Te&&(h.options.scrollWheelZoom==="center"?h.setZoom(g+Te):h.setZoomAround(this._lastMousePos,g+Te))}});wn.addInitHook("addHandler","scrollWheelZoom",xu);var Uc=600;wn.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var ui=co.extend({addHooks:function(){ln(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Yn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var g=h.touches[0];this._startPos=this._newPos=new Pe(g.clientX,g.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ln(document,"touchend",Yr),ln(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),Uc),ln(document,"touchend touchcancel contextmenu",this._cancel,this),ln(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Yn(document,"touchend",Yr),Yn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Yn(document,"touchend touchcancel contextmenu",this._cancel,this),Yn(document,"touchmove",this._onMove,this)},_onMove:function(h){var g=h.touches[0];this._newPos=new Pe(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,g){var T=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});T._simulated=!0,g.target.dispatchEvent(T)}});wn.addInitHook("addHandler","tapHold",ui),wn.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var Ll=co.extend({addHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),ln(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){er(this._map._container,"leaflet-touch-zoom"),Yn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var g=this._map;if(!(!h.touches||h.touches.length!==2||g._animatingZoom||this._zooming)){var T=g.mouseEventToContainerPoint(h.touches[0]),k=g.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(T.add(k)._divideBy(2))),this._startDist=T.distanceTo(k),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),ln(document,"touchmove",this._onTouchMove,this),ln(document,"touchend touchcancel",this._onTouchEnd,this),Yr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var g=this._map,T=g.mouseEventToContainerPoint(h.touches[0]),k=g.mouseEventToContainerPoint(h.touches[1]),$=T.distanceTo(k)/this._startDist;if(this._zoom=g.getScaleZoom($,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&$<1||this._zoom>g.getMaxZoom()&&$>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,$===1)return}else{var oe=T._add(k)._divideBy(2)._subtract(this._centerPoint);if($===1&&oe.x===0&&oe.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),De(this._animRequest);var Te=f(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ee(Te,this,!0),Yr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,De(this._animRequest),Yn(document,"touchmove",this._onTouchMove,this),Yn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});wn.addInitHook("addHandler","touchZoom",Ll),wn.BoxZoom=kl,wn.DoubleClickZoom=zt,wn.Drag=Xt,wn.Keyboard=us,wn.ScrollWheelZoom=xu,wn.TapHold=ui,wn.TouchZoom=Ll,n.Bounds=rt,n.Browser=ve,n.CRS=vt,n.Canvas=li,n.Circle=is,n.CircleMarker=Al,n.Class=Fe,n.Control=Ki,n.DivIcon=vu,n.DivOverlay=vi,n.DomEvent=Sc,n.DomUtil=bl,n.Draggable=Ra,n.Evented=pt,n.FeatureGroup=Mo,n.GeoJSON=gi,n.GridLayer=jr,n.Handler=co,n.Icon=rs,n.ImageOverlay=wt,n.LatLng=Je,n.LatLngBounds=qe,n.Layer=Sn,n.LayerGroup=ho,n.LineUtil=fu,n.Map=wn,n.Marker=Fs,n.Mixin=Sl,n.Path=fo,n.Point=Pe,n.PolyUtil=kc,n.Polygon=os,n.Polyline=Hr,n.Popup=as,n.PosAnimation=cu,n.Projection=pu,n.Rectangle=Rl,n.Renderer=No,n.SVG=js,n.SVGOverlay=gu,n.TileLayer=ss,n.Tooltip=la,n.Transformation=Xe,n.Util=We,n.VideoOverlay=Nh,n.bind=f,n.bounds=Be,n.canvas=tr,n.circle=Mh,n.circleMarker=Lh,n.control=es,n.divIcon=Fc,n.extend=i,n.featureGroup=Rh,n.geoJSON=Ma,n.geoJson=Dh,n.gridLayer=Do,n.icon=kh,n.imageOverlay=zc,n.latLng=Ae,n.latLngBounds=$e,n.layerGroup=Mc,n.map=Fn,n.marker=Dc,n.point=ze,n.polygon=aa,n.polyline=oa,n.popup=Ji,n.rectangle=mo,n.setOptions=V,n.stamp=y,n.svg=Cl,n.svgOverlay=zh,n.tileLayer=Vs,n.tooltip=Bc,n.transformation=_t,n.version=r,n.videoOverlay=pf;var go=window.L;n.noConflict=function(){return window.L=go,this},window.L=n})})(I$,Iy);const WW=Iy;function A$(e){if(Array.isArray(e))return e}function P$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,u=!1,f,s;try{for(n=n.call(e);!(i=(f=n.next()).done)&&(r.push(f.value),!(t&&r.length===t));i=!0);}catch(y){u=!0,s=y}finally{try{!i&&n.return!=null&&n.return()}finally{if(u)throw s}}return r}}function xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cL(e,t){if(e){if(typeof e=="string")return xb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xb(e,t)}}function O$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xl(e,t){return A$(e)||P$(e,t)||cL(e,t)||O$()}function uf(e,t){if(e==null)return{};var n=lh(e,t),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)r=u[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var C$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function R$(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,u=e.defaultValue,f=u===void 0?null:u,s=e.inputValue,y=e.menuIsOpen,w=e.onChange,I=e.onInputChange,A=e.onMenuClose,R=e.onMenuOpen,O=e.value,z=uf(e,C$),V=le.useState(s!==void 0?s:n),G=Xl(V,2),F=G[0],B=G[1],j=le.useState(y!==void 0?y:i),Y=Xl(j,2),Q=Y[0],J=Y[1],ee=le.useState(O!==void 0?O:f),se=Xl(ee,2),ge=se[0],he=se[1],Ee=le.useCallback(function(Pe,et){typeof w=="function"&&w(Pe,et),he(Pe)},[w]),De=le.useCallback(function(Pe,et){var ze;typeof I=="function"&&(ze=I(Pe,et)),B(ze!==void 0?ze:Pe)},[I]),We=le.useCallback(function(){typeof R=="function"&&R(),J(!0)},[R]),Fe=le.useCallback(function(){typeof A=="function"&&A(),J(!1)},[A]),tt=s!==void 0?s:F,Ye=y!==void 0?y:Q,pt=O!==void 0?O:ge;return hn(hn({},z),{},{inputValue:tt,menuIsOpen:Ye,onChange:Ee,onInputChange:De,onMenuClose:Fe,onMenuOpen:We,value:pt})}function k$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L$(e,t,n){return t&&wA(e.prototype,t),n&&wA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bb(e,t){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(e,t)}function M$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bb(e,t)}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ay(e)}function D$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Py(e){return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(e)}function N$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z$(e,t){if(t&&(Py(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$(e)}function B$(e){var t=D$();return function(){var r=Ay(e),i;if(t){var u=Ay(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return z$(this,i)}}function F$(e){if(Array.isArray(e))return xb(e)}function U$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hL(e){return F$(e)||U$(e)||cL(e)||V$()}function H$(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function j$(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var $$=function(){function e(n){var r=this;this._insertTag=function(i){var u;r.tags.length===0?r.insertionPoint?u=r.insertionPoint.nextSibling:r.prepend?u=r.container.firstChild:u=r.before:u=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,u),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(j$(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var u=H$(i);try{u.insertRule(r,u.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ro="-ms-",Oy="-moz-",ir="-webkit-",dL="comm",cE="rule",hE="decl",G$="@import",fL="@keyframes",q$=Math.abs,k_=String.fromCharCode,W$=Object.assign;function Z$(e,t){return Vi(e,0)^45?(((t<<2^Vi(e,0))<<2^Vi(e,1))<<2^Vi(e,2))<<2^Vi(e,3):0}function pL(e){return e.trim()}function K$(e,t){return(e=t.exec(e))?e[0]:e}function or(e,t,n){return e.replace(t,n)}function wb(e,t){return e.indexOf(t)}function Vi(e,t){return e.charCodeAt(t)|0}function um(e,t,n){return e.slice(t,n)}function tl(e){return e.length}function dE(e){return e.length}function zg(e,t){return t.push(e),e}function X$(e,t){return e.map(t).join("")}var L_=1,Jd=1,mL=0,Ko=0,ai=0,cf="";function M_(e,t,n,r,i,u,f){return{value:e,root:t,parent:n,type:r,props:i,children:u,line:L_,column:Jd,length:f,return:""}}function Zf(e,t){return W$(M_("",null,null,"",null,null,0),e,{length:-e.length},t)}function Y$(){return ai}function J$(){return ai=Ko>0?Vi(cf,--Ko):0,Jd--,ai===10&&(Jd=1,L_--),ai}function _a(){return ai=Ko<mL?Vi(cf,Ko++):0,Jd++,ai===10&&(Jd=1,L_++),ai}function dl(){return Vi(cf,Ko)}function fv(){return Ko}function Am(e,t){return um(cf,e,t)}function cm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gL(e){return L_=Jd=1,mL=tl(cf=e),Ko=0,[]}function vL(e){return cf="",e}function pv(e){return pL(Am(Ko-1,Eb(e===91?e+2:e===40?e+1:e)))}function Q$(e){for(;(ai=dl())&&ai<33;)_a();return cm(e)>2||cm(ai)>3?"":" "}function eG(e,t){for(;--t&&_a()&&!(ai<48||ai>102||ai>57&&ai<65||ai>70&&ai<97););return Am(e,fv()+(t<6&&dl()==32&&_a()==32))}function Eb(e){for(;_a();)switch(ai){case e:return Ko;case 34:case 39:e!==34&&e!==39&&Eb(ai);break;case 40:e===41&&Eb(e);break;case 92:_a();break}return Ko}function tG(e,t){for(;_a()&&e+ai!==47+10;)if(e+ai===42+42&&dl()===47)break;return"/*"+Am(t,Ko-1)+"*"+k_(e===47?e:_a())}function nG(e){for(;!cm(dl());)_a();return Am(e,Ko)}function rG(e){return vL(mv("",null,null,null,[""],e=gL(e),0,[0],e))}function mv(e,t,n,r,i,u,f,s,y){for(var w=0,I=0,A=f,R=0,O=0,z=0,V=1,G=1,F=1,B=0,j="",Y=i,Q=u,J=r,ee=j;G;)switch(z=B,B=_a()){case 40:if(z!=108&&Vi(ee,A-1)==58){wb(ee+=or(pv(B),"&","&\f"),"&\f")!=-1&&(F=-1);break}case 34:case 39:case 91:ee+=pv(B);break;case 9:case 10:case 13:case 32:ee+=Q$(z);break;case 92:ee+=eG(fv()-1,7);continue;case 47:switch(dl()){case 42:case 47:zg(iG(tG(_a(),fv()),t,n),y);break;default:ee+="/"}break;case 123*V:s[w++]=tl(ee)*F;case 125*V:case 59:case 0:switch(B){case 0:case 125:G=0;case 59+I:O>0&&tl(ee)-A&&zg(O>32?SA(ee+";",r,n,A-1):SA(or(ee," ","")+";",r,n,A-2),y);break;case 59:ee+=";";default:if(zg(J=EA(ee,t,n,w,I,i,s,j,Y=[],Q=[],A),u),B===123)if(I===0)mv(ee,t,J,J,Y,u,A,s,Q);else switch(R===99&&Vi(ee,3)===110?100:R){case 100:case 109:case 115:mv(e,J,J,r&&zg(EA(e,J,J,0,0,i,s,j,i,Y=[],A),Q),i,Q,A,s,r?Y:Q);break;default:mv(ee,J,J,J,[""],Q,0,s,Q)}}w=I=O=0,V=F=1,j=ee="",A=f;break;case 58:A=1+tl(ee),O=z;default:if(V<1){if(B==123)--V;else if(B==125&&V++==0&&J$()==125)continue}switch(ee+=k_(B),B*V){case 38:F=I>0?1:(ee+="\f",-1);break;case 44:s[w++]=(tl(ee)-1)*F,F=1;break;case 64:dl()===45&&(ee+=pv(_a())),R=dl(),I=A=tl(j=ee+=nG(fv())),B++;break;case 45:z===45&&tl(ee)==2&&(V=0)}}return u}function EA(e,t,n,r,i,u,f,s,y,w,I){for(var A=i-1,R=i===0?u:[""],O=dE(R),z=0,V=0,G=0;z<r;++z)for(var F=0,B=um(e,A+1,A=q$(V=f[z])),j=e;F<O;++F)(j=pL(V>0?R[F]+" "+B:or(B,/&\f/g,R[F])))&&(y[G++]=j);return M_(e,t,n,i===0?cE:s,y,w,I)}function iG(e,t,n){return M_(e,t,n,dL,k_(Y$()),um(e,2,-2),0)}function SA(e,t,n,r){return M_(e,t,n,hE,um(e,0,r),um(e,r+1,-1),r)}function Dd(e,t){for(var n="",r=dE(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function oG(e,t,n,r){switch(e.type){case G$:case hE:return e.return=e.return||e.value;case dL:return"";case fL:return e.return=e.value+"{"+Dd(e.children,r)+"}";case cE:e.value=e.props.join(",")}return tl(n=Dd(e.children,r))?e.return=e.value+"{"+n+"}":""}function aG(e){var t=dE(e);return function(n,r,i,u){for(var f="",s=0;s<t;s++)f+=e[s](n,r,i,u)||"";return f}}function sG(e){return function(t){t.root||(t=t.return)&&e(t)}}var lG=function(t,n,r){for(var i=0,u=0;i=u,u=dl(),i===38&&u===12&&(n[r]=1),!cm(u);)_a();return Am(t,Ko)},uG=function(t,n){var r=-1,i=44;do switch(cm(i)){case 0:i===38&&dl()===12&&(n[r]=1),t[r]+=lG(Ko-1,n,r);break;case 2:t[r]+=pv(i);break;case 4:if(i===44){t[++r]=dl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=k_(i)}while(i=_a());return t},cG=function(t,n){return vL(uG(gL(t),n))},TA=new WeakMap,hG=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!TA.get(r))&&!i){TA.set(t,!0);for(var u=[],f=cG(n,u),s=r.props,y=0,w=0;y<f.length;y++)for(var I=0;I<s.length;I++,w++)t.props[w]=u[y]?f[y].replace(/&\f/g,s[I]):s[I]+" "+f[y]}}},dG=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function yL(e,t){switch(Z$(e,t)){case 5103:return ir+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ir+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ir+e+Oy+e+ro+e+e;case 6828:case 4268:return ir+e+ro+e+e;case 6165:return ir+e+ro+"flex-"+e+e;case 5187:return ir+e+or(e,/(\w+).+(:[^]+)/,ir+"box-$1$2"+ro+"flex-$1$2")+e;case 5443:return ir+e+ro+"flex-item-"+or(e,/flex-|-self/,"")+e;case 4675:return ir+e+ro+"flex-line-pack"+or(e,/align-content|flex-|-self/,"")+e;case 5548:return ir+e+ro+or(e,"shrink","negative")+e;case 5292:return ir+e+ro+or(e,"basis","preferred-size")+e;case 6060:return ir+"box-"+or(e,"-grow","")+ir+e+ro+or(e,"grow","positive")+e;case 4554:return ir+or(e,/([^-])(transform)/g,"$1"+ir+"$2")+e;case 6187:return or(or(or(e,/(zoom-|grab)/,ir+"$1"),/(image-set)/,ir+"$1"),e,"")+e;case 5495:case 3959:return or(e,/(image-set\([^]*)/,ir+"$1$`$1");case 4968:return or(or(e,/(.+:)(flex-)?(.*)/,ir+"box-pack:$3"+ro+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ir+e+e;case 4095:case 3583:case 4068:case 2532:return or(e,/(.+)-inline(.+)/,ir+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tl(e)-1-t>6)switch(Vi(e,t+1)){case 109:if(Vi(e,t+4)!==45)break;case 102:return or(e,/(.+:)(.+)-([^]+)/,"$1"+ir+"$2-$3$1"+Oy+(Vi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~wb(e,"stretch")?yL(or(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Vi(e,t+1)!==115)break;case 6444:switch(Vi(e,tl(e)-3-(~wb(e,"!important")&&10))){case 107:return or(e,":",":"+ir)+e;case 101:return or(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ir+(Vi(e,14)===45?"inline-":"")+"box$3$1"+ir+"$2$3$1"+ro+"$2box$3")+e}break;case 5936:switch(Vi(e,t+11)){case 114:return ir+e+ro+or(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ir+e+ro+or(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ir+e+ro+or(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ir+e+ro+e+e}return e}var fG=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case hE:t.return=yL(t.value,t.length);break;case fL:return Dd([Zf(t,{value:or(t.value,"@","@"+ir)})],i);case cE:if(t.length)return X$(t.props,function(u){switch(K$(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dd([Zf(t,{props:[or(u,/:(read-\w+)/,":"+Oy+"$1")]})],i);case"::placeholder":return Dd([Zf(t,{props:[or(u,/:(plac\w+)/,":"+ir+"input-$1")]}),Zf(t,{props:[or(u,/:(plac\w+)/,":"+Oy+"$1")]}),Zf(t,{props:[or(u,/:(plac\w+)/,ro+"input-$1")]})],i)}return""})}},pG=[fG],mG=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(V){var G=V.getAttribute("data-emotion");G.indexOf(" ")!==-1&&(document.head.appendChild(V),V.setAttribute("data-s",""))})}var i=t.stylisPlugins||pG,u={},f,s=[];f=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(V){for(var G=V.getAttribute("data-emotion").split(" "),F=1;F<G.length;F++)u[G[F]]=!0;s.push(V)});var y,w=[hG,dG];{var I,A=[oG,sG(function(V){I.insert(V)})],R=aG(w.concat(i,A)),O=function(G){return Dd(rG(G),R)};y=function(G,F,B,j){I=B,O(G?G+"{"+F.styles+"}":F.styles),j&&(z.inserted[F.name]=!0)}}var z={key:n,sheet:new $$({key:n,container:f,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:y};return z.sheet.hydrate(s),z},gG=!0;function vG(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var _L=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||gG===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},yG=function(t,n,r){_L(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var u=n;do t.insert(n===u?"."+i:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function _G(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var xG={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bG=/[A-Z]|^ms/g,wG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xL=function(t){return t.charCodeAt(1)===45},IA=function(t){return t!=null&&typeof t!="boolean"},I1=ek(function(e){return xL(e)?e:e.replace(bG,"-$&").toLowerCase()}),AA=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(wG,function(r,i,u){return nl={name:i,styles:u,next:nl},i})}return xG[t]!==1&&!xL(t)&&typeof n=="number"&&n!==0?n+"px":n};function hm(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return nl={name:n.name,styles:n.styles,next:nl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)nl={name:r.name,styles:r.styles,next:nl},r=r.next;var i=n.styles+";";return i}return EG(e,t,n)}case"function":{if(e!==void 0){var u=nl,f=n(e);return nl=u,hm(e,t,f)}break}}if(t==null)return n;var s=t[n];return s!==void 0?s:n}function EG(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hm(e,t,n[i])+";";else for(var u in n){var f=n[u];if(typeof f!="object")t!=null&&t[f]!==void 0?r+=u+"{"+t[f]+"}":IA(f)&&(r+=I1(u)+":"+AA(u,f)+";");else if(Array.isArray(f)&&typeof f[0]=="string"&&(t==null||t[f[0]]===void 0))for(var s=0;s<f.length;s++)IA(f[s])&&(r+=I1(u)+":"+AA(u,f[s])+";");else{var y=hm(e,t,f);switch(u){case"animation":case"animationName":{r+=I1(u)+":"+y+";";break}default:r+=u+"{"+y+"}"}}}return r}var PA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,nl,bL=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,u="";nl=void 0;var f=t[0];f==null||f.raw===void 0?(i=!1,u+=hm(r,n,f)):u+=f[0];for(var s=1;s<t.length;s++)u+=hm(r,n,t[s]),i&&(u+=f[s]);PA.lastIndex=0;for(var y="",w;(w=PA.exec(u))!==null;)y+="-"+w[1];var I=_G(u)+y;return{name:I,styles:u,next:nl}},SG=function(t){return t()},TG=Rp["useInsertionEffect"]?Rp["useInsertionEffect"]:!1,IG=TG||SG,fE={}.hasOwnProperty,wL=le.createContext(typeof HTMLElement<"u"?mG({key:"css"}):null);wL.Provider;var AG=function(t){return le.forwardRef(function(n,r){var i=le.useContext(wL);return t(n,i,r)})},PG=le.createContext({}),Sb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",OG=function(t,n){var r={};for(var i in n)fE.call(n,i)&&(r[i]=n[i]);return r[Sb]=t,r},CG=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return _L(n,r,i),IG(function(){return yG(n,r,i)}),null},RG=AG(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[Sb],u=[r],f="";typeof e.className=="string"?f=vG(t.registered,u,e.className):e.className!=null&&(f=e.className+" ");var s=bL(u,void 0,le.useContext(PG));f+=t.key+"-"+s.name;var y={};for(var w in e)fE.call(e,w)&&w!=="css"&&w!==Sb&&(y[w]=e[w]);return y.ref=n,y.className=f,le.createElement(le.Fragment,null,le.createElement(CG,{cache:t,serialized:s,isStringTag:typeof i=="string"}),le.createElement(i,y))}),sn=function(t,n){var r=arguments;if(n==null||!fE.call(n,"css"))return le.createElement.apply(void 0,r);var i=r.length,u=new Array(i);u[0]=RG,u[1]=OG(t,n);for(var f=2;f<i;f++)u[f]=r[f];return le.createElement.apply(null,u)};function pE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bL(t)}var kG=function(){var t=pE.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function LG(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function EL(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Sh(e){if(e==null)return window;if(!EL(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function MG(e){return Sh(e).getComputedStyle(e)}function SL(e){return EL(e)?"":e?(e.nodeName||"").toLowerCase():""}function DG(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function TL(e){return e instanceof Sh(e).HTMLElement}function gv(e){return e instanceof Sh(e).Element}function OA(e){return typeof ShadowRoot>"u"?!1:e instanceof Sh(e).ShadowRoot||e instanceof ShadowRoot}function IL(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=MG(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function NG(){return!/^((?!chrome|android).)*safari/i.test(DG())}function zG(e){return["html","body","#document"].includes(SL(e))}const CA=Math.round;function RA(e,t,n){var r,i,u,f;t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect();let y=1,w=1;t&&TL(e)&&(y=e.offsetWidth>0&&CA(s.width)/e.offsetWidth||1,w=e.offsetHeight>0&&CA(s.height)/e.offsetHeight||1);const I=gv(e)?Sh(e):window,A=!NG()&&n,R=(s.left+(A&&(r=(i=I.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/y,O=(s.top+(A&&(u=(f=I.visualViewport)==null?void 0:f.offsetTop)!=null?u:0))/w,z=s.width/y,V=s.height/w;return{width:z,height:V,top:O,right:R+z,bottom:O+V,left:R,x:R,y:O}}function BG(e){return(t=e,(t instanceof Sh(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function FG(e){if(SL(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(OA(e)?e.host:null)||BG(e);return OA(t)?t.host:t}function AL(e){const t=FG(e);return zG(t)?e.ownerDocument.body:TL(t)&&IL(t)?t:AL(t)}function vv(e,t){var n;t===void 0&&(t=[]);const r=AL(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),u=Sh(r),f=i?[u].concat(u.visualViewport||[],IL(r)?r:[]):r,s=t.concat(f);return i?s:s.concat(vv(f))}function UG(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:u=!0,elementResize:f=!0,animationFrame:s=!1}=r,y=i&&!s,w=y||u?[...gv(e)?vv(e):e.contextElement?vv(e.contextElement):[],...vv(t)]:[];w.forEach(O=>{y&&O.addEventListener("scroll",n,{passive:!0}),u&&O.addEventListener("resize",n)});let I,A=null;if(f){let O=!0;A=new ResizeObserver(()=>{O||n(),O=!1}),gv(e)&&!s&&A.observe(e),gv(e)||!e.contextElement||s||A.observe(e.contextElement),A.observe(t)}let R=s?RA(e):null;return s&&function O(){const z=RA(e);!R||z.x===R.x&&z.y===R.y&&z.width===R.width&&z.height===R.height||n(),R=z,I=requestAnimationFrame(O)}(),n(),()=>{var O;w.forEach(z=>{y&&z.removeEventListener("scroll",n),u&&z.removeEventListener("resize",n)}),(O=A)==null||O.disconnect(),A=null,s&&cancelAnimationFrame(I)}}var VG=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Cy=function(){};function HG(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function jG(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var u=[].concat(r);if(t&&e)for(var f in t)t.hasOwnProperty(f)&&t[f]&&u.push("".concat(HG(e,f)));return u.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var kA=function(t){return JG(t)?t.filter(Boolean):Py(t)==="object"&&t!==null?[t]:[]},PL=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=uf(t,VG);return hn({},n)},Kr=function(t,n,r){var i=t.cx,u=t.getStyles,f=t.getClassNames,s=t.className;return{css:u(n,t),className:i(r??{},f(n,t),s)}};function D_(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function $G(e){return D_(e)?window.innerHeight:e.clientHeight}function OL(e){return D_(e)?window.pageYOffset:e.scrollTop}function Ry(e,t){if(D_(e)){window.scrollTo(0,t);return}e.scrollTop=t}function GG(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function qG(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Bg(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Cy,i=OL(e),u=t-i,f=10,s=0;function y(){s+=f;var w=qG(s,i,u,n);Ry(e,w),s<n?window.requestAnimationFrame(y):r(e)}y()}function LA(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Ry(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Ry(e,Math.max(t.offsetTop-i,0))}function WG(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function MA(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function ZG(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var CL=!1,KG={get passive(){return CL=!0}},Fg=typeof window<"u"?window:{};Fg.addEventListener&&Fg.removeEventListener&&(Fg.addEventListener("p",Cy,KG),Fg.removeEventListener("p",Cy,!1));var XG=CL;function YG(e){return e!=null}function JG(e){return Array.isArray(e)}function Ug(e,t,n){return e?t:n}var QG=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var u=Object.entries(t).filter(function(f){var s=Xl(f,1),y=s[0];return!r.includes(y)});return u.reduce(function(f,s){var y=Xl(s,2),w=y[0],I=y[1];return f[w]=I,f},{})};function e7(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,u=e.shouldScroll,f=e.isFixedPosition,s=e.controlHeight,y=GG(n),w={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return w;var I=y.getBoundingClientRect(),A=I.height,R=n.getBoundingClientRect(),O=R.bottom,z=R.height,V=R.top,G=n.offsetParent.getBoundingClientRect(),F=G.top,B=f?window.innerHeight:$G(y),j=OL(y),Y=parseInt(getComputedStyle(n).marginBottom,10),Q=parseInt(getComputedStyle(n).marginTop,10),J=F-Q,ee=B-V,se=J+j,ge=A-j-V,he=O-B+j+Y,Ee=j+V-Q,De=160;switch(i){case"auto":case"bottom":if(ee>=z)return{placement:"bottom",maxHeight:t};if(ge>=z&&!f)return u&&Bg(y,he,De),{placement:"bottom",maxHeight:t};if(!f&&ge>=r||f&&ee>=r){u&&Bg(y,he,De);var We=f?ee-Y:ge-Y;return{placement:"bottom",maxHeight:We}}if(i==="auto"||f){var Fe=t,tt=f?J:se;return tt>=r&&(Fe=Math.min(tt-Y-s,t)),{placement:"top",maxHeight:Fe}}if(i==="bottom")return u&&Ry(y,he),{placement:"bottom",maxHeight:t};break;case"top":if(J>=z)return{placement:"top",maxHeight:t};if(se>=z&&!f)return u&&Bg(y,Ee,De),{placement:"top",maxHeight:t};if(!f&&se>=r||f&&J>=r){var Ye=t;return(!f&&se>=r||f&&J>=r)&&(Ye=f?J-Q:se-Q),u&&Bg(y,Ee,De),{placement:"top",maxHeight:Ye}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return w}function t7(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var RL=function(t){return t==="auto"?"bottom":t},n7=function(t,n){var r,i=t.placement,u=t.theme,f=u.borderRadius,s=u.spacing,y=u.colors;return hn((r={label:"menu"},np(r,t7(i),"100%"),np(r,"position","absolute"),np(r,"width","100%"),np(r,"zIndex",1),r),n?{}:{backgroundColor:y.neutral0,borderRadius:f,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},kL=le.createContext(null),r7=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,u=t.menuPlacement,f=t.menuPosition,s=t.menuShouldScrollIntoView,y=t.theme,w=le.useContext(kL)||{},I=w.setPortalPlacement,A=le.useRef(null),R=le.useState(i),O=Xl(R,2),z=O[0],V=O[1],G=le.useState(null),F=Xl(G,2),B=F[0],j=F[1],Y=y.spacing.controlHeight;return uc(function(){var Q=A.current;if(Q){var J=f==="fixed",ee=s&&!J,se=e7({maxHeight:i,menuEl:Q,minHeight:r,placement:u,shouldScroll:ee,isFixedPosition:J,controlHeight:Y});V(se.maxHeight),j(se.placement),I==null||I(se.placement)}},[i,u,f,s,r,I,Y]),n({ref:A,placerProps:hn(hn({},t),{},{placement:B||RL(u),maxHeight:z})})},i7=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return sn("div",Bt({},Kr(t,"menu",{menu:!0}),{ref:r},i),n)},o7=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return hn({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},a7=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,u=t.isMulti;return sn("div",Bt({},Kr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":u}),{ref:i},r),n)},LL=function(t,n){var r=t.theme,i=r.spacing.baseUnit,u=r.colors;return hn({textAlign:"center"},n?{}:{color:u.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},s7=LL,l7=LL,ML=function(t){var n=t.children,r=t.innerProps;return sn("div",Bt({},Kr(t,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};ML.defaultProps={children:"No options"};var DL=function(t){var n=t.children,r=t.innerProps;return sn("div",Bt({},Kr(t,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};DL.defaultProps={children:"Loading..."};var u7=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},c7=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,u=t.innerProps,f=t.menuPlacement,s=t.menuPosition,y=le.useRef(null),w=le.useRef(null),I=le.useState(RL(f)),A=Xl(I,2),R=A[0],O=A[1],z=le.useMemo(function(){return{setPortalPlacement:O}},[]),V=le.useState(null),G=Xl(V,2),F=G[0],B=G[1],j=le.useCallback(function(){if(i){var ee=WG(i),se=s==="fixed"?0:window.pageYOffset,ge=ee[R]+se;(ge!==(F==null?void 0:F.offset)||ee.left!==(F==null?void 0:F.rect.left)||ee.width!==(F==null?void 0:F.rect.width))&&B({offset:ge,rect:ee})}},[i,s,R,F==null?void 0:F.offset,F==null?void 0:F.rect.left,F==null?void 0:F.rect.width]);uc(function(){j()},[j]);var Y=le.useCallback(function(){typeof w.current=="function"&&(w.current(),w.current=null),i&&y.current&&(w.current=UG(i,y.current,j,{elementResize:"ResizeObserver"in window}))},[i,j]);uc(function(){Y()},[Y]);var Q=le.useCallback(function(ee){y.current=ee,Y()},[Y]);if(!n&&s!=="fixed"||!F)return null;var J=sn("div",Bt({ref:Q},Kr(hn(hn({},t),{},{offset:F.offset,position:s,rect:F.rect}),"menuPortal",{"menu-portal":!0}),u),r);return sn(kL.Provider,{value:z},n?dh.createPortal(J,n):J)},h7=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},d7=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,u=t.isRtl;return sn("div",Bt({},Kr(t,"container",{"--is-disabled":i,"--is-rtl":u}),r),n)},f7=function(t,n){var r=t.theme.spacing,i=t.isMulti,u=t.hasValue,f=t.selectProps.controlShouldRenderValue;return hn({alignItems:"center",display:i&&u&&f?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},p7=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,u=t.hasValue;return sn("div",Bt({},Kr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":u}),r),n)},m7=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},g7=function(t){var n=t.children,r=t.innerProps;return sn("div",Bt({},Kr(t,"indicatorsContainer",{indicators:!0}),r),n)},DA,v7=["size"],y7={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},NL=function(t){var n=t.size,r=uf(t,v7);return sn("svg",Bt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:y7},r))},mE=function(t){return sn(NL,Bt({size:20},t),sn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},zL=function(t){return sn(NL,Bt({size:20},t),sn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},BL=function(t,n){var r=t.isFocused,i=t.theme,u=i.spacing.baseUnit,f=i.colors;return hn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?f.neutral60:f.neutral20,padding:u*2,":hover":{color:r?f.neutral80:f.neutral40}})},_7=BL,x7=function(t){var n=t.children,r=t.innerProps;return sn("div",Bt({},Kr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||sn(zL,null))},b7=BL,w7=function(t){var n=t.children,r=t.innerProps;return sn("div",Bt({},Kr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||sn(mE,null))},E7=function(t,n){var r=t.isDisabled,i=t.theme,u=i.spacing.baseUnit,f=i.colors;return hn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?f.neutral10:f.neutral20,marginBottom:u*2,marginTop:u*2})},S7=function(t){var n=t.innerProps;return sn("span",Bt({},n,Kr(t,"indicatorSeparator",{"indicator-separator":!0})))},T7=kG(DA||(DA=LG([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),I7=function(t,n){var r=t.isFocused,i=t.size,u=t.theme,f=u.colors,s=u.spacing.baseUnit;return hn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?f.neutral60:f.neutral20,padding:s*2})},A1=function(t){var n=t.delay,r=t.offset;return sn("span",{css:pE({animation:"".concat(T7," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},FL=function(t){var n=t.innerProps,r=t.isRtl;return sn("div",Bt({},Kr(t,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),sn(A1,{delay:0,offset:r}),sn(A1,{delay:160,offset:!0}),sn(A1,{delay:320,offset:!r}))};FL.defaultProps={size:4};var A7=function(t,n){var r=t.isDisabled,i=t.isFocused,u=t.theme,f=u.colors,s=u.borderRadius,y=u.spacing;return hn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:y.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?f.neutral5:f.neutral0,borderColor:r?f.neutral10:i?f.primary:f.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(f.primary):void 0,"&:hover":{borderColor:i?f.primary:f.neutral30}})},P7=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,u=t.innerRef,f=t.innerProps,s=t.menuIsOpen;return sn("div",Bt({ref:u},Kr(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),f),n)},O7=["data"],C7=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},R7=function(t){var n=t.children,r=t.cx,i=t.getStyles,u=t.getClassNames,f=t.Heading,s=t.headingProps,y=t.innerProps,w=t.label,I=t.theme,A=t.selectProps;return sn("div",Bt({},Kr(t,"group",{group:!0}),y),sn(f,Bt({},s,{selectProps:A,theme:I,getStyles:i,getClassNames:u,cx:r}),w),sn("div",null,n))},k7=function(t,n){var r=t.theme,i=r.colors,u=r.spacing;return hn({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:u.baseUnit*3,paddingRight:u.baseUnit*3,textTransform:"uppercase"})},L7=function(t){var n=PL(t);n.data;var r=uf(n,O7);return sn("div",Bt({},Kr(t,"groupHeading",{"group-heading":!0}),r))},M7=["innerRef","isDisabled","isHidden","inputClassName"],D7=function(t,n){var r=t.isDisabled,i=t.value,u=t.theme,f=u.spacing,s=u.colors;return hn(hn({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},N7),n?{}:{margin:f.baseUnit/2,paddingBottom:f.baseUnit/2,paddingTop:f.baseUnit/2,color:s.neutral80})},UL={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},N7={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":hn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},UL)},z7=function(t){return hn({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},UL)},B7=function(t){var n=t.cx,r=t.value,i=PL(t),u=i.innerRef,f=i.isDisabled,s=i.isHidden,y=i.inputClassName,w=uf(i,M7);return sn("div",Bt({},Kr(t,"input",{"input-container":!0}),{"data-value":r||""}),sn("input",Bt({className:n({input:!0},y),ref:u,style:z7(s),disabled:f},w)))},F7=function(t,n){var r=t.theme,i=r.spacing,u=r.borderRadius,f=r.colors;return hn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:f.neutral10,borderRadius:u/2,margin:i.baseUnit/2})},U7=function(t,n){var r=t.theme,i=r.borderRadius,u=r.colors,f=t.cropWithEllipsis;return hn({overflow:"hidden",textOverflow:f||f===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:u.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},V7=function(t,n){var r=t.theme,i=r.spacing,u=r.borderRadius,f=r.colors,s=t.isFocused;return hn({alignItems:"center",display:"flex"},n?{}:{borderRadius:u/2,backgroundColor:s?f.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:f.dangerLight,color:f.danger}})},VL=function(t){var n=t.children,r=t.innerProps;return sn("div",r,n)},H7=VL,j7=VL;function $7(e){var t=e.children,n=e.innerProps;return sn("div",Bt({role:"button"},n),t||sn(mE,{size:14}))}var G7=function(t){var n=t.children,r=t.components,i=t.data,u=t.innerProps,f=t.isDisabled,s=t.removeProps,y=t.selectProps,w=r.Container,I=r.Label,A=r.Remove;return sn(w,{data:i,innerProps:hn(hn({},Kr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":f})),u),selectProps:y},sn(I,{data:i,innerProps:hn({},Kr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:y},n),sn(A,{data:i,innerProps:hn(hn({},Kr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:y}))},q7=function(t,n){var r=t.isDisabled,i=t.isFocused,u=t.isSelected,f=t.theme,s=f.spacing,y=f.colors;return hn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:u?y.primary:i?y.primary25:"transparent",color:r?y.neutral20:u?y.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:u?y.primary:y.primary50}})},W7=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,u=t.isSelected,f=t.innerRef,s=t.innerProps;return sn("div",Bt({},Kr(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":u}),{ref:f,"aria-disabled":r},s),n)},Z7=function(t,n){var r=t.theme,i=r.spacing,u=r.colors;return hn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:u.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},K7=function(t){var n=t.children,r=t.innerProps;return sn("div",Bt({},Kr(t,"placeholder",{placeholder:!0}),r),n)},X7=function(t,n){var r=t.isDisabled,i=t.theme,u=i.spacing,f=i.colors;return hn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?f.neutral40:f.neutral80,marginLeft:u.baseUnit/2,marginRight:u.baseUnit/2})},Y7=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return sn("div",Bt({},Kr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},J7={ClearIndicator:w7,Control:P7,DropdownIndicator:x7,DownChevron:zL,CrossIcon:mE,Group:R7,GroupHeading:L7,IndicatorsContainer:g7,IndicatorSeparator:S7,Input:B7,LoadingIndicator:FL,Menu:i7,MenuList:a7,MenuPortal:c7,LoadingMessage:DL,NoOptionsMessage:ML,MultiValue:G7,MultiValueContainer:H7,MultiValueLabel:j7,MultiValueRemove:$7,Option:W7,Placeholder:K7,SelectContainer:d7,SingleValue:Y7,ValueContainer:p7},Q7=function(t){return hn(hn({},J7),t.components)},NA=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function e9(e,t){return!!(e===t||NA(e)&&NA(t))}function t9(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e9(e[n],t[n]))return!1;return!0}function n9(e,t){t===void 0&&(t=t9);var n=null;function r(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var f=e.apply(this,i);return n={lastResult:f,lastArgs:i,lastThis:this},f}return r.clear=function(){n=null},r}var r9={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},zA=function(t){return sn("span",Bt({css:r9},t))},i9={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.isDisabled,u=t.tabSelectsValue,f=t.context;switch(f){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(u?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,u=t.labels,f=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(u.length>1?"s":""," ").concat(u.join(","),", selected.");case"select-option":return f?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,u=t.label,f=u===void 0?"":u,s=t.selectValue,y=t.isDisabled,w=t.isSelected,I=function(z,V){return z&&z.length?"".concat(z.indexOf(V)+1," of ").concat(z.length):""};if(n==="value"&&s)return"value ".concat(f," focused, ").concat(I(s,r),".");if(n==="menu"){var A=y?" disabled":"",R="".concat(w?"selected":"focused").concat(A);return"option ".concat(f," ").concat(R,", ").concat(I(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},o9=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,u=t.focusableOptions,f=t.isFocused,s=t.selectValue,y=t.selectProps,w=t.id,I=y.ariaLiveMessages,A=y.getOptionLabel,R=y.inputValue,O=y.isMulti,z=y.isOptionDisabled,V=y.isSearchable,G=y.menuIsOpen,F=y.options,B=y.screenReaderStatus,j=y.tabSelectsValue,Y=y["aria-label"],Q=y["aria-live"],J=le.useMemo(function(){return hn(hn({},i9),I||{})},[I]),ee=le.useMemo(function(){var Fe="";if(n&&J.onChange){var tt=n.option,Ye=n.options,pt=n.removedValue,Pe=n.removedValues,et=n.value,ze=function(vt){return Array.isArray(vt)?null:vt},rt=pt||tt||ze(et),Be=rt?A(rt):"",qe=Ye||Pe||void 0,$e=qe?qe.map(A):[],Je=hn({isDisabled:rt&&z(rt,s),label:Be,labels:$e},n);Fe=J.onChange(Je)}return Fe},[n,J,z,s,A]),se=le.useMemo(function(){var Fe="",tt=r||i,Ye=!!(r&&s&&s.includes(r));if(tt&&J.onFocus){var pt={focused:tt,label:A(tt),isDisabled:z(tt,s),isSelected:Ye,options:u,context:tt===r?"menu":"value",selectValue:s};Fe=J.onFocus(pt)}return Fe},[r,i,A,z,J,u,s]),ge=le.useMemo(function(){var Fe="";if(G&&F.length&&J.onFilter){var tt=B({count:u.length});Fe=J.onFilter({inputValue:R,resultsMessage:tt})}return Fe},[u,R,G,J,F,B]),he=le.useMemo(function(){var Fe="";if(J.guidance){var tt=i?"value":G?"menu":"input";Fe=J.guidance({"aria-label":Y,context:tt,isDisabled:r&&z(r,s),isMulti:O,isSearchable:V,tabSelectsValue:j})}return Fe},[Y,r,i,O,z,V,G,J,s,j]),Ee="".concat(se," ").concat(ge," ").concat(he),De=sn(le.Fragment,null,sn("span",{id:"aria-selection"},ee),sn("span",{id:"aria-context"},Ee)),We=(n==null?void 0:n.action)==="initial-input-focus";return sn(le.Fragment,null,sn(zA,{id:w},We&&De),sn(zA,{"aria-live":Q,"aria-atomic":"false","aria-relevant":"additions text"},f&&!We&&De))},Tb=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],a9=new RegExp("["+Tb.map(function(e){return e.letters}).join("")+"]","g"),HL={};for(var P1=0;P1<Tb.length;P1++)for(var O1=Tb[P1],C1=0;C1<O1.letters.length;C1++)HL[O1.letters[C1]]=O1.base;var jL=function(t){return t.replace(a9,function(n){return HL[n]})},s9=n9(jL),BA=function(t){return t.replace(/^\s+|\s+$/g,"")},l9=function(t){return"".concat(t.label," ").concat(t.value)},u9=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=hn({ignoreCase:!0,ignoreAccents:!0,stringify:l9,trim:!0,matchFrom:"any"},t),u=i.ignoreCase,f=i.ignoreAccents,s=i.stringify,y=i.trim,w=i.matchFrom,I=y?BA(r):r,A=y?BA(s(n)):s(n);return u&&(I=I.toLowerCase(),A=A.toLowerCase()),f&&(I=s9(I),A=jL(A)),w==="start"?A.substr(0,I.length)===I:A.indexOf(I)>-1}},c9=["innerRef"];function h9(e){var t=e.innerRef,n=uf(e,c9),r=QG(n,"onExited","in","enter","exit","appear");return sn("input",Bt({ref:t},r,{css:pE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var d9=function(t){t.preventDefault(),t.stopPropagation()};function f9(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,u=e.onTopLeave,f=le.useRef(!1),s=le.useRef(!1),y=le.useRef(0),w=le.useRef(null),I=le.useCallback(function(G,F){if(w.current!==null){var B=w.current,j=B.scrollTop,Y=B.scrollHeight,Q=B.clientHeight,J=w.current,ee=F>0,se=Y-Q-j,ge=!1;se>F&&f.current&&(r&&r(G),f.current=!1),ee&&s.current&&(u&&u(G),s.current=!1),ee&&F>se?(n&&!f.current&&n(G),J.scrollTop=Y,ge=!0,f.current=!0):!ee&&-F>j&&(i&&!s.current&&i(G),J.scrollTop=0,ge=!0,s.current=!0),ge&&d9(G)}},[n,r,i,u]),A=le.useCallback(function(G){I(G,G.deltaY)},[I]),R=le.useCallback(function(G){y.current=G.changedTouches[0].clientY},[]),O=le.useCallback(function(G){var F=y.current-G.changedTouches[0].clientY;I(G,F)},[I]),z=le.useCallback(function(G){if(G){var F=XG?{passive:!1}:!1;G.addEventListener("wheel",A,F),G.addEventListener("touchstart",R,F),G.addEventListener("touchmove",O,F)}},[O,R,A]),V=le.useCallback(function(G){G&&(G.removeEventListener("wheel",A,!1),G.removeEventListener("touchstart",R,!1),G.removeEventListener("touchmove",O,!1))},[O,R,A]);return le.useEffect(function(){if(t){var G=w.current;return z(G),function(){V(G)}}},[t,z,V]),function(G){w.current=G}}var FA=["boxSizing","height","overflow","paddingRight","position"],UA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function VA(e){e.preventDefault()}function HA(e){e.stopPropagation()}function jA(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function $A(){return"ontouchstart"in window||navigator.maxTouchPoints}var GA=!!(typeof window<"u"&&window.document&&window.document.createElement),Kf=0,ad={capture:!1,passive:!1};function p9(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=le.useRef({}),u=le.useRef(null),f=le.useCallback(function(y){if(GA){var w=document.body,I=w&&w.style;if(r&&FA.forEach(function(z){var V=I&&I[z];i.current[z]=V}),r&&Kf<1){var A=parseInt(i.current.paddingRight,10)||0,R=document.body?document.body.clientWidth:0,O=window.innerWidth-R+A||0;Object.keys(UA).forEach(function(z){var V=UA[z];I&&(I[z]=V)}),I&&(I.paddingRight="".concat(O,"px"))}w&&$A()&&(w.addEventListener("touchmove",VA,ad),y&&(y.addEventListener("touchstart",jA,ad),y.addEventListener("touchmove",HA,ad))),Kf+=1}},[r]),s=le.useCallback(function(y){if(GA){var w=document.body,I=w&&w.style;Kf=Math.max(Kf-1,0),r&&Kf<1&&FA.forEach(function(A){var R=i.current[A];I&&(I[A]=R)}),w&&$A()&&(w.removeEventListener("touchmove",VA,ad),y&&(y.removeEventListener("touchstart",jA,ad),y.removeEventListener("touchmove",HA,ad)))}},[r]);return le.useEffect(function(){if(t){var y=u.current;return f(y),function(){s(y)}}},[t,f,s]),function(y){u.current=y}}var m9=function(){return document.activeElement&&document.activeElement.blur()},g9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function v9(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,u=e.onBottomArrive,f=e.onBottomLeave,s=e.onTopArrive,y=e.onTopLeave,w=f9({isEnabled:i,onBottomArrive:u,onBottomLeave:f,onTopArrive:s,onTopLeave:y}),I=p9({isEnabled:n}),A=function(O){w(O),I(O)};return sn(le.Fragment,null,n&&sn("div",{onClick:m9,css:g9}),t(A))}var y9={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},_9=function(t){var n=t.name,r=t.onFocus;return sn("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:y9,value:"",onChange:function(){}})},x9=function(t){return t.label},b9=function(t){return t.label},w9=function(t){return t.value},E9=function(t){return!!t.isDisabled},S9={clearIndicator:b7,container:h7,control:A7,dropdownIndicator:_7,group:C7,groupHeading:k7,indicatorsContainer:m7,indicatorSeparator:E7,input:D7,loadingIndicator:I7,loadingMessage:l7,menu:n7,menuList:o7,menuPortal:u7,multiValue:F7,multiValueLabel:U7,multiValueRemove:V7,noOptionsMessage:s7,option:q7,placeholder:Z7,singleValue:X7,valueContainer:f7},T9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},I9=4,$L=4,A9=38,P9=$L*2,O9={baseUnit:$L,controlHeight:A9,menuGutter:P9},R1={borderRadius:I9,colors:T9,spacing:O9},C9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:MA(),captureMenuScroll:!MA(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:u9(),formatGroupLabel:x9,getOptionLabel:b9,getOptionValue:w9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:E9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!ZG(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function qA(e,t,n,r){var i=ZL(e,t,n),u=KL(e,t,n),f=WL(e,t),s=ky(e,t);return{type:"option",data:t,isDisabled:i,isSelected:u,label:f,value:s,index:r}}function GL(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(f,s){return qA(e,f,t,s)}).filter(function(f){return WA(e,f)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var u=qA(e,n,t,r);return WA(e,u)?u:void 0}).filter(YG)}function qL(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,hL(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function R9(e,t){return qL(GL(e,t))}function WA(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,u=t.isSelected,f=t.label,s=t.value;return(!YL(e)||!u)&&XL(e,{label:f,value:s,data:i},r)}function k9(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var u=t.indexOf(n);if(u>-1)return n;if(i<t.length)return t[i]}return null}function L9(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var WL=function(t,n){return t.getOptionLabel(n)},ky=function(t,n){return t.getOptionValue(n)};function ZL(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function KL(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=ky(e,t);return n.some(function(i){return ky(e,i)===r})}function XL(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var YL=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},M9=1,JL=function(e){M$(n,e);var t=B$(n);function n(r){var i;if(k$(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(s){i.controlRef=s},i.focusedOptionRef=null,i.getFocusedOptionRef=function(s){i.focusedOptionRef=s},i.menuListRef=null,i.getMenuListRef=function(s){i.menuListRef=s},i.inputRef=null,i.getInputRef=function(s){i.inputRef=s},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(s,y){var w=i.props,I=w.onChange,A=w.name;y.name=A,i.ariaOnChange(s,y),I(s,y)},i.setValue=function(s,y,w){var I=i.props,A=I.closeMenuOnSelect,R=I.isMulti,O=I.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:O}),A&&(i.setState({inputIsHiddenAfterUpdate:!R}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(s,{action:y,option:w})},i.selectOption=function(s){var y=i.props,w=y.blurInputOnSelect,I=y.isMulti,A=y.name,R=i.state.selectValue,O=I&&i.isOptionSelected(s,R),z=i.isOptionDisabled(s,R);if(O){var V=i.getOptionValue(s);i.setValue(R.filter(function(G){return i.getOptionValue(G)!==V}),"deselect-option",s)}else if(!z)I?i.setValue([].concat(hL(R),[s]),"select-option",s):i.setValue(s,"select-option");else{i.ariaOnChange(s,{action:"select-option",option:s,name:A});return}w&&i.blurInput()},i.removeValue=function(s){var y=i.props.isMulti,w=i.state.selectValue,I=i.getOptionValue(s),A=w.filter(function(O){return i.getOptionValue(O)!==I}),R=Ug(y,A,A[0]||null);i.onChange(R,{action:"remove-value",removedValue:s}),i.focusInput()},i.clearValue=function(){var s=i.state.selectValue;i.onChange(Ug(i.props.isMulti,[],null),{action:"clear",removedValues:s})},i.popValue=function(){var s=i.props.isMulti,y=i.state.selectValue,w=y[y.length-1],I=y.slice(0,y.length-1),A=Ug(s,I,I[0]||null);i.onChange(A,{action:"pop-value",removedValue:w})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var s=arguments.length,y=new Array(s),w=0;w<s;w++)y[w]=arguments[w];return jG.apply(void 0,[i.props.classNamePrefix].concat(y))},i.getOptionLabel=function(s){return WL(i.props,s)},i.getOptionValue=function(s){return ky(i.props,s)},i.getStyles=function(s,y){var w=i.props.unstyled,I=S9[s](y,w);I.boxSizing="border-box";var A=i.props.styles[s];return A?A(I,y):I},i.getClassNames=function(s,y){var w,I;return(w=(I=i.props.classNames)[s])===null||w===void 0?void 0:w.call(I,y)},i.getElementId=function(s){return"".concat(i.instancePrefix,"-").concat(s)},i.getComponents=function(){return Q7(i.props)},i.buildCategorizedOptions=function(){return GL(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return qL(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(s,y){i.setState({ariaSelection:hn({value:s},y)})},i.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(s){i.blockOptionHover=!1},i.onControlMouseDown=function(s){if(!s.defaultPrevented){var y=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&i.onMenuClose():y&&i.openMenu("first"):(y&&(i.openAfterFocus=!0),i.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()}},i.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!i.props.isDisabled){var y=i.props,w=y.isMulti,I=y.menuIsOpen;i.focusInput(),I?(i.setState({inputIsHiddenAfterUpdate:!w}),i.onMenuClose()):i.openMenu("first"),s.preventDefault()}},i.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(i.clearValue(),s.preventDefault(),i.openAfterFocus=!1,s.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(s){typeof i.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&D_(s.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(s)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(s){var y=s.touches,w=y&&y.item(0);w&&(i.initialTouchX=w.clientX,i.initialTouchY=w.clientY,i.userIsDragging=!1)},i.onTouchMove=function(s){var y=s.touches,w=y&&y.item(0);if(w){var I=Math.abs(w.clientX-i.initialTouchX),A=Math.abs(w.clientY-i.initialTouchY),R=5;i.userIsDragging=I>R||A>R}},i.onTouchEnd=function(s){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(s.target)&&i.menuListRef&&!i.menuListRef.contains(s.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(s){i.userIsDragging||i.onControlMouseDown(s)},i.onClearIndicatorTouchEnd=function(s){i.userIsDragging||i.onClearIndicatorMouseDown(s)},i.onDropdownIndicatorTouchEnd=function(s){i.userIsDragging||i.onDropdownIndicatorMouseDown(s)},i.handleInputChange=function(s){var y=i.props.inputValue,w=s.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(w,{action:"input-change",prevInputValue:y}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(s){i.props.onFocus&&i.props.onFocus(s),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(s){var y=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(s),i.onInputChange("",{action:"input-blur",prevInputValue:y}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(s){i.blockOptionHover||i.state.focusedOption===s||i.setState({focusedOption:s})},i.shouldHideSelectedOptions=function(){return YL(i.props)},i.onValueInputFocus=function(s){s.preventDefault(),s.stopPropagation(),i.focus()},i.onKeyDown=function(s){var y=i.props,w=y.isMulti,I=y.backspaceRemovesValue,A=y.escapeClearsValue,R=y.inputValue,O=y.isClearable,z=y.isDisabled,V=y.menuIsOpen,G=y.onKeyDown,F=y.tabSelectsValue,B=y.openMenuOnFocus,j=i.state,Y=j.focusedOption,Q=j.focusedValue,J=j.selectValue;if(!z&&!(typeof G=="function"&&(G(s),s.defaultPrevented))){switch(i.blockOptionHover=!0,s.key){case"ArrowLeft":if(!w||R)return;i.focusValue("previous");break;case"ArrowRight":if(!w||R)return;i.focusValue("next");break;case"Delete":case"Backspace":if(R)return;if(Q)i.removeValue(Q);else{if(!I)return;w?i.popValue():O&&i.clearValue()}break;case"Tab":if(i.isComposing||s.shiftKey||!V||!F||!Y||B&&i.isOptionSelected(Y,J))return;i.selectOption(Y);break;case"Enter":if(s.keyCode===229)break;if(V){if(!Y||i.isComposing)return;i.selectOption(Y);break}return;case"Escape":V?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:R}),i.onMenuClose()):O&&A&&i.clearValue();break;case" ":if(R)return;if(!V){i.openMenu("first");break}if(!Y)return;i.selectOption(Y);break;case"ArrowUp":V?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":V?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!V)return;i.focusOption("pageup");break;case"PageDown":if(!V)return;i.focusOption("pagedown");break;case"Home":if(!V)return;i.focusOption("first");break;case"End":if(!V)return;i.focusOption("last");break;default:return}s.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++M9),i.state.selectValue=kA(r.value),r.menuIsOpen&&i.state.selectValue.length){var u=i.buildFocusableOptions(),f=u.indexOf(i.state.selectValue[0]);i.state.focusedOption=u[f]}return i}return L$(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&LA(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var u=this.props,f=u.isDisabled,s=u.menuIsOpen,y=this.state.isFocused;(y&&!f&&i.isDisabled||y&&s&&!i.menuIsOpen)&&this.focusInput(),y&&f&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!y&&!f&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(LA(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,u){this.props.onInputChange(i,u)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var u=this,f=this.state,s=f.selectValue,y=f.isFocused,w=this.buildFocusableOptions(),I=i==="first"?0:w.length-1;if(!this.props.isMulti){var A=w.indexOf(s[0]);A>-1&&(I=A)}this.scrollToFocusedOptionOnUpdate=!(y&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:w[I]},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(i){var u=this.state,f=u.selectValue,s=u.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var y=f.indexOf(s);s||(y=-1);var w=f.length-1,I=-1;if(f.length){switch(i){case"previous":y===0?I=0:y===-1?I=w:I=y-1;break;case"next":y>-1&&y<w&&(I=y+1);break}this.setState({inputIsHidden:I!==-1,focusedValue:f[I]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,f=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var y=0,w=s.indexOf(f);f||(w=-1),i==="up"?y=w>0?w-1:s.length-1:i==="down"?y=(w+1)%s.length:i==="pageup"?(y=w-u,y<0&&(y=0)):i==="pagedown"?(y=w+u,y>s.length-1&&(y=s.length-1)):i==="last"&&(y=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[y],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(R1):hn(hn({},R1),this.props.theme):R1}},{key:"getCommonProps",value:function(){var i=this.clearValue,u=this.cx,f=this.getStyles,s=this.getClassNames,y=this.getValue,w=this.selectOption,I=this.setValue,A=this.props,R=A.isMulti,O=A.isRtl,z=A.options,V=this.hasValue();return{clearValue:i,cx:u,getStyles:f,getClassNames:s,getValue:y,hasValue:V,isMulti:R,isRtl:O,options:z,selectOption:w,selectProps:A,setValue:I,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,u=i.isClearable,f=i.isMulti;return u===void 0?f:u}},{key:"isOptionDisabled",value:function(i,u){return ZL(this.props,i,u)}},{key:"isOptionSelected",value:function(i,u){return KL(this.props,i,u)}},{key:"filterOption",value:function(i,u){return XL(this.props,i,u)}},{key:"formatOptionLabel",value:function(i,u){if(typeof this.props.formatOptionLabel=="function"){var f=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:u,inputValue:f,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,u=i.isDisabled,f=i.isSearchable,s=i.inputId,y=i.inputValue,w=i.tabIndex,I=i.form,A=i.menuIsOpen,R=i.required,O=this.getComponents(),z=O.Input,V=this.state,G=V.inputIsHidden,F=V.ariaSelection,B=this.commonProps,j=s||this.getElementId("input"),Y=hn(hn(hn({"aria-autocomplete":"list","aria-expanded":A,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":R,role:"combobox"},A&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!f&&{"aria-readonly":!0}),this.hasValue()?(F==null?void 0:F.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return f?le.createElement(z,Bt({},B,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:j,innerRef:this.getInputRef,isDisabled:u,isHidden:G,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:w,form:I,type:"text",value:y},Y)):le.createElement(h9,Bt({id:j,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Cy,onFocus:this.onInputFocus,disabled:u,tabIndex:w,inputMode:"none",form:I,value:""},Y))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,u=this.getComponents(),f=u.MultiValue,s=u.MultiValueContainer,y=u.MultiValueLabel,w=u.MultiValueRemove,I=u.SingleValue,A=u.Placeholder,R=this.commonProps,O=this.props,z=O.controlShouldRenderValue,V=O.isDisabled,G=O.isMulti,F=O.inputValue,B=O.placeholder,j=this.state,Y=j.selectValue,Q=j.focusedValue,J=j.isFocused;if(!this.hasValue()||!z)return F?null:le.createElement(A,Bt({},R,{key:"placeholder",isDisabled:V,isFocused:J,innerProps:{id:this.getElementId("placeholder")}}),B);if(G)return Y.map(function(se,ge){var he=se===Q,Ee="".concat(i.getOptionLabel(se),"-").concat(i.getOptionValue(se));return le.createElement(f,Bt({},R,{components:{Container:s,Label:y,Remove:w},isFocused:he,isDisabled:V,key:Ee,index:ge,removeProps:{onClick:function(){return i.removeValue(se)},onTouchEnd:function(){return i.removeValue(se)},onMouseDown:function(We){We.preventDefault()}},data:se}),i.formatOptionLabel(se,"value"))});if(F)return null;var ee=Y[0];return le.createElement(I,Bt({},R,{data:ee,isDisabled:V}),this.formatOptionLabel(ee,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),u=i.ClearIndicator,f=this.commonProps,s=this.props,y=s.isDisabled,w=s.isLoading,I=this.state.isFocused;if(!this.isClearable()||!u||y||!this.hasValue()||w)return null;var A={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return le.createElement(u,Bt({},f,{innerProps:A,isFocused:I}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),u=i.LoadingIndicator,f=this.commonProps,s=this.props,y=s.isDisabled,w=s.isLoading,I=this.state.isFocused;if(!u||!w)return null;var A={"aria-hidden":"true"};return le.createElement(u,Bt({},f,{innerProps:A,isDisabled:y,isFocused:I}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),u=i.DropdownIndicator,f=i.IndicatorSeparator;if(!u||!f)return null;var s=this.commonProps,y=this.props.isDisabled,w=this.state.isFocused;return le.createElement(f,Bt({},s,{isDisabled:y,isFocused:w}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),u=i.DropdownIndicator;if(!u)return null;var f=this.commonProps,s=this.props.isDisabled,y=this.state.isFocused,w={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return le.createElement(u,Bt({},f,{innerProps:w,isDisabled:s,isFocused:y}))}},{key:"renderMenu",value:function(){var i=this,u=this.getComponents(),f=u.Group,s=u.GroupHeading,y=u.Menu,w=u.MenuList,I=u.MenuPortal,A=u.LoadingMessage,R=u.NoOptionsMessage,O=u.Option,z=this.commonProps,V=this.state.focusedOption,G=this.props,F=G.captureMenuScroll,B=G.inputValue,j=G.isLoading,Y=G.loadingMessage,Q=G.minMenuHeight,J=G.maxMenuHeight,ee=G.menuIsOpen,se=G.menuPlacement,ge=G.menuPosition,he=G.menuPortalTarget,Ee=G.menuShouldBlockScroll,De=G.menuShouldScrollIntoView,We=G.noOptionsMessage,Fe=G.onMenuScrollToTop,tt=G.onMenuScrollToBottom;if(!ee)return null;var Ye=function(qe,$e){var Je=qe.type,Ae=qe.data,vt=qe.isDisabled,lt=qe.isSelected,en=qe.label,ke=qe.value,Xe=V===Ae,_t=vt?void 0:function(){return i.onOptionHover(Ae)},Jt=vt?void 0:function(){return i.selectOption(Ae)},Wt="".concat(i.getElementId("option"),"-").concat($e),Zt={id:Wt,onClick:Jt,onMouseMove:_t,onMouseOver:_t,tabIndex:-1};return le.createElement(O,Bt({},z,{innerProps:Zt,data:Ae,isDisabled:vt,isSelected:lt,key:Wt,label:en,type:Je,value:ke,isFocused:Xe,innerRef:Xe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(qe.data,"menu"))},pt;if(this.hasOptions())pt=this.getCategorizedOptions().map(function(Be){if(Be.type==="group"){var qe=Be.data,$e=Be.options,Je=Be.index,Ae="".concat(i.getElementId("group"),"-").concat(Je),vt="".concat(Ae,"-heading");return le.createElement(f,Bt({},z,{key:Ae,data:qe,options:$e,Heading:s,headingProps:{id:vt,data:Be.data},label:i.formatGroupLabel(Be.data)}),Be.options.map(function(lt){return Ye(lt,"".concat(Je,"-").concat(lt.index))}))}else if(Be.type==="option")return Ye(Be,"".concat(Be.index))});else if(j){var Pe=Y({inputValue:B});if(Pe===null)return null;pt=le.createElement(A,z,Pe)}else{var et=We({inputValue:B});if(et===null)return null;pt=le.createElement(R,z,et)}var ze={minMenuHeight:Q,maxMenuHeight:J,menuPlacement:se,menuPosition:ge,menuShouldScrollIntoView:De},rt=le.createElement(r7,Bt({},z,ze),function(Be){var qe=Be.ref,$e=Be.placerProps,Je=$e.placement,Ae=$e.maxHeight;return le.createElement(y,Bt({},z,ze,{innerRef:qe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:j,placement:Je}),le.createElement(v9,{captureEnabled:F,onTopArrive:Fe,onBottomArrive:tt,lockEnabled:Ee},function(vt){return le.createElement(w,Bt({},z,{innerRef:function(en){i.getMenuListRef(en),vt(en)},isLoading:j,maxHeight:Ae,focusedOption:V}),pt)}))});return he||ge==="fixed"?le.createElement(I,Bt({},z,{appendTo:he,controlElement:this.controlRef,menuPlacement:se,menuPosition:ge}),rt):rt}},{key:"renderFormField",value:function(){var i=this,u=this.props,f=u.delimiter,s=u.isDisabled,y=u.isMulti,w=u.name,I=u.required,A=this.state.selectValue;if(!(!w||s)){if(I&&!this.hasValue())return le.createElement(_9,{name:w,onFocus:this.onValueInputFocus});if(y)if(f){var R=A.map(function(V){return i.getOptionValue(V)}).join(f);return le.createElement("input",{name:w,type:"hidden",value:R})}else{var O=A.length>0?A.map(function(V,G){return le.createElement("input",{key:"i-".concat(G),name:w,type:"hidden",value:i.getOptionValue(V)})}):le.createElement("input",{name:w,type:"hidden",value:""});return le.createElement("div",null,O)}else{var z=A[0]?this.getOptionValue(A[0]):"";return le.createElement("input",{name:w,type:"hidden",value:z})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,u=this.state,f=u.ariaSelection,s=u.focusedOption,y=u.focusedValue,w=u.isFocused,I=u.selectValue,A=this.getFocusableOptions();return le.createElement(o9,Bt({},i,{id:this.getElementId("live-region"),ariaSelection:f,focusedOption:s,focusedValue:y,isFocused:w,selectValue:I,focusableOptions:A}))}},{key:"render",value:function(){var i=this.getComponents(),u=i.Control,f=i.IndicatorsContainer,s=i.SelectContainer,y=i.ValueContainer,w=this.props,I=w.className,A=w.id,R=w.isDisabled,O=w.menuIsOpen,z=this.state.isFocused,V=this.commonProps=this.getCommonProps();return le.createElement(s,Bt({},V,{className:I,innerProps:{id:A,onKeyDown:this.onKeyDown},isDisabled:R,isFocused:z}),this.renderLiveRegion(),le.createElement(u,Bt({},V,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:R,isFocused:z,menuIsOpen:O}),le.createElement(y,Bt({},V,{isDisabled:R}),this.renderPlaceholderOrValue(),this.renderInput()),le.createElement(f,Bt({},V,{isDisabled:R}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,u){var f=u.prevProps,s=u.clearFocusValueOnUpdate,y=u.inputIsHiddenAfterUpdate,w=u.ariaSelection,I=u.isFocused,A=u.prevWasFocused,R=i.options,O=i.value,z=i.menuIsOpen,V=i.inputValue,G=i.isMulti,F=kA(O),B={};if(f&&(O!==f.value||R!==f.options||z!==f.menuIsOpen||V!==f.inputValue)){var j=z?R9(i,F):[],Y=s?k9(u,F):null,Q=L9(u,j);B={selectValue:F,focusedOption:Q,focusedValue:Y,clearFocusValueOnUpdate:!1}}var J=y!=null&&i!==f?{inputIsHidden:y,inputIsHiddenAfterUpdate:void 0}:{},ee=w,se=I&&A;return I&&!se&&(ee={value:Ug(G,F,F[0]||null),options:F,action:"initial-input-focus"},se=!A),(w==null?void 0:w.action)==="initial-input-focus"&&(ee=null),hn(hn(hn({},B),J),{},{prevProps:i,ariaSelection:ee,prevWasFocused:se})}}]),n}(le.Component);JL.defaultProps=C9;var D9=le.forwardRef(function(e,t){var n=R$(e);return le.createElement(JL,Bt({ref:t},n))});const ZW=D9,QL="%[a-f0-9]{2}",ZA=new RegExp("("+QL+")|([^%]+?)","gi"),KA=new RegExp("("+QL+")+","gi");function Ib(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],Ib(n),Ib(r))}function N9(e){try{return decodeURIComponent(e)}catch{let t=e.match(ZA)||[];for(let n=1;n<t.length;n++)e=Ib(t,n).join(""),t=e.match(ZA)||[];return e}}function z9(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=KA.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const i=N9(n[0]);i!==n[0]&&(t[n[0]]=i)}n=KA.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const i of r)e=e.replace(new RegExp(i,"g"),t[i]);return e}function B9(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return z9(e)}}function eM(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}function F9(e,t){const n={};if(Array.isArray(t))for(const r of t){const i=Object.getOwnPropertyDescriptor(e,r);i!=null&&i.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(e)){const i=Object.getOwnPropertyDescriptor(e,r);if(i.enumerable){const u=e[r];t(r,u,e)&&Object.defineProperty(n,r,i)}}return n}const U9=e=>e==null,V9=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Ab=Symbol("encodeFragmentIdentifier");function H9(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[oi(t,e),"[",i,"]"].join("")]:[...n,[oi(t,e),"[",oi(i,e),"]=",oi(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[oi(t,e),"[]"].join("")]:[...n,[oi(t,e),"[]=",oi(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[oi(t,e),":list="].join("")]:[...n,[oi(t,e),":list=",oi(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[oi(n,e),t,oi(i,e)].join("")]:[[r,oi(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,oi(t,e)]:[...n,[oi(t,e),"=",oi(r,e)].join("")]}}function j9(e){let t;switch(e.arrayFormat){case"index":return(n,r,i)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][t[1]]=r};case"bracket":return(n,r,i)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const u=typeof r=="string"&&r.includes(e.arrayFormatSeparator),f=typeof r=="string"&&!u&&ql(r,e).includes(e.arrayFormatSeparator);r=f?ql(r,e):r;const s=u||f?r.split(e.arrayFormatSeparator).map(y=>ql(y,e)):r===null?r:ql(r,e);i[n]=s};case"bracket-separator":return(n,r,i)=>{const u=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!u){i[n]=r&&ql(r,e);return}const f=r===null?[]:r.split(e.arrayFormatSeparator).map(s=>ql(s,e));if(i[n]===void 0){i[n]=f;return}i[n]=[...i[n],...f]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function tM(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function oi(e,t){return t.encode?t.strict?V9(e):encodeURIComponent(e):e}function ql(e,t){return t.decode?B9(e):e}function nM(e){return Array.isArray(e)?e.sort():typeof e=="object"?nM(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function rM(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function $9(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function XA(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function gE(e){e=rM(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function vE(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},tM(t.arrayFormatSeparator);const n=j9(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const i of e.split("&")){if(i==="")continue;const u=t.decode?i.replace(/\+/g," "):i;let[f,s]=eM(u,"=");f===void 0&&(f=u),s=s===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:ql(s,t),n(ql(f,t),s,r)}for(const[i,u]of Object.entries(r))if(typeof u=="object"&&u!==null)for(const[f,s]of Object.entries(u))u[f]=XA(s,t);else r[i]=XA(u,t);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((i,u)=>{const f=r[u];return Boolean(f)&&typeof f=="object"&&!Array.isArray(f)?i[u]=nM(f):i[u]=f,i},Object.create(null))}function iM(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},tM(t.arrayFormatSeparator);const n=f=>t.skipNull&&U9(e[f])||t.skipEmptyString&&e[f]==="",r=H9(t),i={};for(const[f,s]of Object.entries(e))n(f)||(i[f]=s);const u=Object.keys(i);return t.sort!==!1&&u.sort(t.sort),u.map(f=>{const s=e[f];return s===void 0?"":s===null?oi(f,t):Array.isArray(s)?s.length===0&&t.arrayFormat==="bracket-separator"?oi(f,t)+"[]":s.reduce(r(f),[]).join("&"):oi(f,t)+"="+oi(s,t)}).filter(f=>f.length>0).join("&")}function oM(e,t){var i;t={decode:!0,...t};let[n,r]=eM(e,"#");return n===void 0&&(n=e),{url:((i=n==null?void 0:n.split("?"))==null?void 0:i[0])??"",query:vE(gE(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:ql(r,t)}:{}}}function aM(e,t){t={encode:!0,strict:!0,[Ab]:!0,...t};const n=rM(e.url).split("?")[0]||"",r=gE(e.url),i={...vE(r,{sort:!1}),...e.query};let u=iM(i,t);u&&(u=`?${u}`);let f=$9(e.url);if(e.fragmentIdentifier){const s=new URL(n);s.hash=e.fragmentIdentifier,f=t[Ab]?s.hash:`#${e.fragmentIdentifier}`}return`${n}${u}${f}`}function sM(e,t,n){n={parseFragmentIdentifier:!0,[Ab]:!1,...n};const{url:r,query:i,fragmentIdentifier:u}=oM(e,n);return aM({url:r,query:F9(i,t),fragmentIdentifier:u},n)}function G9(e,t,n){const r=Array.isArray(t)?i=>!t.includes(i):(i,u)=>!t(i,u);return sM(e,r,n)}const KW=Object.freeze(Object.defineProperty({__proto__:null,exclude:G9,extract:gE,parse:vE,parseUrl:oM,pick:sM,stringify:iM,stringifyUrl:aM},Symbol.toStringTag,{value:"Module"}));var Pn={},q9={get exports(){return Pn},set exports(e){Pn=e}};(function(e,t){(function(n,r){e.exports=r()})(xP,function(){var n,r,i;function u(s,y){if(!n)n=y;else if(!r)r=y;else{var w="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",I={};n(I),i=y(I),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"})))}}u(["exports"],function(s){var y=w;function w(l,o,c,p){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(p-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=o,this.p2x=c,this.p2y=p}function I(l,o,c,p){const x=new y(l,o,c,p);return function(b){return x.solve(b)}}w.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,o){if(o===void 0&&(o=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,p=0;p<8;p++){var x=this.sampleCurveX(c)-l;if(Math.abs(x)<o)return c;var b=this.sampleCurveDerivativeX(c);if(Math.abs(b)<1e-6)break;c-=x/b}var S=0,C=1;for(c=l,p=0;p<20&&(x=this.sampleCurveX(c),!(Math.abs(x-l)<o));p++)l>x?S=c:C=c,c=.5*(C-S)+S;return c},solve:function(l,o){return this.sampleCurveY(this.solveCurveX(l,o))}};const A=I(.25,.1,.25,1);function R(l,o,c){return Math.min(c,Math.max(o,l))}function O(l,o,c){const p=c-o,x=((l-o)%p+p)%p+o;return x===o?c:x}function z(l,...o){for(const c of o)for(const p in c)l[p]=c[p];return l}let V=1;function G(l,o){l.forEach(c=>{o[c]&&(o[c]=o[c].bind(o))})}function F(l,o,c){const p={};for(const x in l)p[x]=o.call(c||this,l[x],x,l);return p}function B(l,o,c){const p={};for(const x in l)o.call(c||this,l[x],x,l)&&(p[x]=l[x]);return p}function j(l){return Array.isArray(l)?l.map(j):typeof l=="object"&&l?F(l,j):l}const Y={};function Q(l){Y[l]||(typeof console<"u"&&console.warn(l),Y[l]=!0)}function J(l,o,c){return(c.y-l.y)*(o.x-l.x)>(o.y-l.y)*(c.x-l.x)}function ee(l){let o=0;for(let c,p,x=0,b=l.length,S=b-1;x<b;S=x++)c=l[x],p=l[S],o+=(p.x-c.x)*(c.y+p.y);return o}function se(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let ge=null;function he(l){if(ge==null){const o=l.navigator?l.navigator.userAgent:null;ge=!!l.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return ge}function Ee(l){return typeof ImageBitmap<"u"&&l instanceof ImageBitmap}const De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let We,Fe;const tt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(l){const o=requestAnimationFrame(l);return{cancel:()=>cancelAnimationFrame(o)}},getImageData(l,o=0){return this.getImageCanvasContext(l).getImageData(-o,-o,l.width+2*o,l.height+2*o)},getImageCanvasContext(l){const o=window.document.createElement("canvas"),c=o.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return o.width=l.width,o.height=l.height,c.drawImage(l,0,0,l.width,l.height),c},resolveURL:l=>(We||(We=document.createElement("a")),We.href=l,We.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Fe==null&&(Fe=matchMedia("(prefers-reduced-motion: reduce)")),Fe.matches)}};var Ye=pt;function pt(l,o){this.x=l,this.y=o}pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,o){return this.clone()._rotateAround(l,o)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var o=l.x-this.x,c=l.y-this.y;return o*o+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,o){return Math.atan2(this.x*o-this.y*l,this.x*l+this.y*o)},_matMult:function(l){var o=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=o,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var o=Math.cos(l),c=Math.sin(l),p=c*this.x+o*this.y;return this.x=o*this.x-c*this.y,this.y=p,this},_rotateAround:function(l,o){var c=Math.cos(l),p=Math.sin(l),x=o.y+p*(this.x-o.x)+c*(this.y-o.y);return this.x=o.x+c*(this.x-o.x)-p*(this.y-o.y),this.y=x,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},pt.convert=function(l){return l instanceof pt?l:Array.isArray(l)?new pt(l[0],l[1]):l};const Pe={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,REGISTERED_PROTOCOLS:{}};class et extends Error{constructor(o,c,p,x){super(`AJAXError: ${c} (${o}): ${p}`),this.status=o,this.statusText=c,this.url=p,this.body=x}}const ze=se()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function rt(l,o){const c=new AbortController,p=new Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,referrer:ze(),signal:c.signal});let x=!1,b=!1;return l.type==="json"&&p.headers.set("Accept","application/json"),b||fetch(p).then(S=>S.ok?(C=>{(l.type==="arrayBuffer"?C.arrayBuffer():l.type==="json"?C.json():C.text()).then(D=>{b||(x=!0,o(null,D,C.headers.get("Cache-Control"),C.headers.get("Expires")))}).catch(D=>{b||o(new Error(D.message))})})(S):S.blob().then(C=>o(new et(S.status,S.statusText,l.url,C)))).catch(S=>{S.code!==20&&o(new Error(S.message))}),{cancel:()=>{b=!0,x||c.abort()}}}const Be=function(l,o){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){if(se()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,o);if(!se()){const p=l.url.substring(0,l.url.indexOf("://"));return(Pe.REGISTERED_PROTOCOLS[p]||rt)(l,o)}}if(!(/^file:/.test(c=l.url)||/^file:/.test(ze())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return rt(l,o);if(se()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,o,void 0,!0)}var c;return function(p,x){const b=new XMLHttpRequest;b.open(p.method||"GET",p.url,!0),p.type==="arrayBuffer"&&(b.responseType="arraybuffer");for(const S in p.headers)b.setRequestHeader(S,p.headers[S]);return p.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=p.credentials==="include",b.onerror=()=>{x(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let S=b.response;if(p.type==="json")try{S=JSON.parse(b.response)}catch(C){return x(C)}x(null,S,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else{const S=new Blob([b.response],{type:b.getResponseHeader("Content-Type")});x(new et(b.status,b.statusText,p.url,S))}},b.send(p.body),{cancel:()=>b.abort()}}(l,o)},qe=function(l,o){return Be(z(l,{type:"arrayBuffer"}),o)};function $e(l){const o=window.document.createElement("a");return o.href=l,o.protocol===window.document.location.protocol&&o.host===window.document.location.host}function Je(l,o,c){c[l]&&c[l].indexOf(o)!==-1||(c[l]=c[l]||[],c[l].push(o))}function Ae(l,o,c){if(c&&c[l]){const p=c[l].indexOf(o);p!==-1&&c[l].splice(p,1)}}class vt{constructor(o,c={}){z(this,c),this.type=o}}class lt extends vt{constructor(o,c={}){super("error",z({error:o},c))}}class en{on(o,c){return this._listeners=this._listeners||{},Je(o,c,this._listeners),this}off(o,c){return Ae(o,c,this._listeners),Ae(o,c,this._oneTimeListeners),this}once(o,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Je(o,c,this._oneTimeListeners),this):new Promise(p=>this.once(o,p))}fire(o,c){typeof o=="string"&&(o=new vt(o,c||{}));const p=o.type;if(this.listens(p)){o.target=this;const x=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];for(const C of x)C.call(this,o);const b=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];for(const C of b)Ae(p,C,this._oneTimeListeners),C.call(this,o);const S=this._eventedParent;S&&(z(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(o))}else o instanceof lt&&console.error(o.error);return this}listens(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)}setEventedParent(o,c){return this._eventedParent=o,this._eventedParentData=c,this}}var ke={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Xe{constructor(o,c,p,x){this.message=(o?`${o}: `:"")+p,x&&(this.identifier=x),c!=null&&c.__line__&&(this.line=c.__line__)}}function _t(l){const o=l.value;return o?[new Xe(l.key,o,"constants have been deprecated as of v8")]:[]}function Jt(l,...o){for(const c of o)for(const p in c)l[p]=c[p];return l}function Wt(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function Zt(l){if(Array.isArray(l))return l.map(Zt);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const o={};for(const c in l)o[c]=Zt(l[c]);return o}return Wt(l)}class un extends Error{constructor(o,c){super(c),this.message=c,this.key=o}}class nn{constructor(o,c=[]){this.parent=o,this.bindings={};for(const[p,x]of c)this.bindings[p]=x}concat(o){return new nn(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}const dn={kind:"null"},mt={kind:"number"},Ot={kind:"string"},jt={kind:"boolean"},Kn={kind:"color"},xn={kind:"object"},it={kind:"value"},fn={kind:"collator"},pn={kind:"formatted"},Xr={kind:"padding"},Ln={kind:"resolvedImage"};function Hn(l,o){return{kind:"array",itemType:l,N:o}}function Cn(l){if(l.kind==="array"){const o=Cn(l.itemType);return typeof l.N=="number"?`array<${o}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${o}>`}return l.kind}const Xo=[dn,mt,Ot,jt,Kn,pn,xn,Hn(it),Xr,Ln];function ni(l,o){if(o.kind==="error")return null;if(l.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!ni(l.itemType,o.itemType))&&(typeof l.N!="number"||l.N===o.N))return null}else{if(l.kind===o.kind)return null;if(l.kind==="value"){for(const c of Xo)if(!ni(c,o))return null}}return`Expected ${Cn(l)} but found ${Cn(o)} instead.`}function Gi(l,o){return o.some(c=>c.kind===l.kind)}function mn(l,o){return o.some(c=>c==="null"?l===null:c==="array"?Array.isArray(l):c==="object"?l&&!Array.isArray(l)&&typeof l=="object":c===typeof l)}var ht,Qt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Rt(l){return(l=Math.round(l))<0?0:l>255?255:l}function vn(l){return Rt(l[l.length-1]==="%"?parseFloat(l)/100*255:parseInt(l))}function Mn(l){return(o=l[l.length-1]==="%"?parseFloat(l)/100:parseFloat(l))<0?0:o>1?1:o;var o}function yn(l,o,c){return c<0?c+=1:c>1&&(c-=1),6*c<1?l+(o-l)*c*6:2*c<1?o:3*c<2?l+(o-l)*(2/3-c)*6:l}try{ht={}.parseCSSColor=function(l){var o,c=l.replace(/ /g,"").toLowerCase();if(c in Qt)return Qt[c].slice();if(c[0]==="#")return c.length===4?(o=parseInt(c.substr(1),16))>=0&&o<=4095?[(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,1]:null:c.length===7&&(o=parseInt(c.substr(1),16))>=0&&o<=16777215?[(16711680&o)>>16,(65280&o)>>8,255&o,1]:null;var p=c.indexOf("("),x=c.indexOf(")");if(p!==-1&&x+1===c.length){var b=c.substr(0,p),S=c.substr(p+1,x-(p+1)).split(","),C=1;switch(b){case"rgba":if(S.length!==4)return null;C=Mn(S.pop());case"rgb":return S.length!==3?null:[vn(S[0]),vn(S[1]),vn(S[2]),C];case"hsla":if(S.length!==4)return null;C=Mn(S.pop());case"hsl":if(S.length!==3)return null;var D=(parseFloat(S[0])%360+360)%360/360,H=Mn(S[1]),q=Mn(S[2]),X=q<=.5?q*(H+1):q+H-q*H,re=2*q-X;return[Rt(255*yn(re,X,D+1/3)),Rt(255*yn(re,X,D)),Rt(255*yn(re,X,D-1/3)),C];default:return null}}return null}}catch{}class Gt{constructor(o,c,p,x=1){this.r=o,this.g=c,this.b=p,this.a=x}static parse(o){if(!o)return;if(o instanceof Gt)return o;if(typeof o!="string")return;const c=ht(o);return c?new Gt(c[0]/255*c[3],c[1]/255*c[3],c[2]/255*c[3],c[3]):void 0}toString(){const[o,c,p,x]=this.toArray();return`rgba(${Math.round(o)},${Math.round(c)},${Math.round(p)},${x})`}toArray(){const{r:o,g:c,b:p,a:x}=this;return x===0?[0,0,0,0]:[255*o/x,255*c/x,255*p/x,x]}}Gt.black=new Gt(0,0,0,1),Gt.white=new Gt(1,1,1,1),Gt.transparent=new Gt(0,0,0,0),Gt.red=new Gt(1,0,0,1);class Dn{constructor(o,c,p){this.sensitivity=o?c?"variant":"case":c?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,c){return this.collator.compare(o,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Rn{constructor(o,c,p,x,b){this.text=o,this.image=c,this.scale=p,this.fontStack=x,this.textColor=b}}class Yt{constructor(o){this.sections=o}static fromString(o){return new Yt([new Rn(o,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.name.length!==0)}static factory(o){return o instanceof Yt?o:Yt.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}}class rn{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof rn)return o;if(typeof o=="number")return new rn([o,o,o,o]);if(Array.isArray(o)&&!(o.length<1||o.length>4)){for(const c of o)if(typeof c!="number")return;switch(o.length){case 1:o=[o[0],o[0],o[0],o[0]];break;case 2:o=[o[0],o[1],o[0],o[1]];break;case 3:o=[o[0],o[1],o[2],o[1]]}return new rn(o)}}toString(){return JSON.stringify(this.values)}}class Qn{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new Qn({name:o,available:!1}):null}}function Sr(l,o,c,p){return typeof l=="number"&&l>=0&&l<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof c=="number"&&c>=0&&c<=255?p===void 0||typeof p=="number"&&p>=0&&p<=1?null:`Invalid rgba value [${[l,o,c,p].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof p=="number"?[l,o,c,p]:[l,o,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Pr(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof Gt||l instanceof Dn||l instanceof Yt||l instanceof rn||l instanceof Qn)return!0;if(Array.isArray(l)){for(const o of l)if(!Pr(o))return!1;return!0}if(typeof l=="object"){for(const o in l)if(!Pr(l[o]))return!1;return!0}return!1}function ue(l){if(l===null)return dn;if(typeof l=="string")return Ot;if(typeof l=="boolean")return jt;if(typeof l=="number")return mt;if(l instanceof Gt)return Kn;if(l instanceof Dn)return fn;if(l instanceof Yt)return pn;if(l instanceof rn)return Xr;if(l instanceof Qn)return Ln;if(Array.isArray(l)){const o=l.length;let c;for(const p of l){const x=ue(p);if(c){if(c===x)continue;c=it;break}c=x}return Hn(c||it,o)}return xn}function Z(l){const o=typeof l;return l===null?"":o==="string"||o==="number"||o==="boolean"?String(l):l instanceof Gt||l instanceof Yt||l instanceof rn||l instanceof Qn?l.toString():JSON.stringify(l)}class te{constructor(o,c){this.type=o,this.value=c}static parse(o,c){if(o.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!Pr(o[1]))return c.error("invalid value");const p=o[1];let x=ue(p);const b=c.expectedType;return x.kind!=="array"||x.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(x=b),new te(x,p)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ce{constructor(o){this.name="ExpressionEvaluationError",this.message=o}toJSON(){return this.message}}const me={string:Ot,number:mt,boolean:jt,object:xn};class xe{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");let p,x=1;const b=o[0];if(b==="array"){let C,D;if(o.length>2){const H=o[1];if(typeof H!="string"||!(H in me)||H==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);C=me[H],x++}else C=it;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return c.error('The length argument to "array" must be a positive integer literal',2);D=o[2],x++}p=Hn(C,D)}else{if(!me[b])throw new Error(`Types doesn't contain name = ${b}`);p=me[b]}const S=[];for(;x<o.length;x++){const C=c.parse(o[x],x,it);if(!C)return null;S.push(C)}return new xe(p,S)}evaluate(o){for(let c=0;c<this.args.length;c++){const p=this.args[c].evaluate(o);if(!ni(this.type,ue(p)))return p;if(c===this.args.length-1)throw new ce(`Expected value to be of type ${Cn(this.type)}, but found ${Cn(ue(p))} instead.`)}throw new Error}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}const ve={"to-boolean":jt,"to-color":Kn,"to-number":mt,"to-string":Ot};class Ie{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");const p=o[0];if(!ve[p])throw new Error(`Can't parse ${p} as it is not part of the known types`);if((p==="to-boolean"||p==="to-string")&&o.length!==2)return c.error("Expected one argument.");const x=ve[p],b=[];for(let S=1;S<o.length;S++){const C=c.parse(o[S],S,it);if(!C)return null;b.push(C)}return new Ie(x,b)}evaluate(o){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(o));if(this.type.kind==="color"){let c,p;for(const x of this.args){if(c=x.evaluate(o),p=null,c instanceof Gt)return c;if(typeof c=="string"){const b=o.parseColor(c);if(b)return b}else if(Array.isArray(c)&&(p=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Sr(c[0],c[1],c[2],c[3]),!p))return new Gt(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new ce(p||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}if(this.type.kind==="padding"){let c;for(const p of this.args){c=p.evaluate(o);const x=rn.parse(c);if(x)return x}throw new ce(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}if(this.type.kind==="number"){let c=null;for(const p of this.args){if(c=p.evaluate(o),c===null)return 0;const x=Number(c);if(!isNaN(x))return x}throw new ce(`Could not convert ${JSON.stringify(c)} to number.`)}return this.type.kind==="formatted"?Yt.fromString(Z(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?Qn.fromString(Z(this.args[0].evaluate(o))):Z(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}const Se=["Unknown","Point","LineString","Polygon"];class Le{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Se[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(o){let c=this._parseColorCache[o];return c||(c=this._parseColorCache[o]=Gt.parse(o)),c}}class Ge{constructor(o,c,p,x){this.name=o,this.type=c,this._evaluate=p,this.args=x}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}static parse(o,c){const p=o[0],x=Ge.definitions[p];if(!x)return c.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(x)?x[0]:x.type,S=Array.isArray(x)?[[x[1],x[2]]]:x.overloads,C=S.filter(([H])=>!Array.isArray(H)||H.length===o.length-1);let D=null;for(const[H,q]of C){D=new Jo(c.registry,c.path,null,c.scope);const X=[];let re=!1;for(let ie=1;ie<o.length;ie++){const ae=o[ie],be=Array.isArray(H)?H[ie-1]:H.type,_e=D.parse(ae,1+X.length,be);if(!_e){re=!0;break}X.push(_e)}if(!re)if(Array.isArray(H)&&H.length!==X.length)D.error(`Expected ${H.length} arguments, but found ${X.length} instead.`);else{for(let ie=0;ie<X.length;ie++){const ae=Array.isArray(H)?H[ie]:H.type,be=X[ie];D.concat(ie+1).checkSubtype(ae,be.type)}if(D.errors.length===0)return new Ge(p,b,q,X)}}if(C.length===1)c.errors.push(...D.errors);else{const H=(C.length?C:S).map(([X])=>{return re=X,Array.isArray(re)?`(${re.map(Cn).join(", ")})`:`(${Cn(re.type)}...)`;var re}).join(" | "),q=[];for(let X=1;X<o.length;X++){const re=c.parse(o[X],1+q.length);if(!re)return null;q.push(Cn(re.type))}c.error(`Expected arguments of type ${H}, but found (${q.join(", ")}) instead.`)}return null}static register(o,c){Ge.definitions=c;for(const p in c)o[p]=Ge}}class st{constructor(o,c,p){this.type=fn,this.locale=p,this.caseSensitive=o,this.diacriticSensitive=c}static parse(o,c){if(o.length!==2)return c.error("Expected one argument.");const p=o[1];if(typeof p!="object"||Array.isArray(p))return c.error("Collator options argument must be an object.");const x=c.parse(p["case-sensitive"]!==void 0&&p["case-sensitive"],1,jt);if(!x)return null;const b=c.parse(p["diacritic-sensitive"]!==void 0&&p["diacritic-sensitive"],1,jt);if(!b)return null;let S=null;return p.locale&&(S=c.parse(p.locale,1,Ot),!S)?null:new st(x,b,S)}evaluate(o){return new Dn(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}}const Qe=8192;function Mt(l,o){l[0]=Math.min(l[0],o[0]),l[1]=Math.min(l[1],o[1]),l[2]=Math.max(l[2],o[0]),l[3]=Math.max(l[3],o[1])}function $t(l,o){return!(l[0]<=o[0]||l[2]>=o[2]||l[1]<=o[1]||l[3]>=o[3])}function Ct(l,o){const c=(180+l[0])/360,p=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,x=Math.pow(2,o.z);return[Math.round(c*x*Qe),Math.round(p*x*Qe)]}function Ft(l,o,c){const p=l[0]-o[0],x=l[1]-o[1],b=l[0]-c[0],S=l[1]-c[1];return p*S-b*x==0&&p*b<=0&&x*S<=0}function gn(l,o){let c=!1;for(let S=0,C=o.length;S<C;S++){const D=o[S];for(let H=0,q=D.length;H<q-1;H++){if(Ft(l,D[H],D[H+1]))return!1;(x=D[H])[1]>(p=l)[1]!=(b=D[H+1])[1]>p[1]&&p[0]<(b[0]-x[0])*(p[1]-x[1])/(b[1]-x[1])+x[0]&&(c=!c)}}var p,x,b;return c}function zn(l,o){for(let c=0;c<o.length;c++)if(gn(l,o[c]))return!0;return!1}function cn(l,o,c,p){const x=p[0]-c[0],b=p[1]-c[1],S=(l[0]-c[0])*b-x*(l[1]-c[1]),C=(o[0]-c[0])*b-x*(o[1]-c[1]);return S>0&&C<0||S<0&&C>0}function bn(l,o,c){for(const H of c)for(let q=0;q<H.length-1;++q)if((C=[(S=H[q+1])[0]-(b=H[q])[0],S[1]-b[1]])[0]*(D=[(x=o)[0]-(p=l)[0],x[1]-p[1]])[1]-C[1]*D[0]!=0&&cn(p,x,b,S)&&cn(b,S,p,x))return!0;var p,x,b,S,C,D;return!1}function Bn(l,o){for(let c=0;c<l.length;++c)if(!gn(l[c],o))return!1;for(let c=0;c<l.length-1;++c)if(bn(l[c],l[c+1],o))return!1;return!0}function sr(l,o){for(let c=0;c<o.length;c++)if(Bn(l,o[c]))return!0;return!1}function Rr(l,o,c){const p=[];for(let x=0;x<l.length;x++){const b=[];for(let S=0;S<l[x].length;S++){const C=Ct(l[x][S],c);Mt(o,C),b.push(C)}p.push(b)}return p}function fr(l,o,c){const p=[];for(let x=0;x<l.length;x++){const b=Rr(l[x],o,c);p.push(b)}return p}function Yo(l,o,c,p){if(l[0]<c[0]||l[0]>c[2]){const x=.5*p;let b=l[0]-c[0]>x?-p:c[0]-l[0]>x?p:0;b===0&&(b=l[0]-c[2]>x?-p:c[2]-l[0]>x?p:0),l[0]+=b}Mt(o,l)}function Th(l,o,c,p){const x=Math.pow(2,p.z)*Qe,b=[p.x*Qe,p.y*Qe],S=[];for(const C of l)for(const D of C){const H=[D.x+b[0],D.y+b[1]];Yo(H,o,c,x),S.push(H)}return S}function iu(l,o,c,p){const x=Math.pow(2,p.z)*Qe,b=[p.x*Qe,p.y*Qe],S=[];for(const D of l){const H=[];for(const q of D){const X=[q.x+b[0],q.y+b[1]];Mt(o,X),H.push(X)}S.push(H)}if(o[2]-o[0]<=x/2){(C=o)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(const D of S)for(const H of D)Yo(H,o,c,x)}var C;return S}class uo{constructor(o,c){this.type=jt,this.geojson=o,this.geometries=c}static parse(o,c){if(o.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(Pr(o[1])){const p=o[1];if(p.type==="FeatureCollection")for(let x=0;x<p.features.length;++x){const b=p.features[x].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new uo(p,p.features[x].geometry)}else if(p.type==="Feature"){const x=p.geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new uo(p,p.geometry)}else if(p.type==="Polygon"||p.type==="MultiPolygon")return new uo(p,p)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(c,p){const x=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(p.type==="Polygon"){const C=Rr(p.coordinates,b,S),D=Th(c.geometry(),x,b,S);if(!$t(x,b))return!1;for(const H of D)if(!gn(H,C))return!1}if(p.type==="MultiPolygon"){const C=fr(p.coordinates,b,S),D=Th(c.geometry(),x,b,S);if(!$t(x,b))return!1;for(const H of D)if(!zn(H,C))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(c,p){const x=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(p.type==="Polygon"){const C=Rr(p.coordinates,b,S),D=iu(c.geometry(),x,b,S);if(!$t(x,b))return!1;for(const H of D)if(!Bn(H,C))return!1}if(p.type==="MultiPolygon"){const C=fr(p.coordinates,b,S),D=iu(c.geometry(),x,b,S);if(!$t(x,b))return!1;for(const H of D)if(!sr(H,C))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function vl(l){if(l instanceof Ge&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof uo)return!1;let o=!0;return l.eachChild(c=>{o&&!vl(c)&&(o=!1)}),o}function Za(l){if(l instanceof Ge&&l.name==="feature-state")return!1;let o=!0;return l.eachChild(c=>{o&&!Za(c)&&(o=!1)}),o}function qi(l,o){if(l instanceof Ge&&o.indexOf(l.name)>=0)return!1;let c=!0;return l.eachChild(p=>{c&&!qi(p,o)&&(c=!1)}),c}class kn{constructor(o,c){this.type=c.type,this.name=o,this.boundExpression=c}static parse(o,c){if(o.length!==2||typeof o[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const p=o[1];return c.scope.has(p)?new kn(p,c.scope.get(p)):c.error(`Unknown variable "${p}". Make sure "${p}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}}class lr{constructor(o,c=[],p,x=new nn,b=[]){this.registry=o,this.path=c,this.key=c.map(S=>`[${S}]`).join(""),this.scope=x,this.errors=b,this.expectedType=p}parse(o,c,p,x,b={}){return c?this.concat(c,p,x)._parse(o,b):this._parse(o,b)}_parse(o,c){function p(x,b,S){return S==="assert"?new xe(b,[x]):S==="coerce"?new Ie(b,[x]):x}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const x=o[0];if(typeof x!="string")return this.error(`Expression name must be a string, but found ${typeof x} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const b=this.registry[x];if(b){let S=b.parse(o,this);if(!S)return null;if(this.expectedType){const C=this.expectedType,D=S.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||D.kind!=="value")if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||D.kind!=="value"&&D.kind!=="string")if(C.kind!=="padding"||D.kind!=="value"&&D.kind!=="number"&&D.kind!=="array"){if(this.checkSubtype(C,D))return null}else S=p(S,C,c.typeAnnotation||"coerce");else S=p(S,C,c.typeAnnotation||"coerce");else S=p(S,C,c.typeAnnotation||"assert")}if(!(S instanceof te)&&S.type.kind!=="resolvedImage"&&Ia(S)){const C=new Le;try{S=new te(S.type,S.evaluate(C))}catch(D){return this.error(D.message),null}}return S}return this.error(`Unknown expression "${x}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,c,p){const x=typeof o=="number"?this.path.concat(o):this.path,b=p?this.scope.concat(p):this.scope;return new lr(this.registry,x,c||null,b,this.errors)}error(o,...c){const p=`${this.key}${c.map(x=>`[${x}]`).join("")}`;this.errors.push(new un(p,o))}checkSubtype(o,c){const p=ni(o,c);return p&&this.error(p),p}}var Jo=lr;function Ia(l){if(l instanceof kn)return Ia(l.boundExpression);if(l instanceof Ge&&l.name==="error"||l instanceof st||l instanceof uo)return!1;const o=l instanceof Ie||l instanceof xe;let c=!0;return l.eachChild(p=>{c=o?c&&Ia(p):c&&p instanceof te}),!!c&&vl(l)&&qi(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Qo(l,o){const c=l.length-1;let p,x,b=0,S=c,C=0;for(;b<=S;)if(C=Math.floor((b+S)/2),p=l[C],x=l[C+1],p<=o){if(C===c||o<x)return C;b=C+1}else{if(!(p>o))throw new ce("Input is not a number.");S=C-1}return 0}class Ka{constructor(o,c,p){this.type=o,this.input=c,this.labels=[],this.outputs=[];for(const[x,b]of p)this.labels.push(x),this.outputs.push(b)}static parse(o,c){if(o.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return c.error("Expected an even number of arguments.");const p=c.parse(o[1],1,mt);if(!p)return null;const x=[];let b=null;c.expectedType&&c.expectedType.kind!=="value"&&(b=c.expectedType);for(let S=1;S<o.length;S+=2){const C=S===1?-1/0:o[S],D=o[S+1],H=S,q=S+1;if(typeof C!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(x.length&&x[x.length-1][0]>=C)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',H);const X=c.parse(D,q,b);if(!X)return null;b=b||X.type,x.push([C,X])}return new Ka(b,p,x)}evaluate(o){const c=this.labels,p=this.outputs;if(c.length===1)return p[0].evaluate(o);const x=this.input.evaluate(o);if(x<=c[0])return p[0].evaluate(o);const b=c.length;return x>=c[b-1]?p[b-1].evaluate(o):p[Qo(c,x)].evaluate(o)}eachChild(o){o(this.input);for(const c of this.outputs)o(c)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}}function Vt(l,o,c){return l*(1-c)+o*c}var er=Object.freeze({__proto__:null,array:function(l,o,c){return l.map((p,x)=>Vt(p,o[x],c))},color:function(l,o,c){return new Gt(Vt(l.r,o.r,c),Vt(l.g,o.g,c),Vt(l.b,o.b,c),Vt(l.a,o.a,c))},number:Vt,padding:function(l,o,c){const p=l.values,x=o.values;return new rn([Vt(p[0],x[0],c),Vt(p[1],x[1],c),Vt(p[2],x[2],c),Vt(p[3],x[3],c)])}});const ou=.95047,yl=1.08883,Pi=4/29,Wi=6/29,Xa=3*Wi*Wi,ea=Math.PI/180,pr=180/Math.PI;function On(l){return l>.008856451679035631?Math.pow(l,1/3):l/Xa+Pi}function Ja(l){return l>Wi?l*l*l:Xa*(l-Pi)}function ta(l){return 255*(l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055)}function _l(l){return(l/=255)<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Qa(l){const o=_l(l.r),c=_l(l.g),p=_l(l.b),x=On((.4124564*o+.3575761*c+.1804375*p)/ou),b=On((.2126729*o+.7151522*c+.072175*p)/1);return{l:116*b-16,a:500*(x-b),b:200*(b-On((.0193339*o+.119192*c+.9503041*p)/yl)),alpha:l.a}}function xl(l){let o=(l.l+16)/116,c=isNaN(l.a)?o:o+l.a/500,p=isNaN(l.b)?o:o-l.b/200;return o=1*Ja(o),c=ou*Ja(c),p=yl*Ja(p),new Gt(ta(3.2404542*c-1.5371385*o-.4985314*p),ta(-.969266*c+1.8760108*o+.041556*p),ta(.0556434*c-.2040259*o+1.0572252*p),l.alpha)}function wc(l,o,c){const p=o-l;return l+c*(p>180||p<-180?p-360*Math.round(p/360):p)}const na={forward:Qa,reverse:xl,interpolate:function(l,o,c){return{l:Vt(l.l,o.l,c),a:Vt(l.a,o.a,c),b:Vt(l.b,o.b,c),alpha:Vt(l.alpha,o.alpha,c)}}},Aa={forward:function(l){const{l:o,a:c,b:p}=Qa(l),x=Math.atan2(p,c)*pr;return{h:x<0?x+360:x,c:Math.sqrt(c*c+p*p),l:o,alpha:l.a}},reverse:function(l){const o=l.h*ea,c=l.c;return xl({l:l.l,a:Math.cos(o)*c,b:Math.sin(o)*c,alpha:l.alpha})},interpolate:function(l,o,c){return{h:wc(l.h,o.h,c),c:Vt(l.c,o.c,c),l:Vt(l.l,o.l,c),alpha:Vt(l.alpha,o.alpha,c)}}};var au=Object.freeze({__proto__:null,hcl:Aa,lab:na});class ri{constructor(o,c,p,x,b){this.type=o,this.operator=c,this.interpolation=p,this.input=x,this.labels=[],this.outputs=[];for(const[S,C]of b)this.labels.push(S),this.outputs.push(C)}static interpolationFactor(o,c,p,x){let b=0;if(o.name==="exponential")b=su(c,o.base,p,x);else if(o.name==="linear")b=su(c,1,p,x);else if(o.name==="cubic-bezier"){const S=o.controlPoints;b=new y(S[0],S[1],S[2],S[3]).solve(su(c,1,p,x))}return b}static parse(o,c){let[p,x,b,...S]=o;if(!Array.isArray(x)||x.length===0)return c.error("Expected an interpolation type expression.",1);if(x[0]==="linear")x={name:"linear"};else if(x[0]==="exponential"){const H=x[1];if(typeof H!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);x={name:"exponential",base:H}}else{if(x[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(x[0])}`,1,0);{const H=x.slice(1);if(H.length!==4||H.some(q=>typeof q!="number"||q<0||q>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);x={name:"cubic-bezier",controlPoints:H}}}if(o.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(b=c.parse(b,2,mt),!b)return null;const C=[];let D=null;p==="interpolate-hcl"||p==="interpolate-lab"?D=Kn:c.expectedType&&c.expectedType.kind!=="value"&&(D=c.expectedType);for(let H=0;H<S.length;H+=2){const q=S[H],X=S[H+1],re=H+3,ie=H+4;if(typeof q!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',re);if(C.length&&C[C.length-1][0]>=q)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',re);const ae=c.parse(X,ie,D);if(!ae)return null;D=D||ae.type,C.push([q,ae])}return D.kind==="number"||D.kind==="color"||D.kind==="padding"||D.kind==="array"&&D.itemType.kind==="number"&&typeof D.N=="number"?new ri(D,p,x,b,C):c.error(`Type ${Cn(D)} is not interpolatable.`)}evaluate(o){const c=this.labels,p=this.outputs;if(c.length===1)return p[0].evaluate(o);const x=this.input.evaluate(o);if(x<=c[0])return p[0].evaluate(o);const b=c.length;if(x>=c[b-1])return p[b-1].evaluate(o);const S=Qo(c,x),C=ri.interpolationFactor(this.interpolation,x,c[S],c[S+1]),D=p[S].evaluate(o),H=p[S+1].evaluate(o);return this.operator==="interpolate"?er[this.type.kind.toLowerCase()](D,H,C):this.operator==="interpolate-hcl"?Aa.reverse(Aa.interpolate(Aa.forward(D),Aa.forward(H),C)):na.reverse(na.interpolate(na.forward(D),na.forward(H),C))}eachChild(o){o(this.input);for(const c of this.outputs)o(c)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}}function su(l,o,c,p){const x=p-c,b=l-c;return x===0?0:o===1?b/x:(Math.pow(o,b)-1)/(Math.pow(o,x)-1)}class Rs{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expectected at least one argument.");let p=null;const x=c.expectedType;x&&x.kind!=="value"&&(p=x);const b=[];for(const C of o.slice(1)){const D=c.parse(C,1+b.length,p,void 0,{typeAnnotation:"omit"});if(!D)return null;p=p||D.type,b.push(D)}if(!p)throw new Error("No output type");const S=x&&b.some(C=>ni(x,C.type));return new Rs(S?it:p,b)}evaluate(o){let c,p=null,x=0;for(const b of this.args)if(x++,p=b.evaluate(o),p&&p instanceof Qn&&!p.available&&(c||(c=p.name),p=null,x===this.args.length&&(p=c)),p!==null)break;return p}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}class bl{constructor(o,c){this.type=c.type,this.bindings=[].concat(o),this.result=c}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const c of this.bindings)o(c[1]);o(this.result)}static parse(o,c){if(o.length<4)return c.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const p=[];for(let b=1;b<o.length-1;b+=2){const S=o[b];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,b);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",b);const C=c.parse(o[b+1],b+1);if(!C)return null;p.push([S,C])}const x=c.parse(o[o.length-1],o.length-1,c.expectedType,p);return x?new bl(p,x):null}outputDefined(){return this.result.outputDefined()}}class ln{constructor(o,c,p){this.type=o,this.index=c,this.input=p}static parse(o,c){if(o.length!==3)return c.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const p=c.parse(o[1],1,mt),x=c.parse(o[2],2,Hn(c.expectedType||it));return p&&x?new ln(x.type.itemType,p,x):null}evaluate(o){const c=this.index.evaluate(o),p=this.input.evaluate(o);if(c<0)throw new ce(`Array index out of bounds: ${c} < 0.`);if(c>=p.length)throw new ce(`Array index out of bounds: ${c} > ${p.length-1}.`);if(c!==Math.floor(c))throw new ce(`Array index must be an integer, but found ${c} instead.`);return p[c]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}}class Zi{constructor(o,c){this.type=jt,this.needle=o,this.haystack=c}static parse(o,c){if(o.length!==3)return c.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const p=c.parse(o[1],1,it),x=c.parse(o[2],2,it);return p&&x?Gi(p.type,[jt,Ot,mt,dn,it])?new Zi(p,x):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Cn(p.type)} instead`):null}evaluate(o){const c=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!p)return!1;if(!mn(c,["boolean","string","number","null"]))throw new ce(`Expected first argument to be of type boolean, string, number or null, but found ${Cn(ue(c))} instead.`);if(!mn(p,["string","array"]))throw new ce(`Expected second argument to be of type array or string, but found ${Cn(ue(p))} instead.`);return p.indexOf(c)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}}class Yn{constructor(o,c,p){this.type=mt,this.needle=o,this.haystack=c,this.fromIndex=p}static parse(o,c){if(o.length<=2||o.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const p=c.parse(o[1],1,it),x=c.parse(o[2],2,it);if(!p||!x)return null;if(!Gi(p.type,[jt,Ot,mt,dn,it]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Cn(p.type)} instead`);if(o.length===4){const b=c.parse(o[3],3,mt);return b?new Yn(p,x,b):null}return new Yn(p,x)}evaluate(o){const c=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!mn(c,["boolean","string","number","null"]))throw new ce(`Expected first argument to be of type boolean, string, number or null, but found ${Cn(ue(c))} instead.`);if(!mn(p,["string","array"]))throw new ce(`Expected second argument to be of type array or string, but found ${Cn(ue(p))} instead.`);if(this.fromIndex){const x=this.fromIndex.evaluate(o);return p.indexOf(c,x)}return p.indexOf(c)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}}class ks{constructor(o,c,p,x,b,S){this.inputType=o,this.type=c,this.input=p,this.cases=x,this.outputs=b,this.otherwise=S}static parse(o,c){if(o.length<5)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return c.error("Expected an even number of arguments.");let p,x;c.expectedType&&c.expectedType.kind!=="value"&&(x=c.expectedType);const b={},S=[];for(let H=2;H<o.length-1;H+=2){let q=o[H];const X=o[H+1];Array.isArray(q)||(q=[q]);const re=c.concat(H);if(q.length===0)return re.error("Expected at least one branch label.");for(const ae of q){if(typeof ae!="number"&&typeof ae!="string")return re.error("Branch labels must be numbers or strings.");if(typeof ae=="number"&&Math.abs(ae)>Number.MAX_SAFE_INTEGER)return re.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ae=="number"&&Math.floor(ae)!==ae)return re.error("Numeric branch labels must be integer values.");if(p){if(re.checkSubtype(p,ue(ae)))return null}else p=ue(ae);if(b[String(ae)]!==void 0)return re.error("Branch labels must be unique.");b[String(ae)]=S.length}const ie=c.parse(X,H,x);if(!ie)return null;x=x||ie.type,S.push(ie)}const C=c.parse(o[1],1,it);if(!C)return null;const D=c.parse(o[o.length-1],o.length-1,x);return D?C.type.kind!=="value"&&c.concat(1).checkSubtype(p,C.type)?null:new ks(p,x,C,b,S,D):null}evaluate(o){const c=this.input.evaluate(o);return(ue(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}}class wl{constructor(o,c,p){this.type=o,this.branches=c,this.otherwise=p}static parse(o,c){if(o.length<4)return c.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return c.error("Expected an odd number of arguments.");let p;c.expectedType&&c.expectedType.kind!=="value"&&(p=c.expectedType);const x=[];for(let S=1;S<o.length-1;S+=2){const C=c.parse(o[S],S,jt);if(!C)return null;const D=c.parse(o[S+1],S+1,p);if(!D)return null;x.push([C,D]),p=p||D.type}const b=c.parse(o[o.length-1],o.length-1,p);if(!b)return null;if(!p)throw new Error("Can't infer output type");return new wl(p,x,b)}evaluate(o){for(const[c,p]of this.branches)if(c.evaluate(o))return p.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[c,p]of this.branches)o(c),o(p);o(this.otherwise)}outputDefined(){return this.branches.every(([o,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class Ls{constructor(o,c,p,x){this.type=o,this.input=c,this.beginIndex=p,this.endIndex=x}static parse(o,c){if(o.length<=2||o.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const p=c.parse(o[1],1,it),x=c.parse(o[2],2,mt);if(!p||!x)return null;if(!Gi(p.type,[Hn(it),Ot,it]))return c.error(`Expected first argument to be of type array or string, but found ${Cn(p.type)} instead`);if(o.length===4){const b=c.parse(o[3],3,mt);return b?new Ls(p.type,p,x,b):null}return new Ls(p.type,p,x)}evaluate(o){const c=this.input.evaluate(o),p=this.beginIndex.evaluate(o);if(!mn(c,["string","array"]))throw new ce(`Expected first argument to be of type array or string, but found ${Cn(ue(c))} instead.`);if(this.endIndex){const x=this.endIndex.evaluate(o);return c.slice(p,x)}return c.slice(p)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}}function lu(l,o){return l==="=="||l==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function ra(l,o,c,p){return p.compare(o,c)===0}function ia(l,o,c){const p=l!=="=="&&l!=="!=";return class lM{constructor(b,S,C){this.type=jt,this.lhs=b,this.rhs=S,this.collator=C,this.hasUntypedArgument=b.type.kind==="value"||S.type.kind==="value"}static parse(b,S){if(b.length!==3&&b.length!==4)return S.error("Expected two or three arguments.");const C=b[0];let D=S.parse(b[1],1,it);if(!D)return null;if(!lu(C,D.type))return S.concat(1).error(`"${C}" comparisons are not supported for type '${Cn(D.type)}'.`);let H=S.parse(b[2],2,it);if(!H)return null;if(!lu(C,H.type))return S.concat(2).error(`"${C}" comparisons are not supported for type '${Cn(H.type)}'.`);if(D.type.kind!==H.type.kind&&D.type.kind!=="value"&&H.type.kind!=="value")return S.error(`Cannot compare types '${Cn(D.type)}' and '${Cn(H.type)}'.`);p&&(D.type.kind==="value"&&H.type.kind!=="value"?D=new xe(H.type,[D]):D.type.kind!=="value"&&H.type.kind==="value"&&(H=new xe(D.type,[H])));let q=null;if(b.length===4){if(D.type.kind!=="string"&&H.type.kind!=="string"&&D.type.kind!=="value"&&H.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(q=S.parse(b[3],3,fn),!q)return null}return new lM(D,H,q)}evaluate(b){const S=this.lhs.evaluate(b),C=this.rhs.evaluate(b);if(p&&this.hasUntypedArgument){const D=ue(S),H=ue(C);if(D.kind!==H.kind||D.kind!=="string"&&D.kind!=="number")throw new ce(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${D.kind}, ${H.kind}) instead.`)}if(this.collator&&!p&&this.hasUntypedArgument){const D=ue(S),H=ue(C);if(D.kind!=="string"||H.kind!=="string")return o(b,S,C)}return this.collator?c(b,S,C,this.collator.evaluate(b)):o(b,S,C)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}}}const El=ia("==",function(l,o,c){return o===c},ra),Yr=ia("!=",function(l,o,c){return o!==c},function(l,o,c,p){return!ra(0,o,c,p)}),Pa=ia("<",function(l,o,c){return o<c},function(l,o,c,p){return p.compare(o,c)<0}),Ec=ia(">",function(l,o,c){return o>c},function(l,o,c,p){return p.compare(o,c)>0}),Ih=ia("<=",function(l,o,c){return o<=c},function(l,o,c,p){return p.compare(o,c)<=0}),df=ia(">=",function(l,o,c){return o>=c},function(l,o,c,p){return p.compare(o,c)>=0});class uu{constructor(o,c,p,x,b){this.type=Ot,this.number=o,this.locale=c,this.currency=p,this.minFractionDigits=x,this.maxFractionDigits=b}static parse(o,c){if(o.length!==3)return c.error("Expected two arguments.");const p=c.parse(o[1],1,mt);if(!p)return null;const x=o[2];if(typeof x!="object"||Array.isArray(x))return c.error("NumberFormat options argument must be an object.");let b=null;if(x.locale&&(b=c.parse(x.locale,1,Ot),!b))return null;let S=null;if(x.currency&&(S=c.parse(x.currency,1,Ot),!S))return null;let C=null;if(x["min-fraction-digits"]&&(C=c.parse(x["min-fraction-digits"],1,mt),!C))return null;let D=null;return x["max-fraction-digits"]&&(D=c.parse(x["max-fraction-digits"],1,mt),!D)?null:new uu(p,b,S,C,D)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}}class Ms{constructor(o){this.type=pn,this.sections=o}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");const p=o[1];if(!Array.isArray(p)&&typeof p=="object")return c.error("First argument must be an image or text section.");const x=[];let b=!1;for(let S=1;S<=o.length-1;++S){const C=o[S];if(b&&typeof C=="object"&&!Array.isArray(C)){b=!1;let D=null;if(C["font-scale"]&&(D=c.parse(C["font-scale"],1,mt),!D))return null;let H=null;if(C["text-font"]&&(H=c.parse(C["text-font"],1,Hn(Ot)),!H))return null;let q=null;if(C["text-color"]&&(q=c.parse(C["text-color"],1,Kn),!q))return null;const X=x[x.length-1];X.scale=D,X.font=H,X.textColor=q}else{const D=c.parse(o[S],1,it);if(!D)return null;const H=D.type.kind;if(H!=="string"&&H!=="value"&&H!=="null"&&H!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,x.push({content:D,scale:null,font:null,textColor:null})}}return new Ms(x)}evaluate(o){return new Yt(this.sections.map(c=>{const p=c.content.evaluate(o);return ue(p)===Ln?new Rn("",p,null,null,null):new Rn(Z(p),null,c.scale?c.scale.evaluate(o):null,c.font?c.font.evaluate(o).join(","):null,c.textColor?c.textColor.evaluate(o):null)}))}eachChild(o){for(const c of this.sections)o(c.content),c.scale&&o(c.scale),c.font&&o(c.font),c.textColor&&o(c.textColor)}outputDefined(){return!1}}class Sc{constructor(o){this.type=Ln,this.input=o}static parse(o,c){if(o.length!==2)return c.error("Expected two arguments.");const p=c.parse(o[1],1,Ot);return p?new Sc(p):c.error("No image name provided.")}evaluate(o){const c=this.input.evaluate(o),p=Qn.fromString(c);return p&&o.availableImages&&(p.available=o.availableImages.indexOf(c)>-1),p}eachChild(o){o(this.input)}outputDefined(){return!1}}class cu{constructor(o){this.type=mt,this.input=o}static parse(o,c){if(o.length!==2)return c.error(`Expected 1 argument, but found ${o.length-1} instead.`);const p=c.parse(o[1],1);return p?p.type.kind!=="array"&&p.type.kind!=="string"&&p.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${Cn(p.type)} instead.`):new cu(p):null}evaluate(o){const c=this.input.evaluate(o);if(typeof c=="string"||Array.isArray(c))return c.length;throw new ce(`Expected value to be of type string or array, but found ${Cn(ue(c))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}}const wn={"==":El,"!=":Yr,">":Ec,"<":Pa,">=":df,"<=":Ih,array:xe,at:ln,boolean:xe,case:wl,coalesce:Rs,collator:st,format:Ms,image:Sc,in:Zi,"index-of":Yn,interpolate:ri,"interpolate-hcl":ri,"interpolate-lab":ri,length:cu,let:bl,literal:te,match:ks,number:xe,"number-format":uu,object:xe,slice:Ls,step:Ka,string:xe,"to-boolean":Ie,"to-color":Ie,"to-number":Ie,"to-string":Ie,var:kn,within:uo};function Fn(l,[o,c,p,x]){o=o.evaluate(l),c=c.evaluate(l),p=p.evaluate(l);const b=x?x.evaluate(l):1,S=Sr(o,c,p,b);if(S)throw new ce(S);return new Gt(o/255*b,c/255*b,p/255*b,b)}function Ki(l,o){return l in o}function es(l,o){const c=o[l];return c===void 0?null:c}function Oa(l){return{type:l}}function Ah(l){return{result:"success",value:l}}function Ca(l){return{result:"error",value:l}}function Ds(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function Tc(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function Ic(l){return!!l.expression&&l.expression.interpolated}function jn(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function Ns(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function ff(l){return l}function co(l,o){const c=o.type==="color",p=l.stops&&typeof l.stops[0][0]=="object",x=p||!(p||l.property!==void 0),b=l.type||(Ic(o)?"exponential":"interval");if(c||o.type==="padding"){const H=c?Gt.parse:rn.parse;(l=Jt({},l)).stops&&(l.stops=l.stops.map(q=>[q[0],H(q[1])])),l.default=H(l.default?l.default:o.default)}if(l.colorSpace&&l.colorSpace!=="rgb"&&!au[l.colorSpace])throw new Error(`Unknown color space: ${l.colorSpace}`);let S,C,D;if(b==="exponential")S=Ac;else if(b==="interval")S=Ra;else if(b==="categorical"){S=Ph,C=Object.create(null);for(const H of l.stops)C[H[0]]=H[1];D=typeof l.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);S=Oh}if(p){const H={},q=[];for(let ie=0;ie<l.stops.length;ie++){const ae=l.stops[ie],be=ae[0].zoom;H[be]===void 0&&(H[be]={zoom:be,type:l.type,property:l.property,default:l.default,stops:[]},q.push(be)),H[be].stops.push([ae[0].value,ae[1]])}const X=[];for(const ie of q)X.push([H[ie].zoom,co(H[ie],o)]);const re={name:"linear"};return{kind:"composite",interpolationType:re,interpolationFactor:ri.interpolationFactor.bind(void 0,re),zoomStops:X.map(ie=>ie[0]),evaluate:({zoom:ie},ae)=>Ac({stops:X,base:l.base},o,ie).evaluate(ie,ae)}}if(x){const H=b==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:H,interpolationFactor:ri.interpolationFactor.bind(void 0,H),zoomStops:l.stops.map(q=>q[0]),evaluate:({zoom:q})=>S(l,o,q,C,D)}}return{kind:"source",evaluate(H,q){const X=q&&q.properties?q.properties[l.property]:void 0;return X===void 0?Sl(l.default,o.default):S(l,o,X,C,D)}}}function Sl(l,o,c){return l!==void 0?l:o!==void 0?o:c!==void 0?c:void 0}function Ph(l,o,c,p,x){return Sl(typeof c===x?p[c]:void 0,l.default,o.default)}function Ra(l,o,c){if(jn(c)!=="number")return Sl(l.default,o.default);const p=l.stops.length;if(p===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[p-1][0])return l.stops[p-1][1];const x=Qo(l.stops.map(b=>b[0]),c);return l.stops[x][1]}function Ac(l,o,c){const p=l.base!==void 0?l.base:1;if(jn(c)!=="number")return Sl(l.default,o.default);const x=l.stops.length;if(x===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[x-1][0])return l.stops[x-1][1];const b=Qo(l.stops.map(q=>q[0]),c),S=function(q,X,re,ie){const ae=ie-re,be=q-re;return ae===0?0:X===1?be/ae:(Math.pow(X,be)-1)/(Math.pow(X,ae)-1)}(c,p,l.stops[b][0],l.stops[b+1][0]),C=l.stops[b][1],D=l.stops[b+1][1];let H=er[o.type]||ff;if(l.colorSpace&&l.colorSpace!=="rgb"){const q=au[l.colorSpace];H=(X,re)=>q.reverse(q.interpolate(q.forward(X),q.forward(re),S))}return typeof C.evaluate=="function"?{evaluate(...q){const X=C.evaluate.apply(void 0,q),re=D.evaluate.apply(void 0,q);if(X!==void 0&&re!==void 0)return H(X,re,S)}}:H(C,D,S)}function Oh(l,o,c){switch(o.type){case"color":c=Gt.parse(c);break;case"formatted":c=Yt.fromString(c.toString());break;case"resolvedImage":c=Qn.fromString(c.toString());break;case"padding":c=rn.parse(c);break;default:jn(c)===o.type||o.type==="enum"&&o.values[c]||(c=void 0)}return Sl(c,l.default,o.default)}Ge.register(wn,{error:[{kind:"error"},[Ot],(l,[o])=>{throw new ce(o.evaluate(l))}],typeof:[Ot,[it],(l,[o])=>Cn(ue(o.evaluate(l)))],"to-rgba":[Hn(mt,4),[Kn],(l,[o])=>o.evaluate(l).toArray()],rgb:[Kn,[mt,mt,mt],Fn],rgba:[Kn,[mt,mt,mt,mt],Fn],has:{type:jt,overloads:[[[Ot],(l,[o])=>Ki(o.evaluate(l),l.properties())],[[Ot,xn],(l,[o,c])=>Ki(o.evaluate(l),c.evaluate(l))]]},get:{type:it,overloads:[[[Ot],(l,[o])=>es(o.evaluate(l),l.properties())],[[Ot,xn],(l,[o,c])=>es(o.evaluate(l),c.evaluate(l))]]},"feature-state":[it,[Ot],(l,[o])=>es(o.evaluate(l),l.featureState||{})],properties:[xn,[],l=>l.properties()],"geometry-type":[Ot,[],l=>l.geometryType()],id:[it,[],l=>l.id()],zoom:[mt,[],l=>l.globals.zoom],"heatmap-density":[mt,[],l=>l.globals.heatmapDensity||0],"line-progress":[mt,[],l=>l.globals.lineProgress||0],accumulated:[it,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[mt,Oa(mt),(l,o)=>{let c=0;for(const p of o)c+=p.evaluate(l);return c}],"*":[mt,Oa(mt),(l,o)=>{let c=1;for(const p of o)c*=p.evaluate(l);return c}],"-":{type:mt,overloads:[[[mt,mt],(l,[o,c])=>o.evaluate(l)-c.evaluate(l)],[[mt],(l,[o])=>-o.evaluate(l)]]},"/":[mt,[mt,mt],(l,[o,c])=>o.evaluate(l)/c.evaluate(l)],"%":[mt,[mt,mt],(l,[o,c])=>o.evaluate(l)%c.evaluate(l)],ln2:[mt,[],()=>Math.LN2],pi:[mt,[],()=>Math.PI],e:[mt,[],()=>Math.E],"^":[mt,[mt,mt],(l,[o,c])=>Math.pow(o.evaluate(l),c.evaluate(l))],sqrt:[mt,[mt],(l,[o])=>Math.sqrt(o.evaluate(l))],log10:[mt,[mt],(l,[o])=>Math.log(o.evaluate(l))/Math.LN10],ln:[mt,[mt],(l,[o])=>Math.log(o.evaluate(l))],log2:[mt,[mt],(l,[o])=>Math.log(o.evaluate(l))/Math.LN2],sin:[mt,[mt],(l,[o])=>Math.sin(o.evaluate(l))],cos:[mt,[mt],(l,[o])=>Math.cos(o.evaluate(l))],tan:[mt,[mt],(l,[o])=>Math.tan(o.evaluate(l))],asin:[mt,[mt],(l,[o])=>Math.asin(o.evaluate(l))],acos:[mt,[mt],(l,[o])=>Math.acos(o.evaluate(l))],atan:[mt,[mt],(l,[o])=>Math.atan(o.evaluate(l))],min:[mt,Oa(mt),(l,o)=>Math.min(...o.map(c=>c.evaluate(l)))],max:[mt,Oa(mt),(l,o)=>Math.max(...o.map(c=>c.evaluate(l)))],abs:[mt,[mt],(l,[o])=>Math.abs(o.evaluate(l))],round:[mt,[mt],(l,[o])=>{const c=o.evaluate(l);return c<0?-Math.round(-c):Math.round(c)}],floor:[mt,[mt],(l,[o])=>Math.floor(o.evaluate(l))],ceil:[mt,[mt],(l,[o])=>Math.ceil(o.evaluate(l))],"filter-==":[jt,[Ot,it],(l,[o,c])=>l.properties()[o.value]===c.value],"filter-id-==":[jt,[it],(l,[o])=>l.id()===o.value],"filter-type-==":[jt,[Ot],(l,[o])=>l.geometryType()===o.value],"filter-<":[jt,[Ot,it],(l,[o,c])=>{const p=l.properties()[o.value],x=c.value;return typeof p==typeof x&&p<x}],"filter-id-<":[jt,[it],(l,[o])=>{const c=l.id(),p=o.value;return typeof c==typeof p&&c<p}],"filter->":[jt,[Ot,it],(l,[o,c])=>{const p=l.properties()[o.value],x=c.value;return typeof p==typeof x&&p>x}],"filter-id->":[jt,[it],(l,[o])=>{const c=l.id(),p=o.value;return typeof c==typeof p&&c>p}],"filter-<=":[jt,[Ot,it],(l,[o,c])=>{const p=l.properties()[o.value],x=c.value;return typeof p==typeof x&&p<=x}],"filter-id-<=":[jt,[it],(l,[o])=>{const c=l.id(),p=o.value;return typeof c==typeof p&&c<=p}],"filter->=":[jt,[Ot,it],(l,[o,c])=>{const p=l.properties()[o.value],x=c.value;return typeof p==typeof x&&p>=x}],"filter-id->=":[jt,[it],(l,[o])=>{const c=l.id(),p=o.value;return typeof c==typeof p&&c>=p}],"filter-has":[jt,[it],(l,[o])=>o.value in l.properties()],"filter-has-id":[jt,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[jt,[Hn(Ot)],(l,[o])=>o.value.indexOf(l.geometryType())>=0],"filter-id-in":[jt,[Hn(it)],(l,[o])=>o.value.indexOf(l.id())>=0],"filter-in-small":[jt,[Ot,Hn(it)],(l,[o,c])=>c.value.indexOf(l.properties()[o.value])>=0],"filter-in-large":[jt,[Ot,Hn(it)],(l,[o,c])=>function(p,x,b,S){for(;b<=S;){const C=b+S>>1;if(x[C]===p)return!0;x[C]>p?S=C-1:b=C+1}return!1}(l.properties()[o.value],c.value,0,c.value.length-1)],all:{type:jt,overloads:[[[jt,jt],(l,[o,c])=>o.evaluate(l)&&c.evaluate(l)],[Oa(jt),(l,o)=>{for(const c of o)if(!c.evaluate(l))return!1;return!0}]]},any:{type:jt,overloads:[[[jt,jt],(l,[o,c])=>o.evaluate(l)||c.evaluate(l)],[Oa(jt),(l,o)=>{for(const c of o)if(c.evaluate(l))return!0;return!1}]]},"!":[jt,[jt],(l,[o])=>!o.evaluate(l)],"is-supported-script":[jt,[Ot],(l,[o])=>{const c=l.globals&&l.globals.isSupportedScript;return!c||c(o.evaluate(l))}],upcase:[Ot,[Ot],(l,[o])=>o.evaluate(l).toUpperCase()],downcase:[Ot,[Ot],(l,[o])=>o.evaluate(l).toLowerCase()],concat:[Ot,Oa(it),(l,o)=>o.map(c=>Z(c.evaluate(l))).join("")],"resolved-locale":[Ot,[fn],(l,[o])=>o.evaluate(l).resolvedLocale()]});class Pc{constructor(o,c){this.expression=o,this._warningHistory={},this._evaluator=new Le,this._defaultValue=c?function(p){return p.type==="color"&&Ns(p.default)?new Gt(0,0,0,0):p.type==="color"?Gt.parse(p.default)||null:p.type==="padding"?rn.parse(p.default)||null:p.default===void 0?null:p.default}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(o,c,p,x,b,S){return this._evaluator.globals=o,this._evaluator.feature=c,this._evaluator.featureState=p,this._evaluator.canonical=x,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(o,c,p,x,b,S){this._evaluator.globals=o,this._evaluator.feature=c||null,this._evaluator.featureState=p||null,this._evaluator.canonical=x,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=S||null;try{const C=this.expression.evaluate(this._evaluator);if(C==null||typeof C=="number"&&C!=C)return this._defaultValue;if(this._enumValues&&!(C in this._enumValues))throw new ce(`Expected value to be one of ${Object.keys(this._enumValues).map(D=>JSON.stringify(D)).join(", ")}, but found ${JSON.stringify(C)} instead.`);return C}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console<"u"&&console.warn(C.message)),this._defaultValue}}}function hu(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in wn}function zs(l,o){const c=new Jo(wn,[],o?function(x){const b={color:Kn,string:Ot,number:mt,enum:Ot,boolean:jt,formatted:pn,padding:Xr,resolvedImage:Ln};return x.type==="array"?Hn(b[x.value]||it,x.length):b[x.type]}(o):void 0),p=c.parse(l,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return p?Ah(new Pc(p,o)):Ca(c.errors)}class Oc{constructor(o,c){this.kind=o,this._styleExpression=c,this.isStateDependent=o!=="constant"&&!Za(c.expression)}evaluateWithoutErrorHandling(o,c,p,x,b,S){return this._styleExpression.evaluateWithoutErrorHandling(o,c,p,x,b,S)}evaluate(o,c,p,x,b,S){return this._styleExpression.evaluate(o,c,p,x,b,S)}}class du{constructor(o,c,p,x){this.kind=o,this.zoomStops=p,this._styleExpression=c,this.isStateDependent=o!=="camera"&&!Za(c.expression),this.interpolationType=x}evaluateWithoutErrorHandling(o,c,p,x,b,S){return this._styleExpression.evaluateWithoutErrorHandling(o,c,p,x,b,S)}evaluate(o,c,p,x,b,S){return this._styleExpression.evaluate(o,c,p,x,b,S)}interpolationFactor(o,c,p){return this.interpolationType?ri.interpolationFactor(this.interpolationType,o,c,p):0}}function Cc(l,o){const c=zs(l,o);if(c.result==="error")return c;const p=c.value.expression,x=vl(p);if(!x&&!Ds(o))return Ca([new un("","data expressions not supported")]);const b=qi(p,["zoom"]);if(!b&&!Tc(o))return Ca([new un("","zoom expressions not supported")]);const S=Lo(p);return S||b?S instanceof un?Ca([S]):S instanceof ri&&!Ic(o)?Ca([new un("",'"interpolate" expressions cannot be used with this property')]):Ah(S?new du(x?"camera":"composite",c.value,S.labels,S instanceof ri?S.interpolation:void 0):new Oc(x?"constant":"source",c.value)):Ca([new un("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ts{constructor(o,c){this._parameters=o,this._specification=c,Jt(this,co(this._parameters,this._specification))}static deserialize(o){return new ts(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function Lo(l){let o=null;if(l instanceof bl)o=Lo(l.result);else if(l instanceof Rs){for(const c of l.args)if(o=Lo(c),o)break}else(l instanceof Ka||l instanceof ri)&&l.input instanceof Ge&&l.input.name==="zoom"&&(o=l);return o instanceof un||l.eachChild(c=>{const p=Lo(c);p instanceof un?o=p:!o&&p?o=new un("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&p&&o!==p&&(o=new un("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}function Xi(l){const o=l.key,c=l.value,p=l.valueSpec||{},x=l.objectElementValidators||{},b=l.style,S=l.styleSpec,C=l.validateSpec;let D=[];const H=jn(c);if(H!=="object")return[new Xe(o,c,`object expected, ${H} found`)];for(const q in c){const X=q.split(".")[0],re=p[X]||p["*"];let ie;if(x[X])ie=x[X];else if(p[X])ie=C;else if(x["*"])ie=x["*"];else{if(!p["*"]){D.push(new Xe(o,c[q],`unknown property "${q}"`));continue}ie=C}D=D.concat(ie({key:(o&&`${o}.`)+q,value:c[q],valueSpec:re,style:b,styleSpec:S,object:c,objectKey:q,validateSpec:C},c))}for(const q in p)x[q]||p[q].required&&p[q].default===void 0&&c[q]===void 0&&D.push(new Xe(o,c,`missing required property "${q}"`));return D}function Bs(l){const o=l.value,c=l.valueSpec,p=l.style,x=l.styleSpec,b=l.key,S=l.arrayElementValidator||l.validateSpec;if(jn(o)!=="array")return[new Xe(b,o,`array expected, ${jn(o)} found`)];if(c.length&&o.length!==c.length)return[new Xe(b,o,`array length ${c.length} expected, length ${o.length} found`)];if(c["min-length"]&&o.length<c["min-length"])return[new Xe(b,o,`array length at least ${c["min-length"]} expected, length ${o.length} found`)];let C={type:c.value,values:c.values};x.$version<7&&(C.function=c.function),jn(c.value)==="object"&&(C=c.value);let D=[];for(let H=0;H<o.length;H++)D=D.concat(S({array:o,arrayIndex:H,value:o[H],valueSpec:C,validateSpec:l.validateSpec,style:p,styleSpec:x,key:`${b}[${H}]`}));return D}function mi(l){const o=l.key,c=l.value,p=l.valueSpec;let x=jn(c);return x==="number"&&c!=c&&(x="NaN"),x!=="number"?[new Xe(o,c,`number expected, ${x} found`)]:"minimum"in p&&c<p.minimum?[new Xe(o,c,`${c} is less than the minimum value ${p.minimum}`)]:"maximum"in p&&c>p.maximum?[new Xe(o,c,`${c} is greater than the maximum value ${p.maximum}`)]:[]}function Rc(l){const o=l.valueSpec,c=Wt(l.value.type);let p,x,b,S={};const C=c!=="categorical"&&l.value.property===void 0,D=!C,H=jn(l.value.stops)==="array"&&jn(l.value.stops[0])==="array"&&jn(l.value.stops[0][0])==="object",q=Xi({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(ie){if(c==="identity")return[new Xe(ie.key,ie.value,'identity function may not have a "stops" property')];let ae=[];const be=ie.value;return ae=ae.concat(Bs({key:ie.key,value:be,valueSpec:ie.valueSpec,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,arrayElementValidator:X})),jn(be)==="array"&&be.length===0&&ae.push(new Xe(ie.key,be,"array must have at least one stop")),ae},default:function(ie){return ie.validateSpec({key:ie.key,value:ie.value,valueSpec:o,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec})}}});return c==="identity"&&C&&q.push(new Xe(l.key,l.value,'missing required property "property"')),c==="identity"||l.value.stops||q.push(new Xe(l.key,l.value,'missing required property "stops"')),c==="exponential"&&l.valueSpec.expression&&!Ic(l.valueSpec)&&q.push(new Xe(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(D&&!Ds(l.valueSpec)?q.push(new Xe(l.key,l.value,"property functions not supported")):C&&!Tc(l.valueSpec)&&q.push(new Xe(l.key,l.value,"zoom functions not supported"))),c!=="categorical"&&!H||l.value.property!==void 0||q.push(new Xe(l.key,l.value,'"property" property is required')),q;function X(ie){let ae=[];const be=ie.value,_e=ie.key;if(jn(be)!=="array")return[new Xe(_e,be,`array expected, ${jn(be)} found`)];if(be.length!==2)return[new Xe(_e,be,`array length 2 expected, length ${be.length} found`)];if(H){if(jn(be[0])!=="object")return[new Xe(_e,be,`object expected, ${jn(be[0])} found`)];if(be[0].zoom===void 0)return[new Xe(_e,be,"object stop key must have zoom")];if(be[0].value===void 0)return[new Xe(_e,be,"object stop key must have value")];if(b&&b>Wt(be[0].zoom))return[new Xe(_e,be[0].zoom,"stop zoom values must appear in ascending order")];Wt(be[0].zoom)!==b&&(b=Wt(be[0].zoom),x=void 0,S={}),ae=ae.concat(Xi({key:`${_e}[0]`,value:be[0],valueSpec:{zoom:{}},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,objectElementValidators:{zoom:mi,value:re}}))}else ae=ae.concat(re({key:`${_e}[0]`,value:be[0],valueSpec:{},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec},be));return hu(Zt(be[1]))?ae.concat([new Xe(`${_e}[1]`,be[1],"expressions are not allowed in function stops.")]):ae.concat(ie.validateSpec({key:`${_e}[1]`,value:be[1],valueSpec:o,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec}))}function re(ie,ae){const be=jn(ie.value),_e=Wt(ie.value),Me=ie.value!==null?ie.value:ae;if(p){if(be!==p)return[new Xe(ie.key,Me,`${be} stop domain type must match previous stop domain type ${p}`)]}else p=be;if(be!=="number"&&be!=="string"&&be!=="boolean")return[new Xe(ie.key,Me,"stop domain value must be a number, string, or boolean")];if(be!=="number"&&c!=="categorical"){let He=`number expected, ${be} found`;return Ds(o)&&c===void 0&&(He+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xe(ie.key,Me,He)]}return c!=="categorical"||be!=="number"||isFinite(_e)&&Math.floor(_e)===_e?c!=="categorical"&&be==="number"&&x!==void 0&&_e<x?[new Xe(ie.key,Me,"stop domain values must appear in ascending order")]:(x=_e,c==="categorical"&&_e in S?[new Xe(ie.key,Me,"stop domain values must be unique")]:(S[_e]=!0,[])):[new Xe(ie.key,Me,`integer expected, found ${_e}`)]}}function ns(l){const o=(l.expressionContext==="property"?Cc:zs)(Zt(l.value),l.valueSpec);if(o.result==="error")return o.value.map(p=>new Xe(`${l.key}${p.key}`,l.value,p.message));const c=o.value.expression||o.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!c.outputDefined())return[new Xe(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!Za(c))return[new Xe(l.key,l.value,'"feature-state" data expressions are not supported with layout properties.')];if(l.expressionContext==="filter"&&!Za(c))return[new Xe(l.key,l.value,'"feature-state" data expressions are not supported with filters.')];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!qi(c,["zoom","feature-state"]))return[new Xe(l.key,l.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(l.expressionContext==="cluster-initial"&&!vl(c))return[new Xe(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function fu(l){const o=l.key,c=l.value,p=l.valueSpec,x=[];return Array.isArray(p.values)?p.values.indexOf(Wt(c))===-1&&x.push(new Xe(o,c,`expected one of [${p.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(p.values).indexOf(Wt(c))===-1&&x.push(new Xe(o,c,`expected one of [${Object.keys(p.values).join(", ")}], ${JSON.stringify(c)} found`)),x}function Tl(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const o of l.slice(1))if(!Tl(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}const Ch={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function kc(l){if(l==null)return{filter:()=>!0,needGeometry:!1};Tl(l)||(l=pu(l));const o=zs(l,Ch);if(o.result==="error")throw new Error(o.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,p,x)=>o.value.evaluate(c,p,{},x),needGeometry:mr(l)}}function Lc(l,o){return l<o?-1:l>o?1:0}function mr(l){if(!Array.isArray(l))return!1;if(l[0]==="within")return!0;for(let o=1;o<l.length;o++)if(mr(l[o]))return!0;return!1}function pu(l){if(!l)return!0;const o=l[0];return l.length<=1?o!=="any":o==="=="?En(l[1],l[2],"=="):o==="!="?Sn(En(l[1],l[2],"==")):o==="<"||o===">"||o==="<="||o===">="?En(l[1],l[2],o):o==="any"?(c=l.slice(1),["any"].concat(c.map(pu))):o==="all"?["all"].concat(l.slice(1).map(pu)):o==="none"?["all"].concat(l.slice(1).map(pu).map(Sn)):o==="in"?Il(l[1],l.slice(2)):o==="!in"?Sn(Il(l[1],l.slice(2))):o==="has"?ur(l[1]):o==="!has"?Sn(ur(l[1])):o!=="within"||l;var c}function En(l,o,c){switch(l){case"$type":return[`filter-type-${c}`,o];case"$id":return[`filter-id-${c}`,o];default:return[`filter-${c}`,l,o]}}function Il(l,o){if(o.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(c=>typeof c!=typeof o[0])?["filter-in-large",l,["literal",o.sort(Lc)]]:["filter-in-small",l,["literal",o]]}}function ur(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function Sn(l){return["!",l]}function ho(l){return Tl(Zt(l.value))?ns(Jt({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Mc(l)}function Mc(l){const o=l.value,c=l.key;if(jn(o)!=="array")return[new Xe(c,o,`array expected, ${jn(o)} found`)];const p=l.styleSpec;let x,b=[];if(o.length<1)return[new Xe(c,o,"filter array must have at least 1 element")];switch(b=b.concat(fu({key:`${c}[0]`,value:o[0],valueSpec:p.filter_operator,style:l.style,styleSpec:l.styleSpec})),Wt(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&Wt(o[1])==="$type"&&b.push(new Xe(c,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":o.length!==3&&b.push(new Xe(c,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(x=jn(o[1]),x!=="string"&&b.push(new Xe(`${c}[1]`,o[1],`string expected, ${x} found`)));for(let S=2;S<o.length;S++)x=jn(o[S]),Wt(o[1])==="$type"?b=b.concat(fu({key:`${c}[${S}]`,value:o[S],valueSpec:p.geometry_type,style:l.style,styleSpec:l.styleSpec})):x!=="string"&&x!=="number"&&x!=="boolean"&&b.push(new Xe(`${c}[${S}]`,o[S],`string, number, or boolean expected, ${x} found`));break;case"any":case"all":case"none":for(let S=1;S<o.length;S++)b=b.concat(Mc({key:`${c}[${S}]`,value:o[S],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":x=jn(o[1]),o.length!==2?b.push(new Xe(c,o,`filter array for "${o[0]}" operator must have 2 elements`)):x!=="string"&&b.push(new Xe(`${c}[1]`,o[1],`string expected, ${x} found`));break;case"within":x=jn(o[1]),o.length!==2?b.push(new Xe(c,o,`filter array for "${o[0]}" operator must have 2 elements`)):x!=="object"&&b.push(new Xe(`${c}[1]`,o[1],`object expected, ${x} found`))}return b}function Mo(l,o){const c=l.key,p=l.validateSpec,x=l.style,b=l.styleSpec,S=l.value,C=l.objectKey,D=b[`${o}_${l.layerType}`];if(!D)return[];const H=C.match(/^(.*)-transition$/);if(o==="paint"&&H&&D[H[1]]&&D[H[1]].transition)return p({key:c,value:S,valueSpec:b.transition,style:x,styleSpec:b});const q=l.valueSpec||D[C];if(!q)return[new Xe(c,S,`unknown property "${C}"`)];let X;if(jn(S)==="string"&&Ds(q)&&!q.tokens&&(X=/^{([^}]+)}$/.exec(S)))return[new Xe(c,S,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(X[1])} }\`.`)];const re=[];return l.layerType==="symbol"&&(C==="text-field"&&x&&!x.glyphs&&re.push(new Xe(c,S,'use of "text-field" requires a style "glyphs" property')),C==="text-font"&&Ns(Zt(S))&&Wt(S.type)==="identity"&&re.push(new Xe(c,S,'"text-font" does not support identity functions'))),re.concat(p({key:l.key,value:S,valueSpec:q,style:x,styleSpec:b,expressionContext:"property",propertyType:o,propertyKey:C}))}function Rh(l){return Mo(l,"paint")}function rs(l){return Mo(l,"layout")}function kh(l){let o=[];const c=l.value,p=l.key,x=l.style,b=l.styleSpec;c.type||c.ref||o.push(new Xe(p,c,'either "type" or "ref" is required'));let S=Wt(c.type);const C=Wt(c.ref);if(c.id){const D=Wt(c.id);for(let H=0;H<l.arrayIndex;H++){const q=x.layers[H];Wt(q.id)===D&&o.push(new Xe(p,c.id,`duplicate layer id "${c.id}", previously used at line ${q.id.__line__}`))}}if("ref"in c){let D;["type","source","source-layer","filter","layout"].forEach(H=>{H in c&&o.push(new Xe(p,c[H],`"${H}" is prohibited for ref layers`))}),x.layers.forEach(H=>{Wt(H.id)===C&&(D=H)}),D?D.ref?o.push(new Xe(p,c.ref,"ref cannot reference another ref layer")):S=Wt(D.type):o.push(new Xe(p,c.ref,`ref layer "${C}" not found`))}else if(S!=="background")if(c.source){const D=x.sources&&x.sources[c.source],H=D&&Wt(D.type);D?H==="vector"&&S==="raster"?o.push(new Xe(p,c.source,`layer "${c.id}" requires a raster source`)):H==="raster"&&S!=="raster"?o.push(new Xe(p,c.source,`layer "${c.id}" requires a vector source`)):H!=="vector"||c["source-layer"]?H==="raster-dem"&&S!=="hillshade"?o.push(new Xe(p,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||H==="geojson"&&D.lineMetrics||o.push(new Xe(p,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new Xe(p,c,`layer "${c.id}" must specify a "source-layer"`)):o.push(new Xe(p,c.source,`source "${c.source}" not found`))}else o.push(new Xe(p,c,'missing required property "source"'));return o=o.concat(Xi({key:p,value:c,valueSpec:b.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${p}.type`,value:c.type,valueSpec:b.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:c,objectKey:"type"}),filter:ho,layout:D=>Xi({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":H=>rs(Jt({layerType:S},H))}}),paint:D=>Xi({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":H=>Rh(Jt({layerType:S},H))}})}})),o}function Yi(l){const o=l.value,c=l.key,p=jn(o);return p!=="string"?[new Xe(c,o,`string expected, ${p} found`)]:[]}const mu={promoteId:function({key:l,value:o}){if(jn(o)==="string")return Yi({key:l,value:o});{const c=[];for(const p in o)c.push(...Yi({key:`${l}.${p}`,value:o[p]}));return c}}};function Fs(l){const o=l.value,c=l.key,p=l.styleSpec,x=l.style,b=l.validateSpec;if(!o.type)return[new Xe(c,o,'"type" is required')];const S=Wt(o.type);let C;switch(S){case"vector":case"raster":case"raster-dem":return C=Xi({key:c,value:o,valueSpec:p[`source_${S.replace("-","_")}`],style:l.style,styleSpec:p,objectElementValidators:mu,validateSpec:b}),C;case"geojson":if(C=Xi({key:c,value:o,valueSpec:p.source_geojson,style:x,styleSpec:p,validateSpec:b,objectElementValidators:mu}),o.cluster)for(const D in o.clusterProperties){const[H,q]=o.clusterProperties[D],X=typeof H=="string"?[H,["accumulated"],["get",D]]:H;C.push(...ns({key:`${c}.${D}.map`,value:q,validateSpec:b,expressionContext:"cluster-map"})),C.push(...ns({key:`${c}.${D}.reduce`,value:X,validateSpec:b,expressionContext:"cluster-reduce"}))}return C;case"video":return Xi({key:c,value:o,valueSpec:p.source_video,style:x,validateSpec:b,styleSpec:p});case"image":return Xi({key:c,value:o,valueSpec:p.source_image,style:x,validateSpec:b,styleSpec:p});case"canvas":return[new Xe(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fu({key:`${c}.type`,value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:x,validateSpec:b,styleSpec:p})}}function Dc(l){const o=l.value,c=l.styleSpec,p=c.light,x=l.style;let b=[];const S=jn(o);if(o===void 0)return b;if(S!=="object")return b=b.concat([new Xe("light",o,`object expected, ${S} found`)]),b;for(const C in o){const D=C.match(/^(.*)-transition$/);b=b.concat(D&&p[D[1]]&&p[D[1]].transition?l.validateSpec({key:C,value:o[C],valueSpec:c.transition,validateSpec:l.validateSpec,style:x,styleSpec:c}):p[C]?l.validateSpec({key:C,value:o[C],valueSpec:p[C],validateSpec:l.validateSpec,style:x,styleSpec:c}):[new Xe(C,o[C],`unknown property "${C}"`)])}return b}function fo(l){const o=l.value,c=l.styleSpec,p=c.terrain,x=l.style;let b=[];const S=jn(o);if(o===void 0)return b;if(S!=="object")return b=b.concat([new Xe("terrain",o,`object expected, ${S} found`)]),b;for(const C in o)b=b.concat(p[C]?l.validateSpec({key:C,value:o[C],valueSpec:p[C],validateSpec:l.validateSpec,style:x,styleSpec:c}):[new Xe(C,o[C],`unknown property "${C}"`)]);return b}function Al(l){let o=[];const c=l.value,p=l.key;if(Array.isArray(c)){const x=[],b=[];for(const S in c)c[S].id&&x.includes(c[S].id)&&o.push(new Xe(p,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),x.push(c[S].id),c[S].url&&b.includes(c[S].url)&&o.push(new Xe(p,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),b.push(c[S].url),o=o.concat(Xi({key:`${p}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return o}return Yi({key:p,value:c})}const Lh={"*":()=>[],array:Bs,boolean:function(l){const o=l.value,c=l.key,p=jn(o);return p!=="boolean"?[new Xe(c,o,`boolean expected, ${p} found`)]:[]},number:mi,color:function(l){const o=l.key,c=l.value,p=jn(c);return p!=="string"?[new Xe(o,c,`color expected, ${p} found`)]:ht(c)===null?[new Xe(o,c,`color expected, "${c}" found`)]:[]},constants:_t,enum:fu,filter:ho,function:Rc,layer:kh,object:Xi,source:Fs,light:Dc,terrain:fo,string:Yi,formatted:function(l){return Yi(l).length===0?[]:ns(l)},resolvedImage:function(l){return Yi(l).length===0?[]:ns(l)},padding:function(l){const o=l.key,c=l.value;if(jn(c)==="array"){if(c.length<1||c.length>4)return[new Xe(o,c,`padding requires 1 to 4 values; ${c.length} values found`)];const p={type:"number"};let x=[];for(let b=0;b<c.length;b++)x=x.concat(l.validateSpec({key:`${o}[${b}]`,value:c[b],validateSpec:l.validateSpec,valueSpec:p}));return x}return mi({key:o,value:c,valueSpec:{}})},sprite:Al};function is(l){const o=l.value,c=l.valueSpec,p=l.styleSpec;return l.validateSpec=is,c.expression&&Ns(Wt(o))?Rc(l):c.expression&&hu(Zt(o))?ns(l):c.type&&Lh[c.type]?Lh[c.type](l):Xi(Jt({},l,{valueSpec:c.type?p[c.type]:c}))}function Mh(l){const o=l.value,c=l.key,p=Yi(l);return p.length||(o.indexOf("{fontstack}")===-1&&p.push(new Xe(c,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&p.push(new Xe(c,o,'"glyphs" url must include a "{range}" token'))),p}function Hr(l,o=ke){let c=[];return c=c.concat(is({key:"",value:l,valueSpec:o.$root,styleSpec:o,style:l,validateSpec:is,objectElementValidators:{glyphs:Mh,"*":()=>[]}})),l.constants&&(c=c.concat(_t({key:"constants",value:l.constants,style:l,styleSpec:o,validateSpec:is}))),os(c)}function oa(l){return function(o){return l({...o,validateSpec:is})}}function os(l){return[].concat(l).sort((o,c)=>o.line-c.line)}function aa(l){return function(...o){return os(l.apply(this,o))}}Hr.source=aa(oa(Fs)),Hr.sprite=aa(oa(Al)),Hr.glyphs=aa(oa(Mh)),Hr.light=aa(oa(Dc)),Hr.terrain=aa(oa(fo)),Hr.layer=aa(oa(kh)),Hr.filter=aa(oa(ho)),Hr.paintProperty=aa(oa(Rh)),Hr.layoutProperty=aa(oa(rs));const gi=Hr,Pl=gi.light,Ol=gi.paintProperty,Nc=gi.layoutProperty;function Us(l,o){let c=!1;if(o&&o.length)for(const p of o)l.fire(new lt(new Error(p.message))),c=!0;return c}class ka{constructor(o,c,p){const x=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;const S=new Int32Array(this.arrayBuffer);o=S[0],this.d=(c=S[1])+2*(p=S[2]);for(let D=0;D<this.d*this.d;D++){const H=S[3+D],q=S[3+D+1];x.push(H===q?null:S.subarray(H,q))}const C=S[3+x.length+1];this.keys=S.subarray(S[3+x.length],C),this.bboxes=S.subarray(C),this.insert=this._insertReadonly}else{this.d=c+2*p;for(let S=0;S<this.d*this.d;S++)x.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=o,this.padding=p,this.scale=c/o,this.uid=0;const b=p/c*o;this.min=-b,this.max=o+b}insert(o,c,p,x,b){this._forEachCell(c,p,x,b,this._insertCell,this.uid++,void 0,void 0),this.keys.push(o),this.bboxes.push(c),this.bboxes.push(p),this.bboxes.push(x),this.bboxes.push(b)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(o,c,p,x,b,S){this.cells[b].push(S)}query(o,c,p,x,b){const S=this.min,C=this.max;if(o<=S&&c<=S&&C<=p&&C<=x&&!b)return Array.prototype.slice.call(this.keys);{const D=[];return this._forEachCell(o,c,p,x,this._queryCell,D,{},b),D}}_queryCell(o,c,p,x,b,S,C,D){const H=this.cells[b];if(H!==null){const q=this.keys,X=this.bboxes;for(let re=0;re<H.length;re++){const ie=H[re];if(C[ie]===void 0){const ae=4*ie;(D?D(X[ae+0],X[ae+1],X[ae+2],X[ae+3]):o<=X[ae+2]&&c<=X[ae+3]&&p>=X[ae+0]&&x>=X[ae+1])?(C[ie]=!0,S.push(q[ie])):C[ie]=!1}}}}_forEachCell(o,c,p,x,b,S,C,D){const H=this._convertToCellCoord(o),q=this._convertToCellCoord(c),X=this._convertToCellCoord(p),re=this._convertToCellCoord(x);for(let ie=H;ie<=X;ie++)for(let ae=q;ae<=re;ae++){const be=this.d*ae+ie;if((!D||D(this._convertFromCellCoord(ie),this._convertFromCellCoord(ae),this._convertFromCellCoord(ie+1),this._convertFromCellCoord(ae+1)))&&b.call(this,o,c,p,x,be,S,C,D))return}}_convertFromCellCoord(o){return(o-this.padding)/this.scale}_convertToCellCoord(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const o=this.cells,c=3+this.cells.length+1+1;let p=0;for(let S=0;S<this.cells.length;S++)p+=this.cells[S].length;const x=new Int32Array(c+p+this.keys.length+this.bboxes.length);x[0]=this.extent,x[1]=this.n,x[2]=this.padding;let b=c;for(let S=0;S<o.length;S++){const C=o[S];x[3+S]=b,x.set(C,b),b+=C.length}return x[3+o.length]=b,x.set(this.keys,b),b+=this.keys.length,x[3+o.length+1]=b,x.set(this.bboxes,b),b+=this.bboxes.length,x.buffer}static serialize(o,c){const p=o.toArrayBuffer();return c&&c.push(p),{buffer:p}}static deserialize(o){return new ka(o.buffer)}}const po={};function Tt(l,o,c={}){if(po[l])throw new Error(`${l} is already registered.`);Object.defineProperty(o,"_classRegistryKey",{value:l,writeable:!1}),po[l]={klass:o,omit:c.omit||[],shallow:c.shallow||[]}}Tt("Object",Object),Tt("TransferableGridIndex",ka),Tt("Color",Gt),Tt("Error",Error),Tt("AJAXError",et),Tt("ResolvedImage",Qn),Tt("StylePropertyFunction",ts),Tt("StyleExpression",Pc,{omit:["_evaluator"]}),Tt("ZoomDependentExpression",du),Tt("ZoomConstantExpression",Oc),Tt("CompoundExpression",Ge,{omit:["_evaluate"]});for(const l in wn)wn[l]._classRegistryKey||Tt(`Expression_${l}`,wn[l]);function La(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function sa(l,o){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob)return l;if(La(l)||Ee(l))return o&&o.push(l),l;if(ArrayBuffer.isView(l)){const c=l;return o&&o.push(c.buffer),c}if(l instanceof ImageData)return o&&o.push(l.data.buffer),l;if(Array.isArray(l)){const c=[];for(const p of l)c.push(sa(p,o));return c}if(typeof l=="object"){const c=l.constructor,p=c._classRegistryKey;if(!p)throw new Error("can't serialize object of unregistered class");if(!po[p])throw new Error(`${p} is not registered.`);const x=c.serialize?c.serialize(l,o):{};if(c.serialize){if(o&&x===o[o.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const b in l){if(!l.hasOwnProperty(b)||po[p].omit.indexOf(b)>=0)continue;const S=l[b];x[b]=po[p].shallow.indexOf(b)>=0?S:sa(S,o)}l instanceof Error&&(x.message=l.message)}if(x.$name)throw new Error("$name property is reserved for worker serialization logic.");return p!=="Object"&&(x.$name=p),x}throw new Error("can't serialize object of type "+typeof l)}function Ma(l){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||La(l)||Ee(l)||ArrayBuffer.isView(l)||l instanceof ImageData)return l;if(Array.isArray(l))return l.map(Ma);if(typeof l=="object"){const o=l.$name||"Object";if(!po[o])throw new Error(`can't deserialize unregistered class ${o}`);const{klass:c}=po[o];if(!c)throw new Error(`can't deserialize unregistered class ${o}`);if(c.deserialize)return c.deserialize(l);const p=Object.create(c.prototype);for(const x of Object.keys(l)){if(x==="$name")continue;const b=l[x];p[x]=po[o].shallow.indexOf(x)>=0?b:Ma(b)}return p}throw new Error("can't deserialize object of type "+typeof l)}class Dh{constructor(){this.first=!0}update(o,c){const p=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=p,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=p,!0):(this.lastFloorZoom>p?(this.lastIntegerZoom=p+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<p&&(this.lastIntegerZoom=p,this.lastIntegerZoomTime=c),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=p,!0))}}const wt={"Latin-1 Supplement":l=>l>=128&&l<=255,Arabic:l=>l>=1536&&l<=1791,"Arabic Supplement":l=>l>=1872&&l<=1919,"Arabic Extended-A":l=>l>=2208&&l<=2303,"Hangul Jamo":l=>l>=4352&&l<=4607,"Unified Canadian Aboriginal Syllabics":l=>l>=5120&&l<=5759,Khmer:l=>l>=6016&&l<=6143,"Unified Canadian Aboriginal Syllabics Extended":l=>l>=6320&&l<=6399,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"CJK Radicals Supplement":l=>l>=11904&&l<=12031,"Kangxi Radicals":l=>l>=12032&&l<=12255,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Bopomofo:l=>l>=12544&&l<=12591,"Hangul Compatibility Jamo":l=>l>=12592&&l<=12687,Kanbun:l=>l>=12688&&l<=12703,"Bopomofo Extended":l=>l>=12704&&l<=12735,"CJK Strokes":l=>l>=12736&&l<=12783,"Katakana Phonetic Extensions":l=>l>=12784&&l<=12799,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"CJK Unified Ideographs Extension A":l=>l>=13312&&l<=19903,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Yi Syllables":l=>l>=40960&&l<=42127,"Yi Radicals":l=>l>=42128&&l<=42191,"Hangul Jamo Extended-A":l=>l>=43360&&l<=43391,"Hangul Syllables":l=>l>=44032&&l<=55215,"Hangul Jamo Extended-B":l=>l>=55216&&l<=55295,"Private Use Area":l=>l>=57344&&l<=63743,"CJK Compatibility Ideographs":l=>l>=63744&&l<=64255,"Arabic Presentation Forms-A":l=>l>=64336&&l<=65023,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Arabic Presentation Forms-B":l=>l>=65136&&l<=65279,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function zc(l){for(const o of l)if(gu(o.charCodeAt(0)))return!0;return!1}function Nh(l){for(const o of l)if(!pf(o.charCodeAt(0)))return!1;return!0}function pf(l){return!(wt.Arabic(l)||wt["Arabic Supplement"](l)||wt["Arabic Extended-A"](l)||wt["Arabic Presentation Forms-A"](l)||wt["Arabic Presentation Forms-B"](l))}function gu(l){return!(l!==746&&l!==747&&(l<4352||!(wt["Bopomofo Extended"](l)||wt.Bopomofo(l)||wt["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||wt["CJK Compatibility Ideographs"](l)||wt["CJK Compatibility"](l)||wt["CJK Radicals Supplement"](l)||wt["CJK Strokes"](l)||!(!wt["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||wt["CJK Unified Ideographs Extension A"](l)||wt["CJK Unified Ideographs"](l)||wt["Enclosed CJK Letters and Months"](l)||wt["Hangul Compatibility Jamo"](l)||wt["Hangul Jamo Extended-A"](l)||wt["Hangul Jamo Extended-B"](l)||wt["Hangul Jamo"](l)||wt["Hangul Syllables"](l)||wt.Hiragana(l)||wt["Ideographic Description Characters"](l)||wt.Kanbun(l)||wt["Kangxi Radicals"](l)||wt["Katakana Phonetic Extensions"](l)||wt.Katakana(l)&&l!==12540||!(!wt["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!wt["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||wt["Unified Canadian Aboriginal Syllabics"](l)||wt["Unified Canadian Aboriginal Syllabics Extended"](l)||wt["Vertical Forms"](l)||wt["Yijing Hexagram Symbols"](l)||wt["Yi Syllables"](l)||wt["Yi Radicals"](l))))}function zh(l){return!(gu(l)||function(o){return!!(wt["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||wt["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||wt["Letterlike Symbols"](o)||wt["Number Forms"](o)||wt["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||wt["Control Pictures"](o)&&o!==9251||wt["Optical Character Recognition"](o)||wt["Enclosed Alphanumerics"](o)||wt["Geometric Shapes"](o)||wt["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||wt["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||wt["CJK Symbols and Punctuation"](o)||wt.Katakana(o)||wt["Private Use Area"](o)||wt["CJK Compatibility Forms"](o)||wt["Small Form Variants"](o)||wt["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(l))}function vi(l){return l>=1424&&l<=2303||wt["Arabic Presentation Forms-A"](l)||wt["Arabic Presentation Forms-B"](l)}function as(l,o){return!(!o&&vi(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||wt.Khmer(l))}function Ji(l){for(const o of l)if(vi(o.charCodeAt(0)))return!0;return!1}const la="deferred",Bc="loading",vu="loaded";let Fc=null,jr="unavailable",Do=null;const ss=function(l){l&&typeof l=="string"&&l.indexOf("NetworkError")>-1&&(jr="error"),Fc&&Fc(l)};function Vs(){yu.fire(new vt("pluginStateChange",{pluginStatus:jr,pluginURL:Do}))}const yu=new en,ls=function(){return jr},No=function(){if(jr!==la||!Do)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");jr=Bc,Vs(),Do&&qe({url:Do},l=>{l?ss(l):(jr=vu,Vs())})},li={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>jr===vu||li.applyArabicShaping!=null,isLoading:()=>jr===Bc,setState(l){if(!se())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");jr=l.pluginStatus,Do=l.pluginURL},isParsed(){if(!se())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return li.applyArabicShaping!=null&&li.processBidirectionalText!=null&&li.processStyledBidirectionalText!=null},getPluginURL(){if(!se())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Do}};class tr{constructor(o,c){this.zoom=o,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Dh,this.transition={})}isSupportedScript(o){return function(c,p){for(const x of c)if(!as(x.charCodeAt(0),p))return!1;return!0}(o,li.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const o=this.zoom,c=o-Math.floor(o),p=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*p}:{fromScale:.5,toScale:1,t:1-(1-p)*c}}}class zo{constructor(o,c){this.property=o,this.value=c,this.expression=function(p,x){if(Ns(p))return new ts(p,x);if(hu(p)){const b=Cc(p,x);if(b.result==="error")throw new Error(b.value.map(S=>`${S.key}: ${S.message}`).join(", "));return b.value}{let b=p;return x.type==="color"&&typeof p=="string"?b=Gt.parse(p):x.type!=="padding"||typeof p!="number"&&!Array.isArray(p)||(b=rn.parse(p)),{kind:"constant",evaluate:()=>b}}}(c===void 0?o.specification.default:c,o.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(o,c,p){return this.property.possiblyEvaluate(this,o,c,p)}}class _u{constructor(o){this.property=o,this.value=new zo(o,void 0)}transitioned(o,c){return new js(this.property,this.value,c,z({},o.transition,this.transition),o.now)}untransitioned(){return new js(this.property,this.value,null,{},0)}}class Hs{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)}getValue(o){return j(this._values[o].value.value)}setValue(o,c){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new _u(this._values[o].property)),this._values[o].value=new zo(this._values[o].property,c===null?void 0:j(c))}getTransition(o){return j(this._values[o].transition)}setTransition(o,c){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new _u(this._values[o].property)),this._values[o].transition=j(c)||void 0}serialize(){const o={};for(const c of Object.keys(this._values)){const p=this.getValue(c);p!==void 0&&(o[c]=p);const x=this.getTransition(c);x!==void 0&&(o[`${c}-transition`]=x)}return o}transitioned(o,c){const p=new Cl(this._properties);for(const x of Object.keys(this._values))p._values[x]=this._values[x].transitioned(o,c._values[x]);return p}untransitioned(){const o=new Cl(this._properties);for(const c of Object.keys(this._values))o._values[c]=this._values[c].untransitioned();return o}}class js{constructor(o,c,p,x,b){this.property=o,this.value=c,this.begin=b+x.delay||0,this.end=this.begin+x.duration||0,o.specification.transition&&(x.delay||x.duration)&&(this.prior=p)}possiblyEvaluate(o,c,p){const x=o.now||0,b=this.value.possiblyEvaluate(o,c,p),S=this.prior;if(S){if(x>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(x<this.begin)return S.possiblyEvaluate(o,c,p);{const C=(x-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(o,c,p),b,function(D){if(D<=0)return 0;if(D>=1)return 1;const H=D*D,q=H*D;return 4*(D<.5?q:3*(D-H)+q-.75)}(C))}}return b}}class Cl{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,c,p){const x=new kl(this._properties);for(const b of Object.keys(this._values))x._values[b]=this._values[b].possiblyEvaluate(o,c,p);return x}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class Rl{constructor(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)}getValue(o){return j(this._values[o].value)}setValue(o,c){this._values[o]=new zo(this._values[o].property,c===null?void 0:j(c))}serialize(){const o={};for(const c of Object.keys(this._values)){const p=this.getValue(c);p!==void 0&&(o[c]=p)}return o}possiblyEvaluate(o,c,p){const x=new kl(this._properties);for(const b of Object.keys(this._values))x._values[b]=this._values[b].possiblyEvaluate(o,c,p);return x}}class mo{constructor(o,c,p){this.property=o,this.value=c,this.parameters=p}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,c,p,x){return this.property.evaluate(this.value,this.parameters,o,c,p,x)}}class kl{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class zt{constructor(o){this.specification=o}possiblyEvaluate(o,c){if(o.isDataDriven())throw new Error("Value should not be data driven");return o.expression.evaluate(c)}interpolate(o,c,p){const x=er[this.specification.type];return x?x(o,c,p):o}}class Xt{constructor(o,c){this.specification=o,this.overrides=c}possiblyEvaluate(o,c,p,x){return new mo(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(c,null,{},p,x)}:o.expression,c)}interpolate(o,c,p){if(o.value.kind!=="constant"||c.value.kind!=="constant")return o;if(o.value.value===void 0||c.value.value===void 0)return new mo(this,{kind:"constant",value:void 0},o.parameters);const x=er[this.specification.type];return x?new mo(this,{kind:"constant",value:x(o.value.value,c.value.value,p)},o.parameters):o}evaluate(o,c,p,x,b,S){return o.kind==="constant"?o.value:o.evaluate(c,p,x,b,S)}}class us extends Xt{possiblyEvaluate(o,c,p,x){if(o.value===void 0)return new mo(this,{kind:"constant",value:void 0},c);if(o.expression.kind==="constant"){const b=o.expression.evaluate(c,null,{},p,x),S=o.property.specification.type==="resolvedImage"&&typeof b!="string"?b.name:b,C=this._calculate(S,S,S,c);return new mo(this,{kind:"constant",value:C},c)}if(o.expression.kind==="camera"){const b=this._calculate(o.expression.evaluate({zoom:c.zoom-1}),o.expression.evaluate({zoom:c.zoom}),o.expression.evaluate({zoom:c.zoom+1}),c);return new mo(this,{kind:"constant",value:b},c)}return new mo(this,o.expression,c)}evaluate(o,c,p,x,b,S){if(o.kind==="source"){const C=o.evaluate(c,p,x,b,S);return this._calculate(C,C,C,c)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(c.zoom)-1},p,x),o.evaluate({zoom:Math.floor(c.zoom)},p,x),o.evaluate({zoom:Math.floor(c.zoom)+1},p,x),c):o.value}_calculate(o,c,p,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:o,to:c}:{from:p,to:c}}interpolate(o){return o}}class xu{constructor(o){this.specification=o}possiblyEvaluate(o,c,p,x){if(o.value!==void 0){if(o.expression.kind==="constant"){const b=o.expression.evaluate(c,null,{},p,x);return this._calculate(b,b,b,c)}return this._calculate(o.expression.evaluate(new tr(Math.floor(c.zoom-1),c)),o.expression.evaluate(new tr(Math.floor(c.zoom),c)),o.expression.evaluate(new tr(Math.floor(c.zoom+1),c)),c)}}_calculate(o,c,p,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:o,to:c}:{from:p,to:c}}interpolate(o){return o}}class Uc{constructor(o){this.specification=o}possiblyEvaluate(o,c,p,x){return!!o.expression.evaluate(c,null,{},p,x)}interpolate(){return!1}}class ui{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in o){const p=o[c];p.specification.overridable&&this.overridableProperties.push(c);const x=this.defaultPropertyValues[c]=new zo(p,void 0),b=this.defaultTransitionablePropertyValues[c]=new _u(p);this.defaultTransitioningPropertyValues[c]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=x.possiblyEvaluate({})}}}Tt("DataDrivenProperty",Xt),Tt("DataConstantProperty",zt),Tt("CrossFadedDataDrivenProperty",us),Tt("CrossFadedProperty",xu),Tt("ColorRampProperty",Uc);const Ll="-transition";class go extends en{constructor(o,c){if(super(),this.id=o.id,this.type=o.type,this._featureFilter={filter:()=>!0,needGeometry:!1},o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),c.layout&&(this._unevaluatedLayout=new Rl(c.layout)),c.paint)){this._transitionablePaint=new Hs(c.paint);for(const p in o.paint)this.setPaintProperty(p,o.paint[p],{validate:!1});for(const p in o.layout)this.setLayoutProperty(p,o.layout[p],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new kl(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,c,p={}){c!=null&&this._validate(Nc,`layers.${this.id}.layout.${o}`,o,c,p)||(o!=="visibility"?this._unevaluatedLayout.setValue(o,c):this.visibility=c)}getPaintProperty(o){return o.endsWith(Ll)?this._transitionablePaint.getTransition(o.slice(0,-Ll.length)):this._transitionablePaint.getValue(o)}setPaintProperty(o,c,p={}){if(c!=null&&this._validate(Ol,`layers.${this.id}.paint.${o}`,o,c,p))return!1;if(o.endsWith(Ll))return this._transitionablePaint.setTransition(o.slice(0,-Ll.length),c||void 0),!1;{const x=this._transitionablePaint._values[o],b=x.property.specification["property-type"]==="cross-faded-data-driven",S=x.value.isDataDriven(),C=x.value;this._transitionablePaint.setValue(o,c),this._handleSpecialPaintPropertyUpdate(o);const D=this._transitionablePaint._values[o].value;return D.isDataDriven()||S||b||this._handleOverridablePaintPropertyUpdate(o,C,D)}}_handleSpecialPaintPropertyUpdate(o){}_handleOverridablePaintPropertyUpdate(o,c,p){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,c){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,c)}serialize(){const o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),B(o,(c,p)=>!(c===void 0||p==="layout"&&!Object.keys(c).length||p==="paint"&&!Object.keys(c).length))}_validate(o,c,p,x,b={}){return(!b||b.validate!==!1)&&Us(this,o.call(gi,{key:c,layerType:this.type,objectKey:p,value:x,styleSpec:ke,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const o in this.paint._values){const c=this.paint.get(o);if(c instanceof mo&&Ds(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const h={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class g{constructor(o,c){this._structArray=o,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class T{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,c){return o._trim(),c&&(o.isTransferred=!0,c.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const c=Object.create(this.prototype);return c.arrayBuffer=o.arrayBuffer,c.length=o.length,c.capacity=o.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function k(l,o=1){let c=0,p=0;return{members:l.map(x=>{const b=h[x.type].BYTES_PER_ELEMENT,S=c=$(c,Math.max(o,b)),C=x.components||1;return p=Math.max(p,b),c+=b*C,{name:x.name,type:x.type,components:C,offset:S}}),size:$(c,Math.max(p,o)),alignment:o}}function $(l,o){return Math.ceil(l/o)*o}class oe extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c){const p=this.length;return this.resize(p+1),this.emplace(p,o,c)}emplace(o,c,p){const x=2*o;return this.int16[x+0]=c,this.int16[x+1]=p,o}}oe.prototype.bytesPerElement=4,Tt("StructArrayLayout2i4",oe);class Te extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p){const x=this.length;return this.resize(x+1),this.emplace(x,o,c,p)}emplace(o,c,p,x){const b=3*o;return this.int16[b+0]=c,this.int16[b+1]=p,this.int16[b+2]=x,o}}Te.prototype.bytesPerElement=6,Tt("StructArrayLayout3i6",Te);class Ue extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x){const b=this.length;return this.resize(b+1),this.emplace(b,o,c,p,x)}emplace(o,c,p,x,b){const S=4*o;return this.int16[S+0]=c,this.int16[S+1]=p,this.int16[S+2]=x,this.int16[S+3]=b,o}}Ue.prototype.bytesPerElement=8,Tt("StructArrayLayout4i8",Ue);class Ke extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,S){const C=this.length;return this.resize(C+1),this.emplace(C,o,c,p,x,b,S)}emplace(o,c,p,x,b,S,C){const D=6*o;return this.int16[D+0]=c,this.int16[D+1]=p,this.int16[D+2]=x,this.int16[D+3]=b,this.int16[D+4]=S,this.int16[D+5]=C,o}}Ke.prototype.bytesPerElement=12,Tt("StructArrayLayout2i4i12",Ke);class dt extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,S){const C=this.length;return this.resize(C+1),this.emplace(C,o,c,p,x,b,S)}emplace(o,c,p,x,b,S,C){const D=4*o,H=8*o;return this.int16[D+0]=c,this.int16[D+1]=p,this.uint8[H+4]=x,this.uint8[H+5]=b,this.uint8[H+6]=S,this.uint8[H+7]=C,o}}dt.prototype.bytesPerElement=8,Tt("StructArrayLayout2i4ub8",dt);class Pt extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c){const p=this.length;return this.resize(p+1),this.emplace(p,o,c)}emplace(o,c,p){const x=2*o;return this.float32[x+0]=c,this.float32[x+1]=p,o}}Pt.prototype.bytesPerElement=8,Tt("StructArrayLayout2f8",Pt);class on extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,S,C,D,H,q){const X=this.length;return this.resize(X+1),this.emplace(X,o,c,p,x,b,S,C,D,H,q)}emplace(o,c,p,x,b,S,C,D,H,q,X){const re=10*o;return this.uint16[re+0]=c,this.uint16[re+1]=p,this.uint16[re+2]=x,this.uint16[re+3]=b,this.uint16[re+4]=S,this.uint16[re+5]=C,this.uint16[re+6]=D,this.uint16[re+7]=H,this.uint16[re+8]=q,this.uint16[re+9]=X,o}}on.prototype.bytesPerElement=20,Tt("StructArrayLayout10ui20",on);class Tn extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,S,C,D,H,q,X,re){const ie=this.length;return this.resize(ie+1),this.emplace(ie,o,c,p,x,b,S,C,D,H,q,X,re)}emplace(o,c,p,x,b,S,C,D,H,q,X,re,ie){const ae=12*o;return this.int16[ae+0]=c,this.int16[ae+1]=p,this.int16[ae+2]=x,this.int16[ae+3]=b,this.uint16[ae+4]=S,this.uint16[ae+5]=C,this.uint16[ae+6]=D,this.uint16[ae+7]=H,this.int16[ae+8]=q,this.int16[ae+9]=X,this.int16[ae+10]=re,this.int16[ae+11]=ie,o}}Tn.prototype.bytesPerElement=24,Tt("StructArrayLayout4i4ui4i24",Tn);class ci extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p){const x=this.length;return this.resize(x+1),this.emplace(x,o,c,p)}emplace(o,c,p,x){const b=3*o;return this.float32[b+0]=c,this.float32[b+1]=p,this.float32[b+2]=x,o}}ci.prototype.bytesPerElement=12,Tt("StructArrayLayout3f12",ci);class Bo extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.uint32[1*o+0]=c,o}}Bo.prototype.bytesPerElement=4,Tt("StructArrayLayout1ul4",Bo);class $s extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,S,C,D,H){const q=this.length;return this.resize(q+1),this.emplace(q,o,c,p,x,b,S,C,D,H)}emplace(o,c,p,x,b,S,C,D,H,q){const X=10*o,re=5*o;return this.int16[X+0]=c,this.int16[X+1]=p,this.int16[X+2]=x,this.int16[X+3]=b,this.int16[X+4]=S,this.int16[X+5]=C,this.uint32[re+3]=D,this.uint16[X+8]=H,this.uint16[X+9]=q,o}}$s.prototype.bytesPerElement=20,Tt("StructArrayLayout6i1ul2ui20",$s);class Fo extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,S){const C=this.length;return this.resize(C+1),this.emplace(C,o,c,p,x,b,S)}emplace(o,c,p,x,b,S,C){const D=6*o;return this.int16[D+0]=c,this.int16[D+1]=p,this.int16[D+2]=x,this.int16[D+3]=b,this.int16[D+4]=S,this.int16[D+5]=C,o}}Fo.prototype.bytesPerElement=12,Tt("StructArrayLayout2i2i2i12",Fo);class Ml extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b){const S=this.length;return this.resize(S+1),this.emplace(S,o,c,p,x,b)}emplace(o,c,p,x,b,S){const C=4*o,D=8*o;return this.float32[C+0]=c,this.float32[C+1]=p,this.float32[C+2]=x,this.int16[D+6]=b,this.int16[D+7]=S,o}}Ml.prototype.bytesPerElement=16,Tt("StructArrayLayout2f1f2i16",Ml);class Vc extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p,x){const b=this.length;return this.resize(b+1),this.emplace(b,o,c,p,x)}emplace(o,c,p,x,b){const S=12*o,C=3*o;return this.uint8[S+0]=c,this.uint8[S+1]=p,this.float32[C+1]=x,this.float32[C+2]=b,o}}Vc.prototype.bytesPerElement=12,Tt("StructArrayLayout2ub2f12",Vc);class bu extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p){const x=this.length;return this.resize(x+1),this.emplace(x,o,c,p)}emplace(o,c,p,x){const b=3*o;return this.uint16[b+0]=c,this.uint16[b+1]=p,this.uint16[b+2]=x,o}}bu.prototype.bytesPerElement=6,Tt("StructArrayLayout3ui6",bu);class Hc extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,S,C,D,H,q,X,re,ie,ae,be,_e,Me){const He=this.length;return this.resize(He+1),this.emplace(He,o,c,p,x,b,S,C,D,H,q,X,re,ie,ae,be,_e,Me)}emplace(o,c,p,x,b,S,C,D,H,q,X,re,ie,ae,be,_e,Me,He){const Ce=24*o,Ve=12*o,ut=48*o;return this.int16[Ce+0]=c,this.int16[Ce+1]=p,this.uint16[Ce+2]=x,this.uint16[Ce+3]=b,this.uint32[Ve+2]=S,this.uint32[Ve+3]=C,this.uint32[Ve+4]=D,this.uint16[Ce+10]=H,this.uint16[Ce+11]=q,this.uint16[Ce+12]=X,this.float32[Ve+7]=re,this.float32[Ve+8]=ie,this.uint8[ut+36]=ae,this.uint8[ut+37]=be,this.uint8[ut+38]=_e,this.uint32[Ve+10]=Me,this.int16[Ce+22]=He,o}}Hc.prototype.bytesPerElement=48,Tt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Hc);class ua extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,S,C,D,H,q,X,re,ie,ae,be,_e,Me,He,Ce,Ve,ut,at,Nt,Ut,It,Et,bt,At){const St=this.length;return this.resize(St+1),this.emplace(St,o,c,p,x,b,S,C,D,H,q,X,re,ie,ae,be,_e,Me,He,Ce,Ve,ut,at,Nt,Ut,It,Et,bt,At)}emplace(o,c,p,x,b,S,C,D,H,q,X,re,ie,ae,be,_e,Me,He,Ce,Ve,ut,at,Nt,Ut,It,Et,bt,At,St){const gt=34*o,Kt=17*o;return this.int16[gt+0]=c,this.int16[gt+1]=p,this.int16[gt+2]=x,this.int16[gt+3]=b,this.int16[gt+4]=S,this.int16[gt+5]=C,this.int16[gt+6]=D,this.int16[gt+7]=H,this.uint16[gt+8]=q,this.uint16[gt+9]=X,this.uint16[gt+10]=re,this.uint16[gt+11]=ie,this.uint16[gt+12]=ae,this.uint16[gt+13]=be,this.uint16[gt+14]=_e,this.uint16[gt+15]=Me,this.uint16[gt+16]=He,this.uint16[gt+17]=Ce,this.uint16[gt+18]=Ve,this.uint16[gt+19]=ut,this.uint16[gt+20]=at,this.uint16[gt+21]=Nt,this.uint16[gt+22]=Ut,this.uint32[Kt+12]=It,this.float32[Kt+13]=Et,this.float32[Kt+14]=bt,this.float32[Kt+15]=At,this.float32[Kt+16]=St,o}}ua.prototype.bytesPerElement=68,Tt("StructArrayLayout8i15ui1ul4f68",ua);class wu extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.float32[1*o+0]=c,o}}wu.prototype.bytesPerElement=4,Tt("StructArrayLayout1f4",wu);class Eu extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p){const x=this.length;return this.resize(x+1),this.emplace(x,o,c,p)}emplace(o,c,p,x){const b=4*o;return this.uint32[2*o+0]=c,this.uint16[b+2]=p,this.uint16[b+3]=x,o}}Eu.prototype.bytesPerElement=8,Tt("StructArrayLayout1ul2ui8",Eu);class Tr extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c){const p=this.length;return this.resize(p+1),this.emplace(p,o,c)}emplace(o,c,p){const x=2*o;return this.uint16[x+0]=c,this.uint16[x+1]=p,o}}Tr.prototype.bytesPerElement=4,Tt("StructArrayLayout2ui4",Tr);class cs extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.uint16[1*o+0]=c,o}}cs.prototype.bytesPerElement=2,Tt("StructArrayLayout1ui2",cs);class jc extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p,x){const b=this.length;return this.resize(b+1),this.emplace(b,o,c,p,x)}emplace(o,c,p,x,b){const S=4*o;return this.float32[S+0]=c,this.float32[S+1]=p,this.float32[S+2]=x,this.float32[S+3]=b,o}}jc.prototype.bytesPerElement=16,Tt("StructArrayLayout4f16",jc);class Bh extends g{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Ye(this.anchorPointX,this.anchorPointY)}}Bh.prototype.size=20;class $c extends $s{get(o){return new Bh(this,o)}}Tt("CollisionBoxArray",$c);class Gs extends g{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(o){this._structArray.uint8[this._pos1+37]=o}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(o){this._structArray.uint8[this._pos1+38]=o}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(o){this._structArray.uint32[this._pos4+10]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Gs.prototype.size=48;class Su extends Hc{get(o){return new Gs(this,o)}}Tt("PlacedSymbolArray",Su);class Tu extends g{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(o){this._structArray.uint32[this._pos4+12]=o}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Tu.prototype.size=68;class Om extends ua{get(o){return new Tu(this,o)}}Tt("SymbolInstanceArray",Om);class Dl extends wu{getoffsetX(o){return this.float32[1*o+0]}}Tt("GlyphOffsetArray",Dl);class Gc extends Te{getx(o){return this.int16[3*o+0]}gety(o){return this.int16[3*o+1]}gettileUnitDistanceFromAnchor(o){return this.int16[3*o+2]}}Tt("SymbolLineVertexArray",Gc);class Iu extends g{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Iu.prototype.size=8;class Cm extends Eu{get(o){return new Iu(this,o)}}Tt("FeatureIndexArray",Cm);class mf extends oe{}class qc extends oe{}class F_ extends oe{}class U_ extends Ke{}class Rm extends dt{}class V_ extends Pt{}class qs extends on{}class v extends Tn{}class a extends ci{}class d extends Bo{}class m extends Fo{}class _ extends Vc{}class E extends bu{}class P extends Tr{}const M=k([{name:"a_pos",components:2,type:"Int16"}],4),{members:N}=M;class U{constructor(o=[]){this.segments=o}prepareSegment(o,c,p,x){let b=this.segments[this.segments.length-1];return o>U.MAX_VERTEX_ARRAY_LENGTH&&Q(`Max vertices per segment is ${U.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!b||b.vertexLength+o>U.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==x)&&(b={vertexOffset:c.length,primitiveOffset:p.length,vertexLength:0,primitiveLength:0},x!==void 0&&(b.sortKey=x),this.segments.push(b)),b}get(){return this.segments}destroy(){for(const o of this.segments)for(const c in o.vaos)o.vaos[c].destroy()}static simpleSegment(o,c,p,x){return new U([{vertexOffset:o,primitiveOffset:c,vertexLength:p,primitiveLength:x,vaos:{},sortKey:0}])}}function K(l,o){return 256*(l=R(Math.floor(l),0,255))+R(Math.floor(o),0,255)}U.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Tt("SegmentVector",U);const W=k([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ne={},fe={get exports(){return ne},set exports(l){ne=l}},pe={};({get exports(){return pe},set exports(l){pe=l}}).exports=function(l,o){var c,p,x,b,S,C,D,H;for(p=l.length-(c=3&l.length),x=o,S=3432918353,C=461845907,H=0;H<p;)D=255&l.charCodeAt(H)|(255&l.charCodeAt(++H))<<8|(255&l.charCodeAt(++H))<<16|(255&l.charCodeAt(++H))<<24,++H,x=27492+(65535&(b=5*(65535&(x=(x^=D=(65535&(D=(D=(65535&D)*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*C+(((D>>>16)*C&65535)<<16)&4294967295)<<13|x>>>19))+((5*(x>>>16)&65535)<<16)&4294967295))+((58964+(b>>>16)&65535)<<16);switch(D=0,c){case 3:D^=(255&l.charCodeAt(H+2))<<16;case 2:D^=(255&l.charCodeAt(H+1))<<8;case 1:x^=D=(65535&(D=(D=(65535&(D^=255&l.charCodeAt(H)))*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*C+(((D>>>16)*C&65535)<<16)&4294967295}return x^=l.length,x=2246822507*(65535&(x^=x>>>16))+((2246822507*(x>>>16)&65535)<<16)&4294967295,x=3266489909*(65535&(x^=x>>>13))+((3266489909*(x>>>16)&65535)<<16)&4294967295,(x^=x>>>16)>>>0};var de={};({get exports(){return de},set exports(l){de=l}}).exports=function(l,o){for(var c,p=l.length,x=o^p,b=0;p>=4;)c=1540483477*(65535&(c=255&l.charCodeAt(b)|(255&l.charCodeAt(++b))<<8|(255&l.charCodeAt(++b))<<16|(255&l.charCodeAt(++b))<<24))+((1540483477*(c>>>16)&65535)<<16),x=1540483477*(65535&x)+((1540483477*(x>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),p-=4,++b;switch(p){case 3:x^=(255&l.charCodeAt(b+2))<<16;case 2:x^=(255&l.charCodeAt(b+1))<<8;case 1:x=1540483477*(65535&(x^=255&l.charCodeAt(b)))+((1540483477*(x>>>16)&65535)<<16)}return x=1540483477*(65535&(x^=x>>>13))+((1540483477*(x>>>16)&65535)<<16),(x^=x>>>15)>>>0};var we=pe,Re=de;fe.exports=we,ne.murmur3=we,ne.murmur2=Re;class Oe{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,c,p,x){this.ids.push(ye(o)),this.positions.push(c,p,x)}getPositions(o){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=ye(o);let p=0,x=this.ids.length-1;for(;p<x;){const S=p+x>>1;this.ids[S]>=c?x=S:p=S+1}const b=[];for(;this.ids[p]===c;)b.push({index:this.positions[3*p],start:this.positions[3*p+1],end:this.positions[3*p+2]}),p++;return b}static serialize(o,c){const p=new Float64Array(o.ids),x=new Uint32Array(o.positions);return Ne(p,x,0,p.length-1),c&&c.push(p.buffer,x.buffer),{ids:p,positions:x}}static deserialize(o){const c=new Oe;return c.ids=o.ids,c.positions=o.positions,c.indexed=!0,c}}function ye(l){const o=+l;return!isNaN(o)&&o<=Number.MAX_SAFE_INTEGER?o:ne(String(l))}function Ne(l,o,c,p){for(;c<p;){const x=l[c+p>>1];let b=c-1,S=p+1;for(;;){do b++;while(l[b]<x);do S--;while(l[S]>x);if(b>=S)break;je(l,b,S),je(o,3*b,3*S),je(o,3*b+1,3*S+1),je(o,3*b+2,3*S+2)}S-c<p-S?(Ne(l,o,c,S),c=S+1):(Ne(l,o,S+1,p),p=S)}}function je(l,o,c){const p=l[o];l[o]=l[c],l[c]=p}Tt("FeaturePositionMap",Oe);class Ze{constructor(o,c){this.gl=o.gl,this.location=c}}class nt extends Ze{constructor(o,c){super(o,c),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))}}class ot extends Ze{constructor(o,c){super(o,c),this.current=[0,0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))}}class ft extends Ze{constructor(o,c){super(o,c),this.current=Gt.transparent}set(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))}}const ct=new Float32Array(16);function yt(l){return[K(255*l.r,255*l.g),K(255*l.b,255*l.a)]}class kt{constructor(o,c,p){this.value=o,this.uniformNames=c.map(x=>`u_${x}`),this.type=p}setUniform(o,c,p){o.set(p.constantOr(this.value))}getBinding(o,c,p){return this.type==="color"?new ft(o,c):new nt(o,c)}}class tn{constructor(o,c){this.uniformNames=c.map(p=>`u_${p}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(o,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=o.tlbr}setUniform(o,c,p,x){const b=x==="u_pattern_to"?this.patternTo:x==="u_pattern_from"?this.patternFrom:x==="u_pixel_ratio_to"?this.pixelRatioTo:x==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&o.set(b)}getBinding(o,c,p){return p.substr(0,9)==="u_pattern"?new ot(o,c):new nt(o,c)}}class an{constructor(o,c,p,x){this.expression=o,this.type=p,this.maxValue=0,this.paintVertexAttributes=c.map(b=>({name:`a_${b}`,type:"Float32",components:p==="color"?2:1,offset:0})),this.paintVertexArray=new x}populatePaintArray(o,c,p,x,b){const S=this.paintVertexArray.length,C=this.expression.evaluate(new tr(0),c,{},x,[],b);this.paintVertexArray.resize(o),this._setPaintValue(S,o,C)}updatePaintArray(o,c,p,x){const b=this.expression.evaluate({zoom:0},p,x);this._setPaintValue(o,c,b)}_setPaintValue(o,c,p){if(this.type==="color"){const x=yt(p);for(let b=o;b<c;b++)this.paintVertexArray.emplace(b,x[0],x[1])}else{for(let x=o;x<c;x++)this.paintVertexArray.emplace(x,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Dt{constructor(o,c,p,x,b,S){this.expression=o,this.uniformNames=c.map(C=>`u_${C}_t`),this.type=p,this.useIntegerZoom=x,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=c.map(C=>({name:`a_${C}`,type:"Float32",components:p==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(o,c,p,x,b){const S=this.expression.evaluate(new tr(this.zoom),c,{},x,[],b),C=this.expression.evaluate(new tr(this.zoom+1),c,{},x,[],b),D=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(D,o,S,C)}updatePaintArray(o,c,p,x){const b=this.expression.evaluate({zoom:this.zoom},p,x),S=this.expression.evaluate({zoom:this.zoom+1},p,x);this._setPaintValue(o,c,b,S)}_setPaintValue(o,c,p,x){if(this.type==="color"){const b=yt(p),S=yt(x);for(let C=o;C<c;C++)this.paintVertexArray.emplace(C,b[0],b[1],S[0],S[1])}else{for(let b=o;b<c;b++)this.paintVertexArray.emplace(b,p,x);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(x))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,c){const p=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,x=R(this.expression.interpolationFactor(p,this.zoom,this.zoom+1),0,1);o.set(x)}getBinding(o,c,p){return new nt(o,c)}}class $n{constructor(o,c,p,x,b,S){this.expression=o,this.type=c,this.useIntegerZoom=p,this.zoom=x,this.layerId=S,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b}populatePaintArray(o,c,p){const x=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(x,o,c.patterns&&c.patterns[this.layerId],p)}updatePaintArray(o,c,p,x,b){this._setPaintValues(o,c,p.patterns&&p.patterns[this.layerId],b)}_setPaintValues(o,c,p,x){if(!x||!p)return;const{min:b,mid:S,max:C}=p,D=x[b],H=x[S],q=x[C];if(D&&H&&q)for(let X=o;X<c;X++)this.zoomInPaintVertexArray.emplace(X,H.tl[0],H.tl[1],H.br[0],H.br[1],D.tl[0],D.tl[1],D.br[0],D.br[1],H.pixelRatio,D.pixelRatio),this.zoomOutPaintVertexArray.emplace(X,H.tl[0],H.tl[1],H.br[0],H.br[1],q.tl[0],q.tl[1],q.br[0],q.br[1],H.pixelRatio,q.pixelRatio)}upload(o){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,W.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,W.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Gn{constructor(o,c,p){this.binders={},this._buffers=[];const x=[];for(const b in o.paint._values){if(!p(b))continue;const S=o.paint.get(b);if(!(S instanceof mo&&Ds(S.property.specification)))continue;const C=Nn(b,o.type),D=S.value,H=S.property.specification.type,q=S.property.useIntegerZoom,X=S.property.specification["property-type"],re=X==="cross-faded"||X==="cross-faded-data-driven";if(D.kind==="constant")this.binders[b]=re?new tn(D.value,C):new kt(D.value,C,H),x.push(`/u_${b}`);else if(D.kind==="source"||re){const ie=nr(b,H,"source");this.binders[b]=re?new $n(D,H,q,c,ie,o.id):new an(D,C,H,ie),x.push(`/a_${b}`)}else{const ie=nr(b,H,"composite");this.binders[b]=new Dt(D,C,H,q,c,ie),x.push(`/z_${b}`)}}this.cacheKey=x.sort().join("")}getMaxValue(o){const c=this.binders[o];return c instanceof an||c instanceof Dt?c.maxValue:0}populatePaintArrays(o,c,p,x,b){for(const S in this.binders){const C=this.binders[S];(C instanceof an||C instanceof Dt||C instanceof $n)&&C.populatePaintArray(o,c,p,x,b)}}setConstantPatternPositions(o,c){for(const p in this.binders){const x=this.binders[p];x instanceof tn&&x.setConstantPatternPositions(o,c)}}updatePaintArrays(o,c,p,x,b){let S=!1;for(const C in o){const D=c.getPositions(C);for(const H of D){const q=p.feature(H.index);for(const X in this.binders){const re=this.binders[X];if((re instanceof an||re instanceof Dt||re instanceof $n)&&re.expression.isStateDependent===!0){const ie=x.paint.get(X);re.expression=ie.value,re.updatePaintArray(H.start,H.end,q,o[C],b),S=!0}}}}return S}defines(){const o=[];for(const c in this.binders){const p=this.binders[c];(p instanceof kt||p instanceof tn)&&o.push(...p.uniformNames.map(x=>`#define HAS_UNIFORM_${x}`))}return o}getBinderAttributes(){const o=[];for(const c in this.binders){const p=this.binders[c];if(p instanceof an||p instanceof Dt)for(let x=0;x<p.paintVertexAttributes.length;x++)o.push(p.paintVertexAttributes[x].name);else if(p instanceof $n)for(let x=0;x<W.members.length;x++)o.push(W.members[x].name)}return o}getBinderUniforms(){const o=[];for(const c in this.binders){const p=this.binders[c];if(p instanceof kt||p instanceof tn||p instanceof Dt)for(const x of p.uniformNames)o.push(x)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o,c){const p=[];for(const x in this.binders){const b=this.binders[x];if(b instanceof kt||b instanceof tn||b instanceof Dt){for(const S of b.uniformNames)if(c[S]){const C=b.getBinding(o,c[S],S);p.push({name:S,property:x,binding:C})}}}return p}setUniforms(o,c,p,x){for(const{name:b,property:S,binding:C}of c)this.binders[S].setUniform(C,x,p.get(S),b)}updatePaintBuffers(o){this._buffers=[];for(const c in this.binders){const p=this.binders[c];if(o&&p instanceof $n){const x=o.fromScale===2?p.zoomInPaintVertexBuffer:p.zoomOutPaintVertexBuffer;x&&this._buffers.push(x)}else(p instanceof an||p instanceof Dt)&&p.paintVertexBuffer&&this._buffers.push(p.paintVertexBuffer)}}upload(o){for(const c in this.binders){const p=this.binders[c];(p instanceof an||p instanceof Dt||p instanceof $n)&&p.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const c=this.binders[o];(c instanceof an||c instanceof Dt||c instanceof $n)&&c.destroy()}}}class _n{constructor(o,c,p=()=>!0){this.programConfigurations={};for(const x of o)this.programConfigurations[x.id]=new Gn(x,c,p);this.needsUpload=!1,this._featureMap=new Oe,this._bufferOffset=0}populatePaintArrays(o,c,p,x,b,S){for(const C in this.programConfigurations)this.programConfigurations[C].populatePaintArrays(o,c,x,b,S);c.id!==void 0&&this._featureMap.add(c.id,p,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,c,p,x){for(const b of p)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(o,this._featureMap,c,b,x)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}function Nn(l,o){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${o}-`,"").replace(/-/g,"_")]}function nr(l,o,c){const p={color:{source:Pt,composite:jc},number:{source:wu,composite:Pt}},x=function(b){return{"line-pattern":{source:qs,composite:qs},"fill-pattern":{source:qs,composite:qs},"fill-extrusion-pattern":{source:qs,composite:qs}}[b]}(l);return x&&x[c]||p[o][c]}Tt("ConstantBinder",kt),Tt("CrossFadedConstantBinder",tn),Tt("SourceExpressionBinder",an),Tt("CrossFadedCompositeBinder",$n),Tt("CompositeExpressionBinder",Dt),Tt("ProgramConfiguration",Gn,{omit:["_buffers"]}),Tt("ProgramConfigurationSet",_n);var qn=8192;const Uo=Math.pow(2,14)-1,Vo=-Uo-1;function yi(l){const o=qn/l.extent,c=l.loadGeometry();for(let p=0;p<c.length;p++){const x=c[p];for(let b=0;b<x.length;b++){const S=x[b],C=Math.round(S.x*o),D=Math.round(S.y*o);S.x=R(C,Vo,Uo),S.y=R(D,Vo,Uo),(C<S.x||C>S.x+1||D<S.y||D>S.y+1)&&Q("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function vo(l,o){return{type:l.type,id:l.id,properties:l.properties,geometry:o?yi(l):[]}}function Oi(l,o,c,p,x){l.emplaceBack(2*o+(p+1)/2,2*c+(x+1)/2)}class ca{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(c=>c.id),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new qc,this.indexArray=new E,this.segments=new U,this.programConfigurations=new _n(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(o,c,p){const x=this.layers[0],b=[];let S=null,C=!1;x.type==="circle"&&(S=x.layout.get("circle-sort-key"),C=!S.isConstant());for(const{feature:D,id:H,index:q,sourceLayerIndex:X}of o){const re=this.layers[0]._featureFilter.needGeometry,ie=vo(D,re);if(!this.layers[0]._featureFilter.filter(new tr(this.zoom),ie,p))continue;const ae=C?S.evaluate(ie,{},p):void 0,be={id:H,properties:D.properties,type:D.type,sourceLayerIndex:X,index:q,geometry:re?ie.geometry:yi(D),patterns:{},sortKey:ae};b.push(be)}C&&b.sort((D,H)=>D.sortKey-H.sortKey);for(const D of b){const{geometry:H,index:q,sourceLayerIndex:X}=D,re=o[q].feature;this.addFeature(D,H,q,p),c.featureIndex.insert(re,H,q,X,this.index)}}update(o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,N),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,c,p,x){for(const b of c)for(const S of b){const C=S.x,D=S.y;if(C<0||C>=qn||D<0||D>=qn)continue;const H=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),q=H.vertexLength;Oi(this.layoutVertexArray,C,D,-1,-1),Oi(this.layoutVertexArray,C,D,1,-1),Oi(this.layoutVertexArray,C,D,1,1),Oi(this.layoutVertexArray,C,D,-1,1),this.indexArray.emplaceBack(q,q+1,q+2),this.indexArray.emplaceBack(q,q+3,q+2),H.vertexLength+=4,H.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,{},x)}}function Ws(l,o){for(let c=0;c<l.length;c++)if(ha(o,l[c]))return!0;for(let c=0;c<o.length;c++)if(ha(l,o[c]))return!0;return!!Wn(l,o)}function Fh(l,o,c){return!!ha(l,o)||!!Ri(o,l,c)}function $r(l,o){if(l.length===1)return Da(o,l[0]);for(let c=0;c<o.length;c++){const p=o[c];for(let x=0;x<p.length;x++)if(ha(l,p[x]))return!0}for(let c=0;c<l.length;c++)if(Da(o,l[c]))return!0;for(let c=0;c<o.length;c++)if(Wn(l,o[c]))return!0;return!1}function br(l,o,c){if(l.length>1){if(Wn(l,o))return!0;for(let p=0;p<o.length;p++)if(Ri(o[p],l,c))return!0}for(let p=0;p<l.length;p++)if(Ri(l[p],o,c))return!0;return!1}function Wn(l,o){if(l.length===0||o.length===0)return!1;for(let c=0;c<l.length-1;c++){const p=l[c],x=l[c+1];for(let b=0;b<o.length-1;b++)if(Ci(p,x,o[b],o[b+1]))return!0}return!1}function Ci(l,o,c,p){return J(l,c,p)!==J(o,c,p)&&J(l,o,c)!==J(l,o,p)}function Ri(l,o,c){const p=c*c;if(o.length===1)return l.distSqr(o[0])<p;for(let x=1;x<o.length;x++)if(wr(l,o[x-1],o[x])<p)return!0;return!1}function wr(l,o,c){const p=o.distSqr(c);if(p===0)return l.distSqr(o);const x=((l.x-o.x)*(c.x-o.x)+(l.y-o.y)*(c.y-o.y))/p;return l.distSqr(x<0?o:x>1?c:c.sub(o)._mult(x)._add(o))}function Da(l,o){let c,p,x,b=!1;for(let S=0;S<l.length;S++){c=l[S];for(let C=0,D=c.length-1;C<c.length;D=C++)p=c[C],x=c[D],p.y>o.y!=x.y>o.y&&o.x<(x.x-p.x)*(o.y-p.y)/(x.y-p.y)+p.x&&(b=!b)}return b}function ha(l,o){let c=!1;for(let p=0,x=l.length-1;p<l.length;x=p++){const b=l[p],S=l[x];b.y>o.y!=S.y>o.y&&o.x<(S.x-b.x)*(o.y-b.y)/(S.y-b.y)+b.x&&(c=!c)}return c}function gf(l,o,c){const p=c[0],x=c[2];if(l.x<p.x&&o.x<p.x||l.x>x.x&&o.x>x.x||l.y<p.y&&o.y<p.y||l.y>x.y&&o.y>x.y)return!1;const b=J(l,o,c[0]);return b!==J(l,o,c[1])||b!==J(l,o,c[2])||b!==J(l,o,c[3])}function Nl(l,o,c){const p=o.paint.get(l).value;return p.kind==="constant"?p.value:c.programConfigurations.get(o.id).getMaxValue(l)}function Uh(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function Vh(l,o,c,p,x){if(!o[0]&&!o[1])return l;const b=Ye.convert(o)._mult(x);c==="viewport"&&b._rotate(-p);const S=[];for(let C=0;C<l.length;C++)S.push(l[C].sub(b));return S}Tt("CircleBucket",ca,{omit:["layers"]});const Wc=new ui({"circle-sort-key":new Xt(ke.layout_circle["circle-sort-key"])});var H_={paint:new ui({"circle-radius":new Xt(ke.paint_circle["circle-radius"]),"circle-color":new Xt(ke.paint_circle["circle-color"]),"circle-blur":new Xt(ke.paint_circle["circle-blur"]),"circle-opacity":new Xt(ke.paint_circle["circle-opacity"]),"circle-translate":new zt(ke.paint_circle["circle-translate"]),"circle-translate-anchor":new zt(ke.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new zt(ke.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new zt(ke.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Xt(ke.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Xt(ke.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Xt(ke.paint_circle["circle-stroke-opacity"])}),layout:Wc},Jr=1e-6,Zs=typeof Float32Array<"u"?Float32Array:Array;function j_(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function bE(l,o,c){var p=o[0],x=o[1],b=o[2],S=o[3],C=o[4],D=o[5],H=o[6],q=o[7],X=o[8],re=o[9],ie=o[10],ae=o[11],be=o[12],_e=o[13],Me=o[14],He=o[15],Ce=c[0],Ve=c[1],ut=c[2],at=c[3];return l[0]=Ce*p+Ve*C+ut*X+at*be,l[1]=Ce*x+Ve*D+ut*re+at*_e,l[2]=Ce*b+Ve*H+ut*ie+at*Me,l[3]=Ce*S+Ve*q+ut*ae+at*He,l[4]=(Ce=c[4])*p+(Ve=c[5])*C+(ut=c[6])*X+(at=c[7])*be,l[5]=Ce*x+Ve*D+ut*re+at*_e,l[6]=Ce*b+Ve*H+ut*ie+at*Me,l[7]=Ce*S+Ve*q+ut*ae+at*He,l[8]=(Ce=c[8])*p+(Ve=c[9])*C+(ut=c[10])*X+(at=c[11])*be,l[9]=Ce*x+Ve*D+ut*re+at*_e,l[10]=Ce*b+Ve*H+ut*ie+at*Me,l[11]=Ce*S+Ve*q+ut*ae+at*He,l[12]=(Ce=c[12])*p+(Ve=c[13])*C+(ut=c[14])*X+(at=c[15])*be,l[13]=Ce*x+Ve*D+ut*re+at*_e,l[14]=Ce*b+Ve*H+ut*ie+at*Me,l[15]=Ce*S+Ve*q+ut*ae+at*He,l}Math.hypot||(Math.hypot=function(){for(var l=0,o=arguments.length;o--;)l+=arguments[o]*arguments[o];return Math.sqrt(l)});var vf,qM=bE;function km(l,o,c){var p=o[0],x=o[1],b=o[2],S=o[3];return l[0]=c[0]*p+c[4]*x+c[8]*b+c[12]*S,l[1]=c[1]*p+c[5]*x+c[9]*b+c[13]*S,l[2]=c[2]*p+c[6]*x+c[10]*b+c[14]*S,l[3]=c[3]*p+c[7]*x+c[11]*b+c[15]*S,l}function wE(l,o){const c=km([],[l.x,l.y,0,1],o);return new Ye(c[0]/c[3],c[1]/c[3])}vf=new Zs(4),Zs!=Float32Array&&(vf[0]=0,vf[1]=0,vf[2]=0,vf[3]=0);class EE extends ca{}Tt("HeatmapBucket",EE,{omit:["layers"]});var WM={paint:new ui({"heatmap-radius":new Xt(ke.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Xt(ke.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new zt(ke.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Uc(ke.paint_heatmap["heatmap-color"]),"heatmap-opacity":new zt(ke.paint_heatmap["heatmap-opacity"])})};function $_(l,{width:o,height:c},p,x){if(x){if(x instanceof Uint8ClampedArray)x=new Uint8Array(x.buffer);else if(x.length!==o*c*p)throw new RangeError(`mismatched image size. expected: ${x.length} but got: ${o*c*p}`)}else x=new Uint8Array(o*c*p);return l.width=o,l.height=c,l.data=x,l}function SE(l,{width:o,height:c},p){if(o===l.width&&c===l.height)return;const x=$_({},{width:o,height:c},p);G_(l,x,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,o),height:Math.min(l.height,c)},p),l.width=o,l.height=c,l.data=x.data}function G_(l,o,c,p,x,b){if(x.width===0||x.height===0)return o;if(x.width>l.width||x.height>l.height||c.x>l.width-x.width||c.y>l.height-x.height)throw new RangeError("out of range source coordinates for image copy");if(x.width>o.width||x.height>o.height||p.x>o.width-x.width||p.y>o.height-x.height)throw new RangeError("out of range destination coordinates for image copy");const S=l.data,C=o.data;if(S===C)throw new Error("srcData equals dstData, so image is already copied");for(let D=0;D<x.height;D++){const H=((c.y+D)*l.width+c.x)*b,q=((p.y+D)*o.width+p.x)*b;for(let X=0;X<x.width*b;X++)C[q+X]=S[H+X]}return o}class yf{constructor(o,c){$_(this,o,1,c)}resize(o){SE(this,o,1)}clone(){return new yf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,c,p,x,b){G_(o,c,p,x,b,1)}}class da{constructor(o,c){$_(this,o,4,c)}resize(o){SE(this,o,4)}replace(o,c){c?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new da({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,c,p,x,b){G_(o,c,p,x,b,4)}}function TE(l){const o={},c=l.resolution||256,p=l.clips?l.clips.length:1,x=l.image||new da({width:c,height:p});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const b=(S,C,D)=>{o[l.evaluationKey]=D;const H=l.expression.evaluate(o);x.data[S+C+0]=Math.floor(255*H.r/H.a),x.data[S+C+1]=Math.floor(255*H.g/H.a),x.data[S+C+2]=Math.floor(255*H.b/H.a),x.data[S+C+3]=Math.floor(255*H.a)};if(l.clips)for(let S=0,C=0;S<p;++S,C+=4*c)for(let D=0,H=0;D<c;D++,H+=4){const q=D/(c-1),{start:X,end:re}=l.clips[S];b(C,H,X*(1-q)+re*q)}else for(let S=0,C=0;S<c;S++,C+=4)b(0,C,S/(c-1));return x}Tt("AlphaImage",yf),Tt("RGBAImage",da);var ZM={paint:new ui({"hillshade-illumination-direction":new zt(ke.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new zt(ke.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new zt(ke.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new zt(ke.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new zt(ke.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new zt(ke.paint_hillshade["hillshade-accent-color"])})};const KM=k([{name:"a_pos",components:2,type:"Int16"}],4),{members:XM}=KM;var _f={};function Lm(l,o,c){c=c||2;var p,x,b,S,C,D,H,q=o&&o.length,X=q?o[0]*c:l.length,re=IE(l,0,X,c,!0),ie=[];if(!re||re.next===re.prev)return ie;if(q&&(re=function(be,_e,Me,He){var Ce,Ve,ut,at=[];for(Ce=0,Ve=_e.length;Ce<Ve;Ce++)(ut=IE(be,_e[Ce]*He,Ce<Ve-1?_e[Ce+1]*He:be.length,He,!1))===ut.next&&(ut.steiner=!0),at.push(iD(ut));for(at.sort(tD),Ce=0;Ce<at.length;Ce++)Me=nD(at[Ce],Me);return Me}(l,o,re,c)),l.length>80*c){p=b=l[0],x=S=l[1];for(var ae=c;ae<X;ae+=c)(C=l[ae])<p&&(p=C),(D=l[ae+1])<x&&(x=D),C>b&&(b=C),D>S&&(S=D);H=(H=Math.max(b-p,S-x))!==0?32767/H:0}return xf(re,ie,c,p,x,H,0),ie}function IE(l,o,c,p,x){var b,S;if(x===Z_(l,o,c,p)>0)for(b=o;b<c;b+=p)S=OE(b,l[b],l[b+1],S);else for(b=c-p;b>=o;b-=p)S=OE(b,l[b],l[b+1],S);return S&&Mm(S,S.next)&&(wf(S),S=S.next),S}function Zc(l,o){if(!l)return l;o||(o=l);var c,p=l;do if(c=!1,p.steiner||!Mm(p,p.next)&&zr(p.prev,p,p.next)!==0)p=p.next;else{if(wf(p),(p=o=p.prev)===p.next)break;c=!0}while(c||p!==o);return o}function xf(l,o,c,p,x,b,S){if(l){!S&&b&&function(q,X,re,ie){var ae=q;do ae.z===0&&(ae.z=q_(ae.x,ae.y,X,re,ie)),ae.prevZ=ae.prev,ae.nextZ=ae.next,ae=ae.next;while(ae!==q);ae.prevZ.nextZ=null,ae.prevZ=null,function(be){var _e,Me,He,Ce,Ve,ut,at,Nt,Ut=1;do{for(Me=be,be=null,Ve=null,ut=0;Me;){for(ut++,He=Me,at=0,_e=0;_e<Ut&&(at++,He=He.nextZ);_e++);for(Nt=Ut;at>0||Nt>0&&He;)at!==0&&(Nt===0||!He||Me.z<=He.z)?(Ce=Me,Me=Me.nextZ,at--):(Ce=He,He=He.nextZ,Nt--),Ve?Ve.nextZ=Ce:be=Ce,Ce.prevZ=Ve,Ve=Ce;Me=He}Ve.nextZ=null,Ut*=2}while(ut>1)}(ae)}(l,p,x,b);for(var C,D,H=l;l.prev!==l.next;)if(C=l.prev,D=l.next,b?JM(l,p,x,b):YM(l))o.push(C.i/c|0),o.push(l.i/c|0),o.push(D.i/c|0),wf(l),l=D.next,H=D.next;else if((l=D)===H){S?S===1?xf(l=QM(Zc(l),o,c),o,c,p,x,b,2):S===2&&eD(l,o,c,p,x,b):xf(Zc(l),o,c,p,x,b,1);break}}}function YM(l){var o=l.prev,c=l,p=l.next;if(zr(o,c,p)>=0)return!1;for(var x=o.x,b=c.x,S=p.x,C=o.y,D=c.y,H=p.y,q=x<b?x<S?x:S:b<S?b:S,X=C<D?C<H?C:H:D<H?D:H,re=x>b?x>S?x:S:b>S?b:S,ie=C>D?C>H?C:H:D>H?D:H,ae=p.next;ae!==o;){if(ae.x>=q&&ae.x<=re&&ae.y>=X&&ae.y<=ie&&Hh(x,C,b,D,S,H,ae.x,ae.y)&&zr(ae.prev,ae,ae.next)>=0)return!1;ae=ae.next}return!0}function JM(l,o,c,p){var x=l.prev,b=l,S=l.next;if(zr(x,b,S)>=0)return!1;for(var C=x.x,D=b.x,H=S.x,q=x.y,X=b.y,re=S.y,ie=C<D?C<H?C:H:D<H?D:H,ae=q<X?q<re?q:re:X<re?X:re,be=C>D?C>H?C:H:D>H?D:H,_e=q>X?q>re?q:re:X>re?X:re,Me=q_(ie,ae,o,c,p),He=q_(be,_e,o,c,p),Ce=l.prevZ,Ve=l.nextZ;Ce&&Ce.z>=Me&&Ve&&Ve.z<=He;){if(Ce.x>=ie&&Ce.x<=be&&Ce.y>=ae&&Ce.y<=_e&&Ce!==x&&Ce!==S&&Hh(C,q,D,X,H,re,Ce.x,Ce.y)&&zr(Ce.prev,Ce,Ce.next)>=0||(Ce=Ce.prevZ,Ve.x>=ie&&Ve.x<=be&&Ve.y>=ae&&Ve.y<=_e&&Ve!==x&&Ve!==S&&Hh(C,q,D,X,H,re,Ve.x,Ve.y)&&zr(Ve.prev,Ve,Ve.next)>=0))return!1;Ve=Ve.nextZ}for(;Ce&&Ce.z>=Me;){if(Ce.x>=ie&&Ce.x<=be&&Ce.y>=ae&&Ce.y<=_e&&Ce!==x&&Ce!==S&&Hh(C,q,D,X,H,re,Ce.x,Ce.y)&&zr(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.prevZ}for(;Ve&&Ve.z<=He;){if(Ve.x>=ie&&Ve.x<=be&&Ve.y>=ae&&Ve.y<=_e&&Ve!==x&&Ve!==S&&Hh(C,q,D,X,H,re,Ve.x,Ve.y)&&zr(Ve.prev,Ve,Ve.next)>=0)return!1;Ve=Ve.nextZ}return!0}function QM(l,o,c){var p=l;do{var x=p.prev,b=p.next.next;!Mm(x,b)&&AE(x,p,p.next,b)&&bf(x,b)&&bf(b,x)&&(o.push(x.i/c|0),o.push(p.i/c|0),o.push(b.i/c|0),wf(p),wf(p.next),p=l=b),p=p.next}while(p!==l);return Zc(p)}function eD(l,o,c,p,x,b){var S=l;do{for(var C=S.next.next;C!==S.prev;){if(S.i!==C.i&&oD(S,C)){var D=PE(S,C);return S=Zc(S,S.next),D=Zc(D,D.next),xf(S,o,c,p,x,b,0),void xf(D,o,c,p,x,b,0)}C=C.next}S=S.next}while(S!==l)}function tD(l,o){return l.x-o.x}function nD(l,o){var c=function(x,b){var S,C=b,D=x.x,H=x.y,q=-1/0;do{if(H<=C.y&&H>=C.next.y&&C.next.y!==C.y){var X=C.x+(H-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(X<=D&&X>q&&(q=X,S=C.x<C.next.x?C:C.next,X===D))return S}C=C.next}while(C!==b);if(!S)return null;var re,ie=S,ae=S.x,be=S.y,_e=1/0;C=S;do D>=C.x&&C.x>=ae&&D!==C.x&&Hh(H<be?D:q,H,ae,be,H<be?q:D,H,C.x,C.y)&&(re=Math.abs(H-C.y)/(D-C.x),bf(C,x)&&(re<_e||re===_e&&(C.x>S.x||C.x===S.x&&rD(S,C)))&&(S=C,_e=re)),C=C.next;while(C!==ie);return S}(l,o);if(!c)return o;var p=PE(c,l);return Zc(p,p.next),Zc(c,c.next)}function rD(l,o){return zr(l.prev,l,o.prev)<0&&zr(o.next,l,l.next)<0}function q_(l,o,c,p,x){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-c)*x|0)|l<<8))|l<<4))|l<<2))|l<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-p)*x|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function iD(l){var o=l,c=l;do(o.x<c.x||o.x===c.x&&o.y<c.y)&&(c=o),o=o.next;while(o!==l);return c}function Hh(l,o,c,p,x,b,S,C){return(x-S)*(o-C)>=(l-S)*(b-C)&&(l-S)*(p-C)>=(c-S)*(o-C)&&(c-S)*(b-C)>=(x-S)*(p-C)}function oD(l,o){return l.next.i!==o.i&&l.prev.i!==o.i&&!function(c,p){var x=c;do{if(x.i!==c.i&&x.next.i!==c.i&&x.i!==p.i&&x.next.i!==p.i&&AE(x,x.next,c,p))return!0;x=x.next}while(x!==c);return!1}(l,o)&&(bf(l,o)&&bf(o,l)&&function(c,p){var x=c,b=!1,S=(c.x+p.x)/2,C=(c.y+p.y)/2;do x.y>C!=x.next.y>C&&x.next.y!==x.y&&S<(x.next.x-x.x)*(C-x.y)/(x.next.y-x.y)+x.x&&(b=!b),x=x.next;while(x!==c);return b}(l,o)&&(zr(l.prev,l,o.prev)||zr(l,o.prev,o))||Mm(l,o)&&zr(l.prev,l,l.next)>0&&zr(o.prev,o,o.next)>0)}function zr(l,o,c){return(o.y-l.y)*(c.x-o.x)-(o.x-l.x)*(c.y-o.y)}function Mm(l,o){return l.x===o.x&&l.y===o.y}function AE(l,o,c,p){var x=Nm(zr(l,o,c)),b=Nm(zr(l,o,p)),S=Nm(zr(c,p,l)),C=Nm(zr(c,p,o));return x!==b&&S!==C||!(x!==0||!Dm(l,c,o))||!(b!==0||!Dm(l,p,o))||!(S!==0||!Dm(c,l,p))||!(C!==0||!Dm(c,o,p))}function Dm(l,o,c){return o.x<=Math.max(l.x,c.x)&&o.x>=Math.min(l.x,c.x)&&o.y<=Math.max(l.y,c.y)&&o.y>=Math.min(l.y,c.y)}function Nm(l){return l>0?1:l<0?-1:0}function bf(l,o){return zr(l.prev,l,l.next)<0?zr(l,o,l.next)>=0&&zr(l,l.prev,o)>=0:zr(l,o,l.prev)<0||zr(l,l.next,o)<0}function PE(l,o){var c=new W_(l.i,l.x,l.y),p=new W_(o.i,o.x,o.y),x=l.next,b=o.prev;return l.next=o,o.prev=l,c.next=x,x.prev=c,p.next=c,c.prev=p,b.next=p,p.prev=b,p}function OE(l,o,c,p){var x=new W_(l,o,c);return p?(x.next=p.next,x.prev=p,p.next.prev=x,p.next=x):(x.prev=x,x.next=x),x}function wf(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function W_(l,o,c){this.i=l,this.x=o,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Z_(l,o,c,p){for(var x=0,b=o,S=c-p;b<c;b+=p)x+=(l[S]-l[b])*(l[b+1]+l[S+1]),S=b;return x}function aD(l,o,c,p,x){CE(l,o,c||0,p||l.length-1,x||sD)}function CE(l,o,c,p,x){for(;p>c;){if(p-c>600){var b=p-c+1,S=o-c+1,C=Math.log(b),D=.5*Math.exp(2*C/3),H=.5*Math.sqrt(C*D*(b-D)/b)*(S-b/2<0?-1:1);CE(l,o,Math.max(c,Math.floor(o-S*D/b+H)),Math.min(p,Math.floor(o+(b-S)*D/b+H)),x)}var q=l[o],X=c,re=p;for(Ef(l,c,o),x(l[p],q)>0&&Ef(l,c,p);X<re;){for(Ef(l,X,re),X++,re--;x(l[X],q)<0;)X++;for(;x(l[re],q)>0;)re--}x(l[c],q)===0?Ef(l,c,re):Ef(l,++re,p),re<=o&&(c=re+1),o<=re&&(p=re-1)}}function Ef(l,o,c){var p=l[o];l[o]=l[c],l[c]=p}function sD(l,o){return l<o?-1:l>o?1:0}function K_(l,o){const c=l.length;if(c<=1)return[l];const p=[];let x,b;for(let S=0;S<c;S++){const C=ee(l[S]);C!==0&&(l[S].area=Math.abs(C),b===void 0&&(b=C<0),b===C<0?(x&&p.push(x),x=[l[S]]):x.push(l[S]))}if(x&&p.push(x),o>1)for(let S=0;S<p.length;S++)p[S].length<=o||(aD(p[S],o,1,p[S].length-1,lD),p[S]=p[S].slice(0,o));return p}function lD(l,o){return o.area-l.area}function X_(l,o,c){const p=c.patternDependencies;let x=!1;for(const b of o){const S=b.paint.get(`${l}-pattern`);S.isConstant()||(x=!0);const C=S.constantOr(null);C&&(x=!0,p[C.to]=!0,p[C.from]=!0)}return x}function Y_(l,o,c,p,x){const b=x.patternDependencies;for(const S of o){const C=S.paint.get(`${l}-pattern`).value;if(C.kind!=="constant"){let D=C.evaluate({zoom:p-1},c,{},x.availableImages),H=C.evaluate({zoom:p},c,{},x.availableImages),q=C.evaluate({zoom:p+1},c,{},x.availableImages);D=D&&D.name?D.name:D,H=H&&H.name?H.name:H,q=q&&q.name?q.name:q,b[D]=!0,b[H]=!0,b[q]=!0,c.patterns[S.id]={min:D,mid:H,max:q}}}return c}({get exports(){return _f},set exports(l){_f=l}}).exports=Lm,_f.default=Lm,Lm.deviation=function(l,o,c,p){var x=o&&o.length,b=Math.abs(Z_(l,0,x?o[0]*c:l.length,c));if(x)for(var S=0,C=o.length;S<C;S++)b-=Math.abs(Z_(l,o[S]*c,S<C-1?o[S+1]*c:l.length,c));var D=0;for(S=0;S<p.length;S+=3){var H=p[S]*c,q=p[S+1]*c,X=p[S+2]*c;D+=Math.abs((l[H]-l[X])*(l[q+1]-l[H+1])-(l[H]-l[q])*(l[X+1]-l[H+1]))}return b===0&&D===0?0:Math.abs((D-b)/b)},Lm.flatten=function(l){for(var o=l[0][0].length,c={vertices:[],holes:[],dimensions:o},p=0,x=0;x<l.length;x++){for(var b=0;b<l[x].length;b++)for(var S=0;S<o;S++)c.vertices.push(l[x][b][S]);x>0&&c.holes.push(p+=l[x-1].length)}return c};class J_{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(c=>c.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new F_,this.indexArray=new E,this.indexArray2=new P,this.programConfigurations=new _n(o.layers,o.zoom),this.segments=new U,this.segments2=new U,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(o,c,p){this.hasPattern=X_("fill",this.layers,c);const x=this.layers[0].layout.get("fill-sort-key"),b=!x.isConstant(),S=[];for(const{feature:C,id:D,index:H,sourceLayerIndex:q}of o){const X=this.layers[0]._featureFilter.needGeometry,re=vo(C,X);if(!this.layers[0]._featureFilter.filter(new tr(this.zoom),re,p))continue;const ie=b?x.evaluate(re,{},p,c.availableImages):void 0,ae={id:D,properties:C.properties,type:C.type,sourceLayerIndex:q,index:H,geometry:X?re.geometry:yi(C),patterns:{},sortKey:ie};S.push(ae)}b&&S.sort((C,D)=>C.sortKey-D.sortKey);for(const C of S){const{geometry:D,index:H,sourceLayerIndex:q}=C;if(this.hasPattern){const X=Y_("fill",this.layers,C,this.zoom,c);this.patternFeatures.push(X)}else this.addFeature(C,D,H,p,{});c.featureIndex.insert(o[H].feature,D,H,q,this.index)}}update(o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,p)}addFeatures(o,c,p){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,c,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,XM),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,c,p,x,b){for(const S of K_(c,500)){let C=0;for(const ie of S)C+=ie.length;const D=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),H=D.vertexLength,q=[],X=[];for(const ie of S){if(ie.length===0)continue;ie!==S[0]&&X.push(q.length/2);const ae=this.segments2.prepareSegment(ie.length,this.layoutVertexArray,this.indexArray2),be=ae.vertexLength;this.layoutVertexArray.emplaceBack(ie[0].x,ie[0].y),this.indexArray2.emplaceBack(be+ie.length-1,be),q.push(ie[0].x),q.push(ie[0].y);for(let _e=1;_e<ie.length;_e++)this.layoutVertexArray.emplaceBack(ie[_e].x,ie[_e].y),this.indexArray2.emplaceBack(be+_e-1,be+_e),q.push(ie[_e].x),q.push(ie[_e].y);ae.vertexLength+=ie.length,ae.primitiveLength+=ie.length}const re=_f(q,X);for(let ie=0;ie<re.length;ie+=3)this.indexArray.emplaceBack(H+re[ie],H+re[ie+1],H+re[ie+2]);D.vertexLength+=C,D.primitiveLength+=re.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,x)}}Tt("FillBucket",J_,{omit:["layers","patternFeatures"]});const uD=new ui({"fill-sort-key":new Xt(ke.layout_fill["fill-sort-key"])});var cD={paint:new ui({"fill-antialias":new zt(ke.paint_fill["fill-antialias"]),"fill-opacity":new Xt(ke.paint_fill["fill-opacity"]),"fill-color":new Xt(ke.paint_fill["fill-color"]),"fill-outline-color":new Xt(ke.paint_fill["fill-outline-color"]),"fill-translate":new zt(ke.paint_fill["fill-translate"]),"fill-translate-anchor":new zt(ke.paint_fill["fill-translate-anchor"]),"fill-pattern":new us(ke.paint_fill["fill-pattern"])}),layout:uD};const hD=k([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),dD=k([{name:"a_centroid",components:2,type:"Int16"}],4),{members:fD}=hD;var Au={},pD=Ye,RE=jh;function jh(l,o,c,p,x){this.properties={},this.extent=c,this.type=0,this._pbf=l,this._geometry=-1,this._keys=p,this._values=x,l.readFields(mD,this,o)}function mD(l,o,c){l==1?o.id=c.readVarint():l==2?function(p,x){for(var b=p.readVarint()+p.pos;p.pos<b;){var S=x._keys[p.readVarint()],C=x._values[p.readVarint()];x.properties[S]=C}}(c,o):l==3?o.type=c.readVarint():l==4&&(o._geometry=c.pos)}function gD(l){for(var o,c,p=0,x=0,b=l.length,S=b-1;x<b;S=x++)p+=((c=l[S]).x-(o=l[x]).x)*(o.y+c.y);return p}jh.types=["Unknown","Point","LineString","Polygon"],jh.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var o,c=l.readVarint()+l.pos,p=1,x=0,b=0,S=0,C=[];l.pos<c;){if(x<=0){var D=l.readVarint();p=7&D,x=D>>3}if(x--,p===1||p===2)b+=l.readSVarint(),S+=l.readSVarint(),p===1&&(o&&C.push(o),o=[]),o.push(new pD(b,S));else{if(p!==7)throw new Error("unknown command "+p);o&&o.push(o[0].clone())}}return o&&C.push(o),C},jh.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var o=l.readVarint()+l.pos,c=1,p=0,x=0,b=0,S=1/0,C=-1/0,D=1/0,H=-1/0;l.pos<o;){if(p<=0){var q=l.readVarint();c=7&q,p=q>>3}if(p--,c===1||c===2)(x+=l.readSVarint())<S&&(S=x),x>C&&(C=x),(b+=l.readSVarint())<D&&(D=b),b>H&&(H=b);else if(c!==7)throw new Error("unknown command "+c)}return[S,D,C,H]},jh.prototype.toGeoJSON=function(l,o,c){var p,x,b=this.extent*Math.pow(2,c),S=this.extent*l,C=this.extent*o,D=this.loadGeometry(),H=jh.types[this.type];function q(ie){for(var ae=0;ae<ie.length;ae++){var be=ie[ae];ie[ae]=[360*(be.x+S)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(be.y+C)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var X=[];for(p=0;p<D.length;p++)X[p]=D[p][0];q(D=X);break;case 2:for(p=0;p<D.length;p++)q(D[p]);break;case 3:for(D=function(ie){var ae=ie.length;if(ae<=1)return[ie];for(var be,_e,Me=[],He=0;He<ae;He++){var Ce=gD(ie[He]);Ce!==0&&(_e===void 0&&(_e=Ce<0),_e===Ce<0?(be&&Me.push(be),be=[ie[He]]):be.push(ie[He]))}return be&&Me.push(be),Me}(D),p=0;p<D.length;p++)for(x=0;x<D[p].length;x++)q(D[p][x])}D.length===1?D=D[0]:H="Multi"+H;var re={type:"Feature",geometry:{type:H,coordinates:D},properties:this.properties};return"id"in this&&(re.id=this.id),re};var vD=RE,kE=LE;function LE(l,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(yD,this,o),this.length=this._features.length}function yD(l,o,c){l===15?o.version=c.readVarint():l===1?o.name=c.readString():l===5?o.extent=c.readVarint():l===2?o._features.push(c.pos):l===3?o._keys.push(c.readString()):l===4&&o._values.push(function(p){for(var x=null,b=p.readVarint()+p.pos;p.pos<b;){var S=p.readVarint()>>3;x=S===1?p.readString():S===2?p.readFloat():S===3?p.readDouble():S===4?p.readVarint64():S===5?p.readVarint():S===6?p.readSVarint():S===7?p.readBoolean():null}return x}(c))}LE.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var o=this._pbf.readVarint()+this._pbf.pos;return new vD(this._pbf,o,this.extent,this._keys,this._values)};var _D=kE;function xD(l,o,c){if(l===3){var p=new _D(c,c.readVarint()+c.pos);p.length&&(o[p.name]=p)}}Au.VectorTile=function(l,o){this.layers=l.readFields(xD,{},o)},Au.VectorTileFeature=RE,Au.VectorTileLayer=kE;const bD=Au.VectorTileFeature.types,Q_=Math.pow(2,13);function Sf(l,o,c,p,x,b,S,C){l.emplaceBack(o,c,2*Math.floor(p*Q_)+S,x*Q_*2,b*Q_*2,Math.round(C))}class e0{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(c=>c.id),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new U_,this.centroidVertexArray=new mf,this.indexArray=new E,this.programConfigurations=new _n(o.layers,o.zoom),this.segments=new U,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(o,c,p){this.features=[],this.hasPattern=X_("fill-extrusion",this.layers,c);for(const{feature:x,id:b,index:S,sourceLayerIndex:C}of o){const D=this.layers[0]._featureFilter.needGeometry,H=vo(x,D);if(!this.layers[0]._featureFilter.filter(new tr(this.zoom),H,p))continue;const q={id:b,sourceLayerIndex:C,index:S,geometry:D?H.geometry:yi(x),properties:x.properties,type:x.type,patterns:{}};this.hasPattern?this.features.push(Y_("fill-extrusion",this.layers,q,this.zoom,c)):this.addFeature(q,q.geometry,S,p,{}),c.featureIndex.insert(x,q.geometry,S,C,this.index,!0)}}addFeatures(o,c,p){for(const x of this.features){const{geometry:b}=x;this.addFeature(x,b,x.index,c,p)}}update(o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,p)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,fD),this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,dD.members,!0),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(o,c,p,x,b){const S={x:0,y:0,vertexCount:0};for(const C of K_(c,500)){let D=0;for(const ae of C)D+=ae.length;let H=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ae of C){if(ae.length===0||ED(ae))continue;let be=0;for(let _e=0;_e<ae.length;_e++){const Me=ae[_e];if(_e>=1){const He=ae[_e-1];if(!wD(Me,He)){H.vertexLength+4>U.MAX_VERTEX_ARRAY_LENGTH&&(H=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Ce=Me.sub(He)._perp()._unit(),Ve=He.dist(Me);be+Ve>32768&&(be=0),Sf(this.layoutVertexArray,Me.x,Me.y,Ce.x,Ce.y,0,0,be),Sf(this.layoutVertexArray,Me.x,Me.y,Ce.x,Ce.y,0,1,be),S.x+=2*Me.x,S.y+=2*Me.y,S.vertexCount+=2,be+=Ve,Sf(this.layoutVertexArray,He.x,He.y,Ce.x,Ce.y,0,0,be),Sf(this.layoutVertexArray,He.x,He.y,Ce.x,Ce.y,0,1,be),S.x+=2*He.x,S.y+=2*He.y,S.vertexCount+=2;const ut=H.vertexLength;this.indexArray.emplaceBack(ut,ut+2,ut+1),this.indexArray.emplaceBack(ut+1,ut+2,ut+3),H.vertexLength+=4,H.primitiveLength+=2}}}}if(H.vertexLength+D>U.MAX_VERTEX_ARRAY_LENGTH&&(H=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray)),bD[o.type]!=="Polygon")continue;const q=[],X=[],re=H.vertexLength;for(const ae of C)if(ae.length!==0){ae!==C[0]&&X.push(q.length/2);for(let be=0;be<ae.length;be++){const _e=ae[be];Sf(this.layoutVertexArray,_e.x,_e.y,0,0,1,1,0),S.x+=_e.x,S.y+=_e.y,S.vertexCount+=1,q.push(_e.x),q.push(_e.y)}}const ie=_f(q,X);for(let ae=0;ae<ie.length;ae+=3)this.indexArray.emplaceBack(re+ie[ae],re+ie[ae+2],re+ie[ae+1]);H.primitiveLength+=ie.length/3,H.vertexLength+=D}for(let C=0;C<S.vertexCount;C++)this.centroidVertexArray.emplaceBack(Math.floor(S.x/S.vertexCount),Math.floor(S.y/S.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,x)}}function wD(l,o){return l.x===o.x&&(l.x<0||l.x>qn)||l.y===o.y&&(l.y<0||l.y>qn)}function ED(l){return l.every(o=>o.x<0)||l.every(o=>o.x>qn)||l.every(o=>o.y<0)||l.every(o=>o.y>qn)}Tt("FillExtrusionBucket",e0,{omit:["layers","features"]});var SD={paint:new ui({"fill-extrusion-opacity":new zt(ke["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Xt(ke["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new zt(ke["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new zt(ke["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new us(ke["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Xt(ke["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Xt(ke["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new zt(ke["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Tf(l,o){return l.x*o.x+l.y*o.y}function ME(l,o){if(l.length===1){let c=0;const p=o[c++];let x;for(;!x||p.equals(x);)if(x=o[c++],!x)return 1/0;for(;c<o.length;c++){const b=o[c],S=l[0],C=x.sub(p),D=b.sub(p),H=S.sub(p),q=Tf(C,C),X=Tf(C,D),re=Tf(D,D),ie=Tf(H,C),ae=Tf(H,D),be=q*re-X*X,_e=(re*ie-X*ae)/be,Me=(q*ae-X*ie)/be,He=p.z*(1-_e-Me)+x.z*_e+b.z*Me;if(isFinite(He))return He}return 1/0}{let c=1/0;for(const p of o)c=Math.min(c,p.z);return c}}const TD=k([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:ID}=TD,AD=k([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:PD}=AD,OD=Au.VectorTileFeature.types,CD=Math.cos(Math.PI/180*37.5),DE=Math.pow(2,14)/.5;class t0{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(c=>c.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new Rm,this.layoutVertexArray2=new V_,this.indexArray=new E,this.programConfigurations=new _n(o.layers,o.zoom),this.segments=new U,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(o,c,p){this.hasPattern=X_("line",this.layers,c);const x=this.layers[0].layout.get("line-sort-key"),b=!x.isConstant(),S=[];for(const{feature:C,id:D,index:H,sourceLayerIndex:q}of o){const X=this.layers[0]._featureFilter.needGeometry,re=vo(C,X);if(!this.layers[0]._featureFilter.filter(new tr(this.zoom),re,p))continue;const ie=b?x.evaluate(re,{},p):void 0,ae={id:D,properties:C.properties,type:C.type,sourceLayerIndex:q,index:H,geometry:X?re.geometry:yi(C),patterns:{},sortKey:ie};S.push(ae)}b&&S.sort((C,D)=>C.sortKey-D.sortKey);for(const C of S){const{geometry:D,index:H,sourceLayerIndex:q}=C;if(this.hasPattern){const X=Y_("line",this.layers,C,this.zoom,c);this.patternFeatures.push(X)}else this.addFeature(C,D,H,p,{});c.featureIndex.insert(o[H].feature,D,H,q,this.index)}}update(o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,p)}addFeatures(o,c,p){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,c,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,PD)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,ID),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,c,p,x,b){const S=this.layers[0].layout,C=S.get("line-join").evaluate(o,{}),D=S.get("line-cap"),H=S.get("line-miter-limit"),q=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const X of c)this.addLine(X,o,C,D,H,q);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,x)}addLine(o,c,p,x,b,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Me=0;Me<o.length-1;Me++)this.totalDistance+=o[Me].dist(o[Me+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const C=OD[c.type]==="Polygon";let D=o.length;for(;D>=2&&o[D-1].equals(o[D-2]);)D--;let H=0;for(;H<D-1&&o[H].equals(o[H+1]);)H++;if(D<(C?3:2))return;p==="bevel"&&(b=1.05);const q=this.overscaling<=16?122880/(512*this.overscaling):0,X=this.segments.prepareSegment(10*D,this.layoutVertexArray,this.indexArray);let re,ie,ae,be,_e;this.e1=this.e2=-1,C&&(re=o[D-2],_e=o[H].sub(re)._unit()._perp());for(let Me=H;Me<D;Me++){if(ae=Me===D-1?C?o[H+1]:void 0:o[Me+1],ae&&o[Me].equals(ae))continue;_e&&(be=_e),re&&(ie=re),re=o[Me],_e=ae?ae.sub(re)._unit()._perp():be,be=be||_e;let He=be.add(_e);He.x===0&&He.y===0||He._unit();const Ce=be.x*_e.x+be.y*_e.y,Ve=He.x*_e.x+He.y*_e.y,ut=Ve!==0?1/Ve:1/0,at=2*Math.sqrt(2-2*Ve),Nt=Ve<CD&&ie&&ae,Ut=be.x*_e.y-be.y*_e.x>0;if(Nt&&Me>H){const bt=re.dist(ie);if(bt>2*q){const At=re.sub(re.sub(ie)._mult(q/bt)._round());this.updateDistance(ie,At),this.addCurrentVertex(At,be,0,0,X),ie=At}}const It=ie&&ae;let Et=It?p:C?"butt":x;if(It&&Et==="round"&&(ut<S?Et="miter":ut<=2&&(Et="fakeround")),Et==="miter"&&ut>b&&(Et="bevel"),Et==="bevel"&&(ut>2&&(Et="flipbevel"),ut<b&&(Et="miter")),ie&&this.updateDistance(ie,re),Et==="miter")He._mult(ut),this.addCurrentVertex(re,He,0,0,X);else if(Et==="flipbevel"){if(ut>100)He=_e.mult(-1);else{const bt=ut*be.add(_e).mag()/be.sub(_e).mag();He._perp()._mult(bt*(Ut?-1:1))}this.addCurrentVertex(re,He,0,0,X),this.addCurrentVertex(re,He.mult(-1),0,0,X)}else if(Et==="bevel"||Et==="fakeround"){const bt=-Math.sqrt(ut*ut-1),At=Ut?bt:0,St=Ut?0:bt;if(ie&&this.addCurrentVertex(re,be,At,St,X),Et==="fakeround"){const gt=Math.round(180*at/Math.PI/20);for(let Kt=1;Kt<gt;Kt++){let Ht=Kt/gt;if(Ht!==.5){const gr=Ht-.5;Ht+=Ht*gr*(Ht-1)*((1.0904+Ce*(Ce*(3.55645-1.43519*Ce)-3.2452))*gr*gr+(.848013+Ce*(.215638*Ce-1.06021)))}const In=_e.sub(be)._mult(Ht)._add(be)._unit()._mult(Ut?-1:1);this.addHalfVertex(re,In.x,In.y,!1,Ut,0,X)}}ae&&this.addCurrentVertex(re,_e,-At,-St,X)}else if(Et==="butt")this.addCurrentVertex(re,He,0,0,X);else if(Et==="square"){const bt=ie?1:-1;this.addCurrentVertex(re,He,bt,bt,X)}else Et==="round"&&(ie&&(this.addCurrentVertex(re,be,0,0,X),this.addCurrentVertex(re,be,1,1,X,!0)),ae&&(this.addCurrentVertex(re,_e,-1,-1,X,!0),this.addCurrentVertex(re,_e,0,0,X)));if(Nt&&Me<D-1){const bt=re.dist(ae);if(bt>2*q){const At=re.add(ae.sub(re)._mult(q/bt)._round());this.updateDistance(re,At),this.addCurrentVertex(At,_e,0,0,X),re=At}}}}addCurrentVertex(o,c,p,x,b,S=!1){const C=c.y*x-c.x,D=-c.y-c.x*x;this.addHalfVertex(o,c.x+c.y*p,c.y-c.x*p,S,!1,p,b),this.addHalfVertex(o,C,D,S,!0,-x,b),this.distance>DE/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(o,c,p,x,b,S))}addHalfVertex({x:o,y:c},p,x,b,S,C,D){const H=.5*(this.lineClips?this.scaledDistance*(DE-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o<<1)+(b?1:0),(c<<1)+(S?1:0),Math.round(63*p)+128,Math.round(63*x)+128,1+(C===0?0:C<0?-1:1)|(63&H)<<2,H>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const q=D.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,q),D.primitiveLength++),S?this.e2=q:this.e1=q}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(o,c){this.distance+=o.dist(c),this.updateScaledDistance()}}Tt("LineBucket",t0,{omit:["layers","patternFeatures"]});const RD=new ui({"line-cap":new zt(ke.layout_line["line-cap"]),"line-join":new Xt(ke.layout_line["line-join"]),"line-miter-limit":new zt(ke.layout_line["line-miter-limit"]),"line-round-limit":new zt(ke.layout_line["line-round-limit"]),"line-sort-key":new Xt(ke.layout_line["line-sort-key"])});var NE={paint:new ui({"line-opacity":new Xt(ke.paint_line["line-opacity"]),"line-color":new Xt(ke.paint_line["line-color"]),"line-translate":new zt(ke.paint_line["line-translate"]),"line-translate-anchor":new zt(ke.paint_line["line-translate-anchor"]),"line-width":new Xt(ke.paint_line["line-width"]),"line-gap-width":new Xt(ke.paint_line["line-gap-width"]),"line-offset":new Xt(ke.paint_line["line-offset"]),"line-blur":new Xt(ke.paint_line["line-blur"]),"line-dasharray":new xu(ke.paint_line["line-dasharray"]),"line-pattern":new us(ke.paint_line["line-pattern"]),"line-gradient":new Uc(ke.paint_line["line-gradient"])}),layout:RD};const zE=new class extends Xt{possiblyEvaluate(l,o){return o=new tr(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,zoomHistory:o.zoomHistory,transition:o.transition}),super.possiblyEvaluate(l,o)}evaluate(l,o,c,p){return o=z({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(l,o,c,p)}}(NE.paint.properties["line-width"].specification);function BE(l,o){return o>0?o+2*l:l}zE.useIntegerZoom=!0;const kD=k([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),LD=k([{name:"a_projected_pos",components:3,type:"Float32"}],4);k([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const MD=k([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);k([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const FE=k([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),DD=k([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ND(l,o,c){return l.sections.forEach(p=>{p.text=function(x,b,S){const C=b.layout.get("text-transform").evaluate(S,{});return C==="uppercase"?x=x.toLocaleUpperCase():C==="lowercase"&&(x=x.toLocaleLowerCase()),li.applyArabicShaping&&(x=li.applyArabicShaping(x)),x}(p.text,o,c)}),l}k([{name:"triangle",components:3,type:"Uint16"}]),k([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),k([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),k([{type:"Float32",name:"offsetX"}]),k([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const If={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var hi=24,n0=rr,UE=function(l,o,c,p,x){var b,S,C=8*x-p-1,D=(1<<C)-1,H=D>>1,q=-7,X=c?x-1:0,re=c?-1:1,ie=l[o+X];for(X+=re,b=ie&(1<<-q)-1,ie>>=-q,q+=C;q>0;b=256*b+l[o+X],X+=re,q-=8);for(S=b&(1<<-q)-1,b>>=-q,q+=p;q>0;S=256*S+l[o+X],X+=re,q-=8);if(b===0)b=1-H;else{if(b===D)return S?NaN:1/0*(ie?-1:1);S+=Math.pow(2,p),b-=H}return(ie?-1:1)*S*Math.pow(2,b-p)},VE=function(l,o,c,p,x,b){var S,C,D,H=8*b-x-1,q=(1<<H)-1,X=q>>1,re=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=p?0:b-1,ae=p?1:-1,be=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(C=isNaN(o)?1:0,S=q):(S=Math.floor(Math.log(o)/Math.LN2),o*(D=Math.pow(2,-S))<1&&(S--,D*=2),(o+=S+X>=1?re/D:re*Math.pow(2,1-X))*D>=2&&(S++,D/=2),S+X>=q?(C=0,S=q):S+X>=1?(C=(o*D-1)*Math.pow(2,x),S+=X):(C=o*Math.pow(2,X-1)*Math.pow(2,x),S=0));x>=8;l[c+ie]=255&C,ie+=ae,C/=256,x-=8);for(S=S<<x|C,H+=x;H>0;l[c+ie]=255&S,ie+=ae,S/=256,H-=8);l[c+ie-ae]|=128*be};function rr(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}rr.Varint=0,rr.Fixed64=1,rr.Bytes=2,rr.Fixed32=5;var Pu,r0=4294967296,HE=1/r0,jE=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function zl(l){return l.type===rr.Bytes?l.readVarint()+l.pos:l.pos+1}function $h(l,o,c){return c?4294967296*o+(l>>>0):4294967296*(o>>>0)+(l>>>0)}function $E(l,o,c){var p=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));c.realloc(p);for(var x=c.pos-1;x>=l;x--)c.buf[x+p]=c.buf[x]}function zD(l,o){for(var c=0;c<l.length;c++)o.writeVarint(l[c])}function BD(l,o){for(var c=0;c<l.length;c++)o.writeSVarint(l[c])}function FD(l,o){for(var c=0;c<l.length;c++)o.writeFloat(l[c])}function UD(l,o){for(var c=0;c<l.length;c++)o.writeDouble(l[c])}function VD(l,o){for(var c=0;c<l.length;c++)o.writeBoolean(l[c])}function HD(l,o){for(var c=0;c<l.length;c++)o.writeFixed32(l[c])}function jD(l,o){for(var c=0;c<l.length;c++)o.writeSFixed32(l[c])}function $D(l,o){for(var c=0;c<l.length;c++)o.writeFixed64(l[c])}function GD(l,o){for(var c=0;c<l.length;c++)o.writeSFixed64(l[c])}function zm(l,o){return(l[o]|l[o+1]<<8|l[o+2]<<16)+16777216*l[o+3]}function Gh(l,o,c){l[c]=o,l[c+1]=o>>>8,l[c+2]=o>>>16,l[c+3]=o>>>24}function GE(l,o){return(l[o]|l[o+1]<<8|l[o+2]<<16)+(l[o+3]<<24)}function qD(l,o,c){l===1&&c.readMessage(WD,o)}function WD(l,o,c){if(l===3){const{id:p,bitmap:x,width:b,height:S,left:C,top:D,advance:H}=c.readMessage(ZD,{});o.push({id:p,bitmap:new yf({width:b+6,height:S+6},x),metrics:{width:b,height:S,left:C,top:D,advance:H}})}}function ZD(l,o,c){l===1?o.id=c.readVarint():l===2?o.bitmap=c.readBytes():l===3?o.width=c.readVarint():l===4?o.height=c.readVarint():l===5?o.left=c.readSVarint():l===6?o.top=c.readSVarint():l===7&&(o.advance=c.readVarint())}function qE(l){let o=0,c=0;for(const S of l)o+=S.w*S.h,c=Math.max(c,S.w);l.sort((S,C)=>C.h-S.h);const p=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),c),h:1/0}];let x=0,b=0;for(const S of l)for(let C=p.length-1;C>=0;C--){const D=p[C];if(!(S.w>D.w||S.h>D.h)){if(S.x=D.x,S.y=D.y,b=Math.max(b,S.y+S.h),x=Math.max(x,S.x+S.w),S.w===D.w&&S.h===D.h){const H=p.pop();C<p.length&&(p[C]=H)}else S.h===D.h?(D.x+=S.w,D.w-=S.w):S.w===D.w?(D.y+=S.h,D.h-=S.h):(p.push({x:D.x+S.w,y:D.y,w:D.w-S.w,h:S.h}),D.y+=S.h,D.h-=S.h);break}}return{w:x,h:b,fill:o/(x*b)||0}}rr.prototype={destroy:function(){this.buf=null},readFields:function(l,o,c){for(c=c||this.length;this.pos<c;){var p=this.readVarint(),x=p>>3,b=this.pos;this.type=7&p,l(x,o,this),this.pos===b&&this.skip(p)}return o},readMessage:function(l,o){return this.readFields(l,o,this.readVarint()+this.pos)},readFixed32:function(){var l=zm(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=GE(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=zm(this.buf,this.pos)+zm(this.buf,this.pos+4)*r0;return this.pos+=8,l},readSFixed64:function(){var l=zm(this.buf,this.pos)+GE(this.buf,this.pos+4)*r0;return this.pos+=8,l},readFloat:function(){var l=UE(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=UE(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var o,c,p=this.buf;return o=127&(c=p[this.pos++]),c<128?o:(o|=(127&(c=p[this.pos++]))<<7,c<128?o:(o|=(127&(c=p[this.pos++]))<<14,c<128?o:(o|=(127&(c=p[this.pos++]))<<21,c<128?o:function(x,b,S){var C,D,H=S.buf;if(C=(112&(D=H[S.pos++]))>>4,D<128||(C|=(127&(D=H[S.pos++]))<<3,D<128)||(C|=(127&(D=H[S.pos++]))<<10,D<128)||(C|=(127&(D=H[S.pos++]))<<17,D<128)||(C|=(127&(D=H[S.pos++]))<<24,D<128)||(C|=(1&(D=H[S.pos++]))<<31,D<128))return $h(x,C,b);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(c=p[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var l=this.readVarint()+this.pos,o=this.pos;return this.pos=l,l-o>=12&&jE?function(c,p,x){return jE.decode(c.subarray(p,x))}(this.buf,o,l):function(c,p,x){for(var b="",S=p;S<x;){var C,D,H,q=c[S],X=null,re=q>239?4:q>223?3:q>191?2:1;if(S+re>x)break;re===1?q<128&&(X=q):re===2?(192&(C=c[S+1]))==128&&(X=(31&q)<<6|63&C)<=127&&(X=null):re===3?(D=c[S+2],(192&(C=c[S+1]))==128&&(192&D)==128&&((X=(15&q)<<12|(63&C)<<6|63&D)<=2047||X>=55296&&X<=57343)&&(X=null)):re===4&&(D=c[S+2],H=c[S+3],(192&(C=c[S+1]))==128&&(192&D)==128&&(192&H)==128&&((X=(15&q)<<18|(63&C)<<12|(63&D)<<6|63&H)<=65535||X>=1114112)&&(X=null)),X===null?(X=65533,re=1):X>65535&&(X-=65536,b+=String.fromCharCode(X>>>10&1023|55296),X=56320|1023&X),b+=String.fromCharCode(X),S+=re}return b}(this.buf,o,l)},readBytes:function(){var l=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,l);return this.pos=l,o},readPackedVarint:function(l,o){if(this.type!==rr.Bytes)return l.push(this.readVarint(o));var c=zl(this);for(l=l||[];this.pos<c;)l.push(this.readVarint(o));return l},readPackedSVarint:function(l){if(this.type!==rr.Bytes)return l.push(this.readSVarint());var o=zl(this);for(l=l||[];this.pos<o;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==rr.Bytes)return l.push(this.readBoolean());var o=zl(this);for(l=l||[];this.pos<o;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==rr.Bytes)return l.push(this.readFloat());var o=zl(this);for(l=l||[];this.pos<o;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==rr.Bytes)return l.push(this.readDouble());var o=zl(this);for(l=l||[];this.pos<o;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==rr.Bytes)return l.push(this.readFixed32());var o=zl(this);for(l=l||[];this.pos<o;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==rr.Bytes)return l.push(this.readSFixed32());var o=zl(this);for(l=l||[];this.pos<o;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==rr.Bytes)return l.push(this.readFixed64());var o=zl(this);for(l=l||[];this.pos<o;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==rr.Bytes)return l.push(this.readSFixed64());var o=zl(this);for(l=l||[];this.pos<o;)l.push(this.readSFixed64());return l},skip:function(l){var o=7&l;if(o===rr.Varint)for(;this.buf[this.pos++]>127;);else if(o===rr.Bytes)this.pos=this.readVarint()+this.pos;else if(o===rr.Fixed32)this.pos+=4;else{if(o!==rr.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(l,o){this.writeVarint(l<<3|o)},realloc:function(l){for(var o=this.length||16;o<this.pos+l;)o*=2;if(o!==this.length){var c=new Uint8Array(o);c.set(this.buf),this.buf=c,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),Gh(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),Gh(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),Gh(this.buf,-1&l,this.pos),Gh(this.buf,Math.floor(l*HE),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),Gh(this.buf,-1&l,this.pos),Gh(this.buf,Math.floor(l*HE),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(o,c){var p,x;if(o>=0?(p=o%4294967296|0,x=o/4294967296|0):(x=~(-o/4294967296),4294967295^(p=~(-o%4294967296))?p=p+1|0:(p=0,x=x+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(b,S,C){C.buf[C.pos++]=127&b|128,b>>>=7,C.buf[C.pos++]=127&b|128,b>>>=7,C.buf[C.pos++]=127&b|128,b>>>=7,C.buf[C.pos++]=127&b|128,C.buf[C.pos]=127&(b>>>=7)}(p,0,c),function(b,S){var C=(7&b)<<4;S.buf[S.pos++]|=C|((b>>>=3)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b)))))}(x,c)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(Boolean(l))},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var o=this.pos;this.pos=function(p,x,b){for(var S,C,D=0;D<x.length;D++){if((S=x.charCodeAt(D))>55295&&S<57344){if(!C){S>56319||D+1===x.length?(p[b++]=239,p[b++]=191,p[b++]=189):C=S;continue}if(S<56320){p[b++]=239,p[b++]=191,p[b++]=189,C=S;continue}S=C-55296<<10|S-56320|65536,C=null}else C&&(p[b++]=239,p[b++]=191,p[b++]=189,C=null);S<128?p[b++]=S:(S<2048?p[b++]=S>>6|192:(S<65536?p[b++]=S>>12|224:(p[b++]=S>>18|240,p[b++]=S>>12&63|128),p[b++]=S>>6&63|128),p[b++]=63&S|128)}return b}(this.buf,l,this.pos);var c=this.pos-o;c>=128&&$E(o,c,this),this.pos=o-1,this.writeVarint(c),this.pos+=c},writeFloat:function(l){this.realloc(4),VE(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),VE(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var o=l.length;this.writeVarint(o),this.realloc(o);for(var c=0;c<o;c++)this.buf[this.pos++]=l[c]},writeRawMessage:function(l,o){this.pos++;var c=this.pos;l(o,this);var p=this.pos-c;p>=128&&$E(c,p,this),this.pos=c-1,this.writeVarint(p),this.pos+=p},writeMessage:function(l,o,c){this.writeTag(l,rr.Bytes),this.writeRawMessage(o,c)},writePackedVarint:function(l,o){o.length&&this.writeMessage(l,zD,o)},writePackedSVarint:function(l,o){o.length&&this.writeMessage(l,BD,o)},writePackedBoolean:function(l,o){o.length&&this.writeMessage(l,VD,o)},writePackedFloat:function(l,o){o.length&&this.writeMessage(l,FD,o)},writePackedDouble:function(l,o){o.length&&this.writeMessage(l,UD,o)},writePackedFixed32:function(l,o){o.length&&this.writeMessage(l,HD,o)},writePackedSFixed32:function(l,o){o.length&&this.writeMessage(l,jD,o)},writePackedFixed64:function(l,o){o.length&&this.writeMessage(l,$D,o)},writePackedSFixed64:function(l,o){o.length&&this.writeMessage(l,GD,o)},writeBytesField:function(l,o){this.writeTag(l,rr.Bytes),this.writeBytes(o)},writeFixed32Field:function(l,o){this.writeTag(l,rr.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(l,o){this.writeTag(l,rr.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(l,o){this.writeTag(l,rr.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(l,o){this.writeTag(l,rr.Fixed64),this.writeSFixed64(o)},writeVarintField:function(l,o){this.writeTag(l,rr.Varint),this.writeVarint(o)},writeSVarintField:function(l,o){this.writeTag(l,rr.Varint),this.writeSVarint(o)},writeStringField:function(l,o){this.writeTag(l,rr.Bytes),this.writeString(o)},writeFloatField:function(l,o){this.writeTag(l,rr.Fixed32),this.writeFloat(o)},writeDoubleField:function(l,o){this.writeTag(l,rr.Fixed64),this.writeDouble(o)},writeBooleanField:function(l,o){this.writeVarintField(l,Boolean(o))}};class i0{constructor(o,{pixelRatio:c,version:p,stretchX:x,stretchY:b,content:S}){this.paddedRect=o,this.pixelRatio=c,this.stretchX=x,this.stretchY=b,this.content=S,this.version=p}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class WE{constructor(o,c){const p={},x={};this.haveRenderCallbacks=[];const b=[];this.addImages(o,p,b),this.addImages(c,x,b);const{w:S,h:C}=qE(b),D=new da({width:S||1,height:C||1});for(const H in o){const q=o[H],X=p[H].paddedRect;da.copy(q.data,D,{x:0,y:0},{x:X.x+1,y:X.y+1},q.data)}for(const H in c){const q=c[H],X=x[H].paddedRect,re=X.x+1,ie=X.y+1,ae=q.data.width,be=q.data.height;da.copy(q.data,D,{x:0,y:0},{x:re,y:ie},q.data),da.copy(q.data,D,{x:0,y:be-1},{x:re,y:ie-1},{width:ae,height:1}),da.copy(q.data,D,{x:0,y:0},{x:re,y:ie+be},{width:ae,height:1}),da.copy(q.data,D,{x:ae-1,y:0},{x:re-1,y:ie},{width:1,height:be}),da.copy(q.data,D,{x:0,y:0},{x:re+ae,y:ie},{width:1,height:be})}this.image=D,this.iconPositions=p,this.patternPositions=x}addImages(o,c,p){for(const x in o){const b=o[x],S={x:0,y:0,w:b.data.width+2,h:b.data.height+2};p.push(S),c[x]=new i0(S,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(x)}}patchUpdatedImages(o,c){o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const p in o.updatedImages)this.patchUpdatedImage(this.iconPositions[p],o.getImage(p),c),this.patchUpdatedImage(this.patternPositions[p],o.getImage(p),c)}patchUpdatedImage(o,c,p){if(!o||!c||o.version===c.version)return;o.version=c.version;const[x,b]=o.tl;p.update(c.data,void 0,{x,y:b})}}Tt("ImagePosition",i0),Tt("ImageAtlas",WE),s.WritingMode=void 0,(Pu=s.WritingMode||(s.WritingMode={}))[Pu.none=0]="none",Pu[Pu.horizontal=1]="horizontal",Pu[Pu.vertical=2]="vertical",Pu[Pu.horizontalOnly=3]="horizontalOnly";const Bm=-17;class Af{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,c){const p=new Af;return p.scale=o||1,p.fontStack=c,p}static forImage(o){const c=new Af;return c.imageName=o,c}}class qh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,c){const p=new qh;for(let x=0;x<o.sections.length;x++){const b=o.sections[x];b.image?p.addImageSection(b):p.addTextSection(b,c)}return p}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSectionIndex(o){return this.sectionIndex[o]}getCharCode(o){return this.text.charCodeAt(o)}verticalizePunctuation(){this.text=function(o){let c="";for(let p=0;p<o.length;p++){const x=o.charCodeAt(p+1)||null,b=o.charCodeAt(p-1)||null;c+=x&&zh(x)&&!If[o[p+1]]||b&&zh(b)&&!If[o[p-1]]||!If[o[p]]?o[p]:If[o[p]]}return c}(this.text)}trim(){let o=0;for(let p=0;p<this.text.length&&Um[this.text.charCodeAt(p)];p++)o++;let c=this.text.length;for(let p=this.text.length-1;p>=0&&p>=o&&Um[this.text.charCodeAt(p)];p--)c--;this.text=this.text.substring(o,c),this.sectionIndex=this.sectionIndex.slice(o,c)}substring(o,c){const p=new qh;return p.text=this.text.substring(o,c),p.sectionIndex=this.sectionIndex.slice(o,c),p.sections=this.sections,p}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,c)=>Math.max(o,this.sections[c].scale),0)}addTextSection(o,c){this.text+=o.text,this.sections.push(Af.forText(o.scale,o.fontStack||c));const p=this.sections.length-1;for(let x=0;x<o.text.length;++x)this.sectionIndex.push(p)}addImageSection(o){const c=o.image?o.image.name:"";if(c.length===0)return void Q("Can't add FormattedSection with an empty image.");const p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCharCode(p),this.sections.push(Af.forImage(c)),this.sectionIndex.push(this.sections.length-1)):Q("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Fm(l,o,c,p,x,b,S,C,D,H,q,X,re,ie,ae,be){const _e=qh.fromFeature(l,x);let Me;X===s.WritingMode.vertical&&_e.verticalizePunctuation();const{processBidirectionalText:He,processStyledBidirectionalText:Ce}=li;if(He&&_e.sections.length===1){Me=[];const at=He(_e.toString(),o0(_e,H,b,o,p,ie,ae));for(const Nt of at){const Ut=new qh;Ut.text=Nt,Ut.sections=_e.sections;for(let It=0;It<Nt.length;It++)Ut.sectionIndex.push(0);Me.push(Ut)}}else if(Ce){Me=[];const at=Ce(_e.text,_e.sectionIndex,o0(_e,H,b,o,p,ie,ae));for(const Nt of at){const Ut=new qh;Ut.text=Nt[0],Ut.sectionIndex=Nt[1],Ut.sections=_e.sections,Me.push(Ut)}}else Me=function(at,Nt){const Ut=[],It=at.text;let Et=0;for(const bt of Nt)Ut.push(at.substring(Et,bt)),Et=bt;return Et<It.length&&Ut.push(at.substring(Et,It.length)),Ut}(_e,o0(_e,H,b,o,p,ie,ae));const Ve=[],ut={positionedLines:Ve,text:_e.toString(),top:q[1],bottom:q[1],left:q[0],right:q[0],writingMode:X,iconsInText:!1,verticalizable:!1};return function(at,Nt,Ut,It,Et,bt,At,St,gt,Kt,Ht,In){let gr=0,Er=Bm,Qr=0,pa=0;const _i=St==="right"?1:St==="left"?0:.5;let Gr=0;for(const qr of Et){qr.trim();const bi=qr.getMaxScale(),Li=(bi-1)*hi,Qi={positionedGlyphs:[],lineOffset:0};at.positionedLines[Gr]=Qi;const _o=Qi.positionedGlyphs;let xo=0;if(!qr.length()){Er+=bt,++Gr;continue}for(let wi=0;wi<qr.length();wi++){const An=qr.getSection(wi),Ho=qr.getSectionIndex(wi),Ei=qr.getCharCode(wi);let Mi=0,Na=null,hs=null,ds=null,Fl=hi;const za=!(gt===s.WritingMode.horizontal||!Ht&&!gu(Ei)||Ht&&(Um[Ei]||(ii=Ei,wt.Arabic(ii)||wt["Arabic Supplement"](ii)||wt["Arabic Extended-A"](ii)||wt["Arabic Presentation Forms-A"](ii)||wt["Arabic Presentation Forms-B"](ii))));if(An.imageName){const ma=It[An.imageName];if(!ma)continue;ds=An.imageName,at.iconsInText=at.iconsInText||!0,hs=ma.paddedRect;const bo=ma.displaySize;An.scale=An.scale*hi/In,Na={width:bo[0],height:bo[1],left:1,top:-3,advance:za?bo[1]:bo[0]},Mi=Li+(hi-bo[1]*An.scale),Fl=Na.advance;const Ul=za?bo[0]*An.scale-hi*bi:bo[1]*An.scale-hi*bi;Ul>0&&Ul>xo&&(xo=Ul)}else{const ma=Ut[An.fontStack],bo=ma&&ma[Ei];if(bo&&bo.rect)hs=bo.rect,Na=bo.metrics;else{const Ul=Nt[An.fontStack],Rf=Ul&&Ul[Ei];if(!Rf)continue;Na=Rf.metrics}Mi=(bi-An.scale)*hi}za?(at.verticalizable=!0,_o.push({glyph:Ei,imageName:ds,x:gr,y:Er+Mi,vertical:za,scale:An.scale,fontStack:An.fontStack,sectionIndex:Ho,metrics:Na,rect:hs}),gr+=Fl*An.scale+Kt):(_o.push({glyph:Ei,imageName:ds,x:gr,y:Er+Mi,vertical:za,scale:An.scale,fontStack:An.fontStack,sectionIndex:Ho,metrics:Na,rect:hs}),gr+=Na.advance*An.scale+Kt)}_o.length!==0&&(Qr=Math.max(gr-Kt,Qr),YD(_o,0,_o.length-1,_i,xo)),gr=0;const Lr=bt*bi+xo;Qi.lineOffset=Math.max(xo,Li),Er+=Lr,pa=Math.max(Lr,pa),++Gr}var ii;const xi=Er-Bm,{horizontalAlign:ki,verticalAlign:yo}=a0(At);(function(qr,bi,Li,Qi,_o,xo,Lr,wi,An){const Ho=(bi-Li)*_o;let Ei=0;Ei=xo!==Lr?-wi*Qi-Bm:(-Qi*An+.5)*Lr;for(const Mi of qr)for(const Na of Mi.positionedGlyphs)Na.x+=Ho,Na.y+=Ei})(at.positionedLines,_i,ki,yo,Qr,pa,bt,xi,Et.length),at.top+=-yo*xi,at.bottom=at.top+xi,at.left+=-ki*Qr,at.right=at.left+Qr}(ut,o,c,p,Me,S,C,D,X,H,re,be),!function(at){for(const Nt of at)if(Nt.positionedGlyphs.length!==0)return!1;return!0}(Ve)&&ut}const Um={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},KD={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ZE(l,o,c,p,x,b){if(o.imageName){const S=p[o.imageName];return S?S.displaySize[0]*o.scale*hi/b+x:0}{const S=c[o.fontStack],C=S&&S[l];return C?C.metrics.advance*o.scale+x:0}}function KE(l,o,c,p){const x=Math.pow(l-o,2);return p?l<o?x/2:2*x:x+Math.abs(c)*c}function XD(l,o,c){let p=0;return l===10&&(p-=1e4),c&&(p+=150),l!==40&&l!==65288||(p+=50),o!==41&&o!==65289||(p+=50),p}function XE(l,o,c,p,x,b){let S=null,C=KE(o,c,x,b);for(const D of p){const H=KE(o-D.x,c,x,b)+D.badness;H<=C&&(S=D,C=H)}return{index:l,x:o,priorBreak:S,badness:C}}function YE(l){return l?YE(l.priorBreak).concat(l.index):[]}function o0(l,o,c,p,x,b,S){if(b!=="point")return[];if(!l)return[];const C=[],D=function(re,ie,ae,be,_e,Me){let He=0;for(let Ce=0;Ce<re.length();Ce++){const Ve=re.getSection(Ce);He+=ZE(re.getCharCode(Ce),Ve,be,_e,ie,Me)}return He/Math.max(1,Math.ceil(He/ae))}(l,o,c,p,x,S),H=l.text.indexOf("​")>=0;let q=0;for(let re=0;re<l.length();re++){const ie=l.getSection(re),ae=l.getCharCode(re);if(Um[ae]||(q+=ZE(ae,ie,p,x,o,S)),re<l.length()-1){const be=!((X=ae)<11904||!(wt["Bopomofo Extended"](X)||wt.Bopomofo(X)||wt["CJK Compatibility Forms"](X)||wt["CJK Compatibility Ideographs"](X)||wt["CJK Compatibility"](X)||wt["CJK Radicals Supplement"](X)||wt["CJK Strokes"](X)||wt["CJK Symbols and Punctuation"](X)||wt["CJK Unified Ideographs Extension A"](X)||wt["CJK Unified Ideographs"](X)||wt["Enclosed CJK Letters and Months"](X)||wt["Halfwidth and Fullwidth Forms"](X)||wt.Hiragana(X)||wt["Ideographic Description Characters"](X)||wt["Kangxi Radicals"](X)||wt["Katakana Phonetic Extensions"](X)||wt.Katakana(X)||wt["Vertical Forms"](X)||wt["Yi Radicals"](X)||wt["Yi Syllables"](X)));(KD[ae]||be||ie.imageName)&&C.push(XE(re+1,q,D,C,XD(ae,l.getCharCode(re+1),be&&H),!1))}}var X;return YE(XE(l.length(),q,D,C,0,!0))}function a0(l){let o=.5,c=.5;switch(l){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:o,verticalAlign:c}}function YD(l,o,c,p,x){if(!p&&!x)return;const b=l[c],S=(l[c].x+b.metrics.advance*b.scale)*p;for(let C=o;C<=c;C++)l[C].x-=S,l[C].y+=x}function JD(l,o,c){const{horizontalAlign:p,verticalAlign:x}=a0(c),b=o[0]-l.displaySize[0]*p,S=o[1]-l.displaySize[1]*x;return{image:l,top:S,bottom:S+l.displaySize[1],left:b,right:b+l.displaySize[0]}}function JE(l,o,c,p,x,b){const S=l.image;let C;if(S.content){const _e=S.content,Me=S.pixelRatio||1;C=[_e[0]/Me,_e[1]/Me,S.displaySize[0]-_e[2]/Me,S.displaySize[1]-_e[3]/Me]}const D=o.left*b,H=o.right*b;let q,X,re,ie;c==="width"||c==="both"?(ie=x[0]+D-p[3],X=x[0]+H+p[1]):(ie=x[0]+(D+H-S.displaySize[0])/2,X=ie+S.displaySize[0]);const ae=o.top*b,be=o.bottom*b;return c==="height"||c==="both"?(q=x[1]+ae-p[0],re=x[1]+be+p[2]):(q=x[1]+(ae+be-S.displaySize[1])/2,re=q+S.displaySize[1]),{image:S,top:q,right:X,bottom:re,left:ie,collisionPadding:C}}const Bl=128;function QE(l,o){const{expression:c}=o;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new tr(l+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:p,interpolationType:x}=c;let b=0;for(;b<p.length&&p[b]<=l;)b++;b=Math.max(0,b-1);let S=b;for(;S<p.length&&p[S]<l+1;)S++;S=Math.min(p.length-1,S);const C=p[b],D=p[S];return c.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:D,interpolationType:x}:{kind:"camera",minZoom:C,maxZoom:D,minSize:c.evaluate(new tr(C)),maxSize:c.evaluate(new tr(D)),interpolationType:x}}}class Ou extends Ye{constructor(o,c,p,x){super(o,c),this.angle=p,x!==void 0&&(this.segment=x)}clone(){return new Ou(this.x,this.y,this.angle,this.segment)}}function eS(l,o,c,p,x){if(o.segment===void 0)return!0;let b=o,S=o.segment+1,C=0;for(;C>-c/2;){if(S--,S<0)return!1;C-=l[S].dist(b),b=l[S]}C+=l[S].dist(l[S+1]),S++;const D=[];let H=0;for(;C<c/2;){const q=l[S],X=l[S+1];if(!X)return!1;let re=l[S-1].angleTo(q)-q.angleTo(X);for(re=Math.abs((re+3*Math.PI)%(2*Math.PI)-Math.PI),D.push({distance:C,angleDelta:re}),H+=re;C-D[0].distance>p;)H-=D.shift().angleDelta;if(H>x)return!1;S++,C+=q.dist(X)}return!0}function tS(l){let o=0;for(let c=0;c<l.length-1;c++)o+=l[c].dist(l[c+1]);return o}function nS(l,o,c){return l?.6*o*c:0}function rS(l,o){return Math.max(l?l.right-l.left:0,o?o.right-o.left:0)}function QD(l,o,c,p,x,b){const S=nS(c,x,b),C=rS(c,p)*b;let D=0;const H=tS(l)/2;for(let q=0;q<l.length-1;q++){const X=l[q],re=l[q+1],ie=X.dist(re);if(D+ie>H){const ae=(H-D)/ie,be=Vt(X.x,re.x,ae),_e=Vt(X.y,re.y,ae),Me=new Ou(be,_e,re.angleTo(X),q);return Me._round(),!S||eS(l,Me,C,S,o)?Me:void 0}D+=ie}}function eN(l,o,c,p,x,b,S,C,D){const H=nS(p,b,S),q=rS(p,x),X=q*S,re=l[0].x===0||l[0].x===D||l[0].y===0||l[0].y===D;return o-X<o/4&&(o=X+o/4),iS(l,re?o/2*C%o:(q/2+2*b)*S*C%o,o,H,c,X,re,!1,D)}function iS(l,o,c,p,x,b,S,C,D){const H=b/2,q=tS(l);let X=0,re=o-c,ie=[];for(let ae=0;ae<l.length-1;ae++){const be=l[ae],_e=l[ae+1],Me=be.dist(_e),He=_e.angleTo(be);for(;re+c<X+Me;){re+=c;const Ce=(re-X)/Me,Ve=Vt(be.x,_e.x,Ce),ut=Vt(be.y,_e.y,Ce);if(Ve>=0&&Ve<D&&ut>=0&&ut<D&&re-H>=0&&re+H<=q){const at=new Ou(Ve,ut,He,ae);at._round(),p&&!eS(l,at,b,p,x)||ie.push(at)}}X+=Me}return C||ie.length||S||(ie=iS(l,X/2,c,p,x,b,S,!0,D)),ie}function oS(l,o,c,p,x){const b=[];for(let S=0;S<l.length;S++){const C=l[S];let D;for(let H=0;H<C.length-1;H++){let q=C[H],X=C[H+1];q.x<o&&X.x<o||(q.x<o?q=new Ye(o,q.y+(o-q.x)/(X.x-q.x)*(X.y-q.y))._round():X.x<o&&(X=new Ye(o,q.y+(o-q.x)/(X.x-q.x)*(X.y-q.y))._round()),q.y<c&&X.y<c||(q.y<c?q=new Ye(q.x+(c-q.y)/(X.y-q.y)*(X.x-q.x),c)._round():X.y<c&&(X=new Ye(q.x+(c-q.y)/(X.y-q.y)*(X.x-q.x),c)._round()),q.x>=p&&X.x>=p||(q.x>=p?q=new Ye(p,q.y+(p-q.x)/(X.x-q.x)*(X.y-q.y))._round():X.x>=p&&(X=new Ye(p,q.y+(p-q.x)/(X.x-q.x)*(X.y-q.y))._round()),q.y>=x&&X.y>=x||(q.y>=x?q=new Ye(q.x+(x-q.y)/(X.y-q.y)*(X.x-q.x),x)._round():X.y>=x&&(X=new Ye(q.x+(x-q.y)/(X.y-q.y)*(X.x-q.x),x)._round()),D&&q.equals(D[D.length-1])||(D=[q],b.push(D)),D.push(X)))))}}return b}function aS(l,o,c,p){const x=[],b=l.image,S=b.pixelRatio,C=b.paddedRect.w-2,D=b.paddedRect.h-2,H=l.right-l.left,q=l.bottom-l.top,X=b.stretchX||[[0,C]],re=b.stretchY||[[0,D]],ie=(bt,At)=>bt+At[1]-At[0],ae=X.reduce(ie,0),be=re.reduce(ie,0),_e=C-ae,Me=D-be;let He=0,Ce=ae,Ve=0,ut=be,at=0,Nt=_e,Ut=0,It=Me;if(b.content&&p){const bt=b.content;He=Vm(X,0,bt[0]),Ve=Vm(re,0,bt[1]),Ce=Vm(X,bt[0],bt[2]),ut=Vm(re,bt[1],bt[3]),at=bt[0]-He,Ut=bt[1]-Ve,Nt=bt[2]-bt[0]-Ce,It=bt[3]-bt[1]-ut}const Et=(bt,At,St,gt)=>{const Kt=Hm(bt.stretch-He,Ce,H,l.left),Ht=jm(bt.fixed-at,Nt,bt.stretch,ae),In=Hm(At.stretch-Ve,ut,q,l.top),gr=jm(At.fixed-Ut,It,At.stretch,be),Er=Hm(St.stretch-He,Ce,H,l.left),Qr=jm(St.fixed-at,Nt,St.stretch,ae),pa=Hm(gt.stretch-Ve,ut,q,l.top),_i=jm(gt.fixed-Ut,It,gt.stretch,be),Gr=new Ye(Kt,In),ii=new Ye(Er,In),xi=new Ye(Er,pa),ki=new Ye(Kt,pa),yo=new Ye(Ht/S,gr/S),qr=new Ye(Qr/S,_i/S),bi=o*Math.PI/180;if(bi){const _o=Math.sin(bi),xo=Math.cos(bi),Lr=[xo,-_o,_o,xo];Gr._matMult(Lr),ii._matMult(Lr),ki._matMult(Lr),xi._matMult(Lr)}const Li=bt.stretch+bt.fixed,Qi=At.stretch+At.fixed;return{tl:Gr,tr:ii,bl:ki,br:xi,tex:{x:b.paddedRect.x+1+Li,y:b.paddedRect.y+1+Qi,w:St.stretch+St.fixed-Li,h:gt.stretch+gt.fixed-Qi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:yo,pixelOffsetBR:qr,minFontScaleX:Nt/S/H,minFontScaleY:It/S/q,isSDF:c}};if(p&&(b.stretchX||b.stretchY)){const bt=sS(X,_e,ae),At=sS(re,Me,be);for(let St=0;St<bt.length-1;St++){const gt=bt[St],Kt=bt[St+1];for(let Ht=0;Ht<At.length-1;Ht++)x.push(Et(gt,At[Ht],Kt,At[Ht+1]))}}else x.push(Et({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:D+1}));return x}function Vm(l,o,c){let p=0;for(const x of l)p+=Math.max(o,Math.min(c,x[1]))-Math.max(o,Math.min(c,x[0]));return p}function sS(l,o,c){const p=[{fixed:-1,stretch:0}];for(const[x,b]of l){const S=p[p.length-1];p.push({fixed:x-S.stretch,stretch:S.stretch}),p.push({fixed:x-S.stretch,stretch:S.stretch+(b-x)})}return p.push({fixed:o+1,stretch:c}),p}function Hm(l,o,c,p){return l/o*c+p}function jm(l,o,c,p){return l-o*c/p}Tt("Anchor",Ou);class $m{constructor(o,c,p,x,b,S,C,D,H,q){if(this.boxStartIndex=o.length,H){let X=S.top,re=S.bottom;const ie=S.collisionPadding;ie&&(X-=ie[1],re+=ie[3]);let ae=re-X;ae>0&&(ae=Math.max(10,ae),this.circleDiameter=ae)}else{let X=S.top*C-D[0],re=S.bottom*C+D[2],ie=S.left*C-D[3],ae=S.right*C+D[1];const be=S.collisionPadding;if(be&&(ie-=be[0]*C,X-=be[1]*C,ae+=be[2]*C,re+=be[3]*C),q){const _e=new Ye(ie,X),Me=new Ye(ae,X),He=new Ye(ie,re),Ce=new Ye(ae,re),Ve=q*Math.PI/180;_e._rotate(Ve),Me._rotate(Ve),He._rotate(Ve),Ce._rotate(Ve),ie=Math.min(_e.x,Me.x,He.x,Ce.x),ae=Math.max(_e.x,Me.x,He.x,Ce.x),X=Math.min(_e.y,Me.y,He.y,Ce.y),re=Math.max(_e.y,Me.y,He.y,Ce.y)}o.emplaceBack(c.x,c.y,ie,X,ae,re,p,x,b)}this.boxEndIndex=o.length}}class tN{constructor(o=[],c=nN){if(this.data=o,this.length=this.data.length,this.compare=c,this.length>0)for(let p=(this.length>>1)-1;p>=0;p--)this._down(p)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const o=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:c,compare:p}=this,x=c[o];for(;o>0;){const b=o-1>>1,S=c[b];if(p(x,S)>=0)break;c[o]=S,o=b}c[o]=x}_down(o){const{data:c,compare:p}=this,x=this.length>>1,b=c[o];for(;o<x;){let S=1+(o<<1),C=c[S];const D=S+1;if(D<this.length&&p(c[D],C)<0&&(S=D,C=c[D]),p(C,b)>=0)break;c[o]=C,o=S}c[o]=b}}function nN(l,o){return l<o?-1:l>o?1:0}function rN(l,o=1,c=!1){let p=1/0,x=1/0,b=-1/0,S=-1/0;const C=l[0];for(let ie=0;ie<C.length;ie++){const ae=C[ie];(!ie||ae.x<p)&&(p=ae.x),(!ie||ae.y<x)&&(x=ae.y),(!ie||ae.x>b)&&(b=ae.x),(!ie||ae.y>S)&&(S=ae.y)}const D=Math.min(b-p,S-x);let H=D/2;const q=new tN([],iN);if(D===0)return new Ye(p,x);for(let ie=p;ie<b;ie+=D)for(let ae=x;ae<S;ae+=D)q.push(new Wh(ie+H,ae+H,H,l));let X=function(ie){let ae=0,be=0,_e=0;const Me=ie[0];for(let He=0,Ce=Me.length,Ve=Ce-1;He<Ce;Ve=He++){const ut=Me[He],at=Me[Ve],Nt=ut.x*at.y-at.x*ut.y;be+=(ut.x+at.x)*Nt,_e+=(ut.y+at.y)*Nt,ae+=3*Nt}return new Wh(be/ae,_e/ae,0,ie)}(l),re=q.length;for(;q.length;){const ie=q.pop();(ie.d>X.d||!X.d)&&(X=ie,c&&console.log("found best %d after %d probes",Math.round(1e4*ie.d)/1e4,re)),ie.max-X.d<=o||(H=ie.h/2,q.push(new Wh(ie.p.x-H,ie.p.y-H,H,l)),q.push(new Wh(ie.p.x+H,ie.p.y-H,H,l)),q.push(new Wh(ie.p.x-H,ie.p.y+H,H,l)),q.push(new Wh(ie.p.x+H,ie.p.y+H,H,l)),re+=4)}return c&&(console.log(`num probes: ${re}`),console.log(`best distance: ${X.d}`)),X.p}function iN(l,o){return o.max-l.max}function Wh(l,o,c,p){this.p=new Ye(l,o),this.h=c,this.d=function(x,b){let S=!1,C=1/0;for(let D=0;D<b.length;D++){const H=b[D];for(let q=0,X=H.length,re=X-1;q<X;re=q++){const ie=H[q],ae=H[re];ie.y>x.y!=ae.y>x.y&&x.x<(ae.x-ie.x)*(x.y-ie.y)/(ae.y-ie.y)+ie.x&&(S=!S),C=Math.min(C,wr(x,ie,ae))}}return(S?1:-1)*Math.sqrt(C)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}const s0=Number.POSITIVE_INFINITY;function lS(l,o){return o[1]!==s0?function(c,p,x){let b=0,S=0;switch(p=Math.abs(p),x=Math.abs(x),c){case"top-right":case"top-left":case"top":S=x-7;break;case"bottom-right":case"bottom-left":case"bottom":S=7-x}switch(c){case"top-right":case"bottom-right":case"right":b=-p;break;case"top-left":case"bottom-left":case"left":b=p}return[b,S]}(l,o[0],o[1]):function(c,p){let x=0,b=0;p<0&&(p=0);const S=p/Math.sqrt(2);switch(c){case"top-right":case"top-left":b=S-7;break;case"bottom-right":case"bottom-left":b=7-S;break;case"bottom":b=7-p;break;case"top":b=p-7}switch(c){case"top-right":case"bottom-right":x=-S;break;case"top-left":case"bottom-left":x=S;break;case"left":x=p;break;case"right":x=-p}return[x,b]}(l,o[0])}function l0(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function oN(l,o,c,p,x,b,S,C,D,H,q){let X=b.textMaxSize.evaluate(o,{});X===void 0&&(X=S);const re=l.layers[0].layout,ie=re.get("icon-offset").evaluate(o,{},q),ae=cS(c.horizontal),be=S/24,_e=l.tilePixelRatio*be,Me=l.tilePixelRatio*X/24,He=l.tilePixelRatio*C,Ce=l.tilePixelRatio*re.get("symbol-spacing"),Ve=re.get("text-padding")*l.tilePixelRatio,ut=function(gt,Kt,Ht,In=1){const gr=gt.get("icon-padding").evaluate(Kt,{},Ht),Er=gr&&gr.values;return[Er[0]*In,Er[1]*In,Er[2]*In,Er[3]*In]}(re,o,q,l.tilePixelRatio),at=re.get("text-max-angle")/180*Math.PI,Nt=re.get("text-rotation-alignment")!=="viewport"&&re.get("symbol-placement")!=="point",Ut=re.get("icon-rotation-alignment")==="map"&&re.get("symbol-placement")!=="point",It=re.get("symbol-placement"),Et=Ce/2,bt=re.get("icon-text-fit");let At;p&&bt!=="none"&&(l.allowVerticalPlacement&&c.vertical&&(At=JE(p,c.vertical,bt,re.get("icon-text-fit-padding"),ie,be)),ae&&(p=JE(p,ae,bt,re.get("icon-text-fit-padding"),ie,be)));const St=(gt,Kt)=>{Kt.x<0||Kt.x>=qn||Kt.y<0||Kt.y>=qn||function(Ht,In,gr,Er,Qr,pa,_i,Gr,ii,xi,ki,yo,qr,bi,Li,Qi,_o,xo,Lr,wi,An,Ho,Ei,Mi,Na){const hs=Ht.addToLineVertexArray(In,gr);let ds,Fl,za,ma,bo=0,Ul=0,Rf=0,PS=0,b0=-1,w0=-1;const Vl={};let OS=ne(""),E0=0,S0=0;if(Gr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[E0,S0]=Gr.layout.get("text-offset").evaluate(An,{},Mi).map(wo=>wo*hi):(E0=Gr.layout.get("text-radial-offset").evaluate(An,{},Mi)*hi,S0=s0),Ht.allowVerticalPlacement&&Er.vertical){const wo=Gr.layout.get("text-rotate").evaluate(An,{},Mi)+90;za=new $m(ii,In,xi,ki,yo,Er.vertical,qr,bi,Li,wo),_i&&(ma=new $m(ii,In,xi,ki,yo,_i,_o,xo,Li,wo))}if(Qr){const wo=Gr.layout.get("icon-rotate").evaluate(An,{}),Ks=Gr.layout.get("icon-text-fit")!=="none",kf=aS(Qr,wo,Ei,Ks),Lf=_i?aS(_i,wo,Ei,Ks):void 0;Fl=new $m(ii,In,xi,ki,yo,Qr,_o,xo,!1,wo),bo=4*kf.length;const kS=Ht.iconSizeData;let Kc=null;kS.kind==="source"?(Kc=[Bl*Gr.layout.get("icon-size").evaluate(An,{})],Kc[0]>Cu&&Q(`${Ht.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):kS.kind==="composite"&&(Kc=[Bl*Ho.compositeIconSizes[0].evaluate(An,{},Mi),Bl*Ho.compositeIconSizes[1].evaluate(An,{},Mi)],(Kc[0]>Cu||Kc[1]>Cu)&&Q(`${Ht.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Ht.addSymbols(Ht.icon,kf,Kc,wi,Lr,An,s.WritingMode.none,In,hs.lineStartIndex,hs.lineLength,-1,Mi),b0=Ht.icon.placedSymbolArray.length-1,Lf&&(Ul=4*Lf.length,Ht.addSymbols(Ht.icon,Lf,Kc,wi,Lr,An,s.WritingMode.vertical,In,hs.lineStartIndex,hs.lineLength,-1,Mi),w0=Ht.icon.placedSymbolArray.length-1)}const CS=Object.keys(Er.horizontal);for(const wo of CS){const Ks=Er.horizontal[wo];if(!ds){OS=ne(Ks.text);const Lf=Gr.layout.get("text-rotate").evaluate(An,{},Mi);ds=new $m(ii,In,xi,ki,yo,Ks,qr,bi,Li,Lf)}const kf=Ks.positionedLines.length===1;if(Rf+=uS(Ht,In,Ks,pa,Gr,Li,An,Qi,hs,Er.vertical?s.WritingMode.horizontal:s.WritingMode.horizontalOnly,kf?CS:[wo],Vl,b0,Ho,Mi),kf)break}Er.vertical&&(PS+=uS(Ht,In,Er.vertical,pa,Gr,Li,An,Qi,hs,s.WritingMode.vertical,["vertical"],Vl,w0,Ho,Mi));const xN=ds?ds.boxStartIndex:Ht.collisionBoxArray.length,bN=ds?ds.boxEndIndex:Ht.collisionBoxArray.length,wN=za?za.boxStartIndex:Ht.collisionBoxArray.length,EN=za?za.boxEndIndex:Ht.collisionBoxArray.length,SN=Fl?Fl.boxStartIndex:Ht.collisionBoxArray.length,TN=Fl?Fl.boxEndIndex:Ht.collisionBoxArray.length,IN=ma?ma.boxStartIndex:Ht.collisionBoxArray.length,AN=ma?ma.boxEndIndex:Ht.collisionBoxArray.length;let fs=-1;const Km=(wo,Ks)=>wo&&wo.circleDiameter?Math.max(wo.circleDiameter,Ks):Ks;fs=Km(ds,fs),fs=Km(za,fs),fs=Km(Fl,fs),fs=Km(ma,fs);const RS=fs>-1?1:0;RS&&(fs*=Na/hi),Ht.glyphOffsetArray.length>=Zh.MAX_GLYPHS&&Q("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),An.sortKey!==void 0&&Ht.addToSortKeyRanges(Ht.symbolInstances.length,An.sortKey),Ht.symbolInstances.emplaceBack(In.x,In.y,Vl.right>=0?Vl.right:-1,Vl.center>=0?Vl.center:-1,Vl.left>=0?Vl.left:-1,Vl.vertical||-1,b0,w0,OS,xN,bN,wN,EN,SN,TN,IN,AN,xi,Rf,PS,bo,Ul,RS,0,qr,E0,S0,fs)}(l,Kt,gt,c,p,x,At,l.layers[0],l.collisionBoxArray,o.index,o.sourceLayerIndex,l.index,_e,[Ve,Ve,Ve,Ve],Nt,D,He,ut,Ut,ie,o,b,H,q,S)};if(It==="line")for(const gt of oS(o.geometry,0,0,qn,qn)){const Kt=eN(gt,Ce,at,c.vertical||ae,p,24,Me,l.overscaling,qn);for(const Ht of Kt)ae&&aN(l,ae.text,Et,Ht)||St(gt,Ht)}else if(It==="line-center"){for(const gt of o.geometry)if(gt.length>1){const Kt=QD(gt,at,c.vertical||ae,p,24,Me);Kt&&St(gt,Kt)}}else if(o.type==="Polygon")for(const gt of K_(o.geometry,0)){const Kt=rN(gt,16);St(gt[0],new Ou(Kt.x,Kt.y,0))}else if(o.type==="LineString")for(const gt of o.geometry)St(gt,new Ou(gt[0].x,gt[0].y,0));else if(o.type==="Point")for(const gt of o.geometry)for(const Kt of gt)St([Kt],new Ou(Kt.x,Kt.y,0))}const Cu=32640;function uS(l,o,c,p,x,b,S,C,D,H,q,X,re,ie,ae){const be=function(He,Ce,Ve,ut,at,Nt,Ut,It){const Et=ut.layout.get("text-rotate").evaluate(Nt,{})*Math.PI/180,bt=[];for(const At of Ce.positionedLines)for(const St of At.positionedGlyphs){if(!St.rect)continue;const gt=St.rect||{};let Kt=4,Ht=!0,In=1,gr=0;const Er=(at||It)&&St.vertical,Qr=St.metrics.advance*St.scale/2;if(It&&Ce.verticalizable&&(gr=At.lineOffset/2-(St.imageName?-(hi-St.metrics.width*St.scale)/2:(St.scale-1)*hi)),St.imageName){const Lr=Ut[St.imageName];Ht=Lr.sdf,In=Lr.pixelRatio,Kt=1/In}const pa=at?[St.x+Qr,St.y]:[0,0];let _i=at?[0,0]:[St.x+Qr+Ve[0],St.y+Ve[1]-gr],Gr=[0,0];Er&&(Gr=_i,_i=[0,0]);const ii=(St.metrics.left-Kt)*St.scale-Qr+_i[0],xi=(-St.metrics.top-Kt)*St.scale+_i[1],ki=ii+gt.w*St.scale/In,yo=xi+gt.h*St.scale/In,qr=new Ye(ii,xi),bi=new Ye(ki,xi),Li=new Ye(ii,yo),Qi=new Ye(ki,yo);if(Er){const Lr=new Ye(-Qr,Qr-Bm),wi=-Math.PI/2,An=12-Qr,Ho=new Ye(22-An,-(St.imageName?An:0)),Ei=new Ye(...Gr);qr._rotateAround(wi,Lr)._add(Ho)._add(Ei),bi._rotateAround(wi,Lr)._add(Ho)._add(Ei),Li._rotateAround(wi,Lr)._add(Ho)._add(Ei),Qi._rotateAround(wi,Lr)._add(Ho)._add(Ei)}if(Et){const Lr=Math.sin(Et),wi=Math.cos(Et),An=[wi,-Lr,Lr,wi];qr._matMult(An),bi._matMult(An),Li._matMult(An),Qi._matMult(An)}const _o=new Ye(0,0),xo=new Ye(0,0);bt.push({tl:qr,tr:bi,bl:Li,br:Qi,tex:gt,writingMode:Ce.writingMode,glyphOffset:pa,sectionIndex:St.sectionIndex,isSDF:Ht,pixelOffsetTL:_o,pixelOffsetBR:xo,minFontScaleX:0,minFontScaleY:0})}return bt}(0,c,C,x,b,S,p,l.allowVerticalPlacement),_e=l.textSizeData;let Me=null;_e.kind==="source"?(Me=[Bl*x.layout.get("text-size").evaluate(S,{})],Me[0]>Cu&&Q(`${l.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):_e.kind==="composite"&&(Me=[Bl*ie.compositeTextSizes[0].evaluate(S,{},ae),Bl*ie.compositeTextSizes[1].evaluate(S,{},ae)],(Me[0]>Cu||Me[1]>Cu)&&Q(`${l.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),l.addSymbols(l.text,be,Me,C,b,S,H,o,D.lineStartIndex,D.lineLength,re,ae);for(const He of q)X[He]=l.text.placedSymbolArray.length-1;return 4*be.length}function cS(l){for(const o in l)return l[o];return null}function aN(l,o,c,p){const x=l.compareText;if(o in x){const b=x[o];for(let S=b.length-1;S>=0;S--)if(p.dist(b[S])<c)return!0}else x[o]=[];return x[o].push(p),!1}const sN=Au.VectorTileFeature.types,lN=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Gm(l,o,c,p,x,b,S,C,D,H,q,X,re){const ie=C?Math.min(Cu,Math.round(C[0])):0,ae=C?Math.min(Cu,Math.round(C[1])):0;l.emplaceBack(o,c,Math.round(32*p),Math.round(32*x),b,S,(ie<<1)+(D?1:0),ae,16*H,16*q,256*X,256*re)}function u0(l,o,c){l.emplaceBack(o.x,o.y,c),l.emplaceBack(o.x,o.y,c),l.emplaceBack(o.x,o.y,c),l.emplaceBack(o.x,o.y,c)}function uN(l){for(const o of l.sections)if(Ji(o.text))return!0;return!1}class c0{constructor(o){this.layoutVertexArray=new v,this.indexArray=new E,this.programConfigurations=o,this.segments=new U,this.dynamicLayoutVertexArray=new a,this.opacityVertexArray=new d,this.hasVisibleVertices=!1,this.placedSymbolArray=new Su}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(o,c,p,x){this.isEmpty()||(p&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,kD.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,LD.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,lN,!0),this.opacityVertexBuffer.itemSize=1),(p||x)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Tt("SymbolBuffers",c0);class h0{constructor(o,c,p){this.layoutVertexArray=new o,this.layoutAttributes=c,this.indexArray=new p,this.segments=new U,this.collisionVertexArray=new _}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,MD.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Tt("CollisionBuffers",h0);class Zh{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(S=>S.id),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=j_([]),this.placementViewportMatrix=j_([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=QE(this.zoom,c["text-size"]),this.iconSizeData=QE(this.zoom,c["icon-size"]);const p=this.layers[0].layout,x=p.get("symbol-sort-key"),b=p.get("symbol-z-order");this.canOverlap=f0(p,"text-overlap","text-allow-overlap")!=="never"||f0(p,"icon-overlap","icon-allow-overlap")!=="never"||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!x.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,p.get("symbol-placement")==="point"&&(this.writingModes=p.get("text-writing-mode").map(S=>s.WritingMode[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=o.sourceID}createArrays(){this.text=new c0(new _n(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new c0(new _n(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new Dl,this.lineVertexArray=new Gc,this.symbolInstances=new Om}calculateGlyphDependencies(o,c,p,x,b){for(let S=0;S<o.length;S++)if(c[o.charCodeAt(S)]=!0,(p||x)&&b){const C=If[o.charAt(S)];C&&(c[C.charCodeAt(0)]=!0)}}populate(o,c,p){const x=this.layers[0],b=x.layout,S=b.get("text-font"),C=b.get("text-field"),D=b.get("icon-image"),H=(C.value.kind!=="constant"||C.value.value instanceof Yt&&!C.value.value.isEmpty()||C.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),q=D.value.kind!=="constant"||!!D.value.value||Object.keys(D.parameters).length>0,X=b.get("symbol-sort-key");if(this.features=[],!H&&!q)return;const re=c.iconDependencies,ie=c.glyphDependencies,ae=c.availableImages,be=new tr(this.zoom);for(const{feature:_e,id:Me,index:He,sourceLayerIndex:Ce}of o){const Ve=x._featureFilter.needGeometry,ut=vo(_e,Ve);if(!x._featureFilter.filter(be,ut,p))continue;let at,Nt;if(Ve||(ut.geometry=yi(_e)),H){const It=x.getValueAndResolveTokens("text-field",ut,p,ae),Et=Yt.factory(It);uN(Et)&&(this.hasRTLText=!0),(!this.hasRTLText||ls()==="unavailable"||this.hasRTLText&&li.isParsed())&&(at=ND(Et,x,ut))}if(q){const It=x.getValueAndResolveTokens("icon-image",ut,p,ae);Nt=It instanceof Qn?It:Qn.fromString(It)}if(!at&&!Nt)continue;const Ut=this.sortFeaturesByKey?X.evaluate(ut,{},p):void 0;if(this.features.push({id:Me,text:at,icon:Nt,index:He,sourceLayerIndex:Ce,geometry:ut.geometry,properties:_e.properties,type:sN[_e.type],sortKey:Ut}),Nt&&(re[Nt.name]=!0),at){const It=S.evaluate(ut,{},p).join(","),Et=b.get("text-rotation-alignment")!=="viewport"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.WritingMode.vertical)>=0;for(const bt of at.sections)if(bt.image)re[bt.image.name]=!0;else{const At=zc(at.toString()),St=bt.fontStack||It,gt=ie[St]=ie[St]||{};this.calculateGlyphDependencies(bt.text,gt,Et,this.allowVerticalPlacement,At)}}}b.get("symbol-placement")==="line"&&(this.features=function(_e){const Me={},He={},Ce=[];let Ve=0;function ut(It){Ce.push(_e[It]),Ve++}function at(It,Et,bt){const At=He[It];return delete He[It],He[Et]=At,Ce[At].geometry[0].pop(),Ce[At].geometry[0]=Ce[At].geometry[0].concat(bt[0]),At}function Nt(It,Et,bt){const At=Me[Et];return delete Me[Et],Me[It]=At,Ce[At].geometry[0].shift(),Ce[At].geometry[0]=bt[0].concat(Ce[At].geometry[0]),At}function Ut(It,Et,bt){const At=bt?Et[0][Et[0].length-1]:Et[0][0];return`${It}:${At.x}:${At.y}`}for(let It=0;It<_e.length;It++){const Et=_e[It],bt=Et.geometry,At=Et.text?Et.text.toString():null;if(!At){ut(It);continue}const St=Ut(At,bt),gt=Ut(At,bt,!0);if(St in He&&gt in Me&&He[St]!==Me[gt]){const Kt=Nt(St,gt,bt),Ht=at(St,gt,Ce[Kt].geometry);delete Me[St],delete He[gt],He[Ut(At,Ce[Ht].geometry,!0)]=Ht,Ce[Kt].geometry=null}else St in He?at(St,gt,bt):gt in Me?Nt(St,gt,bt):(ut(It),Me[St]=Ve-1,He[gt]=Ve-1)}return Ce.filter(It=>It.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((_e,Me)=>_e.sortKey-Me.sortKey)}update(o,c,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,c,this.layers,p),this.icon.programConfigurations.updatePaintArrays(o,c,this.layers,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,c){const p=this.lineVertexArray.length;if(o.segment!==void 0){let x=o.dist(c[o.segment+1]),b=o.dist(c[o.segment]);const S={};for(let C=o.segment+1;C<c.length;C++)S[C]={x:c[C].x,y:c[C].y,tileUnitDistanceFromAnchor:x},C<c.length-1&&(x+=c[C+1].dist(c[C]));for(let C=o.segment||0;C>=0;C--)S[C]={x:c[C].x,y:c[C].y,tileUnitDistanceFromAnchor:b},C>0&&(b+=c[C-1].dist(c[C]));for(let C=0;C<c.length;C++){const D=S[C];this.lineVertexArray.emplaceBack(D.x,D.y,D.tileUnitDistanceFromAnchor)}}return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}}addSymbols(o,c,p,x,b,S,C,D,H,q,X,re){const ie=o.indexArray,ae=o.layoutVertexArray,be=o.segments.prepareSegment(4*c.length,ae,ie,this.canOverlap?S.sortKey:void 0),_e=this.glyphOffsetArray.length,Me=be.vertexLength,He=this.allowVerticalPlacement&&C===s.WritingMode.vertical?Math.PI/2:0,Ce=S.text&&S.text.sections;for(let Ve=0;Ve<c.length;Ve++){const{tl:ut,tr:at,bl:Nt,br:Ut,tex:It,pixelOffsetTL:Et,pixelOffsetBR:bt,minFontScaleX:At,minFontScaleY:St,glyphOffset:gt,isSDF:Kt,sectionIndex:Ht}=c[Ve],In=be.vertexLength,gr=gt[1];Gm(ae,D.x,D.y,ut.x,gr+ut.y,It.x,It.y,p,Kt,Et.x,Et.y,At,St),Gm(ae,D.x,D.y,at.x,gr+at.y,It.x+It.w,It.y,p,Kt,bt.x,Et.y,At,St),Gm(ae,D.x,D.y,Nt.x,gr+Nt.y,It.x,It.y+It.h,p,Kt,Et.x,bt.y,At,St),Gm(ae,D.x,D.y,Ut.x,gr+Ut.y,It.x+It.w,It.y+It.h,p,Kt,bt.x,bt.y,At,St),u0(o.dynamicLayoutVertexArray,D,He),ie.emplaceBack(In,In+1,In+2),ie.emplaceBack(In+1,In+2,In+3),be.vertexLength+=4,be.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(gt[0]),Ve!==c.length-1&&Ht===c[Ve+1].sectionIndex||o.programConfigurations.populatePaintArrays(ae.length,S,S.index,{},re,Ce&&Ce[Ht])}o.placedSymbolArray.emplaceBack(D.x,D.y,_e,this.glyphOffsetArray.length-_e,Me,H,q,D.segment,p?p[0]:0,p?p[1]:0,x[0],x[1],C,0,!1,0,X)}_addCollisionDebugVertex(o,c,p,x,b,S){return c.emplaceBack(0,0),o.emplaceBack(p.x,p.y,x,b,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(o,c,p,x,b,S,C){const D=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),H=D.vertexLength,q=b.layoutVertexArray,X=b.collisionVertexArray,re=C.anchorX,ie=C.anchorY;this._addCollisionDebugVertex(q,X,S,re,ie,new Ye(o,c)),this._addCollisionDebugVertex(q,X,S,re,ie,new Ye(p,c)),this._addCollisionDebugVertex(q,X,S,re,ie,new Ye(p,x)),this._addCollisionDebugVertex(q,X,S,re,ie,new Ye(o,x)),D.vertexLength+=4;const ae=b.indexArray;ae.emplaceBack(H,H+1),ae.emplaceBack(H+1,H+2),ae.emplaceBack(H+2,H+3),ae.emplaceBack(H+3,H),D.primitiveLength+=4}addDebugCollisionBoxes(o,c,p,x){for(let b=o;b<c;b++){const S=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,x?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,p)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new h0(m,FE.members,P),this.iconCollisionBox=new h0(m,FE.members,P);for(let o=0;o<this.symbolInstances.length;o++){const c=this.symbolInstances.get(o);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(o,c,p,x,b,S,C,D,H){const q={};for(let X=c;X<p;X++){const re=o.get(X);q.textBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},q.textFeatureIndex=re.featureIndex;break}for(let X=x;X<b;X++){const re=o.get(X);q.verticalTextBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},q.verticalTextFeatureIndex=re.featureIndex;break}for(let X=S;X<C;X++){const re=o.get(X);q.iconBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},q.iconFeatureIndex=re.featureIndex;break}for(let X=D;X<H;X++){const re=o.get(X);q.verticalIconBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},q.verticalIconFeatureIndex=re.featureIndex;break}return q}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const p=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,c){const p=o.placedSymbolArray.get(c),x=p.vertexStartIndex+4*p.numGlyphs;for(let b=p.vertexStartIndex;b<x;b+=4)o.indexArray.emplaceBack(b,b+1,b+2),o.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(o),p=Math.cos(o),x=[],b=[],S=[];for(let C=0;C<this.symbolInstances.length;++C){S.push(C);const D=this.symbolInstances.get(C);x.push(0|Math.round(c*D.anchorX+p*D.anchorY)),b.push(D.featureIndex)}return S.sort((C,D)=>x[C]-x[D]||b[D]-b[C]),S}addToSortKeyRanges(o,c){const p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===c?p.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const p=this.symbolInstances.get(c);this.featureSortOrder.push(p.featureIndex),[p.rightJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.leftJustifiedTextSymbolIndex].forEach((x,b,S)=>{x>=0&&S.indexOf(x)===b&&this.addIndicesForPlacedSymbol(this.text,x)}),p.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,p.verticalPlacedTextSymbolIndex),p.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.placedIconSymbolIndex),p.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Tt("SymbolBucket",Zh,{omit:["layers","collisionBoxArray","features","compareText"]}),Zh.MAX_GLYPHS=65535,Zh.addDynamicAttributes=u0;const cN=new ui({"symbol-placement":new zt(ke.layout_symbol["symbol-placement"]),"symbol-spacing":new zt(ke.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new zt(ke.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Xt(ke.layout_symbol["symbol-sort-key"]),"symbol-z-order":new zt(ke.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new zt(ke.layout_symbol["icon-allow-overlap"]),"icon-overlap":new zt(ke.layout_symbol["icon-overlap"]),"icon-ignore-placement":new zt(ke.layout_symbol["icon-ignore-placement"]),"icon-optional":new zt(ke.layout_symbol["icon-optional"]),"icon-rotation-alignment":new zt(ke.layout_symbol["icon-rotation-alignment"]),"icon-size":new Xt(ke.layout_symbol["icon-size"]),"icon-text-fit":new zt(ke.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new zt(ke.layout_symbol["icon-text-fit-padding"]),"icon-image":new Xt(ke.layout_symbol["icon-image"]),"icon-rotate":new Xt(ke.layout_symbol["icon-rotate"]),"icon-padding":new Xt(ke.layout_symbol["icon-padding"]),"icon-keep-upright":new zt(ke.layout_symbol["icon-keep-upright"]),"icon-offset":new Xt(ke.layout_symbol["icon-offset"]),"icon-anchor":new Xt(ke.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new zt(ke.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new zt(ke.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new zt(ke.layout_symbol["text-rotation-alignment"]),"text-field":new Xt(ke.layout_symbol["text-field"]),"text-font":new Xt(ke.layout_symbol["text-font"]),"text-size":new Xt(ke.layout_symbol["text-size"]),"text-max-width":new Xt(ke.layout_symbol["text-max-width"]),"text-line-height":new zt(ke.layout_symbol["text-line-height"]),"text-letter-spacing":new Xt(ke.layout_symbol["text-letter-spacing"]),"text-justify":new Xt(ke.layout_symbol["text-justify"]),"text-radial-offset":new Xt(ke.layout_symbol["text-radial-offset"]),"text-variable-anchor":new zt(ke.layout_symbol["text-variable-anchor"]),"text-anchor":new Xt(ke.layout_symbol["text-anchor"]),"text-max-angle":new zt(ke.layout_symbol["text-max-angle"]),"text-writing-mode":new zt(ke.layout_symbol["text-writing-mode"]),"text-rotate":new Xt(ke.layout_symbol["text-rotate"]),"text-padding":new zt(ke.layout_symbol["text-padding"]),"text-keep-upright":new zt(ke.layout_symbol["text-keep-upright"]),"text-transform":new Xt(ke.layout_symbol["text-transform"]),"text-offset":new Xt(ke.layout_symbol["text-offset"]),"text-allow-overlap":new zt(ke.layout_symbol["text-allow-overlap"]),"text-overlap":new zt(ke.layout_symbol["text-overlap"]),"text-ignore-placement":new zt(ke.layout_symbol["text-ignore-placement"]),"text-optional":new zt(ke.layout_symbol["text-optional"])});var d0={paint:new ui({"icon-opacity":new Xt(ke.paint_symbol["icon-opacity"]),"icon-color":new Xt(ke.paint_symbol["icon-color"]),"icon-halo-color":new Xt(ke.paint_symbol["icon-halo-color"]),"icon-halo-width":new Xt(ke.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Xt(ke.paint_symbol["icon-halo-blur"]),"icon-translate":new zt(ke.paint_symbol["icon-translate"]),"icon-translate-anchor":new zt(ke.paint_symbol["icon-translate-anchor"]),"text-opacity":new Xt(ke.paint_symbol["text-opacity"]),"text-color":new Xt(ke.paint_symbol["text-color"],{runtimeType:Kn,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new Xt(ke.paint_symbol["text-halo-color"]),"text-halo-width":new Xt(ke.paint_symbol["text-halo-width"]),"text-halo-blur":new Xt(ke.paint_symbol["text-halo-blur"]),"text-translate":new zt(ke.paint_symbol["text-translate"]),"text-translate-anchor":new zt(ke.paint_symbol["text-translate-anchor"])}),layout:cN};class hS{constructor(o){if(o.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=o.property.overrides?o.property.overrides.runtimeType:dn,this.defaultValue=o}evaluate(o){if(o.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(o.formattedSection))return c.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Tt("FormatSectionOverride",hS,{omit:["defaultValue"]});class qm extends go{constructor(o){super(o,d0)}recalculate(o,c){if(super.recalculate(o,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const p=this.layout.get("text-writing-mode");if(p){const x=[];for(const b of p)x.indexOf(b)<0&&x.push(b);this.layout._values["text-writing-mode"]=x}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(o,c,p,x){const b=this.layout.get(o).evaluate(c,{},p,x),S=this._unevaluatedLayout._values[o];return S.isDataDriven()||hu(S.value)||!b?b:function(C,D){return D.replace(/{([^{}]+)}/g,(H,q)=>q in C?String(C[q]):"")}(c.properties,b)}createBucket(o){return new Zh(o)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const o of d0.paint.overridableProperties){if(!qm.hasPaintOverride(this.layout,o))continue;const c=this.paint.get(o),p=new hS(c),x=new Pc(p,c.property.specification);let b=null;b=c.value.kind==="constant"||c.value.kind==="source"?new Oc("source",x):new du("composite",x,c.value.zoomStops),this.paint._values[o]=new mo(c.property,b,c.parameters)}}_handleOverridablePaintPropertyUpdate(o,c,p){return!(!this.layout||c.isDataDriven()||p.isDataDriven())&&qm.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,c){const p=o.get("text-field"),x=d0.paint.properties[c];let b=!1;const S=C=>{for(const D of C)if(x.overrides&&x.overrides.hasOverride(D))return void(b=!0)};if(p.value.kind==="constant"&&p.value.value instanceof Yt)S(p.value.value.sections);else if(p.value.kind==="source"){const C=H=>{b||(H instanceof te&&ue(H.value)===pn?S(H.value.sections):H instanceof Ms?S(H.sections):H.eachChild(C))},D=p.value;D._styleExpression&&C(D._styleExpression.expression)}return b}}function f0(l,o,c){let p="never";const x=l.get(o);return x?p=x:l.get(c)&&(p="always"),p}var hN={paint:new ui({"background-color":new zt(ke.paint_background["background-color"]),"background-pattern":new xu(ke.paint_background["background-pattern"]),"background-opacity":new zt(ke.paint_background["background-opacity"])})},dN={paint:new ui({"raster-opacity":new zt(ke.paint_raster["raster-opacity"]),"raster-hue-rotate":new zt(ke.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new zt(ke.paint_raster["raster-brightness-min"]),"raster-brightness-max":new zt(ke.paint_raster["raster-brightness-max"]),"raster-saturation":new zt(ke.paint_raster["raster-saturation"]),"raster-contrast":new zt(ke.paint_raster["raster-contrast"]),"raster-resampling":new zt(ke.paint_raster["raster-resampling"]),"raster-fade-duration":new zt(ke.paint_raster["raster-fade-duration"])})};class fN extends go{constructor(o){super(o,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=o}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const pN={circle:class extends go{constructor(l){super(l,H_)}createBucket(l){return new ca(l)}queryRadius(l){const o=l;return Nl("circle-radius",this,o)+Nl("circle-stroke-width",this,o)+Uh(this.paint.get("circle-translate"))}queryIntersectsFeature(l,o,c,p,x,b,S,C){const D=Vh(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,S),H=this.paint.get("circle-radius").evaluate(o,c)+this.paint.get("circle-stroke-width").evaluate(o,c),q=this.paint.get("circle-pitch-alignment")==="map",X=q?D:function(ie,ae){return ie.map(be=>wE(be,ae))}(D,C),re=q?H*S:H;for(const ie of p)for(const ae of ie){const be=q?ae:wE(ae,C);let _e=re;const Me=km([],[ae.x,ae.y,0,1],C);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?_e*=Me[3]/b.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(_e*=b.cameraToCenterDistance/Me[3]),Fh(X,be,_e))return!0}return!1}},heatmap:class extends go{createBucket(l){return new EE(l)}constructor(l){super(l,WM),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=TE({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends go{constructor(l){super(l,ZM)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends go{constructor(l){super(l,cD)}recalculate(l,o){super.recalculate(l,o);const c=this.paint._values["fill-outline-color"];c.value.kind==="constant"&&c.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new J_(l)}queryRadius(){return Uh(this.paint.get("fill-translate"))}queryIntersectsFeature(l,o,c,p,x,b,S){return $r(Vh(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,S),p)}isTileClipped(){return!0}},"fill-extrusion":class extends go{constructor(l){super(l,SD)}createBucket(l){return new e0(l)}queryRadius(){return Uh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,o,c,p,x,b,S,C){const D=Vh(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,S),H=this.paint.get("fill-extrusion-height").evaluate(o,c),q=this.paint.get("fill-extrusion-base").evaluate(o,c),X=function(ie,ae,be,_e){const Me=[];for(const He of ie){const Ce=[He.x,He.y,0,1];km(Ce,Ce,ae),Me.push(new Ye(Ce[0]/Ce[3],Ce[1]/Ce[3]))}return Me}(D,C),re=function(ie,ae,be,_e){const Me=[],He=[],Ce=_e[8]*ae,Ve=_e[9]*ae,ut=_e[10]*ae,at=_e[11]*ae,Nt=_e[8]*be,Ut=_e[9]*be,It=_e[10]*be,Et=_e[11]*be;for(const bt of ie){const At=[],St=[];for(const gt of bt){const Kt=gt.x,Ht=gt.y,In=_e[0]*Kt+_e[4]*Ht+_e[12],gr=_e[1]*Kt+_e[5]*Ht+_e[13],Er=_e[2]*Kt+_e[6]*Ht+_e[14],Qr=_e[3]*Kt+_e[7]*Ht+_e[15],pa=Er+ut,_i=Qr+at,Gr=In+Nt,ii=gr+Ut,xi=Er+It,ki=Qr+Et,yo=new Ye((In+Ce)/_i,(gr+Ve)/_i);yo.z=pa/_i,At.push(yo);const qr=new Ye(Gr/ki,ii/ki);qr.z=xi/ki,St.push(qr)}Me.push(At),He.push(St)}return[Me,He]}(p,q,H,C);return function(ie,ae,be){let _e=1/0;$r(be,ae)&&(_e=ME(be,ae[0]));for(let Me=0;Me<ae.length;Me++){const He=ae[Me],Ce=ie[Me];for(let Ve=0;Ve<He.length-1;Ve++){const ut=He[Ve],at=[ut,He[Ve+1],Ce[Ve+1],Ce[Ve],ut];Ws(be,at)&&(_e=Math.min(_e,ME(be,at)))}}return _e!==1/0&&_e}(re[0],re[1],X)}},line:class extends go{constructor(l){super(l,NE),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(l){l==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ka,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,o){super.recalculate(l,o),this.paint._values["line-floorwidth"]=zE.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new t0(l)}queryRadius(l){const o=l,c=BE(Nl("line-width",this,o),Nl("line-gap-width",this,o)),p=Nl("line-offset",this,o);return c/2+Math.abs(p)+Uh(this.paint.get("line-translate"))}queryIntersectsFeature(l,o,c,p,x,b,S){const C=Vh(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,S),D=S/2*BE(this.paint.get("line-width").evaluate(o,c),this.paint.get("line-gap-width").evaluate(o,c)),H=this.paint.get("line-offset").evaluate(o,c);return H&&(p=function(q,X){const re=[];for(let ie=0;ie<q.length;ie++){const ae=q[ie],be=[];for(let _e=0;_e<ae.length;_e++){const Me=ae[_e-1],He=ae[_e],Ce=ae[_e+1],Ve=_e===0?new Ye(0,0):He.sub(Me)._unit()._perp(),ut=_e===ae.length-1?new Ye(0,0):Ce.sub(He)._unit()._perp(),at=Ve._add(ut)._unit(),Nt=at.x*ut.x+at.y*ut.y;Nt!==0&&at._mult(1/Nt),be.push(at._mult(X)._add(He))}re.push(be)}return re}(p,H*S)),function(q,X,re){for(let ie=0;ie<X.length;ie++){const ae=X[ie];if(q.length>=3){for(let be=0;be<ae.length;be++)if(ha(q,ae[be]))return!0}if(br(q,ae,re))return!0}return!1}(C,p,D)}isTileClipped(){return!0}},symbol:qm,background:class extends go{constructor(l){super(l,hN)}},raster:class extends go{constructor(l){super(l,dN)}}};class mN{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const p0=63710088e-1;class kr{constructor(o,c){if(isNaN(o)||isNaN(c))throw new Error(`Invalid LngLat object: (${o}, ${c})`);if(this.lng=+o,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new kr(O(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const c=Math.PI/180,p=this.lat*c,x=o.lat*c,b=Math.sin(p)*Math.sin(x)+Math.cos(p)*Math.cos(x)*Math.cos((o.lng-this.lng)*c);return p0*Math.acos(Math.min(b,1))}toBounds(o=0){const c=360*o/40075017,p=c/Math.cos(Math.PI/180*this.lat);return new dS(new kr(this.lng-p,this.lat-c),new kr(this.lng+p,this.lat+c))}static convert(o){if(o instanceof kr)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new kr(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new kr(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Kh{constructor(o,c){o&&(c?this.setSouthWest(o).setNorthEast(c):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))}setNorthEast(o){return this._ne=o instanceof kr?new kr(o.lng,o.lat):kr.convert(o),this}setSouthWest(o){return this._sw=o instanceof kr?new kr(o.lng,o.lat):kr.convert(o),this}extend(o){const c=this._sw,p=this._ne;let x,b;if(o instanceof kr)x=o,b=o;else{if(!(o instanceof Kh))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(Kh.convert(o)):this.extend(kr.convert(o)):this;if(x=o._sw,b=o._ne,!x||!b)return this}return c||p?(c.lng=Math.min(x.lng,c.lng),c.lat=Math.min(x.lat,c.lat),p.lng=Math.max(b.lng,p.lng),p.lat=Math.max(b.lat,p.lat)):(this._sw=new kr(x.lng,x.lat),this._ne=new kr(b.lng,b.lat)),this}getCenter(){return new kr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new kr(this.getWest(),this.getNorth())}getSouthEast(){return new kr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:c,lat:p}=kr.convert(o);let x=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(x=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&x}static convert(o){return o instanceof Kh?o:o&&new Kh(o)}}var dS=Kh;const fS=2*Math.PI*p0;function pS(l){return fS*Math.cos(l*Math.PI/180)}function mS(l){return(180+l)/360}function gS(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function vS(l,o){return l/pS(o)}function m0(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class Wm{constructor(o,c,p=0){this.x=+o,this.y=+c,this.z=+p}static fromLngLat(o,c=0){const p=kr.convert(o);return new Wm(mS(p.lng),gS(p.lat),vS(c,p.lat))}toLngLat(){return new kr(360*this.x-180,m0(this.y))}toAltitude(){return this.z*pS(m0(this.y))}meterInMercatorCoordinateUnits(){return 1/fS*(o=m0(this.y),1/Math.cos(o*Math.PI/180));var o}}function yS(l,o,c){var p=2*Math.PI*6378137/256/Math.pow(2,c);return[l*p-2*Math.PI*6378137/2,o*p-2*Math.PI*6378137/2]}class g0{constructor(o,c,p){if(o<0||o>25||p<0||p>=Math.pow(2,o)||c<0||c>=Math.pow(2,o))throw new Error(`x=${c}, y=${p}, z=${o} outside of bounds. 0<=x<${Math.pow(2,o)}, 0<=y<${Math.pow(2,o)} 0<=z<=25 `);this.z=o,this.x=c,this.y=p,this.key=Pf(0,o,o,c,p)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,c,p){const x=(S=this.y,C=this.z,D=yS(256*(b=this.x),256*(S=Math.pow(2,C)-S-1),C),H=yS(256*(b+1),256*(S+1),C),D[0]+","+D[1]+","+H[0]+","+H[1]);var b,S,C,D,H;const q=function(X,re,ie){let ae,be="";for(let _e=X;_e>0;_e--)ae=1<<_e-1,be+=(re&ae?1:0)+(ie&ae?2:0);return be}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(p==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,q).replace(/{bbox-epsg-3857}/g,x)}isChildOf(o){const c=this.z-o.z;return c>0&&o.x===this.x>>c&&o.y===this.y>>c}getTilePoint(o){const c=Math.pow(2,this.z);return new Ye((o.x*c-this.x)*qn,(o.y*c-this.y)*qn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class _S{constructor(o,c){this.wrap=o,this.canonical=c,this.key=Pf(o,c.z,c.z,c.x,c.y)}}class fa{constructor(o,c,p,x,b){if(o<p)throw new Error(`overscaledZ should be >= z; overscaledZ = ${o}; z = ${p}`);this.overscaledZ=o,this.wrap=c,this.canonical=new g0(p,+x,+b),this.key=Pf(c,o,p,x,b)}clone(){return new fa(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-o;return o>this.canonical.z?new fa(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new fa(o,this.wrap,o,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(o,c){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);const p=this.canonical.z-o;return o>this.canonical.z?Pf(this.wrap*+c,o,this.canonical.z,this.canonical.x,this.canonical.y):Pf(this.wrap*+c,o,o,this.canonical.x>>p,this.canonical.y>>p)}isChildOf(o){if(o.wrap!==this.wrap)return!1;const c=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>c&&o.canonical.y===this.canonical.y>>c}children(o){if(this.overscaledZ>=o)return[new fa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,p=2*this.canonical.x,x=2*this.canonical.y;return[new fa(c,this.wrap,c,p,x),new fa(c,this.wrap,c,p+1,x),new fa(c,this.wrap,c,p,x+1),new fa(c,this.wrap,c,p+1,x+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new fa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new fa(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new _S(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(o){return this.canonical.getTilePoint(new Wm(o.x-this.wrap,o.y))}}function Pf(l,o,c,p,x){(l*=2)<0&&(l=-1*l-1);const b=1<<c;return(b*b*l+b*x+p).toString(36)+c.toString(36)+o.toString(36)}Tt("CanonicalTileID",g0),Tt("OverscaledTileID",fa,{omit:["posMatrix"]});class xS{constructor(o,c,p){if(this.uid=o,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(p&&p!=="mapbox"&&p!=="terrarium")return void Q(`"${p}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=c.height;const x=this.dim=c.height-2;this.data=new Uint32Array(c.data.buffer),this.encoding=p||"mapbox";for(let b=0;b<x;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(x,b)]=this.data[this._idx(x-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,x)]=this.data[this._idx(b,x-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(x,-1)]=this.data[this._idx(x-1,0)],this.data[this._idx(-1,x)]=this.data[this._idx(0,x-1)],this.data[this._idx(x,x)]=this.data[this._idx(x-1,x-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let b=0;b<x;b++)for(let S=0;S<x;S++){const C=this.get(b,S);C>this.max&&(this.max=C),C<this.min&&(this.min=C)}}get(o,c){const p=new Uint8Array(this.data.buffer),x=4*this._idx(o,c);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(p[x],p[x+1],p[x+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(o,c){if(o<-1||o>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(o+1)}_unpackMapbox(o,c,p){return(256*o*256+256*c+p)/10-1e4}_unpackTerrarium(o,c,p){return 256*o+c+p/256-32768}getPixels(){return new da({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(o,c,p){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let x=c*this.dim,b=c*this.dim+this.dim,S=p*this.dim,C=p*this.dim+this.dim;switch(c){case-1:x=b-1;break;case 1:b=x+1}switch(p){case-1:S=C-1;break;case 1:C=S+1}const D=-c*this.dim,H=-p*this.dim;for(let q=S;q<C;q++)for(let X=x;X<b;X++)this.data[this._idx(X,q)]=o.data[this._idx(X+D,q+H)]}}Tt("DEMData",xS);class bS{constructor(o){this._stringToNumber={},this._numberToString=[];for(let c=0;c<o.length;c++){const p=o[c];this._stringToNumber[p]=c,this._numberToString[c]=p}}encode(o){return this._stringToNumber[o]}decode(o){if(o>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${o} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[o]}}class wS{constructor(o,c,p,x,b){this.type="Feature",this._vectorTileFeature=o,o._z=c,o._x=p,o._y=x,this.properties=o.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(o[c]=this[c]);return o}}class ES{constructor(o,c){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new ka(qn,16,0),this.grid3D=new ka(qn,16,0),this.featureIndexArray=new Cm,this.promoteId=c}insert(o,c,p,x,b,S){const C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,x,b);const D=S?this.grid3D:this.grid;for(let H=0;H<c.length;H++){const q=c[H],X=[1/0,1/0,-1/0,-1/0];for(let re=0;re<q.length;re++){const ie=q[re];X[0]=Math.min(X[0],ie.x),X[1]=Math.min(X[1],ie.y),X[2]=Math.max(X[2],ie.x),X[3]=Math.max(X[3],ie.y)}X[0]<qn&&X[1]<qn&&X[2]>=0&&X[3]>=0&&D.insert(C,X[0],X[1],X[2],X[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Au.VectorTile(new n0(this.rawTileData)).layers,this.sourceLayerCoder=new bS(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(o,c,p,x){this.loadVTLayers();const b=o.params||{},S=qn/o.tileSize/o.scale,C=kc(b.filter),D=o.queryGeometry,H=o.queryPadding*S,q=TS(D),X=this.grid.query(q.minX-H,q.minY-H,q.maxX+H,q.maxY+H),re=TS(o.cameraQueryGeometry),ie=this.grid3D.query(re.minX-H,re.minY-H,re.maxX+H,re.maxY+H,(_e,Me,He,Ce)=>function(Ve,ut,at,Nt,Ut){for(const Et of Ve)if(ut<=Et.x&&at<=Et.y&&Nt>=Et.x&&Ut>=Et.y)return!0;const It=[new Ye(ut,at),new Ye(ut,Ut),new Ye(Nt,Ut),new Ye(Nt,at)];if(Ve.length>2){for(const Et of It)if(ha(Ve,Et))return!0}for(let Et=0;Et<Ve.length-1;Et++)if(gf(Ve[Et],Ve[Et+1],It))return!0;return!1}(o.cameraQueryGeometry,_e-H,Me-H,He+H,Ce+H));for(const _e of ie)X.push(_e);X.sort(gN);const ae={};let be;for(let _e=0;_e<X.length;_e++){const Me=X[_e];if(Me===be)continue;be=Me;const He=this.featureIndexArray.get(Me);let Ce=null;this.loadMatchingFeature(ae,He.bucketIndex,He.sourceLayerIndex,He.featureIndex,C,b.layers,b.availableImages,c,p,x,(Ve,ut,at)=>(Ce||(Ce=yi(Ve)),ut.queryIntersectsFeature(D,Ve,at,Ce,this.z,o.transform,S,o.pixelPosMatrix)))}return ae}loadMatchingFeature(o,c,p,x,b,S,C,D,H,q,X){const re=this.bucketLayerIDs[c];if(S&&!function(_e,Me){for(let He=0;He<_e.length;He++)if(Me.indexOf(_e[He])>=0)return!0;return!1}(S,re))return;const ie=this.sourceLayerCoder.decode(p),ae=this.vtLayers[ie].feature(x);if(b.needGeometry){const _e=vo(ae,!0);if(!b.filter(new tr(this.tileID.overscaledZ),_e,this.tileID.canonical))return}else if(!b.filter(new tr(this.tileID.overscaledZ),ae))return;const be=this.getId(ae,ie);for(let _e=0;_e<re.length;_e++){const Me=re[_e];if(S&&S.indexOf(Me)<0)continue;const He=D[Me];if(!He)continue;let Ce={};be&&q&&(Ce=q.getState(He.sourceLayer||"_geojsonTileLayer",be));const Ve=z({},H[Me]);Ve.paint=SS(Ve.paint,He.paint,ae,Ce,C),Ve.layout=SS(Ve.layout,He.layout,ae,Ce,C);const ut=!X||X(ae,He,Ce);if(!ut)continue;const at=new wS(ae,this.z,this.x,this.y,be);at.layer=Ve;let Nt=o[Me];Nt===void 0&&(Nt=o[Me]=[]),Nt.push({featureIndex:x,feature:at,intersectionZ:ut})}}lookupSymbolFeatures(o,c,p,x,b,S,C,D){const H={};this.loadVTLayers();const q=kc(b);for(const X of o)this.loadMatchingFeature(H,p,x,X,q,S,C,D,c);return H}hasLayer(o){for(const c of this.bucketLayerIDs)for(const p of c)if(o===p)return!0;return!1}getId(o,c){let p=o.id;return this.promoteId&&(p=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof p=="boolean"&&(p=Number(p))),p}}function SS(l,o,c,p,x){return F(l,(b,S)=>{const C=o instanceof kl?o.get(S):null;return C&&C.evaluate?C.evaluate(c,p,x):C})}function TS(l){let o=1/0,c=1/0,p=-1/0,x=-1/0;for(const b of l)o=Math.min(o,b.x),c=Math.min(c,b.y),p=Math.max(p,b.x),x=Math.max(x,b.y);return{minX:o,minY:c,maxX:p,maxY:x}}function gN(l,o){return o-l}function v0(l,o,c,p,x,b){if(x-p<=c)return;const S=p+x>>1;IS(l,o,S,p,x,b%2),v0(l,o,c,p,S-1,b+1),v0(l,o,c,S+1,x,b+1)}function IS(l,o,c,p,x,b){for(;x>p;){if(x-p>600){const H=x-p+1,q=c-p+1,X=Math.log(H),re=.5*Math.exp(2*X/3),ie=.5*Math.sqrt(X*re*(H-re)/H)*(q-H/2<0?-1:1);IS(l,o,c,Math.max(p,Math.floor(c-q*re/H+ie)),Math.min(x,Math.floor(c+(H-q)*re/H+ie)),b)}const S=o[2*c+b];let C=p,D=x;for(Of(l,o,p,c),o[2*x+b]>S&&Of(l,o,p,x);C<D;){for(Of(l,o,C,D),C++,D--;o[2*C+b]<S;)C++;for(;o[2*D+b]>S;)D--}o[2*p+b]===S?Of(l,o,p,D):(D++,Of(l,o,D,x)),D<=c&&(p=D+1),c<=D&&(x=D-1)}}function Of(l,o,c,p){y0(l,c,p),y0(o,2*c,2*p),y0(o,2*c+1,2*p+1)}function y0(l,o,c){const p=l[o];l[o]=l[c],l[c]=p}function AS(l,o,c,p){const x=l-c,b=o-p;return x*x+b*b}Tt("FeatureIndex",ES,{omit:["rawTileData","sourceLayerCoder"]});const vN=l=>l[0],yN=l=>l[1];var _0;s.PerformanceMarkers=void 0,(_0=s.PerformanceMarkers||(s.PerformanceMarkers={})).create="create",_0.load="load",_0.fullLoad="fullLoad";let Zm=null,Cf=[];const x0=1e3/30,_N={mark(l){performance.mark(l)},frame(l){const o=l;Zm!=null&&Cf.push(o-Zm),Zm=o},clearMetrics(){Zm=null,Cf=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const l in s.PerformanceMarkers)performance.clearMarks(s.PerformanceMarkers[l])},getPerformanceMetrics(){performance.measure("loadTime",s.PerformanceMarkers.create,s.PerformanceMarkers.load),performance.measure("fullLoadTime",s.PerformanceMarkers.create,s.PerformanceMarkers.fullLoad);const l=performance.getEntriesByName("loadTime")[0].duration,o=performance.getEntriesByName("fullLoadTime")[0].duration,c=Cf.length,p=1/(Cf.reduce((b,S)=>b+S,0)/c/1e3),x=Cf.filter(b=>b>x0).reduce((b,S)=>b+(S-x0)/x0,0);return{loadTime:l,fullLoadTime:o,fps:p,percentDroppedFrames:x/(c+x)*100}}};s.AJAXError=et,s.ARRAY_TYPE=Zs,s.Actor=class{constructor(l,o,c){this.target=l,this.parent=o,this.mapId=c,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},G(["receive","process"],this),this.invoker=new mN(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=se()?l:window}send(l,o,c,p,x=!1){const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(this.callbacks[b]=c);const S=he(this.globalScope)?void 0:[];return this.target.postMessage({id:b,type:l,hasCallback:!!c,targetMapId:p,mustQueue:x,sourceMapId:this.mapId,data:sa(o,S)},S),{cancel:()=>{c&&delete this.callbacks[b],this.target.postMessage({id:b,type:"<cancel>",targetMapId:p,sourceMapId:this.mapId})}}}receive(l){const o=l.data,c=o.id;if(c&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){delete this.tasks[c];const p=this.cancelCallbacks[c];delete this.cancelCallbacks[c],p&&p()}else se()||o.mustQueue?(this.tasks[c]=o,this.taskQueue.push(c),this.invoker.trigger()):this.processTask(c,o)}process(){if(!this.taskQueue.length)return;const l=this.taskQueue.shift(),o=this.tasks[l];delete this.tasks[l],this.taskQueue.length&&this.invoker.trigger(),o&&this.processTask(l,o)}processTask(l,o){if(o.type==="<response>"){const c=this.callbacks[l];delete this.callbacks[l],c&&(o.error?c(Ma(o.error)):c(null,Ma(o.data)))}else{let c=!1;const p=he(this.globalScope)?void 0:[],x=o.hasCallback?(C,D)=>{c=!0,delete this.cancelCallbacks[l],this.target.postMessage({id:l,type:"<response>",sourceMapId:this.mapId,error:C?sa(C):null,data:sa(D,p)},p)}:C=>{c=!0};let b=null;const S=Ma(o.data);if(this.parent[o.type])b=this.parent[o.type](o.sourceMapId,S,x);else if(this.parent.getWorkerSource){const C=o.type.split(".");b=this.parent.getWorkerSource(o.sourceMapId,C[0],S.source)[C[1]](S,x)}else x(new Error(`Could not find function ${o.type}`));!c&&b&&b.cancel&&(this.cancelCallbacks[l]=b.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.AlphaImage=yf,s.CanonicalTileID=g0,s.CollisionBoxArray=$c,s.CollisionCircleLayoutArray=class extends Ml{},s.Color=Gt,s.DEMData=xS,s.DataConstantProperty=zt,s.DictionaryCoder=bS,s.EXTENT=qn,s.ErrorEvent=lt,s.EvaluationParameters=tr,s.Event=vt,s.Evented=en,s.FeatureIndex=ES,s.FillBucket=J_,s.FillExtrusionBucket=e0,s.GeoJSONFeature=wS,s.ImageAtlas=WE,s.ImagePosition=i0,s.KDBush=class{constructor(l,o=vN,c=yN,p=64,x=Float64Array){this.nodeSize=p,this.points=l;const b=l.length<65536?Uint16Array:Uint32Array,S=this.ids=new b(l.length),C=this.coords=new x(2*l.length);for(let D=0;D<l.length;D++)S[D]=D,C[2*D]=o(l[D]),C[2*D+1]=c(l[D]);v0(S,C,p,0,S.length-1,0)}range(l,o,c,p){return function(x,b,S,C,D,H,q){const X=[0,x.length-1,0],re=[];let ie,ae;for(;X.length;){const be=X.pop(),_e=X.pop(),Me=X.pop();if(_e-Me<=q){for(let Ve=Me;Ve<=_e;Ve++)ie=b[2*Ve],ae=b[2*Ve+1],ie>=S&&ie<=D&&ae>=C&&ae<=H&&re.push(x[Ve]);continue}const He=Math.floor((Me+_e)/2);ie=b[2*He],ae=b[2*He+1],ie>=S&&ie<=D&&ae>=C&&ae<=H&&re.push(x[He]);const Ce=(be+1)%2;(be===0?S<=ie:C<=ae)&&(X.push(Me),X.push(He-1),X.push(Ce)),(be===0?D>=ie:H>=ae)&&(X.push(He+1),X.push(_e),X.push(Ce))}return re}(this.ids,this.coords,l,o,c,p,this.nodeSize)}within(l,o,c){return function(p,x,b,S,C,D){const H=[0,p.length-1,0],q=[],X=C*C;for(;H.length;){const re=H.pop(),ie=H.pop(),ae=H.pop();if(ie-ae<=D){for(let Ce=ae;Ce<=ie;Ce++)AS(x[2*Ce],x[2*Ce+1],b,S)<=X&&q.push(p[Ce]);continue}const be=Math.floor((ae+ie)/2),_e=x[2*be],Me=x[2*be+1];AS(_e,Me,b,S)<=X&&q.push(p[be]);const He=(re+1)%2;(re===0?b-C<=_e:S-C<=Me)&&(H.push(ae),H.push(be-1),H.push(He)),(re===0?b+C>=_e:S+C>=Me)&&(H.push(be+1),H.push(ie),H.push(He))}return q}(this.ids,this.coords,l,o,c,this.nodeSize)}},s.LineBucket=t0,s.LineStripIndexArray=class extends cs{},s.LngLat=kr,s.LngLatBounds=dS,s.MercatorCoordinate=Wm,s.ONE_EM=hi,s.OverscaledTileID=fa,s.PerformanceUtils=_N,s.Pos3dArray=class extends Te{},s.PosArray=mf,s.Properties=ui,s.QuadTriangleArray=class extends bu{},s.RGBAImage=da,s.RasterBoundsArray=class extends Ue{},s.RequestPerformance=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},s.SegmentVector=U,s.SymbolBucket=Zh,s.Transitionable=Hs,s.TriangleIndexArray=E,s.Uniform1f=nt,s.Uniform1i=class extends Ze{constructor(l,o){super(l,o),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},s.Uniform2f=class extends Ze{constructor(l,o){super(l,o),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},s.Uniform3f=class extends Ze{constructor(l,o){super(l,o),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},s.Uniform4f=ot,s.UniformColor=ft,s.UniformMatrix4f=class extends Ze{constructor(l,o){super(l,o),this.current=ct}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let o=1;o<16;o++)if(l[o]!==this.current[o]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},s.UnwrappedTileID=_S,s.ValidationError=Xe,s.ZoomHistory=Dh,s.addDynamicAttributes=u0,s.arrayBufferToImage=function(l,o){const c=new Image;c.onload=()=>{o(null,c),URL.revokeObjectURL(c.src),c.onload=null,window.requestAnimationFrame(()=>{c.src=De})},c.onerror=()=>o(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const p=new Blob([new Uint8Array(l)],{type:"image/png"});c.src=l.byteLength?URL.createObjectURL(p):De},s.arrayBufferToImageBitmap=function(l,o){const c=new Blob([new Uint8Array(l)],{type:"image/png"});createImageBitmap(c).then(p=>{o(null,p)}).catch(p=>{o(new Error(`Could not load image because of ${p.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},s.asyncAll=function(l,o,c){if(!l.length)return c(null,[]);let p=l.length;const x=new Array(l.length);let b=null;l.forEach((S,C)=>{o(S,(D,H)=>{D&&(b=D),x[C]=H,--p==0&&c(b,x)})})},s.bezier=I,s.bindAll=G,s.clamp=R,s.clipLine=oS,s.clone=function(l){var o=new Zs(16);return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],o[6]=l[6],o[7]=l[7],o[8]=l[8],o[9]=l[9],o[10]=l[10],o[11]=l[11],o[12]=l[12],o[13]=l[13],o[14]=l[14],o[15]=l[15],o},s.clone$1=j,s.collisionCircleLayout=DD,s.config=Pe,s.copy=function(l,o){return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5],l[6]=o[6],l[7]=o[7],l[8]=o[8],l[9]=o[9],l[10]=o[10],l[11]=o[11],l[12]=o[12],l[13]=o[13],l[14]=o[14],l[15]=o[15],l},s.create=function(){var l=new Zs(16);return Zs!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},s.createExpression=zs,s.createFilter=kc,s.createLayout=k,s.createStyleLayer=function(l){return l.type==="custom"?new fN(l):new pN[l.type](l)},s.dot=function(l,o){return l[0]*o[0]+l[1]*o[1]+l[2]*o[2]+l[3]*o[3]},s.earthRadius=p0,s.ease=A,s.emitValidationErrors=Us,s.equals=function(l,o){var c=l[0],p=l[1],x=l[2],b=l[3],S=l[4],C=l[5],D=l[6],H=l[7],q=l[8],X=l[9],re=l[10],ie=l[11],ae=l[12],be=l[13],_e=l[14],Me=l[15],He=o[0],Ce=o[1],Ve=o[2],ut=o[3],at=o[4],Nt=o[5],Ut=o[6],It=o[7],Et=o[8],bt=o[9],At=o[10],St=o[11],gt=o[12],Kt=o[13],Ht=o[14],In=o[15];return Math.abs(c-He)<=Jr*Math.max(1,Math.abs(c),Math.abs(He))&&Math.abs(p-Ce)<=Jr*Math.max(1,Math.abs(p),Math.abs(Ce))&&Math.abs(x-Ve)<=Jr*Math.max(1,Math.abs(x),Math.abs(Ve))&&Math.abs(b-ut)<=Jr*Math.max(1,Math.abs(b),Math.abs(ut))&&Math.abs(S-at)<=Jr*Math.max(1,Math.abs(S),Math.abs(at))&&Math.abs(C-Nt)<=Jr*Math.max(1,Math.abs(C),Math.abs(Nt))&&Math.abs(D-Ut)<=Jr*Math.max(1,Math.abs(D),Math.abs(Ut))&&Math.abs(H-It)<=Jr*Math.max(1,Math.abs(H),Math.abs(It))&&Math.abs(q-Et)<=Jr*Math.max(1,Math.abs(q),Math.abs(Et))&&Math.abs(X-bt)<=Jr*Math.max(1,Math.abs(X),Math.abs(bt))&&Math.abs(re-At)<=Jr*Math.max(1,Math.abs(re),Math.abs(At))&&Math.abs(ie-St)<=Jr*Math.max(1,Math.abs(ie),Math.abs(St))&&Math.abs(ae-gt)<=Jr*Math.max(1,Math.abs(ae),Math.abs(gt))&&Math.abs(be-Kt)<=Jr*Math.max(1,Math.abs(be),Math.abs(Kt))&&Math.abs(_e-Ht)<=Jr*Math.max(1,Math.abs(_e),Math.abs(Ht))&&Math.abs(Me-In)<=Jr*Math.max(1,Math.abs(Me),Math.abs(In))},s.evaluateSizeForFeature=function(l,{uSize:o,uSizeT:c},{lowerSize:p,upperSize:x}){return l.kind==="source"?p/Bl:l.kind==="composite"?Vt(p/Bl,x/Bl,c):o},s.evaluateSizeForZoom=function(l,o){let c=0,p=0;if(l.kind==="constant")p=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:x,minZoom:b,maxZoom:S}=l,C=x?R(ri.interpolationFactor(x,o,b,S),0,1):0;l.kind==="camera"?p=Vt(l.minSize,l.maxSize,C):c=C}return{uSizeT:c,uSize:p}},s.evaluateVariableOffset=lS,s.evented=yu,s.exported=tt,s.extend=z,s.filterObject=B,s.fromScaling=function(l,o){return l[0]=o[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=o[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=o[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},s.getAnchorAlignment=a0,s.getAnchorJustification=l0,s.getArrayBuffer=qe,s.getJSON=function(l,o){return Be(z(l,{type:"json"}),o)},s.getOverlapMode=f0,s.getRTLTextPluginStatus=ls,s.getReferrer=ze,s.getVideo=function(l,o){const c=window.document.createElement("video");c.muted=!0,c.onloadstart=function(){o(null,c)};for(let p=0;p<l.length;p++){const x=window.document.createElement("source");$e(l[p])||(c.crossOrigin="Anonymous"),x.src=l[p],c.appendChild(x)}return{cancel:()=>{}}},s.identity=j_,s.invert=function(l,o){var c=o[0],p=o[1],x=o[2],b=o[3],S=o[4],C=o[5],D=o[6],H=o[7],q=o[8],X=o[9],re=o[10],ie=o[11],ae=o[12],be=o[13],_e=o[14],Me=o[15],He=c*C-p*S,Ce=c*D-x*S,Ve=c*H-b*S,ut=p*D-x*C,at=p*H-b*C,Nt=x*H-b*D,Ut=q*be-X*ae,It=q*_e-re*ae,Et=q*Me-ie*ae,bt=X*_e-re*be,At=X*Me-ie*be,St=re*Me-ie*_e,gt=He*St-Ce*At+Ve*bt+ut*Et-at*It+Nt*Ut;return gt?(l[0]=(C*St-D*At+H*bt)*(gt=1/gt),l[1]=(x*At-p*St-b*bt)*gt,l[2]=(be*Nt-_e*at+Me*ut)*gt,l[3]=(re*at-X*Nt-ie*ut)*gt,l[4]=(D*Et-S*St-H*It)*gt,l[5]=(c*St-x*Et+b*It)*gt,l[6]=(_e*Ve-ae*Nt-Me*Ce)*gt,l[7]=(q*Nt-re*Ve+ie*Ce)*gt,l[8]=(S*At-C*Et+H*Ut)*gt,l[9]=(p*Et-c*At-b*Ut)*gt,l[10]=(ae*at-be*Ve+Me*He)*gt,l[11]=(X*Ve-q*at-ie*He)*gt,l[12]=(C*It-S*bt-D*Ut)*gt,l[13]=(c*bt-p*It+x*Ut)*gt,l[14]=(be*Ce-ae*ut-_e*He)*gt,l[15]=(q*ut-X*Ce+re*He)*gt,l):null},s.isImageBitmap=Ee,s.isSafari=he,s.isWorker=se,s.keysDifference=function(l,o){const c=[];for(const p in l)p in o||c.push(p);return c},s.lazyLoadRTLTextPlugin=function(){li.isLoading()||li.isLoaded()||ls()!=="deferred"||No()},s.makeRequest=Be,s.mapObject=F,s.mercatorXfromLng=mS,s.mercatorYfromLat=gS,s.mercatorZfromAltitude=vS,s.mul=qM,s.mul$1=function(l,o,c){return l[0]=o[0]*c[0],l[1]=o[1]*c[1],l[2]=o[2]*c[2],l[3]=o[3]*c[3],l},s.multiply=bE,s.nextPowerOfTwo=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},s.number=Vt,s.ortho=function(l,o,c,p,x,b,S){var C=1/(o-c),D=1/(p-x),H=1/(b-S);return l[0]=-2*C,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*D,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*H,l[11]=0,l[12]=(o+c)*C,l[13]=(x+p)*D,l[14]=(S+b)*H,l[15]=1,l},s.parseCacheControl=function(l){const o={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,p,x,b)=>{const S=x||b;return o[p]=!S||S.toLowerCase(),""}),o["max-age"]){const c=parseInt(o["max-age"],10);isNaN(c)?delete o["max-age"]:o["max-age"]=c}return o},s.parseGlyphPbf=function(l){return new n0(l).readFields(qD,[])},s.pbf=n0,s.performSymbolLayout=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=qn/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;const o=l.bucket.layers[0].layout,c=l.bucket.layers[0]._unevaluatedLayout._values,p={layoutIconSize:c["icon-size"].possiblyEvaluate(new tr(l.bucket.zoom+1),l.canonical),layoutTextSize:c["text-size"].possiblyEvaluate(new tr(l.bucket.zoom+1),l.canonical),textMaxSize:c["text-size"].possiblyEvaluate(new tr(18))};if(l.bucket.textSizeData.kind==="composite"){const{minZoom:D,maxZoom:H}=l.bucket.textSizeData;p.compositeTextSizes=[c["text-size"].possiblyEvaluate(new tr(D),l.canonical),c["text-size"].possiblyEvaluate(new tr(H),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){const{minZoom:D,maxZoom:H}=l.bucket.iconSizeData;p.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new tr(D),l.canonical),c["icon-size"].possiblyEvaluate(new tr(H),l.canonical)]}const x=o.get("text-line-height")*hi,b=o.get("text-rotation-alignment")!=="viewport"&&o.get("symbol-placement")!=="point",S=o.get("text-keep-upright"),C=o.get("text-size");for(const D of l.bucket.features){const H=o.get("text-font").evaluate(D,{},l.canonical).join(","),q=C.evaluate(D,{},l.canonical),X=p.layoutTextSize.evaluate(D,{},l.canonical),re=p.layoutIconSize.evaluate(D,{},l.canonical),ie={horizontal:{},vertical:void 0},ae=D.text;let be,_e=[0,0];if(ae){const Ce=ae.toString(),Ve=o.get("text-letter-spacing").evaluate(D,{},l.canonical)*hi,ut=Nh(Ce)?Ve:0,at=o.get("text-anchor").evaluate(D,{},l.canonical),Nt=o.get("text-variable-anchor");if(!Nt){const At=o.get("text-radial-offset").evaluate(D,{},l.canonical);_e=At?lS(at,[At*hi,s0]):o.get("text-offset").evaluate(D,{},l.canonical).map(St=>St*hi)}let Ut=b?"center":o.get("text-justify").evaluate(D,{},l.canonical);const It=o.get("symbol-placement"),Et=It==="point"?o.get("text-max-width").evaluate(D,{},l.canonical)*hi:0,bt=()=>{l.bucket.allowVerticalPlacement&&zc(Ce)&&(ie.vertical=Fm(ae,l.glyphMap,l.glyphPositions,l.imagePositions,H,Et,x,at,"left",ut,_e,s.WritingMode.vertical,!0,It,X,q))};if(!b&&Nt){const At=Ut==="auto"?Nt.map(gt=>l0(gt)):[Ut];let St=!1;for(let gt=0;gt<At.length;gt++){const Kt=At[gt];if(!ie.horizontal[Kt])if(St)ie.horizontal[Kt]=ie.horizontal[0];else{const Ht=Fm(ae,l.glyphMap,l.glyphPositions,l.imagePositions,H,Et,x,"center",Kt,ut,_e,s.WritingMode.horizontal,!1,It,X,q);Ht&&(ie.horizontal[Kt]=Ht,St=Ht.positionedLines.length===1)}}bt()}else{Ut==="auto"&&(Ut=l0(at));const At=Fm(ae,l.glyphMap,l.glyphPositions,l.imagePositions,H,Et,x,at,Ut,ut,_e,s.WritingMode.horizontal,!1,It,X,q);At&&(ie.horizontal[Ut]=At),bt(),zc(Ce)&&b&&S&&(ie.vertical=Fm(ae,l.glyphMap,l.glyphPositions,l.imagePositions,H,Et,x,at,Ut,ut,_e,s.WritingMode.vertical,!1,It,X,q))}}let Me=!1;if(D.icon&&D.icon.name){const Ce=l.imageMap[D.icon.name];Ce&&(be=JD(l.imagePositions[D.icon.name],o.get("icon-offset").evaluate(D,{},l.canonical),o.get("icon-anchor").evaluate(D,{},l.canonical)),Me=!!Ce.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Me:l.bucket.sdfIcons!==Me&&Q("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ce.pixelRatio!==l.bucket.pixelRatio||o.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}const He=cS(ie.horizontal)||ie.vertical;l.bucket.iconsInText=!!He&&He.iconsInText,(He||be)&&oN(l.bucket,D,ie,be,l.imageMap,p,X,re,_e,Me,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},s.perspective=function(l,o,c,p,x){var b,S=1/Math.tan(o/2);return l[0]=S/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,x!=null&&x!==1/0?(l[10]=(x+p)*(b=1/(p-x)),l[14]=2*x*p*b):(l[10]=-1,l[14]=-2*p),l},s.pick=function(l,o){const c={};for(let p=0;p<o.length;p++){const x=o[p];x in l&&(c[x]=l[x])}return c},s.plugin=li,s.pointGeometry=Ye,s.polygonIntersectsPolygon=Ws,s.potpack=qE,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.register=Tt,s.registerForPluginStateChange=function(l){return l({pluginStatus:jr,pluginURL:Do}),yu.on("pluginStateChange",l),l},s.renderColorRamp=TE,s.rotateX=function(l,o,c){var p=Math.sin(c),x=Math.cos(c),b=o[4],S=o[5],C=o[6],D=o[7],H=o[8],q=o[9],X=o[10],re=o[11];return o!==l&&(l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[12]=o[12],l[13]=o[13],l[14]=o[14],l[15]=o[15]),l[4]=b*x+H*p,l[5]=S*x+q*p,l[6]=C*x+X*p,l[7]=D*x+re*p,l[8]=H*x-b*p,l[9]=q*x-S*p,l[10]=X*x-C*p,l[11]=re*x-D*p,l},s.rotateZ=function(l,o,c){var p=Math.sin(c),x=Math.cos(c),b=o[0],S=o[1],C=o[2],D=o[3],H=o[4],q=o[5],X=o[6],re=o[7];return o!==l&&(l[8]=o[8],l[9]=o[9],l[10]=o[10],l[11]=o[11],l[12]=o[12],l[13]=o[13],l[14]=o[14],l[15]=o[15]),l[0]=b*x+H*p,l[1]=S*x+q*p,l[2]=C*x+X*p,l[3]=D*x+re*p,l[4]=H*x-b*p,l[5]=q*x-S*p,l[6]=X*x-C*p,l[7]=re*x-D*p,l},s.scale=function(l,o,c){var p=c[0],x=c[1],b=c[2];return l[0]=o[0]*p,l[1]=o[1]*p,l[2]=o[2]*p,l[3]=o[3]*p,l[4]=o[4]*x,l[5]=o[5]*x,l[6]=o[6]*x,l[7]=o[7]*x,l[8]=o[8]*b,l[9]=o[9]*b,l[10]=o[10]*b,l[11]=o[11]*b,l[12]=o[12],l[13]=o[13],l[14]=o[14],l[15]=o[15],l},s.setRTLTextPlugin=function(l,o,c=!1){if(jr===la||jr===Bc||jr===vu)throw new Error("setRTLTextPlugin cannot be called multiple times.");Do=tt.resolveURL(l),jr=la,Fc=o,Vs(),c||No()},s.spec=ke,s.sphericalToCartesian=function([l,o,c]){return o+=90,o*=Math.PI/180,c*=Math.PI/180,{x:l*Math.cos(o)*Math.sin(c),y:l*Math.sin(o)*Math.sin(c),z:l*Math.cos(c)}},s.toEvaluationFeature=vo,s.transformMat4=km,s.translate=function(l,o,c){var p,x,b,S,C,D,H,q,X,re,ie,ae,be=c[0],_e=c[1],Me=c[2];return o===l?(l[12]=o[0]*be+o[4]*_e+o[8]*Me+o[12],l[13]=o[1]*be+o[5]*_e+o[9]*Me+o[13],l[14]=o[2]*be+o[6]*_e+o[10]*Me+o[14],l[15]=o[3]*be+o[7]*_e+o[11]*Me+o[15]):(x=o[1],b=o[2],S=o[3],C=o[4],D=o[5],H=o[6],q=o[7],X=o[8],re=o[9],ie=o[10],ae=o[11],l[0]=p=o[0],l[1]=x,l[2]=b,l[3]=S,l[4]=C,l[5]=D,l[6]=H,l[7]=q,l[8]=X,l[9]=re,l[10]=ie,l[11]=ae,l[12]=p*be+C*_e+X*Me+o[12],l[13]=x*be+D*_e+re*Me+o[13],l[14]=b*be+H*_e+ie*Me+o[14],l[15]=S*be+q*_e+ae*Me+o[15]),l},s.triggerPluginCompletionEvent=ss,s.unicodeBlockLookup=wt,s.uniqueId=function(){return V++},s.validateCustomStyleLayer=function(l){const o=[],c=l.id;return c===void 0&&o.push({message:`layers.${c}: missing required property "id"`}),l.render===void 0&&o.push({message:`layers.${c}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&o.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),o},s.validateLight=Pl,s.validateStyle=gi,s.vectorTile=Au,s.warnOnce=Q,s.wrap=O}),u(["./shared"],function(s){function y(ue){const Z=typeof ue;if(Z==="number"||Z==="boolean"||Z==="string"||ue==null)return JSON.stringify(ue);if(Array.isArray(ue)){let me="[";for(const xe of ue)me+=`${y(xe)},`;return`${me}]`}const te=Object.keys(ue).sort();let ce="{";for(let me=0;me<te.length;me++)ce+=`${JSON.stringify(te[me])}:${y(ue[te[me]])},`;return`${ce}}`}function w(ue){let Z="";for(const te of s.refProperties)Z+=`/${y(ue[te])}`;return Z}class I{constructor(Z){this.keyCache={},Z&&this.replace(Z)}replace(Z){this._layerConfigs={},this._layers={},this.update(Z,[])}update(Z,te){for(const me of Z){this._layerConfigs[me.id]=me;const xe=this._layers[me.id]=s.createStyleLayer(me);xe._featureFilter=s.createFilter(xe.filter),this.keyCache[me.id]&&delete this.keyCache[me.id]}for(const me of te)delete this.keyCache[me],delete this._layerConfigs[me],delete this._layers[me];this.familiesBySource={};const ce=function(me,xe){const ve={};for(let Se=0;Se<me.length;Se++){const Le=xe&&xe[me[Se].id]||w(me[Se]);xe&&(xe[me[Se].id]=Le);let Ge=ve[Le];Ge||(Ge=ve[Le]=[]),Ge.push(me[Se])}const Ie=[];for(const Se in ve)Ie.push(ve[Se]);return Ie}(Object.values(this._layerConfigs),this.keyCache);for(const me of ce){const xe=me.map(st=>this._layers[st.id]),ve=xe[0];if(ve.visibility==="none")continue;const Ie=ve.source||"";let Se=this.familiesBySource[Ie];Se||(Se=this.familiesBySource[Ie]={});const Le=ve.sourceLayer||"_geojsonTileLayer";let Ge=Se[Le];Ge||(Ge=Se[Le]=[]),Ge.push(xe)}}}class A{constructor(Z){const te={},ce=[];for(const Ie in Z){const Se=Z[Ie],Le=te[Ie]={};for(const Ge in Se){const st=Se[+Ge];if(!st||st.bitmap.width===0||st.bitmap.height===0)continue;const Qe={x:0,y:0,w:st.bitmap.width+2,h:st.bitmap.height+2};ce.push(Qe),Le[Ge]={rect:Qe,metrics:st.metrics}}}const{w:me,h:xe}=s.potpack(ce),ve=new s.AlphaImage({width:me||1,height:xe||1});for(const Ie in Z){const Se=Z[Ie];for(const Le in Se){const Ge=Se[+Le];if(!Ge||Ge.bitmap.width===0||Ge.bitmap.height===0)continue;const st=te[Ie][Le].rect;s.AlphaImage.copy(Ge.bitmap,ve,{x:0,y:0},{x:st.x+1,y:st.y+1},Ge.bitmap)}}this.image=ve,this.positions=te}}s.register("GlyphAtlas",A);class R{constructor(Z){this.tileID=new s.OverscaledTileID(Z.tileID.overscaledZ,Z.tileID.wrap,Z.tileID.canonical.z,Z.tileID.canonical.x,Z.tileID.canonical.y),this.uid=Z.uid,this.zoom=Z.zoom,this.pixelRatio=Z.pixelRatio,this.tileSize=Z.tileSize,this.source=Z.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Z.showCollisionBoxes,this.collectResourceTiming=!!Z.collectResourceTiming,this.returnDependencies=!!Z.returnDependencies,this.promoteId=Z.promoteId}parse(Z,te,ce,me,xe){this.status="parsing",this.data=Z,this.collisionBoxArray=new s.CollisionBoxArray;const ve=new s.DictionaryCoder(Object.keys(Z.layers).sort()),Ie=new s.FeatureIndex(this.tileID,this.promoteId);Ie.bucketLayerIDs=[];const Se={},Le={featureIndex:Ie,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ce},Ge=te.familiesBySource[this.source];for(const cn in Ge){const bn=Z.layers[cn];if(!bn)continue;bn.version===1&&s.warnOnce(`Vector tile source "${this.source}" layer "${cn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Bn=ve.encode(cn),sr=[];for(let Rr=0;Rr<bn.length;Rr++){const fr=bn.feature(Rr),Yo=Ie.getId(fr,cn);sr.push({feature:fr,id:Yo,index:Rr,sourceLayerIndex:Bn})}for(const Rr of Ge[cn]){const fr=Rr[0];fr.source!==this.source&&s.warnOnce(`layer.source = ${fr.source} does not equal this.source = ${this.source}`),fr.minzoom&&this.zoom<Math.floor(fr.minzoom)||fr.maxzoom&&this.zoom>=fr.maxzoom||fr.visibility!=="none"&&(O(Rr,this.zoom,ce),(Se[fr.id]=fr.createBucket({index:Ie.bucketLayerIDs.length,layers:Rr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Bn,sourceID:this.source})).populate(sr,Le,this.tileID.canonical),Ie.bucketLayerIDs.push(Rr.map(Yo=>Yo.id)))}}let st,Qe,Mt,$t;const Ct=s.mapObject(Le.glyphDependencies,cn=>Object.keys(cn).map(Number));Object.keys(Ct).length?me.send("getGlyphs",{uid:this.uid,stacks:Ct,source:this.source,tileID:this.tileID,type:"glyphs"},(cn,bn)=>{st||(st=cn,Qe=bn,zn.call(this))}):Qe={};const Ft=Object.keys(Le.iconDependencies);Ft.length?me.send("getImages",{icons:Ft,source:this.source,tileID:this.tileID,type:"icons"},(cn,bn)=>{st||(st=cn,Mt=bn,zn.call(this))}):Mt={};const gn=Object.keys(Le.patternDependencies);function zn(){if(st)return xe(st);if(Qe&&Mt&&$t){const cn=new A(Qe),bn=new s.ImageAtlas(Mt,$t);for(const Bn in Se){const sr=Se[Bn];sr instanceof s.SymbolBucket?(O(sr.layers,this.zoom,ce),s.performSymbolLayout({bucket:sr,glyphMap:Qe,glyphPositions:cn.positions,imageMap:Mt,imagePositions:bn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):sr.hasPattern&&(sr instanceof s.LineBucket||sr instanceof s.FillBucket||sr instanceof s.FillExtrusionBucket)&&(O(sr.layers,this.zoom,ce),sr.addFeatures(Le,this.tileID.canonical,bn.patternPositions))}this.status="done",xe(null,{buckets:Object.values(Se).filter(Bn=>!Bn.isEmpty()),featureIndex:Ie,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:cn.image,imageAtlas:bn,glyphMap:this.returnDependencies?Qe:null,iconMap:this.returnDependencies?Mt:null,glyphPositions:this.returnDependencies?cn.positions:null})}}gn.length?me.send("getImages",{icons:gn,source:this.source,tileID:this.tileID,type:"patterns"},(cn,bn)=>{st||(st=cn,$t=bn,zn.call(this))}):$t={},zn.call(this)}}function O(ue,Z,te){const ce=new s.EvaluationParameters(Z);for(const me of ue)me.recalculate(ce,te)}function z(ue,Z){const te=s.getArrayBuffer(ue.request,(ce,me,xe,ve)=>{ce?Z(ce):me&&Z(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(me)),rawData:me,cacheControl:xe,expires:ve})});return()=>{te.cancel(),Z()}}class V{constructor(Z,te,ce,me){this.actor=Z,this.layerIndex=te,this.availableImages=ce,this.loadVectorData=me||z,this.loading={},this.loaded={}}loadTile(Z,te){const ce=Z.uid;this.loading||(this.loading={});const me=!!(Z&&Z.request&&Z.request.collectResourceTiming)&&new s.RequestPerformance(Z.request),xe=this.loading[ce]=new R(Z);xe.abort=this.loadVectorData(Z,(ve,Ie)=>{if(delete this.loading[ce],ve||!Ie)return xe.status="done",this.loaded[ce]=xe,te(ve);const Se=Ie.rawData,Le={};Ie.expires&&(Le.expires=Ie.expires),Ie.cacheControl&&(Le.cacheControl=Ie.cacheControl);const Ge={};if(me){const st=me.finish();st&&(Ge.resourceTiming=JSON.parse(JSON.stringify(st)))}xe.vectorTile=Ie.vectorTile,xe.parse(Ie.vectorTile,this.layerIndex,this.availableImages,this.actor,(st,Qe)=>{if(st||!Qe)return te(st);te(null,s.extend({rawTileData:Se.slice(0)},Qe,Le,Ge))}),this.loaded=this.loaded||{},this.loaded[ce]=xe})}reloadTile(Z,te){const ce=this.loaded,me=Z.uid,xe=this;if(ce&&ce[me]){const ve=ce[me];ve.showCollisionBoxes=Z.showCollisionBoxes;const Ie=(Se,Le)=>{const Ge=ve.reloadCallback;Ge&&(delete ve.reloadCallback,ve.parse(ve.vectorTile,xe.layerIndex,this.availableImages,xe.actor,Ge)),te(Se,Le)};ve.status==="parsing"?ve.reloadCallback=Ie:ve.status==="done"&&(ve.vectorTile?ve.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,Ie):Ie())}}abortTile(Z,te){const ce=this.loading,me=Z.uid;ce&&ce[me]&&ce[me].abort&&(ce[me].abort(),delete ce[me]),te()}removeTile(Z,te){const ce=this.loaded,me=Z.uid;ce&&ce[me]&&delete ce[me],te()}}class G{constructor(){this.loaded={}}loadTile(Z,te){const{uid:ce,encoding:me,rawImageData:xe}=Z,ve=s.isImageBitmap(xe)?this.getImageData(xe):xe,Ie=new s.DEMData(ce,ve,me);this.loaded=this.loaded||{},this.loaded[ce]=Ie,te(null,Ie)}getImageData(Z){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Z.width,Z.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Z.width,this.offscreenCanvas.height=Z.height,this.offscreenCanvasContext.drawImage(Z,0,0,Z.width,Z.height);const te=this.offscreenCanvasContext.getImageData(-1,-1,Z.width+2,Z.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:te.width,height:te.height},te.data)}removeTile(Z){const te=this.loaded,ce=Z.uid;te&&te[ce]&&delete te[ce]}}var F=function ue(Z,te){var ce,me=Z&&Z.type;if(me==="FeatureCollection")for(ce=0;ce<Z.features.length;ce++)ue(Z.features[ce],te);else if(me==="GeometryCollection")for(ce=0;ce<Z.geometries.length;ce++)ue(Z.geometries[ce],te);else if(me==="Feature")ue(Z.geometry,te);else if(me==="Polygon")B(Z.coordinates,te);else if(me==="MultiPolygon")for(ce=0;ce<Z.coordinates.length;ce++)B(Z.coordinates[ce],te);return Z};function B(ue,Z){if(ue.length!==0){j(ue[0],Z);for(var te=1;te<ue.length;te++)j(ue[te],!Z)}}function j(ue,Z){for(var te=0,ce=0,me=0,xe=ue.length,ve=xe-1;me<xe;ve=me++){var Ie=(ue[me][0]-ue[ve][0])*(ue[ve][1]+ue[me][1]),Se=te+Ie;ce+=Math.abs(te)>=Math.abs(Ie)?te-Se+Ie:Ie-Se+te,te=Se}te+ce>=0!=!!Z&&ue.reverse()}const Y=s.vectorTile.VectorTileFeature.prototype.toGeoJSON;var Q={},J={get exports(){return Q},set exports(ue){Q=ue}},ee=s.pointGeometry,se=s.vectorTile.VectorTileFeature,ge=he;function he(ue,Z){this.options=Z||{},this.features=ue,this.length=ue.length}function Ee(ue,Z){this.id=typeof ue.id=="number"?ue.id:void 0,this.type=ue.type,this.rawGeometry=ue.type===1?[ue.geometry]:ue.geometry,this.properties=ue.tags,this.extent=Z||4096}he.prototype.feature=function(ue){return new Ee(this.features[ue],this.options.extent)},Ee.prototype.loadGeometry=function(){var ue=this.rawGeometry;this.geometry=[];for(var Z=0;Z<ue.length;Z++){for(var te=ue[Z],ce=[],me=0;me<te.length;me++)ce.push(new ee(te[me][0],te[me][1]));this.geometry.push(ce)}return this.geometry},Ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ue=this.geometry,Z=1/0,te=-1/0,ce=1/0,me=-1/0,xe=0;xe<ue.length;xe++)for(var ve=ue[xe],Ie=0;Ie<ve.length;Ie++){var Se=ve[Ie];Z=Math.min(Z,Se.x),te=Math.max(te,Se.x),ce=Math.min(ce,Se.y),me=Math.max(me,Se.y)}return[Z,ce,te,me]},Ee.prototype.toGeoJSON=se.prototype.toGeoJSON;var De=s.pbf,We=ge;function Fe(ue){var Z=new De;return function(te,ce){for(var me in te.layers)ce.writeMessage(3,tt,te.layers[me])}(ue,Z),Z.finish()}function tt(ue,Z){var te;Z.writeVarintField(15,ue.version||1),Z.writeStringField(1,ue.name||""),Z.writeVarintField(5,ue.extent||4096);var ce={keys:[],values:[],keycache:{},valuecache:{}};for(te=0;te<ue.length;te++)ce.feature=ue.feature(te),Z.writeMessage(2,Ye,ce);var me=ce.keys;for(te=0;te<me.length;te++)Z.writeStringField(3,me[te]);var xe=ce.values;for(te=0;te<xe.length;te++)Z.writeMessage(4,rt,xe[te])}function Ye(ue,Z){var te=ue.feature;te.id!==void 0&&Z.writeVarintField(1,te.id),Z.writeMessage(2,pt,ue),Z.writeVarintField(3,te.type),Z.writeMessage(4,ze,te)}function pt(ue,Z){var te=ue.feature,ce=ue.keys,me=ue.values,xe=ue.keycache,ve=ue.valuecache;for(var Ie in te.properties){var Se=te.properties[Ie],Le=xe[Ie];if(Se!==null){Le===void 0&&(ce.push(Ie),xe[Ie]=Le=ce.length-1),Z.writeVarint(Le);var Ge=typeof Se;Ge!=="string"&&Ge!=="boolean"&&Ge!=="number"&&(Se=JSON.stringify(Se));var st=Ge+":"+Se,Qe=ve[st];Qe===void 0&&(me.push(Se),ve[st]=Qe=me.length-1),Z.writeVarint(Qe)}}}function Pe(ue,Z){return(Z<<3)+(7&ue)}function et(ue){return ue<<1^ue>>31}function ze(ue,Z){for(var te=ue.loadGeometry(),ce=ue.type,me=0,xe=0,ve=te.length,Ie=0;Ie<ve;Ie++){var Se=te[Ie],Le=1;ce===1&&(Le=Se.length),Z.writeVarint(Pe(1,Le));for(var Ge=ce===3?Se.length-1:Se.length,st=0;st<Ge;st++){st===1&&ce!==1&&Z.writeVarint(Pe(2,Ge-1));var Qe=Se[st].x-me,Mt=Se[st].y-xe;Z.writeVarint(et(Qe)),Z.writeVarint(et(Mt)),me+=Qe,xe+=Mt}ce===3&&Z.writeVarint(Pe(7,1))}}function rt(ue,Z){var te=typeof ue;te==="string"?Z.writeStringField(1,ue):te==="boolean"?Z.writeBooleanField(7,ue):te==="number"&&(ue%1!=0?Z.writeDoubleField(3,ue):ue<0?Z.writeSVarintField(6,ue):Z.writeVarintField(5,ue))}J.exports=Fe,Q.fromVectorTileJs=Fe,Q.fromGeojsonVt=function(ue,Z){Z=Z||{};var te={};for(var ce in ue)te[ce]=new We(ue[ce].features,Z),te[ce].name=ce,te[ce].version=Z.version,te[ce].extent=Z.extent;return Fe({layers:te})},Q.GeoJSONWrapper=We;const Be={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ue=>ue},qe=Math.fround||($e=new Float32Array(1),ue=>($e[0]=+ue,$e[0]));var $e;class Je{constructor(Z){this.options=Jt(Object.create(Be),Z),this.trees=new Array(this.options.maxZoom+1)}load(Z){const{log:te,minZoom:ce,maxZoom:me,nodeSize:xe}=this.options;te&&console.time("total time");const ve=`prepare ${Z.length} points`;te&&console.time(ve),this.points=Z;let Ie=[];for(let Se=0;Se<Z.length;Se++)Z[Se].geometry&&Ie.push(vt(Z[Se],Se));this.trees[me+1]=new s.KDBush(Ie,Wt,Zt,xe,Float32Array),te&&console.timeEnd(ve);for(let Se=me;Se>=ce;Se--){const Le=+Date.now();Ie=this._cluster(Ie,Se),this.trees[Se]=new s.KDBush(Ie,Wt,Zt,xe,Float32Array),te&&console.log("z%d: %d clusters in %dms",Se,Ie.length,+Date.now()-Le)}return te&&console.timeEnd("total time"),this}getClusters(Z,te){let ce=((Z[0]+180)%360+360)%360-180;const me=Math.max(-90,Math.min(90,Z[1]));let xe=Z[2]===180?180:((Z[2]+180)%360+360)%360-180;const ve=Math.max(-90,Math.min(90,Z[3]));if(Z[2]-Z[0]>=360)ce=-180,xe=180;else if(ce>xe){const Ge=this.getClusters([ce,me,180,ve],te),st=this.getClusters([-180,me,xe,ve],te);return Ge.concat(st)}const Ie=this.trees[this._limitZoom(te)],Se=Ie.range(ke(ce),Xe(ve),ke(xe),Xe(me)),Le=[];for(const Ge of Se){const st=Ie.points[Ge];Le.push(st.numPoints?lt(st):this.points[st.index])}return Le}getChildren(Z){const te=this._getOriginId(Z),ce=this._getOriginZoom(Z),me="No cluster with the specified id.",xe=this.trees[ce];if(!xe)throw new Error(me);const ve=xe.points[te];if(!ve)throw new Error(me);const Ie=this.options.radius/(this.options.extent*Math.pow(2,ce-1)),Se=xe.within(ve.x,ve.y,Ie),Le=[];for(const Ge of Se){const st=xe.points[Ge];st.parentId===Z&&Le.push(st.numPoints?lt(st):this.points[st.index])}if(Le.length===0)throw new Error(me);return Le}getLeaves(Z,te,ce){const me=[];return this._appendLeaves(me,Z,te=te||10,ce=ce||0,0),me}getTile(Z,te,ce){const me=this.trees[this._limitZoom(Z)],xe=Math.pow(2,Z),{extent:ve,radius:Ie}=this.options,Se=Ie/ve,Le=(ce-Se)/xe,Ge=(ce+1+Se)/xe,st={features:[]};return this._addTileFeatures(me.range((te-Se)/xe,Le,(te+1+Se)/xe,Ge),me.points,te,ce,xe,st),te===0&&this._addTileFeatures(me.range(1-Se/xe,Le,1,Ge),me.points,xe,ce,xe,st),te===xe-1&&this._addTileFeatures(me.range(0,Le,Se/xe,Ge),me.points,-1,ce,xe,st),st.features.length?st:null}getClusterExpansionZoom(Z){let te=this._getOriginZoom(Z)-1;for(;te<=this.options.maxZoom;){const ce=this.getChildren(Z);if(te++,ce.length!==1)break;Z=ce[0].properties.cluster_id}return te}_appendLeaves(Z,te,ce,me,xe){const ve=this.getChildren(te);for(const Ie of ve){const Se=Ie.properties;if(Se&&Se.cluster?xe+Se.point_count<=me?xe+=Se.point_count:xe=this._appendLeaves(Z,Se.cluster_id,ce,me,xe):xe<me?xe++:Z.push(Ie),Z.length===ce)break}return xe}_addTileFeatures(Z,te,ce,me,xe,ve){for(const Ie of Z){const Se=te[Ie],Le=Se.numPoints;let Ge,st,Qe;if(Le)Ge=en(Se),st=Se.x,Qe=Se.y;else{const Ct=this.points[Se.index];Ge=Ct.properties,st=ke(Ct.geometry.coordinates[0]),Qe=Xe(Ct.geometry.coordinates[1])}const Mt={type:1,geometry:[[Math.round(this.options.extent*(st*xe-ce)),Math.round(this.options.extent*(Qe*xe-me))]],tags:Ge};let $t;Le?$t=Se.id:this.options.generateId?$t=Se.index:this.points[Se.index].id&&($t=this.points[Se.index].id),$t!==void 0&&(Mt.id=$t),ve.features.push(Mt)}}_limitZoom(Z){return Math.max(this.options.minZoom,Math.min(Math.floor(+Z),this.options.maxZoom+1))}_cluster(Z,te){const ce=[],{radius:me,extent:xe,reduce:ve,minPoints:Ie}=this.options,Se=me/(xe*Math.pow(2,te));for(let Le=0;Le<Z.length;Le++){const Ge=Z[Le];if(Ge.zoom<=te)continue;Ge.zoom=te;const st=this.trees[te+1],Qe=st.within(Ge.x,Ge.y,Se),Mt=Ge.numPoints||1;let $t=Mt;for(const Ct of Qe){const Ft=st.points[Ct];Ft.zoom>te&&($t+=Ft.numPoints||1)}if($t>Mt&&$t>=Ie){let Ct=Ge.x*Mt,Ft=Ge.y*Mt,gn=ve&&Mt>1?this._map(Ge,!0):null;const zn=(Le<<5)+(te+1)+this.points.length;for(const cn of Qe){const bn=st.points[cn];if(bn.zoom<=te)continue;bn.zoom=te;const Bn=bn.numPoints||1;Ct+=bn.x*Bn,Ft+=bn.y*Bn,bn.parentId=zn,ve&&(gn||(gn=this._map(Ge,!0)),ve(gn,this._map(bn)))}Ge.parentId=zn,ce.push(Ae(Ct/$t,Ft/$t,zn,$t,gn))}else if(ce.push(Ge),$t>1)for(const Ct of Qe){const Ft=st.points[Ct];Ft.zoom<=te||(Ft.zoom=te,ce.push(Ft))}}return ce}_getOriginId(Z){return Z-this.points.length>>5}_getOriginZoom(Z){return(Z-this.points.length)%32}_map(Z,te){if(Z.numPoints)return te?Jt({},Z.properties):Z.properties;const ce=this.points[Z.index].properties,me=this.options.map(ce);return te&&me===ce?Jt({},me):me}}function Ae(ue,Z,te,ce,me){return{x:qe(ue),y:qe(Z),zoom:1/0,id:te,parentId:-1,numPoints:ce,properties:me}}function vt(ue,Z){const[te,ce]=ue.geometry.coordinates;return{x:qe(ke(te)),y:qe(Xe(ce)),zoom:1/0,index:Z,parentId:-1}}function lt(ue){return{type:"Feature",id:ue.id,properties:en(ue),geometry:{type:"Point",coordinates:[(Z=ue.x,360*(Z-.5)),_t(ue.y)]}};var Z}function en(ue){const Z=ue.numPoints,te=Z>=1e4?`${Math.round(Z/1e3)}k`:Z>=1e3?Math.round(Z/100)/10+"k":Z;return Jt(Jt({},ue.properties),{cluster:!0,cluster_id:ue.id,point_count:Z,point_count_abbreviated:te})}function ke(ue){return ue/360+.5}function Xe(ue){const Z=Math.sin(ue*Math.PI/180),te=.5-.25*Math.log((1+Z)/(1-Z))/Math.PI;return te<0?0:te>1?1:te}function _t(ue){const Z=(180-360*ue)*Math.PI/180;return 360*Math.atan(Math.exp(Z))/Math.PI-90}function Jt(ue,Z){for(const te in Z)ue[te]=Z[te];return ue}function Wt(ue){return ue.x}function Zt(ue){return ue.y}function un(ue,Z,te,ce){for(var me,xe=ce,ve=te-Z>>1,Ie=te-Z,Se=ue[Z],Le=ue[Z+1],Ge=ue[te],st=ue[te+1],Qe=Z+3;Qe<te;Qe+=3){var Mt=nn(ue[Qe],ue[Qe+1],Se,Le,Ge,st);if(Mt>xe)me=Qe,xe=Mt;else if(Mt===xe){var $t=Math.abs(Qe-ve);$t<Ie&&(me=Qe,Ie=$t)}}xe>ce&&(me-Z>3&&un(ue,Z,me,ce),ue[me+2]=xe,te-me>3&&un(ue,me,te,ce))}function nn(ue,Z,te,ce,me,xe){var ve=me-te,Ie=xe-ce;if(ve!==0||Ie!==0){var Se=((ue-te)*ve+(Z-ce)*Ie)/(ve*ve+Ie*Ie);Se>1?(te=me,ce=xe):Se>0&&(te+=ve*Se,ce+=Ie*Se)}return(ve=ue-te)*ve+(Ie=Z-ce)*Ie}function dn(ue,Z,te,ce){var me={id:ue===void 0?null:ue,type:Z,geometry:te,tags:ce,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(xe){var ve=xe.geometry,Ie=xe.type;if(Ie==="Point"||Ie==="MultiPoint"||Ie==="LineString")mt(xe,ve);else if(Ie==="Polygon"||Ie==="MultiLineString")for(var Se=0;Se<ve.length;Se++)mt(xe,ve[Se]);else if(Ie==="MultiPolygon")for(Se=0;Se<ve.length;Se++)for(var Le=0;Le<ve[Se].length;Le++)mt(xe,ve[Se][Le])}(me),me}function mt(ue,Z){for(var te=0;te<Z.length;te+=3)ue.minX=Math.min(ue.minX,Z[te]),ue.minY=Math.min(ue.minY,Z[te+1]),ue.maxX=Math.max(ue.maxX,Z[te]),ue.maxY=Math.max(ue.maxY,Z[te+1])}function Ot(ue,Z,te,ce){if(Z.geometry){var me=Z.geometry.coordinates,xe=Z.geometry.type,ve=Math.pow(te.tolerance/((1<<te.maxZoom)*te.extent),2),Ie=[],Se=Z.id;if(te.promoteId?Se=Z.properties[te.promoteId]:te.generateId&&(Se=ce||0),xe==="Point")jt(me,Ie);else if(xe==="MultiPoint")for(var Le=0;Le<me.length;Le++)jt(me[Le],Ie);else if(xe==="LineString")Kn(me,Ie,ve,!1);else if(xe==="MultiLineString"){if(te.lineMetrics){for(Le=0;Le<me.length;Le++)Kn(me[Le],Ie=[],ve,!1),ue.push(dn(Se,"LineString",Ie,Z.properties));return}xn(me,Ie,ve,!1)}else if(xe==="Polygon")xn(me,Ie,ve,!0);else{if(xe!=="MultiPolygon"){if(xe==="GeometryCollection"){for(Le=0;Le<Z.geometry.geometries.length;Le++)Ot(ue,{id:Se,geometry:Z.geometry.geometries[Le],properties:Z.properties},te,ce);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Le=0;Le<me.length;Le++){var Ge=[];xn(me[Le],Ge,ve,!0),Ie.push(Ge)}}ue.push(dn(Se,xe,Ie,Z.properties))}}function jt(ue,Z){Z.push(it(ue[0])),Z.push(fn(ue[1])),Z.push(0)}function Kn(ue,Z,te,ce){for(var me,xe,ve=0,Ie=0;Ie<ue.length;Ie++){var Se=it(ue[Ie][0]),Le=fn(ue[Ie][1]);Z.push(Se),Z.push(Le),Z.push(0),Ie>0&&(ve+=ce?(me*Le-Se*xe)/2:Math.sqrt(Math.pow(Se-me,2)+Math.pow(Le-xe,2))),me=Se,xe=Le}var Ge=Z.length-3;Z[2]=1,un(Z,0,Ge,te),Z[Ge+2]=1,Z.size=Math.abs(ve),Z.start=0,Z.end=Z.size}function xn(ue,Z,te,ce){for(var me=0;me<ue.length;me++){var xe=[];Kn(ue[me],xe,te,ce),Z.push(xe)}}function it(ue){return ue/360+.5}function fn(ue){var Z=Math.sin(ue*Math.PI/180),te=.5-.25*Math.log((1+Z)/(1-Z))/Math.PI;return te<0?0:te>1?1:te}function pn(ue,Z,te,ce,me,xe,ve,Ie){if(ce/=Z,xe>=(te/=Z)&&ve<ce)return ue;if(ve<te||xe>=ce)return null;for(var Se=[],Le=0;Le<ue.length;Le++){var Ge=ue[Le],st=Ge.geometry,Qe=Ge.type,Mt=me===0?Ge.minX:Ge.minY,$t=me===0?Ge.maxX:Ge.maxY;if(Mt>=te&&$t<ce)Se.push(Ge);else if(!($t<te||Mt>=ce)){var Ct=[];if(Qe==="Point"||Qe==="MultiPoint")Xr(st,Ct,te,ce,me);else if(Qe==="LineString")Ln(st,Ct,te,ce,me,!1,Ie.lineMetrics);else if(Qe==="MultiLineString")Cn(st,Ct,te,ce,me,!1);else if(Qe==="Polygon")Cn(st,Ct,te,ce,me,!0);else if(Qe==="MultiPolygon")for(var Ft=0;Ft<st.length;Ft++){var gn=[];Cn(st[Ft],gn,te,ce,me,!0),gn.length&&Ct.push(gn)}if(Ct.length){if(Ie.lineMetrics&&Qe==="LineString"){for(Ft=0;Ft<Ct.length;Ft++)Se.push(dn(Ge.id,Qe,Ct[Ft],Ge.tags));continue}Qe!=="LineString"&&Qe!=="MultiLineString"||(Ct.length===1?(Qe="LineString",Ct=Ct[0]):Qe="MultiLineString"),Qe!=="Point"&&Qe!=="MultiPoint"||(Qe=Ct.length===3?"Point":"MultiPoint"),Se.push(dn(Ge.id,Qe,Ct,Ge.tags))}}}return Se.length?Se:null}function Xr(ue,Z,te,ce,me){for(var xe=0;xe<ue.length;xe+=3){var ve=ue[xe+me];ve>=te&&ve<=ce&&(Z.push(ue[xe]),Z.push(ue[xe+1]),Z.push(ue[xe+2]))}}function Ln(ue,Z,te,ce,me,xe,ve){for(var Ie,Se,Le=Hn(ue),Ge=me===0?ni:Gi,st=ue.start,Qe=0;Qe<ue.length-3;Qe+=3){var Mt=ue[Qe],$t=ue[Qe+1],Ct=ue[Qe+2],Ft=ue[Qe+3],gn=ue[Qe+4],zn=me===0?Mt:$t,cn=me===0?Ft:gn,bn=!1;ve&&(Ie=Math.sqrt(Math.pow(Mt-Ft,2)+Math.pow($t-gn,2))),zn<te?cn>te&&(Se=Ge(Le,Mt,$t,Ft,gn,te),ve&&(Le.start=st+Ie*Se)):zn>ce?cn<ce&&(Se=Ge(Le,Mt,$t,Ft,gn,ce),ve&&(Le.start=st+Ie*Se)):Xo(Le,Mt,$t,Ct),cn<te&&zn>=te&&(Se=Ge(Le,Mt,$t,Ft,gn,te),bn=!0),cn>ce&&zn<=ce&&(Se=Ge(Le,Mt,$t,Ft,gn,ce),bn=!0),!xe&&bn&&(ve&&(Le.end=st+Ie*Se),Z.push(Le),Le=Hn(ue)),ve&&(st+=Ie)}var Bn=ue.length-3;Mt=ue[Bn],$t=ue[Bn+1],Ct=ue[Bn+2],(zn=me===0?Mt:$t)>=te&&zn<=ce&&Xo(Le,Mt,$t,Ct),Bn=Le.length-3,xe&&Bn>=3&&(Le[Bn]!==Le[0]||Le[Bn+1]!==Le[1])&&Xo(Le,Le[0],Le[1],Le[2]),Le.length&&Z.push(Le)}function Hn(ue){var Z=[];return Z.size=ue.size,Z.start=ue.start,Z.end=ue.end,Z}function Cn(ue,Z,te,ce,me,xe){for(var ve=0;ve<ue.length;ve++)Ln(ue[ve],Z,te,ce,me,xe,!1)}function Xo(ue,Z,te,ce){ue.push(Z),ue.push(te),ue.push(ce)}function ni(ue,Z,te,ce,me,xe){var ve=(xe-Z)/(ce-Z);return ue.push(xe),ue.push(te+(me-te)*ve),ue.push(1),ve}function Gi(ue,Z,te,ce,me,xe){var ve=(xe-te)/(me-te);return ue.push(Z+(ce-Z)*ve),ue.push(xe),ue.push(1),ve}function mn(ue,Z){for(var te=[],ce=0;ce<ue.length;ce++){var me,xe=ue[ce],ve=xe.type;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")me=ht(xe.geometry,Z);else if(ve==="MultiLineString"||ve==="Polygon"){me=[];for(var Ie=0;Ie<xe.geometry.length;Ie++)me.push(ht(xe.geometry[Ie],Z))}else if(ve==="MultiPolygon")for(me=[],Ie=0;Ie<xe.geometry.length;Ie++){for(var Se=[],Le=0;Le<xe.geometry[Ie].length;Le++)Se.push(ht(xe.geometry[Ie][Le],Z));me.push(Se)}te.push(dn(xe.id,ve,me,xe.tags))}return te}function ht(ue,Z){var te=[];te.size=ue.size,ue.start!==void 0&&(te.start=ue.start,te.end=ue.end);for(var ce=0;ce<ue.length;ce+=3)te.push(ue[ce]+Z,ue[ce+1],ue[ce+2]);return te}function Qt(ue,Z){if(ue.transformed)return ue;var te,ce,me,xe=1<<ue.z,ve=ue.x,Ie=ue.y;for(te=0;te<ue.features.length;te++){var Se=ue.features[te],Le=Se.geometry,Ge=Se.type;if(Se.geometry=[],Ge===1)for(ce=0;ce<Le.length;ce+=2)Se.geometry.push(Rt(Le[ce],Le[ce+1],Z,xe,ve,Ie));else for(ce=0;ce<Le.length;ce++){var st=[];for(me=0;me<Le[ce].length;me+=2)st.push(Rt(Le[ce][me],Le[ce][me+1],Z,xe,ve,Ie));Se.geometry.push(st)}}return ue.transformed=!0,ue}function Rt(ue,Z,te,ce,me,xe){return[Math.round(te*(ue*ce-me)),Math.round(te*(Z*ce-xe))]}function vn(ue,Z,te,ce,me){for(var xe=Z===me.maxZoom?0:me.tolerance/((1<<Z)*me.extent),ve={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:te,y:ce,z:Z,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ie=0;Ie<ue.length;Ie++){ve.numFeatures++,Mn(ve,ue[Ie],xe,me);var Se=ue[Ie].minX,Le=ue[Ie].minY,Ge=ue[Ie].maxX,st=ue[Ie].maxY;Se<ve.minX&&(ve.minX=Se),Le<ve.minY&&(ve.minY=Le),Ge>ve.maxX&&(ve.maxX=Ge),st>ve.maxY&&(ve.maxY=st)}return ve}function Mn(ue,Z,te,ce){var me=Z.geometry,xe=Z.type,ve=[];if(xe==="Point"||xe==="MultiPoint")for(var Ie=0;Ie<me.length;Ie+=3)ve.push(me[Ie]),ve.push(me[Ie+1]),ue.numPoints++,ue.numSimplified++;else if(xe==="LineString")yn(ve,me,ue,te,!1,!1);else if(xe==="MultiLineString"||xe==="Polygon")for(Ie=0;Ie<me.length;Ie++)yn(ve,me[Ie],ue,te,xe==="Polygon",Ie===0);else if(xe==="MultiPolygon")for(var Se=0;Se<me.length;Se++){var Le=me[Se];for(Ie=0;Ie<Le.length;Ie++)yn(ve,Le[Ie],ue,te,!0,Ie===0)}if(ve.length){var Ge=Z.tags||null;if(xe==="LineString"&&ce.lineMetrics){for(var st in Ge={},Z.tags)Ge[st]=Z.tags[st];Ge.mapbox_clip_start=me.start/me.size,Ge.mapbox_clip_end=me.end/me.size}var Qe={geometry:ve,type:xe==="Polygon"||xe==="MultiPolygon"?3:xe==="LineString"||xe==="MultiLineString"?2:1,tags:Ge};Z.id!==null&&(Qe.id=Z.id),ue.features.push(Qe)}}function yn(ue,Z,te,ce,me,xe){var ve=ce*ce;if(ce>0&&Z.size<(me?ve:ce))te.numPoints+=Z.length/3;else{for(var Ie=[],Se=0;Se<Z.length;Se+=3)(ce===0||Z[Se+2]>ve)&&(te.numSimplified++,Ie.push(Z[Se]),Ie.push(Z[Se+1])),te.numPoints++;me&&function(Le,Ge){for(var st=0,Qe=0,Mt=Le.length,$t=Mt-2;Qe<Mt;$t=Qe,Qe+=2)st+=(Le[Qe]-Le[$t])*(Le[Qe+1]+Le[$t+1]);if(st>0===Ge)for(Qe=0,Mt=Le.length;Qe<Mt/2;Qe+=2){var Ct=Le[Qe],Ft=Le[Qe+1];Le[Qe]=Le[Mt-2-Qe],Le[Qe+1]=Le[Mt-1-Qe],Le[Mt-2-Qe]=Ct,Le[Mt-1-Qe]=Ft}}(Ie,xe),ue.push(Ie)}}function Gt(ue,Z){var te=(Z=this.options=function(me,xe){for(var ve in xe)me[ve]=xe[ve];return me}(Object.create(this.options),Z)).debug;if(te&&console.time("preprocess data"),Z.maxZoom<0||Z.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Z.promoteId&&Z.generateId)throw new Error("promoteId and generateId cannot be used together.");var ce=function(me,xe){var ve=[];if(me.type==="FeatureCollection")for(var Ie=0;Ie<me.features.length;Ie++)Ot(ve,me.features[Ie],xe,Ie);else Ot(ve,me.type==="Feature"?me:{geometry:me},xe);return ve}(ue,Z);this.tiles={},this.tileCoords=[],te&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Z.indexMaxZoom,Z.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ce=function(me,xe){var ve=xe.buffer/xe.extent,Ie=me,Se=pn(me,1,-1-ve,ve,0,-1,2,xe),Le=pn(me,1,1-ve,2+ve,0,-1,2,xe);return(Se||Le)&&(Ie=pn(me,1,-ve,1+ve,0,-1,2,xe)||[],Se&&(Ie=mn(Se,1).concat(Ie)),Le&&(Ie=Ie.concat(mn(Le,-1)))),Ie}(ce,Z),ce.length&&this.splitTile(ce,0,0,0),te&&(ce.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Dn(ue,Z,te){return 32*((1<<ue)*te+Z)+ue}function Rn(ue,Z){return Z?ue.properties[Z]:ue.id}function Yt(ue,Z){if(ue==null)return!0;if(ue.type==="Feature")return Rn(ue,Z)!=null;if(ue.type==="FeatureCollection"){const te=new Set;for(const ce of ue.features){const me=Rn(ce,Z);if(me==null||te.has(me))return!1;te.add(me)}return!0}return!1}function rn(ue,Z){const te=new Map;if(ue!=null)if(ue.type==="Feature")te.set(Rn(ue,Z),ue);else for(const ce of ue.features)te.set(Rn(ce,Z),ce);return te}function Qn(ue,Z){const te=ue.tileID.canonical;if(!this._geoJSONIndex)return Z(null,null);const ce=this._geoJSONIndex.getTile(te.z,te.x,te.y);if(!ce)return Z(null,null);const me=new class{constructor(ve){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=ve.length,this._features=ve}feature(ve){return new class{constructor(Ie){this._feature=Ie,this.extent=s.EXTENT,this.type=Ie.type,this.properties=Ie.tags,"id"in Ie&&!isNaN(Ie.id)&&(this.id=parseInt(Ie.id,10))}loadGeometry(){if(this._feature.type===1){const Ie=[];for(const Se of this._feature.geometry)Ie.push([new s.pointGeometry(Se[0],Se[1])]);return Ie}{const Ie=[];for(const Se of this._feature.geometry){const Le=[];for(const Ge of Se)Le.push(new s.pointGeometry(Ge[0],Ge[1]));Ie.push(Le)}return Ie}}toGeoJSON(Ie,Se,Le){return Y.call(this,Ie,Se,Le)}}(this._features[ve])}}(ce.features);let xe=Q(me);xe.byteOffset===0&&xe.byteLength===xe.buffer.byteLength||(xe=new Uint8Array(xe)),Z(null,{vectorTile:me,rawData:xe.buffer})}Gt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Gt.prototype.splitTile=function(ue,Z,te,ce,me,xe,ve){for(var Ie=[ue,Z,te,ce],Se=this.options,Le=Se.debug;Ie.length;){ce=Ie.pop(),te=Ie.pop(),Z=Ie.pop(),ue=Ie.pop();var Ge=1<<Z,st=Dn(Z,te,ce),Qe=this.tiles[st];if(!Qe&&(Le>1&&console.time("creation"),Qe=this.tiles[st]=vn(ue,Z,te,ce,Se),this.tileCoords.push({z:Z,x:te,y:ce}),Le)){Le>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Z,te,ce,Qe.numFeatures,Qe.numPoints,Qe.numSimplified),console.timeEnd("creation"));var Mt="z"+Z;this.stats[Mt]=(this.stats[Mt]||0)+1,this.total++}if(Qe.source=ue,me){if(Z===Se.maxZoom||Z===me)continue;var $t=1<<me-Z;if(te!==Math.floor(xe/$t)||ce!==Math.floor(ve/$t))continue}else if(Z===Se.indexMaxZoom||Qe.numPoints<=Se.indexMaxPoints)continue;if(Qe.source=null,ue.length!==0){Le>1&&console.time("clipping");var Ct,Ft,gn,zn,cn,bn,Bn=.5*Se.buffer/Se.extent,sr=.5-Bn,Rr=.5+Bn,fr=1+Bn;Ct=Ft=gn=zn=null,cn=pn(ue,Ge,te-Bn,te+Rr,0,Qe.minX,Qe.maxX,Se),bn=pn(ue,Ge,te+sr,te+fr,0,Qe.minX,Qe.maxX,Se),ue=null,cn&&(Ct=pn(cn,Ge,ce-Bn,ce+Rr,1,Qe.minY,Qe.maxY,Se),Ft=pn(cn,Ge,ce+sr,ce+fr,1,Qe.minY,Qe.maxY,Se),cn=null),bn&&(gn=pn(bn,Ge,ce-Bn,ce+Rr,1,Qe.minY,Qe.maxY,Se),zn=pn(bn,Ge,ce+sr,ce+fr,1,Qe.minY,Qe.maxY,Se),bn=null),Le>1&&console.timeEnd("clipping"),Ie.push(Ct||[],Z+1,2*te,2*ce),Ie.push(Ft||[],Z+1,2*te,2*ce+1),Ie.push(gn||[],Z+1,2*te+1,2*ce),Ie.push(zn||[],Z+1,2*te+1,2*ce+1)}}},Gt.prototype.getTile=function(ue,Z,te){var ce=this.options,me=ce.extent,xe=ce.debug;if(ue<0||ue>24)return null;var ve=1<<ue,Ie=Dn(ue,Z=(Z%ve+ve)%ve,te);if(this.tiles[Ie])return Qt(this.tiles[Ie],me);xe>1&&console.log("drilling down to z%d-%d-%d",ue,Z,te);for(var Se,Le=ue,Ge=Z,st=te;!Se&&Le>0;)Le--,Ge=Math.floor(Ge/2),st=Math.floor(st/2),Se=this.tiles[Dn(Le,Ge,st)];return Se&&Se.source?(xe>1&&console.log("found parent tile z%d-%d-%d",Le,Ge,st),xe>1&&console.time("drilling down"),this.splitTile(Se.source,Le,Ge,st,ue,Z,te),xe>1&&console.timeEnd("drilling down"),this.tiles[Ie]?Qt(this.tiles[Ie],me):null):null};class Sr extends V{constructor(Z,te,ce,me){super(Z,te,ce,Qn),this._dataUpdateable=new Map,this.loadGeoJSON=(xe,ve)=>{const{promoteId:Ie}=xe;if(xe.request)return s.getJSON(xe.request,(Se,Le,Ge,st)=>{this._dataUpdateable=Yt(Le,Ie)?rn(Le,Ie):void 0,ve(Se,Le,Ge,st)});if(typeof xe.data=="string")try{const Se=JSON.parse(xe.data);this._dataUpdateable=Yt(Se,Ie)?rn(Se,Ie):void 0,ve(null,Se)}catch{ve(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`))}else xe.dataDiff?this._dataUpdateable?(function(Se,Le,Ge){var st,Qe,Mt,$t;if(Le.removeAll&&Se.clear(),Le.remove)for(const Ct of Le.remove)Se.delete(Ct);if(Le.add)for(const Ct of Le.add){const Ft=Rn(Ct,Ge);Ft!=null&&Se.set(Ft,Ct)}if(Le.update)for(const Ct of Le.update){let Ft=Se.get(Ct.id);if(Ft==null)continue;const gn=!Ct.removeAllProperties&&(((st=Ct.removeProperties)===null||st===void 0?void 0:st.length)>0||((Qe=Ct.addOrUpdateProperties)===null||Qe===void 0?void 0:Qe.length)>0);if((Ct.newGeometry||Ct.removeAllProperties||gn)&&(Ft={...Ft},Se.set(Ct.id,Ft),gn&&(Ft.properties={...Ft.properties})),Ct.newGeometry&&(Ft.geometry=Ct.newGeometry),Ct.removeAllProperties)Ft.properties={};else if(((Mt=Ct.removeProperties)===null||Mt===void 0?void 0:Mt.length)>0)for(const zn of Ct.removeProperties)Object.prototype.hasOwnProperty.call(Ft.properties,zn)&&delete Ft.properties[zn];if((($t=Ct.addOrUpdateProperties)===null||$t===void 0?void 0:$t.length)>0)for(const{key:zn,value:cn}of Ct.addOrUpdateProperties)Ft.properties[zn]=cn}}(this._dataUpdateable,xe.dataDiff,Ie),ve(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):ve(new Error(`Cannot update existing geojson data in ${xe.source}`)):ve(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},me&&(this.loadGeoJSON=me)}loadData(Z,te){var ce;(ce=this._pendingRequest)===null||ce===void 0||ce.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const me=!!(Z&&Z.request&&Z.request.collectResourceTiming)&&new s.RequestPerformance(Z.request);this._pendingCallback=te,this._pendingRequest=this.loadGeoJSON(Z,(xe,ve)=>{if(delete this._pendingCallback,delete this._pendingRequest,xe||!ve)return te(xe);if(typeof ve!="object")return te(new Error(`Input data given to '${Z.source}' is not a valid GeoJSON object.`));{F(ve,!0);try{if(Z.filter){const Se=s.createExpression(Z.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Se.result==="error")throw new Error(Se.value.map(Ge=>`${Ge.key}: ${Ge.message}`).join(", "));ve={type:"FeatureCollection",features:ve.features.filter(Ge=>Se.value.evaluate({zoom:0},Ge))}}this._geoJSONIndex=Z.cluster?new Je(function({superclusterOptions:Se,clusterProperties:Le}){if(!Le||!Se)return Se;const Ge={},st={},Qe={accumulated:null,zoom:0},Mt={properties:null},$t=Object.keys(Le);for(const Ct of $t){const[Ft,gn]=Le[Ct],zn=s.createExpression(gn),cn=s.createExpression(typeof Ft=="string"?[Ft,["accumulated"],["get",Ct]]:Ft);Ge[Ct]=zn.value,st[Ct]=cn.value}return Se.map=Ct=>{Mt.properties=Ct;const Ft={};for(const gn of $t)Ft[gn]=Ge[gn].evaluate(Qe,Mt);return Ft},Se.reduce=(Ct,Ft)=>{Mt.properties=Ft;for(const gn of $t)Qe.accumulated=Ct[gn],Ct[gn]=st[gn].evaluate(Qe,Mt)},Se}(Z)).load(ve.features):function(Se,Le){return new Gt(Se,Le)}(ve,Z.geojsonVtOptions)}catch(Se){return te(Se)}this.loaded={};const Ie={};if(me){const Se=me.finish();Se&&(Ie.resourceTiming={},Ie.resourceTiming[Z.source]=JSON.parse(JSON.stringify(Se)))}te(null,Ie)}})}reloadTile(Z,te){const ce=this.loaded;return ce&&ce[Z.uid]?super.reloadTile(Z,te):this.loadTile(Z,te)}removeSource(Z,te){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),te()}getClusterExpansionZoom(Z,te){try{te(null,this._geoJSONIndex.getClusterExpansionZoom(Z.clusterId))}catch(ce){te(ce)}}getClusterChildren(Z,te){try{te(null,this._geoJSONIndex.getChildren(Z.clusterId))}catch(ce){te(ce)}}getClusterLeaves(Z,te){try{te(null,this._geoJSONIndex.getLeaves(Z.clusterId,Z.limit,Z.offset))}catch(ce){te(ce)}}}class Pr{constructor(Z){this.self=Z,this.actor=new s.Actor(Z,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:V,geojson:Sr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(te,ce)=>{if(this.workerSourceTypes[te])throw new Error(`Worker source with name "${te}" already registered.`);this.workerSourceTypes[te]=ce},this.self.registerRTLTextPlugin=te=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=te.applyArabicShaping,s.plugin.processBidirectionalText=te.processBidirectionalText,s.plugin.processStyledBidirectionalText=te.processStyledBidirectionalText}}setReferrer(Z,te){this.referrer=te}setImages(Z,te,ce){this.availableImages[Z]=te;for(const me in this.workerSources[Z]){const xe=this.workerSources[Z][me];for(const ve in xe)xe[ve].availableImages=te}ce()}setLayers(Z,te,ce){this.getLayerIndex(Z).replace(te),ce()}updateLayers(Z,te,ce){this.getLayerIndex(Z).update(te.layers,te.removedIds),ce()}loadTile(Z,te,ce){this.getWorkerSource(Z,te.type,te.source).loadTile(te,ce)}loadDEMTile(Z,te,ce){this.getDEMWorkerSource(Z,te.source).loadTile(te,ce)}reloadTile(Z,te,ce){this.getWorkerSource(Z,te.type,te.source).reloadTile(te,ce)}abortTile(Z,te,ce){this.getWorkerSource(Z,te.type,te.source).abortTile(te,ce)}removeTile(Z,te,ce){this.getWorkerSource(Z,te.type,te.source).removeTile(te,ce)}removeDEMTile(Z,te){this.getDEMWorkerSource(Z,te.source).removeTile(te)}removeSource(Z,te,ce){if(!this.workerSources[Z]||!this.workerSources[Z][te.type]||!this.workerSources[Z][te.type][te.source])return;const me=this.workerSources[Z][te.type][te.source];delete this.workerSources[Z][te.type][te.source],me.removeSource!==void 0?me.removeSource(te,ce):ce()}loadWorkerSource(Z,te,ce){try{this.self.importScripts(te.url),ce()}catch(me){ce(me.toString())}}syncRTLPluginState(Z,te,ce){try{s.plugin.setState(te);const me=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&me!=null){this.self.importScripts(me);const xe=s.plugin.isParsed();ce(xe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${me}`),xe)}}catch(me){ce(me.toString())}}getAvailableImages(Z){let te=this.availableImages[Z];return te||(te=[]),te}getLayerIndex(Z){let te=this.layerIndexes[Z];return te||(te=this.layerIndexes[Z]=new I),te}getWorkerSource(Z,te,ce){if(this.workerSources[Z]||(this.workerSources[Z]={}),this.workerSources[Z][te]||(this.workerSources[Z][te]={}),!this.workerSources[Z][te][ce]){const me={send:(xe,ve,Ie)=>{this.actor.send(xe,ve,Ie,Z)}};this.workerSources[Z][te][ce]=new this.workerSourceTypes[te](me,this.getLayerIndex(Z),this.getAvailableImages(Z))}return this.workerSources[Z][te][ce]}getDEMWorkerSource(Z,te){return this.demWorkerSources[Z]||(this.demWorkerSources[Z]={}),this.demWorkerSources[Z][te]||(this.demWorkerSources[Z][te]=new G),this.demWorkerSources[Z][te]}}return s.isWorker()&&(self.worker=new Pr(self)),Pr}),u(["./shared"],function(s){var y=w;function w(v){return!function(a){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var m,_,E=new Blob([""],{type:"text/javascript"}),P=URL.createObjectURL(E);try{_=new Worker(P),m=!0}catch{m=!1}return _&&_.terminate(),URL.revokeObjectURL(P),m}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var m=document.createElement("canvas");m.width=m.height=1;var _=m.getContext("2d");if(!_)return!1;var E=_.getImageData(0,0,1,1);return E&&E.width===m.width}()?(I[d=a&&a.failIfMajorPerformanceCaveat]===void 0&&(I[d]=function(m){var _,E=function(P){var M=document.createElement("canvas"),N=Object.create(w.webGLContextAttributes);return N.failIfMajorPerformanceCaveat=P,M.getContext("webgl",N)||M.getContext("experimental-webgl",N)}(m);if(!E)return!1;try{_=E.createShader(E.VERTEX_SHADER)}catch{return!1}return!(!_||E.isContextLost())&&(E.shaderSource(_,"void main() {}"),E.compileShader(_),E.getShaderParameter(_,E.COMPILE_STATUS)===!0)}(d)),I[d]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var d}(v)}var I={};w.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var A="3.0.0-pre.4";function R(v,a){if(Array.isArray(v)){if(!Array.isArray(a)||v.length!==a.length)return!1;for(let d=0;d<v.length;d++)if(!R(v[d],a[d]))return!1;return!0}if(typeof v=="object"&&v!==null&&a!==null){if(typeof a!="object"||Object.keys(v).length!==Object.keys(a).length)return!1;for(const d in v)if(!R(v[d],a[d]))return!1;return!0}return v===a}class O{static testProp(a){if(!O.docStyle)return a[0];for(let d=0;d<a.length;d++)if(a[d]in O.docStyle)return a[d];return a[0]}static create(a,d,m){const _=window.document.createElement(a);return d!==void 0&&(_.className=d),m&&m.appendChild(_),_}static createNS(a,d){return window.document.createElementNS(a,d)}static disableDrag(){O.docStyle&&O.selectProp&&(O.userSelect=O.docStyle[O.selectProp],O.docStyle[O.selectProp]="none")}static enableDrag(){O.docStyle&&O.selectProp&&(O.docStyle[O.selectProp]=O.userSelect)}static setTransform(a,d){a.style[O.transformProp]=d}static addEventListener(a,d,m,_={}){a.addEventListener(d,m,"passive"in _?_:_.capture)}static removeEventListener(a,d,m,_={}){a.removeEventListener(d,m,"passive"in _?_:_.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",O.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",O.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",O.suppressClickInternal,!0)},0)}static mousePos(a,d){const m=a.getBoundingClientRect();return new s.pointGeometry(d.clientX-m.left-a.clientLeft,d.clientY-m.top-a.clientTop)}static touchPos(a,d){const m=a.getBoundingClientRect(),_=[];for(let E=0;E<d.length;E++)_.push(new s.pointGeometry(d[E].clientX-m.left-a.clientLeft,d[E].clientY-m.top-a.clientTop));return _}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}O.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,O.selectProp=O.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),O.transformProp=O.testProp(["transform","WebkitTransform"]);const z={supported:!1,testSupport:function(v){!F&&G&&(B?j(v):V=v)}};let V,G,F=!1,B=!1;function j(v){const a=v.createTexture();v.bindTexture(v.TEXTURE_2D,a);try{if(v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,G),v.isContextLost())return;z.supported=!0}catch{}v.deleteTexture(a),F=!0}var Y;typeof document<"u"&&(G=document.createElement("img"),G.onload=function(){V&&j(V),V=null,B=!0},G.onerror=function(){F=!0,V=null},G.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(v){let a,d,m,_;v.resetRequestQueue=()=>{a=[],d=0,m=0,_={}},v.addThrottleControl=M=>{const N=m++;return _[N]=M,N},v.removeThrottleControl=M=>{delete _[M]};const E=()=>{const M=Object.keys(_);let N=!1;if(M.length>0){for(const U of M)if(N=_[U](),N)break}return N};v.getImage=(M,N)=>{z.supported&&(M.headers||(M.headers={}),M.headers.accept="image/webp,*/*");const U={requestParameters:M,callback:N,cancelled:!1,completed:!1,cancel:()=>{}};return a.push(U),E()||v.processQueue(),U};const P=M=>{const{requestParameters:N,callback:U}=M;return s.getArrayBuffer(N,(K,W,ne,fe)=>{K?U(K):W&&((pe,de)=>{typeof createImageBitmap=="function"?s.arrayBufferToImageBitmap(pe,de):s.arrayBufferToImage(pe,de)})(W,(pe,de)=>{pe!=null?U(pe):de!=null&&U(null,de,{cacheControl:ne,expires:fe})}),M.cancelled||(M.completed=!0,d--,E()||v.processQueue())})};v.processQueue=(M=0)=>{M<=0&&(M=E()?s.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.config.MAX_PARALLEL_IMAGE_REQUESTS);for(let N=d;N<M&&a.length>0;N++){const U=a.shift();if(U.cancelled)continue;const K=P(U);d++,U.innerRequest=K,U.cancel=()=>{var W;(W=U).completed||W.cancelled||(d--,W.cancelled=!0,W.innerRequest.cancel(),v.processQueue())}}return a.length}}(Y||(Y={})),Y.resetRequestQueue();var Q,J=Y;(function(v){v.Glyphs="Glyphs",v.Image="Image",v.Source="Source",v.SpriteImage="SpriteImage",v.SpriteJSON="SpriteJSON",v.Style="Style",v.Tile="Tile",v.Unknown="Unknown"})(Q||(Q={}));class ee{constructor(a){this._transformRequestFn=a}transformRequest(a,d){return this._transformRequestFn&&this._transformRequestFn(a,d)||{url:a}}normalizeSpriteURL(a,d,m){const _=function(E){const P=E.match(se);if(!P)throw new Error(`Unable to parse URL "${E}"`);return{protocol:P[1],authority:P[2],path:P[3]||"/",params:P[4]?P[4].split("&"):[]}}(a);return _.path+=`${d}${m}`,function(E){const P=E.params.length?`?${E.params.join("&")}`:"";return`${E.protocol}://${E.authority}${E.path}${P}`}(_)}setTransformRequest(a){this._transformRequestFn=a}}const se=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ge(v){var a=new s.ARRAY_TYPE(3);return a[0]=v[0],a[1]=v[1],a[2]=v[2],a}var he,Ee=function(v,a,d){return v[0]=a[0]-d[0],v[1]=a[1]-d[1],v[2]=a[2]-d[2],v};he=new s.ARRAY_TYPE(3),s.ARRAY_TYPE!=Float32Array&&(he[0]=0,he[1]=0,he[2]=0);var De=function(v){var a=v[0],d=v[1];return a*a+d*d};function We(v){return typeof v=="string"?[{id:"default",url:v}]:v??[]}(function(){var v=new s.ARRAY_TYPE(2);s.ARRAY_TYPE!=Float32Array&&(v[0]=0,v[1]=0)})();class Fe{constructor(a,d,m,_){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(d,_)}update(a,d,m){const{width:_,height:E}=a,P=!(this.size&&this.size[0]===_&&this.size[1]===E||m),{context:M}=this,{gl:N}=M;if(this.useMipmap=Boolean(d&&d.useMipmap),N.bindTexture(N.TEXTURE_2D,this.texture),M.pixelStoreUnpackFlipY.set(!1),M.pixelStoreUnpack.set(1),M.pixelStoreUnpackPremultiplyAlpha.set(this.format===N.RGBA&&(!d||d.premultiply!==!1)),P)this.size=[_,E],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||s.isImageBitmap(a)?N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,N.UNSIGNED_BYTE,a):N.texImage2D(N.TEXTURE_2D,0,this.format,_,E,0,this.format,N.UNSIGNED_BYTE,a.data);else{const{x:U,y:K}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||s.isImageBitmap(a)?N.texSubImage2D(N.TEXTURE_2D,0,U,K,N.RGBA,N.UNSIGNED_BYTE,a):N.texSubImage2D(N.TEXTURE_2D,0,U,K,_,E,N.RGBA,N.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&N.generateMipmap(N.TEXTURE_2D)}bind(a,d,m){const{context:_}=this,{gl:E}=_;E.bindTexture(E.TEXTURE_2D,this.texture),m!==E.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=E.LINEAR),a!==this.filter&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,a),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,m||a),this.filter=a),d!==this.wrap&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,d),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function tt(v){const{userImage:a}=v;return!!(a&&a.render&&a.render())&&(v.data.replace(new Uint8Array(a.data.buffer)),!0)}class Ye extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:d,callback:m}of this.requestors)this._notify(d,m);this.requestors=[]}}getImage(a){const d=this.images[a];if(d&&!d.data&&d.spriteData){const m=d.spriteData;d.data=new s.RGBAImage({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),d.spriteData=null}return d}addImage(a,d){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let m=!0;const _=d.data||d.spriteData;return this._validateStretch(d.stretchX,_&&_.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(d.stretchY,_&&_.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(d.content,d)||(this.fire(new s.ErrorEvent(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,d){if(!a)return!0;let m=0;for(const _ of a){if(_[0]<m||_[1]<_[0]||d<_[1])return!1;m=_[1]}return!0}_validateContent(a,d){if(!a)return!0;if(a.length!==4)return!1;const m=d.spriteData,_=m&&m.width||d.data.width,E=m&&m.height||d.data.height;return!(a[0]<0||_<a[0]||a[1]<0||E<a[1]||a[2]<0||_<a[2]||a[3]<0||E<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,d,m=!0){const _=this.getImage(a);if(m&&(_.data.width!==d.data.width||_.data.height!==d.data.height))throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=_.version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){const d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,d){let m=!0;if(!this.isLoaded())for(const _ of a)this.images[_]||(m=!1);this.isLoaded()||m?this._notify(a,d):this.requestors.push({ids:a,callback:d})}_notify(a,d){const m={};for(const _ of a){const E=this.getImage(_);E?m[_]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:Boolean(E.userImage&&E.userImage.render)}:(this.fire(new s.Event("styleimagemissing",{id:_})),s.warnOnce(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`))}d(null,m)}getPixelSize(){const{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){const d=this.patterns[a],m=this.getImage(a);if(!m)return null;if(d&&d.position.version===m.version)return d.position;if(d)d.position.version=m.version;else{const _={w:m.data.width+2,h:m.data.height+2,x:0,y:0},E=new s.ImagePosition(_,m);this.patterns[a]={bin:_,position:E}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Fe(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const E in this.patterns)a.push(this.patterns[E].bin);const{w:d,h:m}=s.potpack(a),_=this.atlasImage;_.resize({width:d||1,height:m||1});for(const E in this.patterns){const{bin:P}=this.patterns[E],M=P.x+1,N=P.y+1,U=this.getImage(E).data,K=U.width,W=U.height;s.RGBAImage.copy(U,_,{x:0,y:0},{x:M,y:N},{width:K,height:W}),s.RGBAImage.copy(U,_,{x:0,y:W-1},{x:M,y:N-1},{width:K,height:1}),s.RGBAImage.copy(U,_,{x:0,y:0},{x:M,y:N+W},{width:K,height:1}),s.RGBAImage.copy(U,_,{x:K-1,y:0},{x:M-1,y:N},{width:1,height:W}),s.RGBAImage.copy(U,_,{x:0,y:0},{x:M+K,y:N},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const m=this.getImage(d);m||s.warnOnce(`Image with ID: "${d}" was not found`),tt(m)&&this.updateImage(d,m)}}}const pt=1e20;function Pe(v,a,d,m,_,E,P,M,N){for(let U=a;U<a+m;U++)et(v,d*E+U,E,_,P,M,N);for(let U=d;U<d+_;U++)et(v,U*E+a,1,m,P,M,N)}function et(v,a,d,m,_,E,P){E[0]=0,P[0]=-pt,P[1]=pt,_[0]=v[a];for(let M=1,N=0,U=0;M<m;M++){_[M]=v[a+M*d];const K=M*M;do{const W=E[N];U=(_[M]-_[W]+K-W*W)/(M-W)/2}while(U<=P[N]&&--N>-1);N++,E[N]=M,P[N]=U,P[N+1]=pt}for(let M=0,N=0;M<m;M++){for(;P[N+1]<M;)N++;const U=E[N],K=M-U;v[a+M*d]=_[U]+K*K}}class ze{constructor(a,d){this.requestManager=a,this.localIdeographFontFamily=d,this.entries={}}setURL(a){this.url=a}getGlyphs(a,d){const m=[];for(const _ in a)for(const E of a[_])m.push({stack:_,id:E});s.asyncAll(m,({stack:_,id:E},P)=>{let M=this.entries[_];M||(M=this.entries[_]={glyphs:{},requests:{},ranges:{}});let N=M.glyphs[E];if(N!==void 0)return void P(null,{stack:_,id:E,glyph:N});if(N=this._tinySDF(M,_,E),N)return M.glyphs[E]=N,void P(null,{stack:_,id:E,glyph:N});const U=Math.floor(E/256);if(256*U>65535)return void P(new Error("glyphs > 65535 not supported"));if(M.ranges[U])return void P(null,{stack:_,id:E,glyph:N});if(!this.url)return void P(new Error("glyphsUrl is not set"));let K=M.requests[U];K||(K=M.requests[U]=[],ze.loadGlyphRange(_,U,this.url,this.requestManager,(W,ne)=>{if(ne){for(const fe in ne)this._doesCharSupportLocalGlyph(+fe)||(M.glyphs[+fe]=ne[+fe]);M.ranges[U]=!0}for(const fe of K)fe(W,ne);delete M.requests[U]})),K.push((W,ne)=>{W?P(W):ne&&P(null,{stack:_,id:E,glyph:ne[E]||null})})},(_,E)=>{if(_)d(_);else if(E){const P={};for(const{stack:M,id:N,glyph:U}of E)(P[M]||(P[M]={}))[N]=U&&{id:U.id,bitmap:U.bitmap.clone(),metrics:U.metrics};d(null,P)}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(s.unicodeBlockLookup["CJK Unified Ideographs"](a)||s.unicodeBlockLookup["Hangul Syllables"](a)||s.unicodeBlockLookup.Hiragana(a)||s.unicodeBlockLookup.Katakana(a))}_tinySDF(a,d,m){const _=this.localIdeographFontFamily;if(!_||!this._doesCharSupportLocalGlyph(m))return;let E=a.tinySDF;if(!E){let M="400";/bold/i.test(d)?M="900":/medium/i.test(d)?M="500":/light/i.test(d)&&(M="200"),E=a.tinySDF=new ze.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:_,fontWeight:M})}const P=E.draw(String.fromCharCode(m));return{id:m,bitmap:new s.AlphaImage({width:P.width||30,height:P.height||30},P.data),metrics:{width:P.glyphWidth||24,height:P.glyphHeight||24,left:P.glyphLeft||0,top:P.glyphTop-27||-8,advance:P.glyphAdvance||24}}}}ze.loadGlyphRange=function(v,a,d,m,_){const E=256*a,P=E+255,M=m.transformRequest(d.replace("{fontstack}",v).replace("{range}",`${E}-${P}`),Q.Glyphs);s.getArrayBuffer(M,(N,U)=>{if(N)_(N);else if(U){const K={};for(const W of s.parseGlyphPbf(U))K[W.id]=W;_(null,K)}})},ze.TinySDF=class{constructor({fontSize:v=24,buffer:a=3,radius:d=8,cutoff:m=.25,fontFamily:_="sans-serif",fontWeight:E="normal",fontStyle:P="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=d;const M=this.size=v+4*a,N=this._createCanvas(M),U=this.ctx=N.getContext("2d",{willReadFrequently:!0});U.font=`${P} ${E} ${v}px ${_}`,U.textBaseline="alphabetic",U.textAlign="left",U.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(v){const a=document.createElement("canvas");return a.width=a.height=v,a}draw(v){const{width:a,actualBoundingBoxAscent:d,actualBoundingBoxDescent:m,actualBoundingBoxLeft:_,actualBoundingBoxRight:E}=this.ctx.measureText(v),P=Math.ceil(d),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(E-_))),N=Math.min(this.size-this.buffer,P+Math.ceil(m)),U=M+2*this.buffer,K=N+2*this.buffer,W=Math.max(U*K,0),ne=new Uint8ClampedArray(W),fe={data:ne,width:U,height:K,glyphWidth:M,glyphHeight:N,glyphTop:P,glyphLeft:0,glyphAdvance:a};if(M===0||N===0)return fe;const{ctx:pe,buffer:de,gridInner:we,gridOuter:Re}=this;pe.clearRect(de,de,M,N),pe.fillText(v,de,de+P);const Oe=pe.getImageData(de,de,M,N);Re.fill(pt,0,W),we.fill(0,0,W);for(let ye=0;ye<N;ye++)for(let Ne=0;Ne<M;Ne++){const je=Oe.data[4*(ye*M+Ne)+3]/255;if(je===0)continue;const Ze=(ye+de)*U+Ne+de;if(je===1)Re[Ze]=0,we[Ze]=pt;else{const nt=.5-je;Re[Ze]=nt>0?nt*nt:0,we[Ze]=nt<0?nt*nt:0}}Pe(Re,0,0,U,K,U,this.f,this.v,this.z),Pe(we,de,de,M,N,U,this.f,this.v,this.z);for(let ye=0;ye<W;ye++){const Ne=Math.sqrt(Re[ye])-Math.sqrt(we[ye]);ne[ye]=Math.round(255-255*(Ne/this.radius+this.cutoff))}return fe}};const rt=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(v,a){return s.sphericalToCartesian(v.expression.evaluate(a))}interpolate(v,a,d){return{x:s.number(v.x,a.x,d),y:s.number(v.y,a.y,d),z:s.number(v.z,a.z,d)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),Be="-transition";class qe extends s.Evented{constructor(a){super(),this._transitionable=new s.Transitionable(rt),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(s.validateLight,a,d))for(const m in a){const _=a[m];m.endsWith(Be)?this._transitionable.setTransition(m.slice(0,-Be.length),_):this._transitionable.setValue(m,_)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m){return(!m||m.validate!==!1)&&s.emitValidationErrors(this,a.call(s.validateStyle,s.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class $e{constructor(a,d){this.width=a,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,d){const m=a.join(",")+String(d);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,d)),this.dashEntry[m]}getDashRanges(a,d,m){const _=[];let E=a.length%2==1?-a[a.length-1]*m:0,P=a[0]*m,M=!0;_.push({left:E,right:P,isDash:M,zeroLength:a[0]===0});let N=a[0];for(let U=1;U<a.length;U++){M=!M;const K=a[U];E=N*m,N+=K,P=N*m,_.push({left:E,right:P,isDash:M,zeroLength:K===0})}return _}addRoundDash(a,d,m){const _=d/2;for(let E=-m;E<=m;E++){const P=this.width*(this.nextRow+m+E);let M=0,N=a[M];for(let U=0;U<this.width;U++){U/N.right>1&&(N=a[++M]);const K=Math.abs(U-N.left),W=Math.abs(U-N.right),ne=Math.min(K,W);let fe;const pe=E/m*(_+1);if(N.isDash){const de=_-Math.abs(pe);fe=Math.sqrt(ne*ne+de*de)}else fe=_-Math.sqrt(ne*ne+pe*pe);this.data[P+U]=Math.max(0,Math.min(255,fe+128))}}}addRegularDash(a){for(let M=a.length-1;M>=0;--M){const N=a[M],U=a[M+1];N.zeroLength?a.splice(M,1):U&&U.isDash===N.isDash&&(U.left=N.left,a.splice(M,1))}const d=a[0],m=a[a.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);const _=this.width*this.nextRow;let E=0,P=a[E];for(let M=0;M<this.width;M++){M/P.right>1&&(P=a[++E]);const N=Math.abs(M-P.left),U=Math.abs(M-P.right),K=Math.min(N,U);this.data[_+M]=Math.max(0,Math.min(255,(P.isDash?K:-K)+128))}}addDash(a,d){const m=d?7:0,_=2*m+1;if(this.nextRow+_>this.height)return s.warnOnce("LineAtlas out of space"),null;let E=0;for(let M=0;M<a.length;M++)E+=a[M];if(E!==0){const M=this.width/E,N=this.getDashRanges(a,this.width,M);d?this.addRoundDash(N,M,m):this.addRegularDash(N)}const P={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:E};return this.nextRow+=_,this.dirty=!0,P}bind(a){const d=a.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class Je{constructor(a,d,m){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=m;const _=this.workerPool.acquire(m);for(let E=0;E<_.length;E++){const P=new Je.Actor(_[E],d,m);P.name=`Worker ${E}`,this.actors.push(P)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,d,m){s.asyncAll(this.actors,(_,E)=>{_.send(a,d,E)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}}function Ae(v,a,d){const m=function(_,E){if(_)return d(_);if(E){const P=s.pick(s.extend(E,v),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);E.vector_layers&&(P.vectorLayers=E.vector_layers,P.vectorLayerIds=P.vectorLayers.map(M=>M.id)),d(null,P)}};return v.url?s.getJSON(a.transformRequest(v.url,Q.Source),m):s.exported.frame(()=>m(null,v))}Je.Actor=s.Actor;class vt{constructor(a,d,m){this.bounds=s.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const d=Math.pow(2,a.z),m=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*d),_=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*d),E=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*d),P=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*d);return a.x>=m&&a.x<E&&a.y>=_&&a.y<P}}class lt extends s.Evented{constructor(a,d,m,_){if(super(),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(d,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ae(this._options,this.map._requestManager,(a,d)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a?this.fire(new s.ErrorEvent(a)):d&&(s.extend(this,d),d.bounds&&(this.tileBounds=new vt(d.bounds,this.minzoom,this.maxzoom)),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(m,Q.Tile),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function E(P,M){return delete a.request,a.aborted?d(null):P&&P.status!==404?d(P):(M&&M.resourceTiming&&(a.resourceTiming=M.resourceTiming),this.map._refreshExpiredTiles&&M&&a.setExpiryData(M),a.loadVectorData(M,this.map.painter),d(null),void(a.reloadCallback&&(this.loadTile(a,a.reloadCallback),a.reloadCallback=null)))}_.request.collectResourceTiming=this._collectResourceTiming,a.actor&&a.state!=="expired"?a.state==="loading"?a.reloadCallback=d:a.request=a.actor.send("reloadTile",_,E.bind(this)):(a.actor=this.dispatcher.getActor(),a.request=a.actor.send("loadTile",_,E.bind(this)))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.actor&&a.actor.send("abortTile",{uid:a.uid,type:this.type,source:this.id},void 0)}unloadTile(a){a.unloadVectorData(),a.actor&&a.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class en extends s.Evented{constructor(a,d,m,_){super(),this.id=a,this.dispatcher=m,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},d),s.extend(this,s.pick(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ae(this._options,this.map._requestManager,(a,d)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new s.ErrorEvent(a)):d&&(s.extend(this,d),d.bounds&&(this.tileBounds=new vt(d.bounds,this.minzoom,this.maxzoom)),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.request=J.getImage(this.map._requestManager.transformRequest(m,Q.Tile),(_,E,P)=>{if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(_)a.state="errored",d(_);else if(E){this.map._refreshExpiredTiles&&a.setExpiryData(P);const M=this.map.painter.context,N=M.gl;a.texture=this.map.painter.getTileTexture(E.width),a.texture?a.texture.update(E,{useMipmap:!0}):(a.texture=new Fe(M,E,N.RGBA,{useMipmap:!0}),a.texture.bind(N.LINEAR,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),M.extTextureFilterAnisotropic&&N.texParameterf(N.TEXTURE_2D,M.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,M.extTextureFilterAnisotropicMax)),a.state="loaded",d(null)}})}abortTile(a,d){a.request&&(a.request.cancel(),delete a.request),d()}unloadTile(a,d){a.texture&&this.map.painter.saveTileTexture(a.texture),d()}hasTransition(){return!1}}let ke;class Xe extends en{constructor(a,d,m,_){super(a,d,m,_),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function _(E,P){E&&(a.state="errored",d(E)),P&&(a.dem=P,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded",d(null))}a.request=J.getImage(this.map._requestManager.transformRequest(m,Q.Tile),function(E,P){if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(E)a.state="errored",d(E);else if(P){this.map._refreshExpiredTiles&&a.setExpiryData(P),delete P.cacheControl,delete P.expires;const M=s.isImageBitmap(P)&&(ke==null&&(ke=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),ke)?P:s.exported.getImageData(P,1),N={uid:a.uid,coord:a.tileID,source:this.id,rawImageData:M,encoding:this.encoding};a.actor&&a.state!=="expired"||(a.actor=this.dispatcher.getActor(),a.actor.send("loadDEMTile",N,_.bind(this)))}}.bind(this)),a.neighboringTiles=this._getNeighboringTiles(a.tileID)}_getNeighboringTiles(a){const d=a.canonical,m=Math.pow(2,d.z),_=(d.x-1+m)%m,E=d.x===0?a.wrap-1:a.wrap,P=(d.x+1+m)%m,M=d.x+1===m?a.wrap+1:a.wrap,N={};return N[new s.OverscaledTileID(a.overscaledZ,E,d.z,_,d.y).key]={backfilled:!1},N[new s.OverscaledTileID(a.overscaledZ,M,d.z,P,d.y).key]={backfilled:!1},d.y>0&&(N[new s.OverscaledTileID(a.overscaledZ,E,d.z,_,d.y-1).key]={backfilled:!1},N[new s.OverscaledTileID(a.overscaledZ,a.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},N[new s.OverscaledTileID(a.overscaledZ,M,d.z,P,d.y-1).key]={backfilled:!1}),d.y+1<m&&(N[new s.OverscaledTileID(a.overscaledZ,E,d.z,_,d.y+1).key]={backfilled:!1},N[new s.OverscaledTileID(a.overscaledZ,a.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},N[new s.OverscaledTileID(a.overscaledZ,M,d.z,P,d.y+1).key]={backfilled:!1}),N}unloadTile(a){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&a.actor.send("removeDEMTile",{uid:a.uid,source:this.id})}}class _t extends s.Evented{constructor(a,d,m,_){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(_),this._data=d.data,this._options=s.extend({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const E=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*E,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*E,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:s.EXTENT,radius:(d.clusterRadius||50)*E,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){this._updateWorkerData()}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:a,source:this.id},d),this}getClusterChildren(a,d){return this.actor.send("geojson.getClusterChildren",{clusterId:a,source:this.id},d),this}getClusterLeaves(a,d,m,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:a,limit:d,offset:m},_),this}_updateWorkerData(a){const d=s.extend({},this.workerOptions);a?d.dataDiff=a:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(s.exported.resolveURL(this._data),Q.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(m,_)=>{if(this._pendingLoads--,this._removed||_&&_.abandoned)return void this.fire(new s.Event("dataabort",{dataType:"source"}));let E=null;if(_&&_.resourceTiming&&_.resourceTiming[this.id]&&(E=_.resourceTiming[this.id].slice(0)),m)return void this.fire(new s.ErrorEvent(m));const P={dataType:"source"};this._collectResourceTiming&&E&&E.length>0&&s.extend(P,{resourceTiming:E}),this.fire(new s.Event("data",{...P,sourceDataType:"metadata"})),this.fire(new s.Event("data",{...P,sourceDataType:"content"}))})}loaded(){return this._pendingLoads===0}loadTile(a,d){const m=a.actor?"reloadTile":"loadTile";a.actor=this.actor;const _={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.request=this.actor.send(m,_,(E,P)=>(delete a.request,a.unloadVectorData(),a.aborted?d(null):E?d(E):(a.loadVectorData(P,this.map.painter,m==="reloadTile"),d(null))))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.aborted=!0}unloadTile(a){a.unloadVectorData(),this.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Jt=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Wt extends s.Evented{constructor(a,d,m,_){super(),this.id=a,this.dispatcher=m,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=d}load(a,d){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=J.getImage(this.map._requestManager.transformRequest(this.url,Q.Image),(m,_)=>{this._request=null,this._loaded=!0,m?this.fire(new s.ErrorEvent(m)):_&&(this.image=_,a&&(this.coordinates=a),d&&d(),this._finishLoading())})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=a.url,this.load(a.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(a){this.coordinates=a;const d=a.map(s.MercatorCoordinate.fromLngLat);this.tileID=function(_){let E=1/0,P=1/0,M=-1/0,N=-1/0;for(const ne of _)E=Math.min(E,ne.x),P=Math.min(P,ne.y),M=Math.max(M,ne.x),N=Math.max(N,ne.y);const U=Math.max(M-E,N-P),K=Math.max(0,Math.floor(-Math.log(U)/Math.LN2)),W=Math.pow(2,K);return new s.CanonicalTileID(K,Math.floor((E+M)/2*W),Math.floor((P+N)/2*W))}(d),this.minzoom=this.maxzoom=this.tileID.z;const m=d.map(_=>this.tileID.getTilePoint(_)._round());return this._boundsArray=new s.RasterBoundsArray,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(m[2].x,m[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const a=this.map.painter.context,d=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,Jt.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Fe(a,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));for(const m in this.tiles){const _=this.tiles[m];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture)}}loadTile(a,d){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},d(null)):(a.state="errored",d(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Zt extends Wt{constructor(a,d,m,_){super(a,d,m,_),this.roundZoom=!0,this.type="video",this.options=d}load(){this._loaded=!1;const a=this.options;this.urls=[];for(const d of a.urls)this.urls.push(this.map._requestManager.transformRequest(d,Q.Source).url);s.getVideo(this.urls,(d,m)=>{this._loaded=!0,d?this.fire(new s.ErrorEvent(d)):m&&(this.video=m,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){const d=this.video.seekable;a<d.start(0)||a>d.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const a=this.map.painter.context,d=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,Jt.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new Fe(a,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));for(const m in this.tiles){const _=this.tiles[m];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class un extends Wt{constructor(a,d,m,_){super(a,d,m,_),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(E=>!Array.isArray(E)||E.length!==2||E.some(P=>typeof P!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${a}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${a}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${a}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${a}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${a}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context,m=d.gl;this.boundsBuffer||(this.boundsBuffer=d.createVertexBuffer(this._boundsArray,Jt.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Fe(d,this.canvas,m.RGBA,{premultiply:!0});for(const _ in this.tiles){const E=this.tiles[_];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}const nn={vector:lt,raster:en,"raster-dem":Xe,geojson:_t,video:Zt,image:Wt,canvas:un};function dn(v,a){const d=s.create();return s.translate(d,d,[1,1,0]),s.scale(d,d,[.5*v.width,.5*v.height,1]),s.multiply(d,d,v.calculatePosMatrix(a.toUnwrapped()))}function mt(v,a,d,m,_,E){const P=function(W,ne,fe){if(W)for(const pe of W){const de=ne[pe];if(de&&de.source===fe&&de.type==="fill-extrusion")return!0}else for(const pe in ne){const de=ne[pe];if(de.source===fe&&de.type==="fill-extrusion")return!0}return!1}(_&&_.layers,a,v.id),M=E.maxPitchScaleFactor(),N=v.tilesIn(m,M,P);N.sort(Ot);const U=[];for(const W of N)U.push({wrappedTileID:W.tileID.wrapped().key,queryResults:W.tile.queryRenderedFeatures(a,d,v._state,W.queryGeometry,W.cameraQueryGeometry,W.scale,_,E,M,dn(v.transform,W.tileID))});const K=function(W){const ne={},fe={};for(const pe of W){const de=pe.queryResults,we=pe.wrappedTileID,Re=fe[we]=fe[we]||{};for(const Oe in de){const ye=de[Oe],Ne=Re[Oe]=Re[Oe]||{},je=ne[Oe]=ne[Oe]||[];for(const Ze of ye)Ne[Ze.featureIndex]||(Ne[Ze.featureIndex]=!0,je.push(Ze))}}return ne}(U);for(const W in K)K[W].forEach(ne=>{const fe=ne.feature,pe=v.getFeatureState(fe.layer["source-layer"],fe.id);fe.source=fe.layer.source,fe.layer["source-layer"]&&(fe.sourceLayer=fe.layer["source-layer"]),fe.state=pe});return K}function Ot(v,a){const d=v.tileID,m=a.tileID;return d.overscaledZ-m.overscaledZ||d.canonical.y-m.canonical.y||d.wrap-m.wrap||d.canonical.x-m.canonical.x}class jt{constructor(a,d){this.tileID=a,this.uid=s.uniqueId(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){const d=a+this.timeAdded;d<s.exported.now()||this.fadeEndTime&&d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,d,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(_,E){const P={};if(!E)return P;for(const M of _){const N=M.layerIds.map(U=>E.getLayer(U)).filter(Boolean);if(N.length!==0){M.layers=N,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map(U=>N.filter(K=>K.id===U)[0]));for(const U of N)P[U.id]=M}}return P}(a.buckets,d.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const E=this.buckets[_];if(E instanceof s.SymbolBucket){if(this.hasSymbolBuckets=!0,!m)break;E.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const E=this.buckets[_];if(E instanceof s.SymbolBucket&&E.hasRTLText){this.hasRTLText=!0,s.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const _ in this.buckets){const E=this.buckets[_];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(_).queryRadius(E))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new s.CollisionBoxArray}unloadVectorData(){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(const m in this.buckets){const _=this.buckets[m];_.uploadPending()&&_.upload(a)}const d=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Fe(a,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Fe(a,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,d,m,_,E,P,M,N,U,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:_,cameraQueryGeometry:E,scale:P,tileSize:this.tileSize,pixelPosMatrix:K,transform:N,params:M,queryPadding:this.queryPadding*U},a,d,m):{}}querySourceFeatures(a,d){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const _=m.loadVTLayers(),E=d&&d.sourceLayer?d.sourceLayer:"",P=_._geojsonTileLayer||_[E];if(!P)return;const M=s.createFilter(d&&d.filter),{z:N,x:U,y:K}=this.tileID.canonical,W={z:N,x:U,y:K};for(let ne=0;ne<P.length;ne++){const fe=P.feature(ne);if(M.needGeometry){const we=s.toEvaluationFeature(fe,!0);if(!M.filter(new s.EvaluationParameters(this.tileID.overscaledZ),we,this.tileID.canonical))continue}else if(!M.filter(new s.EvaluationParameters(this.tileID.overscaledZ),fe))continue;const pe=m.getId(fe,E),de=new s.GeoJSONFeature(fe,N,U,K,pe);de.tile=W,a.push(de)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const d=this.expirationTime;if(a.cacheControl){const m=s.parseCacheControl(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const m=Date.now();let _=!1;if(this.expirationTime>m)_=!1;else if(d)if(this.expirationTime<d)_=!0;else{const E=this.expirationTime-d;E?this.expirationTime=m+Math.max(E,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;const m=this.latestFeatureIndex.loadVTLayers();for(const _ in this.buckets){if(!d.style.hasLayer(_))continue;const E=this.buckets[_],P=E.layers[0].sourceLayer||"_geojsonTileLayer",M=m[P],N=a[P];if(!M||!N||Object.keys(N).length===0)continue;E.update(N,M,this.imageAtlas&&this.imageAtlas.patternPositions||{});const U=d&&d.style&&d.style.getLayer(_);U&&(this.queryPadding=Math.max(this.queryPadding,U.queryRadius(E)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<s.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=s.exported.now()+a}setDependencies(a,d){const m={};for(const _ of d)m[_]=!0;this.dependencies[a]=m}hasDependency(a,d){for(const m of a){const _=this.dependencies[m];if(_){for(const E of d)if(_[E])return!0}}return!1}}class Kn{constructor(a,d){this.max=a,this.onRemove=d,this.reset()}reset(){for(const a in this.data)for(const d of this.data[a])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(a,d,m){const _=a.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const E={value:d,timeout:void 0};if(m!==void 0&&(E.timeout=setTimeout(()=>{this.remove(a,E)},m)),this.data[_].push(E),this.order.push(_),this.order.length>this.max){const P=this._getAndRemoveByKey(this.order[0]);P&&this.onRemove(P)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const d=this.data[a].shift();return d.timeout&&clearTimeout(d.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),d.value}getByKey(a){const d=this.data[a];return d?d[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,d){if(!this.has(a))return this;const m=a.wrapped().key,_=d===void 0?0:this.data[m].indexOf(d),E=this.data[m][_];return this.data[m].splice(_,1),E.timeout&&clearTimeout(E.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(E.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(a){const d=[];for(const m in this.data)for(const _ of this.data[m])a(_.value)||d.push(_);for(const m of d)this.remove(m.value.tileID,m)}}class xn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,d,m){const _=String(d);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][_]=this.stateChanges[a][_]||{},s.extend(this.stateChanges[a][_],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(const E in this.state[a])E!==_&&(this.deletedStates[a][E]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][_]===null){this.deletedStates[a][_]={};for(const E in this.state[a][_])m[E]||(this.deletedStates[a][_][E]=null)}else for(const E in m)this.deletedStates[a]&&this.deletedStates[a][_]&&this.deletedStates[a][_][E]===null&&delete this.deletedStates[a][_][E]}removeFeatureState(a,d,m){if(this.deletedStates[a]===null)return;const _=String(d);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&d!==void 0)this.deletedStates[a][_]!==null&&(this.deletedStates[a][_]=this.deletedStates[a][_]||{},this.deletedStates[a][_][m]=null);else if(d!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][_])for(m in this.deletedStates[a][_]={},this.stateChanges[a][_])this.deletedStates[a][_][m]=null;else this.deletedStates[a][_]=null;else this.deletedStates[a]=null}getState(a,d){const m=String(d),_=s.extend({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const E=this.deletedStates[a][d];if(E===null)return{};for(const P in E)delete _[P]}return _}initializeTileState(a,d){a.setFeatureState(this.state,d)}coalesceChanges(a,d){const m={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const E={};for(const P in this.stateChanges[_])this.state[_][P]||(this.state[_][P]={}),s.extend(this.state[_][P],this.stateChanges[_][P]),E[P]=this.state[_][P];m[_]=E}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const E={};if(this.deletedStates[_]===null)for(const P in this.state[_])E[P]={},this.state[_][P]={};else for(const P in this.deletedStates[_]){if(this.deletedStates[_][P]===null)this.state[_][P]={};else for(const M of Object.keys(this.deletedStates[_][P]))delete this.state[_][P][M];E[P]=this.state[_][P]}m[_]=m[_]||{},s.extend(m[_],E)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const _ in a)a[_].setFeatureState(m,d)}}class it extends s.Evented{constructor(a,d,m){super(),this.id=a,this.dispatcher=m,this.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(_,E,P,M){const N=new nn[E.type](_,E,P,M);if(N.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${N.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],N),N}(a,d,m,this),this._tiles={},this._cache=new Kn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new xn}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const a in this._tiles){const d=this._tiles[a];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,d){return this._source.loadTile(a,d)}_unloadTile(a){if(this._source.unloadTile)return this._source.unloadTile(a,()=>{})}_abortTile(a){this._source.abortTile&&this._source.abortTile(a,()=>{}),this._source.fire(new s.Event("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const m=this._tiles[d];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(fn).map(a=>a.key)}getRenderableIds(a){const d=[];for(const m in this._tiles)this._isIdRenderable(m,a)&&d.push(this._tiles[m]);return a?d.sort((m,_)=>{const E=m.tileID,P=_.tileID,M=new s.pointGeometry(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),N=new s.pointGeometry(P.canonical.x,P.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-P.overscaledZ||N.y-M.y||N.x-M.x}).map(m=>m.tileID.key):d.map(m=>m.tileID).sort(fn).map(m=>m.key)}hasRenderableParent(a){const d=this.findLoadedParent(a,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(a,d){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(d||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,d){const m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=d),this._loadTile(m,this._tileLoaded.bind(this,m,a,d)))}_tileLoaded(a,d,m,_){if(_)return a.state="errored",void(_.status!==404?this._source.fire(new s.ErrorEvent(_,{tile:a})):this.update(this.transform,this.terrain));a.timeAdded=s.exported.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(d,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new s.Event("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){const d=this.getRenderableIds();for(let _=0;_<d.length;_++){const E=d[_];if(a.neighboringTiles&&a.neighboringTiles[E]){const P=this.getTileByID(E);m(a,P),m(P,a)}}function m(_,E){_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let P=E.tileID.canonical.x-_.tileID.canonical.x;const M=E.tileID.canonical.y-_.tileID.canonical.y,N=Math.pow(2,_.tileID.canonical.z),U=E.tileID.key;P===0&&M===0||Math.abs(M)>1||(Math.abs(P)>1&&(Math.abs(P+N)===1?P+=N:Math.abs(P-N)===1&&(P-=N)),E.dem&&_.dem&&(_.dem.backfillBorder(E.dem,P,M),_.neighboringTiles&&_.neighboringTiles[U]&&(_.neighboringTiles[U].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,d,m,_){for(const E in this._tiles){let P=this._tiles[E];if(_[E]||!P.hasData()||P.tileID.overscaledZ<=d||P.tileID.overscaledZ>m)continue;let M=P.tileID;for(;P&&P.tileID.overscaledZ>d+1;){const U=P.tileID.scaledTo(P.tileID.overscaledZ-1);P=this._tiles[U.key],P&&P.hasData()&&(M=U)}let N=M;for(;N.overscaledZ>d;)if(N=N.scaledTo(N.overscaledZ-1),a[N.key]){_[M.key]=M;break}}}findLoadedParent(a,d){if(a.key in this._loadedParentTiles){const m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=d?m:null}for(let m=a.overscaledZ-1;m>=d;m--){const _=a.scaledTo(m),E=this._getLoadedTile(_);if(E)return E}}_getLoadedTile(a){const d=this._tiles[a.key];return d&&d.hasData()?d:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){const d=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,_=Math.floor(d*m*5),E=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(E)}handleWrapJump(a){const d=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,d){const m={};for(const _ in this._tiles){const E=this._tiles[_];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+d),m[E.tileID.key]=E}this._tiles=m;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(_,this._tiles[_])}}update(a,d){if(this.transform=a,this.terrain=d,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(U=>new s.OverscaledTileID(U.canonical.z,U.wrap,U.canonical.z,U.canonical.x,U.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(m=m.filter(U=>this._source.hasTile(U)))):m=[];const _=a.coveringZoomLevel(this._source),E=Math.max(_-it.maxOverzooming,this._source.minzoom),P=Math.max(_+it.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const U={};for(const K of m)if(K.canonical.z>this._source.minzoom){const W=K.scaledTo(K.canonical.z-1);U[W.key]=W;const ne=K.scaledTo(Math.max(this._source.minzoom,Math.min(K.canonical.z,5)));U[ne.key]=ne}m=m.concat(Object.values(U))}const M=this._updateRetainedTiles(m,_);if(pn(this._source.type)){const U={},K={},W=Object.keys(M);for(const ne of W){const fe=M[ne],pe=this._tiles[ne];if(!pe||pe.fadeEndTime&&pe.fadeEndTime<=s.exported.now())continue;const de=this.findLoadedParent(fe,E);de&&(this._addTile(de.tileID),U[de.tileID.key]=de.tileID),K[ne]=fe}this._retainLoadedChildren(K,_,P,M);for(const ne in U)M[ne]||(this._coveredTiles[ne]=!0,M[ne]=U[ne]);if(d){const ne={},fe={};for(const pe of m)this._tiles[pe.key].hasData()?ne[pe.key]=pe:fe[pe.key]=pe;for(const pe in fe){const de=fe[pe].children(this._source.maxzoom);this._tiles[de[0].key]&&this._tiles[de[1].key]&&this._tiles[de[2].key]&&this._tiles[de[3].key]&&(ne[de[0].key]=M[de[0].key]=de[0],ne[de[1].key]=M[de[1].key]=de[1],ne[de[2].key]=M[de[2].key]=de[2],ne[de[3].key]=M[de[3].key]=de[3],delete fe[pe])}for(const pe in fe){const de=this.findLoadedParent(fe[pe],this._source.minzoom);if(de){ne[de.tileID.key]=M[de.tileID.key]=de.tileID;for(const we in ne)ne[we].isChildOf(de.tileID)&&delete ne[we]}}for(const pe in this._tiles)ne[pe]||(this._coveredTiles[pe]=!0)}}for(const U in M)this._tiles[U].clearFadeHold();const N=s.keysDifference(this._tiles,M);for(const U of N){const K=this._tiles[U];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(U)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,d){const m={},_={},E=Math.max(d-it.maxOverzooming,this._source.minzoom),P=Math.max(d+it.maxUnderzooming,this._source.minzoom),M={};for(const N of a){const U=this._addTile(N);m[N.key]=N,U.hasData()||d<this._source.maxzoom&&(M[N.key]=N)}this._retainLoadedChildren(M,d,P,m);for(const N of a){let U=this._tiles[N.key];if(U.hasData())continue;if(d+1>this._source.maxzoom){const W=N.children(this._source.maxzoom)[0],ne=this.getTile(W);if(ne&&ne.hasData()){m[W.key]=W;continue}}else{const W=N.children(this._source.maxzoom);if(m[W[0].key]&&m[W[1].key]&&m[W[2].key]&&m[W[3].key])continue}let K=U.wasRequested();for(let W=N.overscaledZ-1;W>=E;--W){const ne=N.scaledTo(W);if(_[ne.key]||(_[ne.key]=!0,U=this.getTile(ne),!U&&K&&(U=this._addTile(ne)),U&&(m[ne.key]=ne,K=U.wasRequested(),U.hasData())))break}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const d=[];let m,_=this._tiles[a].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){m=this._loadedParentTiles[_.key];break}d.push(_.key);const E=_.scaledTo(_.overscaledZ-1);if(m=this._getLoadedTile(E),m)break;_=E}for(const E of d)this._loadedParentTiles[E]=m}}_addTile(a){let d=this._tiles[a.key];if(d)return d;d=this._cache.getAndRemove(a),d&&(this._setTileReloadTimer(a.key,d),d.tileID=a,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,d)));const m=d;return d||(d=new jt(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,a.key,d.state))),d.uses++,this._tiles[a.key]=d,m||this._source.fire(new s.Event("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(a,d){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const m=d.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){const d=this._tiles[a];d&&(d.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,d,m){const _=[],E=this.transform;if(!E)return _;const P=m?E.getCameraQueryGeometry(a):a,M=a.map(pe=>E.pointCoordinate(pe,this.terrain)),N=P.map(pe=>E.pointCoordinate(pe,this.terrain)),U=this.getIds();let K=1/0,W=1/0,ne=-1/0,fe=-1/0;for(const pe of N)K=Math.min(K,pe.x),W=Math.min(W,pe.y),ne=Math.max(ne,pe.x),fe=Math.max(fe,pe.y);for(let pe=0;pe<U.length;pe++){const de=this._tiles[U[pe]];if(de.holdingForFade())continue;const we=de.tileID,Re=Math.pow(2,E.zoom-de.tileID.overscaledZ),Oe=d*de.queryPadding*s.EXTENT/de.tileSize/Re,ye=[we.getTilePoint(new s.MercatorCoordinate(K,W)),we.getTilePoint(new s.MercatorCoordinate(ne,fe))];if(ye[0].x-Oe<s.EXTENT&&ye[0].y-Oe<s.EXTENT&&ye[1].x+Oe>=0&&ye[1].y+Oe>=0){const Ne=M.map(Ze=>we.getTilePoint(Ze)),je=N.map(Ze=>we.getTilePoint(Ze));_.push({tile:de,tileID:we,queryGeometry:Ne,cameraQueryGeometry:je,scale:Re})}}return _}getVisibleCoordinates(a){const d=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(const m of d)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(pn(this._source.type))for(const a in this._tiles){const d=this._tiles[a];if(d.fadeEndTime!==void 0&&d.fadeEndTime>=s.exported.now())return!0}return!1}setFeatureState(a,d,m){this._state.updateState(a=a||"_geojsonTileLayer",d,m)}removeFeatureState(a,d,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",d,m)}getFeatureState(a,d){return this._state.getState(a=a||"_geojsonTileLayer",d)}setDependencies(a,d,m){const _=this._tiles[a];_&&_.setDependencies(d,m)}reloadTilesForDependencies(a,d){for(const m in this._tiles)this._tiles[m].hasDependency(a,d)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,d))}}function fn(v,a){const d=Math.abs(2*v.wrap)-+(v.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return v.overscaledZ-a.overscaledZ||m-d||a.canonical.y-v.canonical.y||a.canonical.x-v.canonical.x}function pn(v){return v==="raster"||v==="image"||v==="video"}it.maxOverzooming=10,it.maxUnderzooming=3;const Xr="mapboxgl_preloaded_worker_pool";class Ln{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Ln.workerCount;)this.workers.push(new Worker(qs.workerUrl));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Xr]}numActive(){return Object.keys(this.active).length}}const Hn=Math.floor(s.exported.hardwareConcurrency/2);let Cn;function Xo(){return Cn||(Cn=new Ln),Cn}function ni(v,a){const d={};for(const m in v)m!=="ref"&&(d[m]=v[m]);return s.refProperties.forEach(m=>{m in a&&(d[m]=a[m])}),d}function Gi(v){v=v.slice();const a=Object.create(null);for(let d=0;d<v.length;d++)a[v[d].id]=v[d];for(let d=0;d<v.length;d++)"ref"in v[d]&&(v[d]=ni(v[d],a[v[d].ref]));return v}Ln.workerCount=Math.max(Math.min(Hn,6),1);const mn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ht(v,a,d){d.push({command:mn.addSource,args:[v,a[v]]})}function Qt(v,a,d){a.push({command:mn.removeSource,args:[v]}),d[v]=!0}function Rt(v,a,d,m){Qt(v,d,m),ht(v,a,d)}function vn(v,a,d){let m;for(m in v[d])if(Object.prototype.hasOwnProperty.call(v[d],m)&&m!=="data"&&!R(v[d][m],a[d][m]))return!1;for(m in a[d])if(Object.prototype.hasOwnProperty.call(a[d],m)&&m!=="data"&&!R(v[d][m],a[d][m]))return!1;return!0}function Mn(v,a,d,m,_,E){let P;for(P in a=a||{},v=v||{})Object.prototype.hasOwnProperty.call(v,P)&&(R(v[P],a[P])||d.push({command:E,args:[m,P,a[P],_]}));for(P in a)Object.prototype.hasOwnProperty.call(a,P)&&!Object.prototype.hasOwnProperty.call(v,P)&&(R(v[P],a[P])||d.push({command:E,args:[m,P,a[P],_]}))}function yn(v){return v.id}function Gt(v,a){return v[a.id]=a,v}class Dn{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=s.clamp(a,0,1);let d=1,m=this._distances[d];const _=a*this.paddedLength+this.padding;for(;m<_&&d<this._distances.length;)m=this._distances[++d];const E=d-1,P=this._distances[E],M=m-P,N=M>0?(_-P)/M:0;return this.points[E].mult(1-N).add(this.points[d].mult(N))}}function Rn(v,a){let d=!0;return v==="always"||v!=="never"&&a!=="never"||(d=!1),d}class Yt{constructor(a,d,m){const _=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(d/m);for(let P=0;P<this.xCellCount*this.yCellCount;P++)_.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,m,_,E){this._forEachCell(d,m,_,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(E)}insertCircle(a,d,m,_){this._forEachCell(d-_,m-_,d+_,m+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(m),this.circles.push(_)}_insertBoxCell(a,d,m,_,E,P){this.boxCells[E].push(P)}_insertCircleCell(a,d,m,_,E,P){this.circleCells[E].push(P)}_query(a,d,m,_,E,P,M){if(m<0||a>this.width||_<0||d>this.height)return[];const N=[];if(a<=0&&d<=0&&this.width<=m&&this.height<=_){if(E)return[{key:null,x1:a,y1:d,x2:m,y2:_}];for(let U=0;U<this.boxKeys.length;U++)N.push({key:this.boxKeys[U],x1:this.bboxes[4*U],y1:this.bboxes[4*U+1],x2:this.bboxes[4*U+2],y2:this.bboxes[4*U+3]});for(let U=0;U<this.circleKeys.length;U++){const K=this.circles[3*U],W=this.circles[3*U+1],ne=this.circles[3*U+2];N.push({key:this.circleKeys[U],x1:K-ne,y1:W-ne,x2:K+ne,y2:W+ne})}}else this._forEachCell(a,d,m,_,this._queryCell,N,{hitTest:E,overlapMode:P,seenUids:{box:{},circle:{}}},M);return N}query(a,d,m,_){return this._query(a,d,m,_,!1,null)}hitTest(a,d,m,_,E,P){return this._query(a,d,m,_,!0,E,P).length>0}hitTestCircle(a,d,m,_,E){const P=a-m,M=a+m,N=d-m,U=d+m;if(M<0||P>this.width||U<0||N>this.height)return!1;const K=[];return this._forEachCell(P,N,M,U,this._queryCellCircle,K,{hitTest:!0,overlapMode:_,circle:{x:a,y:d,radius:m},seenUids:{box:{},circle:{}}},E),K.length>0}_queryCell(a,d,m,_,E,P,M,N){const{seenUids:U,hitTest:K,overlapMode:W}=M,ne=this.boxCells[E];if(ne!==null){const pe=this.bboxes;for(const de of ne)if(!U.box[de]){U.box[de]=!0;const we=4*de,Re=this.boxKeys[de];if(a<=pe[we+2]&&d<=pe[we+3]&&m>=pe[we+0]&&_>=pe[we+1]&&(!N||N(Re))&&(!K||!Rn(W,Re.overlapMode))&&(P.push({key:Re,x1:pe[we],y1:pe[we+1],x2:pe[we+2],y2:pe[we+3]}),K))return!0}}const fe=this.circleCells[E];if(fe!==null){const pe=this.circles;for(const de of fe)if(!U.circle[de]){U.circle[de]=!0;const we=3*de,Re=this.circleKeys[de];if(this._circleAndRectCollide(pe[we],pe[we+1],pe[we+2],a,d,m,_)&&(!N||N(Re))&&(!K||!Rn(W,Re.overlapMode))){const Oe=pe[we],ye=pe[we+1],Ne=pe[we+2];if(P.push({key:Re,x1:Oe-Ne,y1:ye-Ne,x2:Oe+Ne,y2:ye+Ne}),K)return!0}}}return!1}_queryCellCircle(a,d,m,_,E,P,M,N){const{circle:U,seenUids:K,overlapMode:W}=M,ne=this.boxCells[E];if(ne!==null){const pe=this.bboxes;for(const de of ne)if(!K.box[de]){K.box[de]=!0;const we=4*de,Re=this.boxKeys[de];if(this._circleAndRectCollide(U.x,U.y,U.radius,pe[we+0],pe[we+1],pe[we+2],pe[we+3])&&(!N||N(Re))&&!Rn(W,Re.overlapMode))return P.push(!0),!0}}const fe=this.circleCells[E];if(fe!==null){const pe=this.circles;for(const de of fe)if(!K.circle[de]){K.circle[de]=!0;const we=3*de,Re=this.circleKeys[de];if(this._circlesCollide(pe[we],pe[we+1],pe[we+2],U.x,U.y,U.radius)&&(!N||N(Re))&&!Rn(W,Re.overlapMode))return P.push(!0),!0}}}_forEachCell(a,d,m,_,E,P,M,N){const U=this._convertToXCellCoord(a),K=this._convertToYCellCoord(d),W=this._convertToXCellCoord(m),ne=this._convertToYCellCoord(_);for(let fe=U;fe<=W;fe++)for(let pe=K;pe<=ne;pe++)if(E.call(this,a,d,m,_,this.xCellCount*pe+fe,P,M,N))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,m,_,E,P){const M=_-a,N=E-d,U=m+P;return U*U>M*M+N*N}_circleAndRectCollide(a,d,m,_,E,P,M){const N=(P-_)/2,U=Math.abs(a-(_+N));if(U>N+m)return!1;const K=(M-E)/2,W=Math.abs(d-(E+K));if(W>K+m)return!1;if(U<=N||W<=K)return!0;const ne=U-N,fe=W-K;return ne*ne+fe*fe<=m*m}}function rn(v,a,d,m,_){const E=s.create();return a?(s.scale(E,E,[1/_,1/_,1]),d||s.rotateZ(E,E,m.angle)):s.multiply(E,m.labelPlaneMatrix,v),E}function Qn(v,a,d,m,_){if(a){const E=s.clone(v);return s.scale(E,E,[_,_,1]),d||s.rotateZ(E,E,-m.angle),E}return m.glCoordMatrix}function Sr(v,a,d){let m;d?(m=[v.x,v.y,d(v.x,v.y),1],s.transformMat4(m,m,a)):(m=[v.x,v.y,0,1],Le(m,m,a));const _=m[3];return{point:new s.pointGeometry(m[0]/_,m[1]/_),signedDistanceFromCamera:_}}function Pr(v,a){return .5+v/a*.5}function ue(v,a){const d=v[0]/v[3],m=v[1]/v[3];return d>=-a[0]&&d<=a[0]&&m>=-a[1]&&m<=a[1]}function Z(v,a,d,m,_,E,P,M,N,U){const K=m?v.textSizeData:v.iconSizeData,W=s.evaluateSizeForZoom(K,d.transform.zoom),ne=[256/d.width*2+1,256/d.height*2+1],fe=m?v.text.dynamicLayoutVertexArray:v.icon.dynamicLayoutVertexArray;fe.clear();const pe=v.lineVertexArray,de=m?v.text.placedSymbolArray:v.icon.placedSymbolArray,we=d.transform.width/d.transform.height;let Re=!1;for(let Oe=0;Oe<de.length;Oe++){const ye=de.get(Oe);if(ye.hidden||ye.writingMode===s.WritingMode.vertical&&!Re){Se(ye.numGlyphs,fe);continue}let Ne;if(Re=!1,U?(Ne=[ye.anchorX,ye.anchorY,U(ye.anchorX,ye.anchorY),1],s.transformMat4(Ne,Ne,a)):(Ne=[ye.anchorX,ye.anchorY,0,1],Le(Ne,Ne,a)),!ue(Ne,ne)){Se(ye.numGlyphs,fe);continue}const je=Pr(d.transform.cameraToCenterDistance,Ne[3]),Ze=s.evaluateSizeForFeature(K,W,ye),nt=P?Ze/je:Ze*je,ot=new s.pointGeometry(ye.anchorX,ye.anchorY),ft=Sr(ot,_,U).point,ct={},yt=me(ye,nt,!1,M,a,_,E,v.glyphOffsetArray,pe,fe,ft,ot,ct,we,N,U);Re=yt.useVertical,(yt.notEnoughRoom||Re||yt.needsFlipping&&me(ye,nt,!0,M,a,_,E,v.glyphOffsetArray,pe,fe,ft,ot,ct,we,N,U).notEnoughRoom)&&Se(ye.numGlyphs,fe)}m?v.text.dynamicLayoutVertexBuffer.updateData(fe):v.icon.dynamicLayoutVertexBuffer.updateData(fe)}function te(v,a,d,m,_,E,P,M,N,U,K,W,ne){const fe=M.glyphStartIndex+M.numGlyphs,pe=M.lineStartIndex,de=M.lineStartIndex+M.lineLength,we=a.getoffsetX(M.glyphStartIndex),Re=a.getoffsetX(fe-1),Oe=ve(v*we,d,m,_,E,P,M.segment,pe,de,N,U,K,W,ne);if(!Oe)return null;const ye=ve(v*Re,d,m,_,E,P,M.segment,pe,de,N,U,K,W,ne);return ye?{first:Oe,last:ye}:null}function ce(v,a,d,m){return v===s.WritingMode.horizontal&&Math.abs(d.y-a.y)>Math.abs(d.x-a.x)*m?{useVertical:!0}:(v===s.WritingMode.vertical?a.y<d.y:a.x>d.x)?{needsFlipping:!0}:null}function me(v,a,d,m,_,E,P,M,N,U,K,W,ne,fe,pe,de){const we=a/24,Re=v.lineOffsetX*we,Oe=v.lineOffsetY*we;let ye;if(v.numGlyphs>1){const Ne=v.glyphStartIndex+v.numGlyphs,je=v.lineStartIndex,Ze=v.lineStartIndex+v.lineLength,nt=te(we,M,Re,Oe,d,K,W,v,N,E,ne,pe,de);if(!nt)return{notEnoughRoom:!0};const ot=Sr(nt.first.point,P,de).point,ft=Sr(nt.last.point,P,de).point;if(m&&!d){const ct=ce(v.writingMode,ot,ft,fe);if(ct)return ct}ye=[nt.first];for(let ct=v.glyphStartIndex+1;ct<Ne-1;ct++)ye.push(ve(we*M.getoffsetX(ct),Re,Oe,d,K,W,v.segment,je,Ze,N,E,ne,pe,de));ye.push(nt.last)}else{if(m&&!d){const je=Sr(W,_,de).point,Ze=v.lineStartIndex+v.segment+1,nt=new s.pointGeometry(N.getx(Ze),N.gety(Ze)),ot=Sr(nt,_,de),ft=ot.signedDistanceFromCamera>0?ot.point:xe(W,nt,je,1,_,de),ct=ce(v.writingMode,je,ft,fe);if(ct)return ct}const Ne=ve(we*M.getoffsetX(v.glyphStartIndex),Re,Oe,d,K,W,v.segment,v.lineStartIndex,v.lineStartIndex+v.lineLength,N,E,ne,pe,de);if(!Ne)return{notEnoughRoom:!0};ye=[Ne]}for(const Ne of ye)s.addDynamicAttributes(U,Ne.point,Ne.angle);return{}}function xe(v,a,d,m,_,E){const P=Sr(v.add(v.sub(a)._unit()),_,E).point,M=d.sub(P);return d.add(M._mult(m/M.mag()))}function ve(v,a,d,m,_,E,P,M,N,U,K,W,ne,fe){const pe=m?v-a:v+a;let de=pe>0?1:-1,we=0;m&&(de*=-1,we=Math.PI),de<0&&(we+=Math.PI);let Re=de>0?M+P:M+P+1,Oe=_,ye=_,Ne=0,je=0;const Ze=Math.abs(pe),nt=[];for(;Ne+je<=Ze;){if(Re+=de,Re<M||Re>=N)return null;if(ye=Oe,nt.push(Oe),Oe=W[Re],Oe===void 0){const kt=new s.pointGeometry(U.getx(Re),U.gety(Re)),tn=Sr(kt,K,fe);if(tn.signedDistanceFromCamera>0)Oe=W[Re]=tn.point;else{const an=Re-de;Oe=xe(Ne===0?E:new s.pointGeometry(U.getx(an),U.gety(an)),kt,ye,Ze-Ne+1,K,fe)}}Ne+=je,je=ye.dist(Oe)}const ot=(Ze-Ne)/je,ft=Oe.sub(ye),ct=ft.mult(ot)._add(ye);ct._add(ft._unit()._perp()._mult(d*de));const yt=we+Math.atan2(Oe.y-ye.y,Oe.x-ye.x);return nt.push(ct),{point:ct,angle:ne?yt:0,path:nt}}const Ie=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Se(v,a){for(let d=0;d<v;d++){const m=a.length;a.resize(m+4),a.float32.set(Ie,3*m)}}function Le(v,a,d){const m=a[0],_=a[1];return v[0]=d[0]*m+d[4]*_+d[12],v[1]=d[1]*m+d[5]*_+d[13],v[3]=d[3]*m+d[7]*_+d[15],v}const Ge=100;class st{constructor(a,d=new Yt(a.width+200,a.height+200,25),m=new Yt(a.width+200,a.height+200,25)){this.transform=a,this.grid=d,this.ignoredGrid=m,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+Ge,this.screenBottomBoundary=a.height+Ge,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,d,m,_,E,P){const M=this.projectAndGetPerspectiveRatio(_,a.anchorPointX,a.anchorPointY,P),N=m*M.perspectiveRatio,U=a.x1*N+M.point.x,K=a.y1*N+M.point.y,W=a.x2*N+M.point.x,ne=a.y2*N+M.point.y;return!this.isInsideGrid(U,K,W,ne)||d!=="always"&&this.grid.hitTest(U,K,W,ne,d,E)||M.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[U,K,W,ne],offscreen:this.isOffscreen(U,K,W,ne)}}placeCollisionCircles(a,d,m,_,E,P,M,N,U,K,W,ne,fe,pe){const de=[],we=new s.pointGeometry(d.anchorX,d.anchorY),Re=Sr(we,P,pe),Oe=Pr(this.transform.cameraToCenterDistance,Re.signedDistanceFromCamera),ye=(K?E/Oe:E*Oe)/s.ONE_EM,Ne=Sr(we,M,pe).point,je=te(ye,_,d.lineOffsetX*ye,d.lineOffsetY*ye,!1,Ne,we,d,m,M,{},!1,pe);let Ze=!1,nt=!1,ot=!0;if(je){const ft=.5*ne*Oe+fe,ct=new s.pointGeometry(-100,-100),yt=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),kt=new Dn,tn=je.first,an=je.last;let Dt=[];for(let _n=tn.path.length-1;_n>=1;_n--)Dt.push(tn.path[_n]);for(let _n=1;_n<an.path.length;_n++)Dt.push(an.path[_n]);const $n=2.5*ft;if(N){const _n=Dt.map(Nn=>Sr(Nn,N,pe));Dt=_n.some(Nn=>Nn.signedDistanceFromCamera<=0)?[]:_n.map(Nn=>Nn.point)}let Gn=[];if(Dt.length>0){const _n=Dt[0].clone(),Nn=Dt[0].clone();for(let nr=1;nr<Dt.length;nr++)_n.x=Math.min(_n.x,Dt[nr].x),_n.y=Math.min(_n.y,Dt[nr].y),Nn.x=Math.max(Nn.x,Dt[nr].x),Nn.y=Math.max(Nn.y,Dt[nr].y);Gn=_n.x>=ct.x&&Nn.x<=yt.x&&_n.y>=ct.y&&Nn.y<=yt.y?[Dt]:Nn.x<ct.x||_n.x>yt.x||Nn.y<ct.y||_n.y>yt.y?[]:s.clipLine([Dt],ct.x,ct.y,yt.x,yt.y)}for(const _n of Gn){kt.reset(_n,.25*ft);let Nn=0;Nn=kt.length<=.5*ft?1:Math.ceil(kt.paddedLength/$n)+1;for(let nr=0;nr<Nn;nr++){const qn=nr/Math.max(Nn-1,1),Uo=kt.lerp(qn),Vo=Uo.x+Ge,yi=Uo.y+Ge;de.push(Vo,yi,ft,0);const vo=Vo-ft,Oi=yi-ft,ca=Vo+ft,Ws=yi+ft;if(ot=ot&&this.isOffscreen(vo,Oi,ca,Ws),nt=nt||this.isInsideGrid(vo,Oi,ca,Ws),a!=="always"&&this.grid.hitTestCircle(Vo,yi,ft,a,W)&&(Ze=!0,!U))return{circles:[],offscreen:!1,collisionDetected:Ze}}}}return{circles:!U&&Ze||!nt||Oe<this.perspectiveRatioCutoff?[]:de,offscreen:ot,collisionDetected:Ze}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let m=1/0,_=1/0,E=-1/0,P=-1/0;for(const K of a){const W=new s.pointGeometry(K.x+Ge,K.y+Ge);m=Math.min(m,W.x),_=Math.min(_,W.y),E=Math.max(E,W.x),P=Math.max(P,W.y),d.push(W)}const M=this.grid.query(m,_,E,P).concat(this.ignoredGrid.query(m,_,E,P)),N={},U={};for(const K of M){const W=K.key;if(N[W.bucketInstanceId]===void 0&&(N[W.bucketInstanceId]={}),N[W.bucketInstanceId][W.featureIndex])continue;const ne=[new s.pointGeometry(K.x1,K.y1),new s.pointGeometry(K.x2,K.y1),new s.pointGeometry(K.x2,K.y2),new s.pointGeometry(K.x1,K.y2)];s.polygonIntersectsPolygon(d,ne)&&(N[W.bucketInstanceId][W.featureIndex]=!0,U[W.bucketInstanceId]===void 0&&(U[W.bucketInstanceId]=[]),U[W.bucketInstanceId].push(W.featureIndex))}return U}insertCollisionBox(a,d,m,_,E,P){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:E,collisionGroupID:P,overlapMode:d},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,m,_,E,P){const M=m?this.ignoredGrid:this.grid,N={bucketInstanceId:_,featureIndex:E,collisionGroupID:P,overlapMode:d};for(let U=0;U<a.length;U+=4)M.insertCircle(N,a[U],a[U+1],a[U+2])}projectAndGetPerspectiveRatio(a,d,m,_){let E;return _?(E=[d,m,_(d,m),1],s.transformMat4(E,E,a)):(E=[d,m,0,1],Le(E,E,a)),{point:new s.pointGeometry((E[0]/E[3]+1)/2*this.transform.width+Ge,(-E[1]/E[3]+1)/2*this.transform.height+Ge),perspectiveRatio:.5+this.transform.cameraToCenterDistance/E[3]*.5}}isOffscreen(a,d,m,_){return m<Ge||a>=this.screenRightBoundary||_<Ge||d>this.screenBottomBoundary}isInsideGrid(a,d,m,_){return m>=0&&a<this.gridRightBoundary&&_>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const a=s.identity([]);return s.translate(a,a,[-100,-100,0]),a}}function Qe(v,a,d){return a*(s.EXTENT/(v.tileSize*Math.pow(2,d-v.tileID.overscaledZ)))}class Mt{constructor(a,d,m,_){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):_&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class $t{constructor(a,d,m,_,E){this.text=new Mt(a?a.text:null,d,m,E),this.icon=new Mt(a?a.icon:null,d,_,E)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ct{constructor(a,d,m){this.text=a,this.icon=d,this.skipFade=m}}class Ft{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class gn{constructor(a,d,m,_,E){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=m,this.bucketIndex=_,this.tileID=E}}class zn{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:m=>m.collisionGroupID===d}}return this.collisionGroups[a]}}function cn(v,a,d,m,_){const{horizontalAlign:E,verticalAlign:P}=s.getAnchorAlignment(v),M=-(E-.5)*a,N=-(P-.5)*d,U=s.evaluateVariableOffset(v,m);return new s.pointGeometry(M+U[0]*_,N+U[1]*_)}function bn(v,a,d,m,_,E){const{x1:P,x2:M,y1:N,y2:U,anchorPointX:K,anchorPointY:W}=v,ne=new s.pointGeometry(a,d);return m&&ne._rotate(_?E:-E),{x1:P+ne.x,y1:N+ne.y,x2:M+ne.x,y2:U+ne.y,anchorPointX:K,anchorPointY:W}}class Bn{constructor(a,d,m,_,E){this.transform=a.clone(),this.terrain=d,this.collisionIndex=new st(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new zn(_),this.collisionCircleArrays={},this.prevPlacement=E,E&&(E.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,d,m,_){const E=m.getBucket(d),P=m.latestFeatureIndex;if(!E||!P||d.id!==E.layerIds[0])return;const M=m.collisionBoxArray,N=E.layers[0].layout,U=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),K=m.tileSize/s.EXTENT,W=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),ne=N.get("text-pitch-alignment")==="map",fe=N.get("text-rotation-alignment")==="map",pe=Qe(m,1,this.transform.zoom),de=rn(W,ne,fe,this.transform,pe);let we=null;if(ne){const Oe=Qn(W,ne,fe,this.transform,pe);we=s.multiply([],this.transform.labelPlaneMatrix,Oe)}this.retainedQueryData[E.bucketInstanceId]=new gn(E.bucketInstanceId,P,E.sourceLayerIndex,E.index,m.tileID);const Re={bucket:E,layout:N,posMatrix:W,textLabelPlaneMatrix:de,labelToScreenMatrix:we,scale:U,textPixelRatio:K,holdingForFade:m.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(_)for(const Oe of E.sortKeyRanges){const{sortKey:ye,symbolInstanceStart:Ne,symbolInstanceEnd:je}=Oe;a.push({sortKey:ye,symbolInstanceStart:Ne,symbolInstanceEnd:je,parameters:Re})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Re})}attemptAnchorPlacement(a,d,m,_,E,P,M,N,U,K,W,ne,fe,pe,de,we){const Re=[ne.textOffset0,ne.textOffset1],Oe=cn(a,m,_,Re,E),ye=this.collisionIndex.placeCollisionBox(bn(d,Oe.x,Oe.y,P,M,this.transform.angle),W,N,U,K.predicate,we);if((!de||this.collisionIndex.placeCollisionBox(bn(de,Oe.x,Oe.y,P,M,this.transform.angle),W,N,U,K.predicate,we).box.length!==0)&&ye.box.length>0){let Ne;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ne.crossTileID]&&this.prevPlacement.placements[ne.crossTileID]&&this.prevPlacement.placements[ne.crossTileID].text&&(Ne=this.prevPlacement.variableOffsets[ne.crossTileID].anchor),ne.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ne.crossTileID]={textOffset:Re,width:m,height:_,anchor:a,textBoxScale:E,prevAnchor:Ne},this.markUsedJustification(fe,a,ne,pe),fe.allowVerticalPlacement&&(this.markUsedOrientation(fe,pe,ne),this.placedOrientations[ne.crossTileID]=pe),{shift:Oe,placedGlyphBoxes:ye}}}placeLayerBucketPart(a,d,m){const{bucket:_,layout:E,posMatrix:P,textLabelPlaneMatrix:M,labelToScreenMatrix:N,textPixelRatio:U,holdingForFade:K,collisionBoxArray:W,partiallyEvaluatedTextSize:ne,collisionGroup:fe}=a.parameters,pe=E.get("text-optional"),de=E.get("icon-optional"),we=s.getOverlapMode(E,"text-overlap","text-allow-overlap"),Re=we==="always",Oe=s.getOverlapMode(E,"icon-overlap","icon-allow-overlap"),ye=Oe==="always",Ne=E.get("text-rotation-alignment")==="map",je=E.get("text-pitch-alignment")==="map",Ze=E.get("icon-text-fit")!=="none",nt=E.get("symbol-z-order")==="viewport-y",ot=Re&&(ye||!_.hasIconData()||de),ft=ye&&(Re||!_.hasTextData()||pe);!_.collisionArrays&&W&&_.deserializeCollisionBoxes(W);const ct=(yt,kt)=>{if(d[yt.crossTileID])return;if(K)return void(this.placements[yt.crossTileID]=new Ct(!1,!1,!1));let tn=!1,an=!1,Dt=!0,$n=null,Gn={box:null,offscreen:null},_n={box:null,offscreen:null},Nn=null,nr=null,qn=null,Uo=0,Vo=0,yi=0;kt.textFeatureIndex?Uo=kt.textFeatureIndex:yt.useRuntimeCollisionCircles&&(Uo=yt.featureIndex),kt.verticalTextFeatureIndex&&(Vo=kt.verticalTextFeatureIndex);const vo=this.retainedQueryData[_.bucketInstanceId].tileID,Oi=this.terrain?($r,br)=>this.terrain.getElevation(vo,$r,br):null;for(const $r of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const br=kt[$r];br&&(br.elevation=Oi?Oi(br.anchorPointX,br.anchorPointY):0)}const ca=kt.textBox;if(ca){const $r=Wn=>{let Ci=s.WritingMode.horizontal;if(_.allowVerticalPlacement&&!Wn&&this.prevPlacement){const Ri=this.prevPlacement.placedOrientations[yt.crossTileID];Ri&&(this.placedOrientations[yt.crossTileID]=Ri,Ci=Ri,this.markUsedOrientation(_,Ci,yt))}return Ci},br=(Wn,Ci)=>{if(_.allowVerticalPlacement&&yt.numVerticalGlyphVertices>0&&kt.verticalTextBox){for(const Ri of _.writingModes)if(Ri===s.WritingMode.vertical?(Gn=Ci(),_n=Gn):Gn=Wn(),Gn&&Gn.box&&Gn.box.length)break}else Gn=Wn()};if(E.get("text-variable-anchor")){let Wn=E.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[yt.crossTileID]){const wr=this.prevPlacement.variableOffsets[yt.crossTileID];Wn.indexOf(wr.anchor)>0&&(Wn=Wn.filter(Da=>Da!==wr.anchor),Wn.unshift(wr.anchor))}const Ci=(wr,Da,ha)=>{const gf=wr.x2-wr.x1,Nl=wr.y2-wr.y1,Uh=yt.textBoxScale,Vh=Ze&&Oe==="never"?Da:null;let Wc={box:[],offscreen:!1};const H_=we!=="never"?2*Wn.length:Wn.length;for(let Jr=0;Jr<H_;++Jr){const Zs=this.attemptAnchorPlacement(Wn[Jr%Wn.length],wr,gf,Nl,Uh,Ne,je,U,P,fe,Jr>=Wn.length?we:"never",yt,_,ha,Vh,Oi);if(Zs&&(Wc=Zs.placedGlyphBoxes,Wc&&Wc.box&&Wc.box.length)){tn=!0,$n=Zs.shift;break}}return Wc};br(()=>Ci(ca,kt.iconBox,s.WritingMode.horizontal),()=>{const wr=kt.verticalTextBox;return _.allowVerticalPlacement&&!(Gn&&Gn.box&&Gn.box.length)&&yt.numVerticalGlyphVertices>0&&wr?Ci(wr,kt.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}}),Gn&&(tn=Gn.box,Dt=Gn.offscreen);const Ri=$r(Gn&&Gn.box);if(!tn&&this.prevPlacement){const wr=this.prevPlacement.variableOffsets[yt.crossTileID];wr&&(this.variableOffsets[yt.crossTileID]=wr,this.markUsedJustification(_,wr.anchor,yt,Ri))}}else{const Wn=(Ci,Ri)=>{const wr=this.collisionIndex.placeCollisionBox(Ci,we,U,P,fe.predicate,Oi);return wr&&wr.box&&wr.box.length&&(this.markUsedOrientation(_,Ri,yt),this.placedOrientations[yt.crossTileID]=Ri),wr};br(()=>Wn(ca,s.WritingMode.horizontal),()=>{const Ci=kt.verticalTextBox;return _.allowVerticalPlacement&&yt.numVerticalGlyphVertices>0&&Ci?Wn(Ci,s.WritingMode.vertical):{box:null,offscreen:null}}),$r(Gn&&Gn.box&&Gn.box.length)}}if(Nn=Gn,tn=Nn&&Nn.box&&Nn.box.length>0,Dt=Nn&&Nn.offscreen,yt.useRuntimeCollisionCircles){const $r=_.text.placedSymbolArray.get(yt.centerJustifiedTextSymbolIndex),br=s.evaluateSizeForFeature(_.textSizeData,ne,$r),Wn=E.get("text-padding");nr=this.collisionIndex.placeCollisionCircles(we,$r,_.lineVertexArray,_.glyphOffsetArray,br,P,M,N,m,je,fe.predicate,yt.collisionCircleDiameter,Wn,Oi),nr.circles.length&&nr.collisionDetected&&!m&&s.warnOnce("Collisions detected, but collision boxes are not shown"),tn=Re||nr.circles.length>0&&!nr.collisionDetected,Dt=Dt&&nr.offscreen}if(kt.iconFeatureIndex&&(yi=kt.iconFeatureIndex),kt.iconBox){const $r=br=>{const Wn=Ze&&$n?bn(br,$n.x,$n.y,Ne,je,this.transform.angle):br;return this.collisionIndex.placeCollisionBox(Wn,Oe,U,P,fe.predicate,Oi)};_n&&_n.box&&_n.box.length&&kt.verticalIconBox?(qn=$r(kt.verticalIconBox),an=qn.box.length>0):(qn=$r(kt.iconBox),an=qn.box.length>0),Dt=Dt&&qn.offscreen}const Ws=pe||yt.numHorizontalGlyphVertices===0&&yt.numVerticalGlyphVertices===0,Fh=de||yt.numIconVertices===0;if(Ws||Fh?Fh?Ws||(an=an&&tn):tn=an&&tn:an=tn=an&&tn,tn&&Nn&&Nn.box&&this.collisionIndex.insertCollisionBox(Nn.box,we,E.get("text-ignore-placement"),_.bucketInstanceId,_n&&_n.box&&Vo?Vo:Uo,fe.ID),an&&qn&&this.collisionIndex.insertCollisionBox(qn.box,Oe,E.get("icon-ignore-placement"),_.bucketInstanceId,yi,fe.ID),nr&&(tn&&this.collisionIndex.insertCollisionCircles(nr.circles,we,E.get("text-ignore-placement"),_.bucketInstanceId,Uo,fe.ID),m)){const $r=_.bucketInstanceId;let br=this.collisionCircleArrays[$r];br===void 0&&(br=this.collisionCircleArrays[$r]=new Ft);for(let Wn=0;Wn<nr.circles.length;Wn+=4)br.circles.push(nr.circles[Wn+0]),br.circles.push(nr.circles[Wn+1]),br.circles.push(nr.circles[Wn+2]),br.circles.push(nr.collisionDetected?1:0)}if(yt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(_.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[yt.crossTileID]=new Ct(tn||ot,an||ft,Dt||_.justReloaded),d[yt.crossTileID]=!0};if(nt){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const yt=_.getSortedSymbolIndexes(this.transform.angle);for(let kt=yt.length-1;kt>=0;--kt){const tn=yt[kt];ct(_.symbolInstances.get(tn),_.collisionArrays[tn])}}else for(let yt=a.symbolInstanceStart;yt<a.symbolInstanceEnd;yt++)ct(_.symbolInstances.get(yt),_.collisionArrays[yt]);if(m&&_.bucketInstanceId in this.collisionCircleArrays){const yt=this.collisionCircleArrays[_.bucketInstanceId];s.invert(yt.invProjMatrix,P),yt.viewportMatrix=this.collisionIndex.getViewportMatrix()}_.justReloaded=!1}markUsedJustification(a,d,m,_){let E;E=_===s.WritingMode.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[s.getAnchorJustification(d)];const P=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const M of P)M>=0&&(a.text.placedSymbolArray.get(M).crossTileID=E>=0&&M!==E?0:m.crossTileID)}markUsedOrientation(a,d,m){const _=d===s.WritingMode.horizontal||d===s.WritingMode.horizontalOnly?d:0,E=d===s.WritingMode.vertical?d:0,P=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const M of P)a.text.placedSymbolArray.get(M).placedOrientation=_;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=E)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let m=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const _=d?d.symbolFadeChange(a):1,E=d?d.opacities:{},P=d?d.variableOffsets:{},M=d?d.placedOrientations:{};for(const N in this.placements){const U=this.placements[N],K=E[N];K?(this.opacities[N]=new $t(K,_,U.text,U.icon),m=m||U.text!==K.text.placed||U.icon!==K.icon.placed):(this.opacities[N]=new $t(null,_,U.text,U.icon,U.skipFade),m=m||U.text||U.icon)}for(const N in E){const U=E[N];if(!this.opacities[N]){const K=new $t(U,_,!1,!1);K.isHidden()||(this.opacities[N]=K,m=m||U.text.placed||U.icon.placed)}}for(const N in P)this.variableOffsets[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.variableOffsets[N]=P[N]);for(const N in M)this.placedOrientations[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.placedOrientations[N]=M[N]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){const m={};for(const _ of d){const E=_.getBucket(a);E&&_.latestFeatureIndex&&a.id===E.layerIds[0]&&this.updateBucketOpacities(E,m,_.collisionBoxArray)}}updateBucketOpacities(a,d,m){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const _=a.layers[0].layout,E=new $t(null,0,!1,!1,!0),P=_.get("text-allow-overlap"),M=_.get("icon-allow-overlap"),N=_.get("text-variable-anchor"),U=_.get("text-rotation-alignment")==="map",K=_.get("text-pitch-alignment")==="map",W=_.get("icon-text-fit")!=="none",ne=new $t(null,0,P&&(M||!a.hasIconData()||_.get("icon-optional")),M&&(P||!a.hasTextData()||_.get("text-optional")),!0);!a.collisionArrays&&m&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(m);const fe=(pe,de,we)=>{for(let Re=0;Re<de/4;Re++)pe.opacityVertexArray.emplaceBack(we);pe.hasVisibleVertices=pe.hasVisibleVertices||we!==qi};for(let pe=0;pe<a.symbolInstances.length;pe++){const de=a.symbolInstances.get(pe),{numHorizontalGlyphVertices:we,numVerticalGlyphVertices:Re,crossTileID:Oe}=de;let ye=this.opacities[Oe];d[Oe]?ye=E:ye||(ye=ne,this.opacities[Oe]=ye),d[Oe]=!0;const Ne=de.numIconVertices>0,je=this.placedOrientations[de.crossTileID],Ze=je===s.WritingMode.vertical,nt=je===s.WritingMode.horizontal||je===s.WritingMode.horizontalOnly;if(we>0||Re>0){const ot=Za(ye.text);fe(a.text,we,Ze?qi:ot),fe(a.text,Re,nt?qi:ot);const ft=ye.text.isHidden();[de.rightJustifiedTextSymbolIndex,de.centerJustifiedTextSymbolIndex,de.leftJustifiedTextSymbolIndex].forEach(kt=>{kt>=0&&(a.text.placedSymbolArray.get(kt).hidden=ft||Ze?1:0)}),de.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(de.verticalPlacedTextSymbolIndex).hidden=ft||nt?1:0);const ct=this.variableOffsets[de.crossTileID];ct&&this.markUsedJustification(a,ct.anchor,de,je);const yt=this.placedOrientations[de.crossTileID];yt&&(this.markUsedJustification(a,"left",de,yt),this.markUsedOrientation(a,yt,de))}if(Ne){const ot=Za(ye.icon),ft=!(W&&de.verticalPlacedIconSymbolIndex&&Ze);de.placedIconSymbolIndex>=0&&(fe(a.icon,de.numIconVertices,ft?ot:qi),a.icon.placedSymbolArray.get(de.placedIconSymbolIndex).hidden=ye.icon.isHidden()),de.verticalPlacedIconSymbolIndex>=0&&(fe(a.icon,de.numVerticalIconVertices,ft?qi:ot),a.icon.placedSymbolArray.get(de.verticalPlacedIconSymbolIndex).hidden=ye.icon.isHidden())}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const ot=a.collisionArrays[pe];if(ot){let ft=new s.pointGeometry(0,0);if(ot.textBox||ot.verticalTextBox){let yt=!0;if(N){const kt=this.variableOffsets[Oe];kt?(ft=cn(kt.anchor,kt.width,kt.height,kt.textOffset,kt.textBoxScale),U&&ft._rotate(K?this.transform.angle:-this.transform.angle)):yt=!1}ot.textBox&&sr(a.textCollisionBox.collisionVertexArray,ye.text.placed,!yt||Ze,ft.x,ft.y),ot.verticalTextBox&&sr(a.textCollisionBox.collisionVertexArray,ye.text.placed,!yt||nt,ft.x,ft.y)}const ct=Boolean(!nt&&ot.verticalIconBox);ot.iconBox&&sr(a.iconCollisionBox.collisionVertexArray,ye.icon.placed,ct,W?ft.x:0,W?ft.y:0),ot.verticalIconBox&&sr(a.iconCollisionBox.collisionVertexArray,ye.icon.placed,!ct,W?ft.x:0,W?ft.y:0)}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){const pe=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=pe.invProjMatrix,a.placementViewportMatrix=pe.viewportMatrix,a.collisionCircleArray=pe.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){const m=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function sr(v,a,d,m,_){v.emplaceBack(a?1:0,d?1:0,m||0,_||0),v.emplaceBack(a?1:0,d?1:0,m||0,_||0),v.emplaceBack(a?1:0,d?1:0,m||0,_||0),v.emplaceBack(a?1:0,d?1:0,m||0,_||0)}const Rr=Math.pow(2,25),fr=Math.pow(2,24),Yo=Math.pow(2,17),Th=Math.pow(2,16),iu=Math.pow(2,9),uo=Math.pow(2,8),vl=Math.pow(2,1);function Za(v){if(v.opacity===0&&!v.placed)return 0;if(v.opacity===1&&v.placed)return 4294967295;const a=v.placed?1:0,d=Math.floor(127*v.opacity);return d*Rr+a*fr+d*Yo+a*Th+d*iu+a*uo+d*vl+a}const qi=0;class kn{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,m,_,E){const P=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(P,_,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,P.sort((M,N)=>M.sortKey-N.sortKey));this._currentPartIndex<P.length;)if(d.placeLayerBucketPart(P[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,E())return!0;return!1}}class lr{constructor(a,d,m,_,E,P,M,N){this.placement=new Bn(a,d,P,M,N),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=E,this._done=!1}isDone(){return this._done}continuePlacement(a,d,m){const _=s.exported.now(),E=()=>{const P=s.exported.now()-_;return!this._forceFullPlacement&&P>2};for(;this._currentPlacementIndex>=0;){const P=d[a[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(P.type==="symbol"&&(!P.minzoom||P.minzoom<=M)&&(!P.maxzoom||P.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new kn(P)),this._inProgressLayer.continuePlacement(m[P.source],this.placement,this._showCollisionBoxes,P,E))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const Jo=512/s.EXTENT/2;class Ia{constructor(a,d,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};const _=new Map;for(let E=0;E<d.length;E++){const P=d.get(E),M=P.key,N=_.get(M);N?N.push(P):_.set(M,[P])}for(const[E,P]of _){const M={positions:P.map(N=>({x:Math.floor(N.anchorX*Jo),y:Math.floor(N.anchorY*Jo)})),crossTileIDs:P.map(N=>N.crossTileID)};if(M.positions.length>128){const N=new s.KDBush(M.positions,U=>U.x,U=>U.y,16,Uint16Array);delete N.points,delete M.positions,M.index=N}this._symbolsByKey[E]=M}}getScaledCoordinates(a,d){const{x:m,y:_,z:E}=this.tileID.canonical,{x:P,y:M,z:N}=d.canonical,U=Jo/Math.pow(2,N-E),K=(M*s.EXTENT+a.anchorY)*U,W=_*s.EXTENT*Jo;return{x:Math.floor((P*s.EXTENT+a.anchorX)*U-m*s.EXTENT*Jo),y:Math.floor(K-W)}}findMatches(a,d,m){const _=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let E=0;E<a.length;E++){const P=a.get(E);if(P.crossTileID)continue;const M=this._symbolsByKey[P.key];if(!M)continue;const N=this.getScaledCoordinates(P,d);if(M.index){const U=M.index.range(N.x-_,N.y-_,N.x+_,N.y+_).sort();for(const K of U){const W=M.crossTileIDs[K];if(!m[W]){m[W]=!0,P.crossTileID=W;break}}}else if(M.positions)for(let U=0;U<M.positions.length;U++){const K=M.positions[U],W=M.crossTileIDs[U];if(Math.abs(K.x-N.x)<=_&&Math.abs(K.y-N.y)<=_&&!m[W]){m[W]=!0,P.crossTileID=W;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class Qo{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Ka{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const d=Math.round((a-this.lng)/360);if(d!==0)for(const m in this.indexes){const _=this.indexes[m],E={};for(const P in _){const M=_[P];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+d),E[M.tileID.key]=M}this.indexes[m]=E}this.lng=a}addBucket(a,d,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let E=0;E<d.symbolInstances.length;E++)d.symbolInstances.get(E).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const _=this.usedCrossTileIDs[a.overscaledZ];for(const E in this.indexes){const P=this.indexes[E];if(Number(E)>a.overscaledZ)for(const M in P){const N=P[M];N.tileID.isChildOf(a)&&N.findMatches(d.symbolInstances,a,_)}else{const M=P[a.scaledTo(Number(E)).key];M&&M.findMatches(d.symbolInstances,a,_)}}for(let E=0;E<d.symbolInstances.length;E++){const P=d.symbolInstances.get(E);P.crossTileID||(P.crossTileID=m.generate(),_[P.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Ia(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(const m of d.getCrossTileIDsLists())for(const _ of m)delete this.usedCrossTileIDs[a][_]}removeStaleBuckets(a){let d=!1;for(const m in this.indexes){const _=this.indexes[m];for(const E in _)a[_[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,_[E]),delete _[E],d=!0)}return d}}class Vt{constructor(){this.layerIndexes={},this.crossTileIDs=new Qo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,m){let _=this.layerIndexes[a.id];_===void 0&&(_=this.layerIndexes[a.id]=new Ka);let E=!1;const P={};_.handleWrapJump(m);for(const M of d){const N=M.getBucket(a);N&&a.id===N.layerIds[0]&&(N.bucketInstanceId||(N.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(M.tileID,N,this.crossTileIDs)&&(E=!0),P[N.bucketInstanceId]=!0)}return _.removeStaleBuckets(P)&&(E=!0),E}pruneUnusedLayers(a){const d={};a.forEach(m=>{d[m]=!0});for(const m in this.layerIndexes)d[m]||delete this.layerIndexes[m]}}const er=(v,a)=>s.emitValidationErrors(v,a&&a.filter(d=>d.identifier!=="source.canvas")),ou=s.pick(mn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),yl=s.pick(mn,["setCenter","setZoom","setBearing","setPitch"]),Pi=function(){const v={},a=s.spec.$version;for(const d in s.spec.$root){const m=s.spec.$root[d];if(m.required){let _=null;_=d==="version"?a:m.type==="array"?[]:{},_!=null&&(v[d]=_)}}return v}();class Wi extends s.Evented{constructor(a,d={}){super(),this.map=a,this.dispatcher=new Je(Xo(),this,a._getMapId()),this.imageManager=new Ye,this.imageManager.setEventedParent(this),this.glyphManager=new ze(a._requestManager,d.localIdeographFontFamily),this.lineAtlas=new $e(256,512),this.crossTileSymbolIndex=new Vt,this._spritesImagesIds={},this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const m=this;this._rtlTextPluginCallback=Wi.registerForPluginStateChange(_=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(E,P)=>{if(s.triggerPluginCompletionEvent(E),P&&P.every(M=>M))for(const M in m.sourceCaches)m.sourceCaches[M].reload()})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const E=this.sourceCaches[_.sourceId];if(!E)return;const P=E.getSource();if(P&&P.vectorLayerIds)for(const M in this._layers){const N=this._layers[M];N.source===P.id&&this._validateLayer(N)}})}loadURL(a,d={},m){this.fire(new s.Event("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const _=this.map._requestManager.transformRequest(a,Q.Style);this._request=s.getJSON(_,(E,P)=>{this._request=null,E?this.fire(new s.ErrorEvent(E)):P&&this._load(P,d,m)})}loadJSON(a,d={},m){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,d.validate=d.validate!==!1,this._load(a,d,m)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Pi,{validate:!1})}_load(a,d,m){const _=d.transformStyle?d.transformStyle(m,a):a;if(d.validate&&er(this,s.validateStyle(_)))return;this._loaded=!0,this.stylesheet=_;for(const P in _.sources)this.addSource(P,_.sources[P],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs);const E=Gi(this.stylesheet.layers);this._order=E.map(P=>P.id),this._layers={},this._serializedLayers={};for(let P of E)P=s.createStyleLayer(P),P.setEventedParent(this,{layer:{id:P.id}}),this._layers[P.id]=P,this._serializedLayers[P.id]=P.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new qe(this.stylesheet.light),this.map.setTerrain(this.stylesheet.terrain),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}_loadSprite(a,d=!1,m){this.imageManager.setLoaded(!1),this._spriteRequest=function(_,E,P,M){const N=We(_),U=P>1?"@2x":"";let K;const W=[],ne=[],fe={},pe={};for(const{id:we,url:Re}of N){const Oe=W.push(s.getJSON(E.transformRequest(E.normalizeSpriteURL(Re,U,".json"),Q.SpriteJSON),(Ne,je)=>{W.splice(Oe,1),K||(K=Ne,fe[we]=je,de())})),ye=ne.push(J.getImage(E.transformRequest(E.normalizeSpriteURL(Re,U,".png"),Q.SpriteImage),(Ne,je)=>{ne.splice(ye,1),K||(K=Ne,pe[we]=je,de())}))}function de(){const we=Object.values(fe).length,Re=Object.values(pe).length;if(K)M(K);else if(N.length===we&&we===Re){const Oe={};for(const ye in fe){Oe[ye]={};const Ne=s.exported.getImageCanvasContext(pe[ye]),je=fe[ye];for(const Ze in je){const{width:nt,height:ot,x:ft,y:ct,sdf:yt,pixelRatio:kt,stretchX:tn,stretchY:an,content:Dt}=je[Ze];Oe[ye][Ze]={data:null,pixelRatio:kt,sdf:yt,stretchX:tn,stretchY:an,content:Dt,spriteData:{width:nt,height:ot,x:ft,y:ct,context:Ne}}}}M(null,Oe)}}return{cancel(){if(W.length)for(const we of W)we.cancel(),W.splice(W.indexOf(we),1);if(ne.length)for(const we of ne)we.cancel(),ne.splice(ne.indexOf(we),1)}}}(a,this.map._requestManager,this.map.getPixelRatio(),(_,E)=>{if(this._spriteRequest=null,_)this.fire(new s.ErrorEvent(_));else if(E)for(const P in E){this._spritesImagesIds[P]=[];const M=this._spritesImagesIds[P]?this._spritesImagesIds[P].filter(N=>!(N in E)):[];for(const N of M)this.imageManager.removeImage(N),this._changedImages[N]=!0;for(const N in E[P]){const U=P==="default"?N:`${P}:${N}`;this._spritesImagesIds[P].push(U),U in this.imageManager.images?this.imageManager.updateImage(U,E[P][N],!1):this.imageManager.addImage(U,E[P][N]),d&&(this._changedImages[U]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"})),m&&m(_)})}_unloadSprite(){for(const a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}_validateLayer(a){const d=this.sourceCaches[a.source];if(!d)return;const m=a.sourceLayer;if(!m)return;const _=d.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(m)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${m}" does not exist on source "${_.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(a){const d=[];for(const m of a){const _=this._layers[m];_.type!=="custom"&&d.push(_.serialize())}return d}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;const d=this._changed;if(this._changed){const _=Object.keys(this._updatedLayers),E=Object.keys(this._removedLayers);(_.length||E.length)&&this._updateWorkerLayers(_,E);for(const P in this._updatedSources){const M=this._updatedSources[P];if(M==="reload")this._reloadSource(P);else{if(M!=="clear")throw new Error(`Invalid action ${M}`);this._clearSource(P)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const P in this._updatedPaintProps)this._layers[P].updateTransitions(a);this.light.updateTransitions(a),this._resetUpdates()}const m={};for(const _ in this.sourceCaches){const E=this.sourceCaches[_];m[_]=E.used,E.used=!1}for(const _ of this._order){const E=this._layers[_];E.recalculate(a,this._availableImages),!E.isHidden(a.zoom)&&E.source&&(this.sourceCaches[E.source].used=!0)}for(const _ in m){const E=this.sourceCaches[_];m[_]!==E.used&&E.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:_}))}this.light.recalculate(a),this.z=a.zoom,d&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,d={}){if(this._checkLoaded(),a=d.transformStyle?d.transformStyle(this.serialize(),a):a,er(this,s.validateStyle(a)))return!1;(a=s.clone$1(a)).layers=Gi(a.layers);const m=function(E,P){if(!E)return[{command:mn.setStyle,args:[P]}];let M=[];try{if(!R(E.version,P.version))return[{command:mn.setStyle,args:[P]}];R(E.center,P.center)||M.push({command:mn.setCenter,args:[P.center]}),R(E.zoom,P.zoom)||M.push({command:mn.setZoom,args:[P.zoom]}),R(E.bearing,P.bearing)||M.push({command:mn.setBearing,args:[P.bearing]}),R(E.pitch,P.pitch)||M.push({command:mn.setPitch,args:[P.pitch]}),R(E.sprite,P.sprite)||M.push({command:mn.setSprite,args:[P.sprite]}),R(E.glyphs,P.glyphs)||M.push({command:mn.setGlyphs,args:[P.glyphs]}),R(E.transition,P.transition)||M.push({command:mn.setTransition,args:[P.transition]}),R(E.light,P.light)||M.push({command:mn.setLight,args:[P.light]});const N={},U=[];(function(W,ne,fe,pe){let de;for(de in ne=ne||{},W=W||{})Object.prototype.hasOwnProperty.call(W,de)&&(Object.prototype.hasOwnProperty.call(ne,de)||Qt(de,fe,pe));for(de in ne)Object.prototype.hasOwnProperty.call(ne,de)&&(Object.prototype.hasOwnProperty.call(W,de)?R(W[de],ne[de])||(W[de].type==="geojson"&&ne[de].type==="geojson"&&vn(W,ne,de)?fe.push({command:mn.setGeoJSONSourceData,args:[de,ne[de].data]}):Rt(de,ne,fe,pe)):ht(de,ne,fe))})(E.sources,P.sources,U,N);const K=[];E.layers&&E.layers.forEach(W=>{N[W.source]?M.push({command:mn.removeLayer,args:[W.id]}):K.push(W)}),M=M.concat(U),function(W,ne,fe){ne=ne||[];const pe=(W=W||[]).map(yn),de=ne.map(yn),we=W.reduce(Gt,{}),Re=ne.reduce(Gt,{}),Oe=pe.slice(),ye=Object.create(null);let Ne,je,Ze,nt,ot,ft,ct;for(Ne=0,je=0;Ne<pe.length;Ne++)Ze=pe[Ne],Object.prototype.hasOwnProperty.call(Re,Ze)?je++:(fe.push({command:mn.removeLayer,args:[Ze]}),Oe.splice(Oe.indexOf(Ze,je),1));for(Ne=0,je=0;Ne<de.length;Ne++)Ze=de[de.length-1-Ne],Oe[Oe.length-1-Ne]!==Ze&&(Object.prototype.hasOwnProperty.call(we,Ze)?(fe.push({command:mn.removeLayer,args:[Ze]}),Oe.splice(Oe.lastIndexOf(Ze,Oe.length-je),1)):je++,ft=Oe[Oe.length-Ne],fe.push({command:mn.addLayer,args:[Re[Ze],ft]}),Oe.splice(Oe.length-Ne,0,Ze),ye[Ze]=!0);for(Ne=0;Ne<de.length;Ne++)if(Ze=de[Ne],nt=we[Ze],ot=Re[Ze],!ye[Ze]&&!R(nt,ot))if(R(nt.source,ot.source)&&R(nt["source-layer"],ot["source-layer"])&&R(nt.type,ot.type)){for(ct in Mn(nt.layout,ot.layout,fe,Ze,null,mn.setLayoutProperty),Mn(nt.paint,ot.paint,fe,Ze,null,mn.setPaintProperty),R(nt.filter,ot.filter)||fe.push({command:mn.setFilter,args:[Ze,ot.filter]}),R(nt.minzoom,ot.minzoom)&&R(nt.maxzoom,ot.maxzoom)||fe.push({command:mn.setLayerZoomRange,args:[Ze,ot.minzoom,ot.maxzoom]}),nt)Object.prototype.hasOwnProperty.call(nt,ct)&&ct!=="layout"&&ct!=="paint"&&ct!=="filter"&&ct!=="metadata"&&ct!=="minzoom"&&ct!=="maxzoom"&&(ct.indexOf("paint.")===0?Mn(nt[ct],ot[ct],fe,Ze,ct.slice(6),mn.setPaintProperty):R(nt[ct],ot[ct])||fe.push({command:mn.setLayerProperty,args:[Ze,ct,ot[ct]]}));for(ct in ot)Object.prototype.hasOwnProperty.call(ot,ct)&&!Object.prototype.hasOwnProperty.call(nt,ct)&&ct!=="layout"&&ct!=="paint"&&ct!=="filter"&&ct!=="metadata"&&ct!=="minzoom"&&ct!=="maxzoom"&&(ct.indexOf("paint.")===0?Mn(nt[ct],ot[ct],fe,Ze,ct.slice(6),mn.setPaintProperty):R(nt[ct],ot[ct])||fe.push({command:mn.setLayerProperty,args:[Ze,ct,ot[ct]]}))}else fe.push({command:mn.removeLayer,args:[Ze]}),ft=Oe[Oe.lastIndexOf(Ze)+1],fe.push({command:mn.addLayer,args:[ot,ft]})}(K,P.layers,M)}catch(N){console.warn("Unable to compute style diff:",N),M=[{command:mn.setStyle,args:[P]}]}return M}(this.serialize(),a).filter(E=>!(E.command in yl));if(m.length===0)return!1;const _=m.filter(E=>!(E.command in ou));if(_.length>0)throw new Error(`Unimplemented: ${_.map(E=>E.command).join(", ")}.`);return m.forEach(E=>{E.command!=="setTransition"&&this[E.command].apply(this,E.args)}),this.stylesheet=a,!0}addImage(a,d){if(this.getImage(a))return this.fire(new s.ErrorEvent(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,d),this._afterImageUpdated(a)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new s.ErrorEvent(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,d,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(s.validateStyle.source,`sources.${a}`,d,null,m))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const _=this.sourceCaches[a]=new it(a,d,this.dispatcher);_.style=this,_.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:_.serialize(),sourceId:a})),_.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===a)return this.fire(new s.ErrorEvent(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));const d=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],d.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,d){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);const m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(d),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,d,m={}){this._checkLoaded();const _=a.id;if(this.getLayer(_))return void this.fire(new s.ErrorEvent(new Error(`Layer "${_}" already exists on this map.`)));let E;if(a.type==="custom"){if(er(this,s.validateCustomStyleLayer(a)))return;E=s.createStyleLayer(a)}else{if(typeof a.source=="object"&&(this.addSource(_,a.source),a=s.clone$1(a),a=s.extend(a,{source:_})),this._validate(s.validateStyle.layer,`layers.${_}`,a,{arrayIndex:-1},m))return;E=s.createStyleLayer(a),this._validateLayer(E),E.setEventedParent(this,{layer:{id:_}}),this._serializedLayers[E.id]=E.serialize()}const P=d?this._order.indexOf(d):this._order.length;if(d&&P===-1)this.fire(new s.ErrorEvent(new Error(`Cannot add layer "${_}" before non-existing layer "${d}".`)));else{if(this._order.splice(P,0,_),this._layerOrderChanged=!0,this._layers[_]=E,this._removedLayers[_]&&E.source&&E.type!=="custom"){const M=this._removedLayers[_];delete this._removedLayers[_],M.type!==E.type?this._updatedSources[E.source]="clear":(this._updatedSources[E.source]="reload",this.sourceCaches[E.source].pause())}this._updateLayer(E),E.onAdd&&E.onAdd(this.map)}}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new s.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;const m=this._order.indexOf(a);this._order.splice(m,1);const _=d?this._order.indexOf(d):this._order.length;d&&_===-1?this.fire(new s.ErrorEvent(new Error(`Cannot move layer "${a}" before non-existing layer "${d}".`))):(this._order.splice(_,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();const d=this._layers[a];if(!d)return void this.fire(new s.ErrorEvent(new Error(`Cannot remove non-existing layer "${a}".`)));d.setEventedParent(null);const m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map)}getLayer(a){return this._layers[a]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,d,m){this._checkLoaded();const _=this.getLayer(a);_?_.minzoom===d&&_.maxzoom===m||(d!=null&&(_.minzoom=d),m!=null&&(_.maxzoom=m),this._updateLayer(_)):this.fire(new s.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,d,m={}){this._checkLoaded();const _=this.getLayer(a);if(_){if(!R(_.filter,d))return d==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(s.validateStyle.filter,`layers.${_.id}.filter`,d,null,m)||(_.filter=s.clone$1(d),this._updateLayer(_)))}else this.fire(new s.ErrorEvent(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return s.clone$1(this.getLayer(a).filter)}setLayoutProperty(a,d,m,_={}){this._checkLoaded();const E=this.getLayer(a);E?R(E.getLayoutProperty(d),m)||(E.setLayoutProperty(d,m,_),this._updateLayer(E)):this.fire(new s.ErrorEvent(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,d){const m=this.getLayer(a);if(m)return m.getLayoutProperty(d);this.fire(new s.ErrorEvent(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,d,m,_={}){this._checkLoaded();const E=this.getLayer(a);E?R(E.getPaintProperty(d),m)||(E.setPaintProperty(d,m,_)&&this._updateLayer(E),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new s.ErrorEvent(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,d){return this.getLayer(a).getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();const m=a.source,_=a.sourceLayer,E=this.sourceCaches[m];if(E===void 0)return void this.fire(new s.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const P=E.getSource().type;P==="geojson"&&_?this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):P!=="vector"||_?(a.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),E.setFeatureState(_,a.id,d)):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,d){this._checkLoaded();const m=a.source,_=this.sourceCaches[m];if(_===void 0)return void this.fire(new s.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const E=_.getSource().type,P=E==="vector"?a.sourceLayer:void 0;E!=="vector"||P?d&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):_.removeFeatureState(P,a.id,d):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();const d=a.source,m=a.sourceLayer,_=this.sourceCaches[d];if(_!==void 0)return _.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),_.getFeatureState(m,a.id)):void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,a=>a.serialize()),layers:this._serializeLayers(this._order)},a=>a!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(a){const d=P=>this._layers[P].type==="fill-extrusion",m={},_=[];for(let P=this._order.length-1;P>=0;P--){const M=this._order[P];if(d(M)){m[M]=P;for(const N of a){const U=N[M];if(U)for(const K of U)_.push(K)}}}_.sort((P,M)=>M.intersectionZ-P.intersectionZ);const E=[];for(let P=this._order.length-1;P>=0;P--){const M=this._order[P];if(d(M))for(let N=_.length-1;N>=0;N--){const U=_[N].feature;if(m[U.layer.id]<P)break;E.push(U),_.pop()}else for(const N of a){const U=N[M];if(U)for(const K of U)E.push(K.feature)}}return E}queryRenderedFeatures(a,d,m){d&&d.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",d.filter,null,d);const _={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const P of d.layers){const M=this._layers[P];if(!M)return this.fire(new s.ErrorEvent(new Error(`The layer '${P}' does not exist in the map's style and cannot be queried for features.`))),[];_[M.source]=!0}}const E=[];d.availableImages=this._availableImages;for(const P in this.sourceCaches)d.layers&&!_[P]||E.push(mt(this.sourceCaches[P],this._layers,this._serializedLayers,a,d,m));return this.placement&&E.push(function(P,M,N,U,K,W,ne){const fe={},pe=W.queryRenderedSymbols(U),de=[];for(const we of Object.keys(pe).map(Number))de.push(ne[we]);de.sort(Ot);for(const we of de){const Re=we.featureIndex.lookupSymbolFeatures(pe[we.bucketInstanceId],M,we.bucketIndex,we.sourceLayerIndex,K.filter,K.layers,K.availableImages,P);for(const Oe in Re){const ye=fe[Oe]=fe[Oe]||[],Ne=Re[Oe];Ne.sort((je,Ze)=>{const nt=we.featureSortOrder;if(nt){const ot=nt.indexOf(je.featureIndex);return nt.indexOf(Ze.featureIndex)-ot}return Ze.featureIndex-je.featureIndex});for(const je of Ne)ye.push(je)}}for(const we in fe)fe[we].forEach(Re=>{const Oe=Re.feature,ye=N[P[we].source].getFeatureState(Oe.layer["source-layer"],Oe.id);Oe.source=Oe.layer.source,Oe.layer["source-layer"]&&(Oe.sourceLayer=Oe.layer["source-layer"]),Oe.state=ye});return fe}(this._layers,this._serializedLayers,this.sourceCaches,a,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(E)}querySourceFeatures(a,d){d&&d.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",d.filter,null,d);const m=this.sourceCaches[a];return m?function(_,E){const P=_.getRenderableIds().map(U=>_.getTileByID(U)),M=[],N={};for(let U=0;U<P.length;U++){const K=P[U],W=K.tileID.canonical.key;N[W]||(N[W]=!0,K.querySourceFeatures(M,E))}return M}(m,d):[]}addSourceType(a,d,m){return Wi.getSourceType(a)?m(new Error(`A source type called "${a}" already exists.`)):(Wi.setSourceType(a,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:d.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();const m=this.light.getLight();let _=!1;for(const P in a)if(!R(a[P],m[P])){_=!0;break}if(!_)return;const E={now:s.exported.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,d),this.light.updateTransitions(E)}_validate(a,d,m,_,E={}){return(!E||E.validate!==!1)&&er(this,a.call(s.validateStyle,s.extend({key:d,style:this.serialize(),value:m,styleSpec:s.spec},_)))}_remove(a=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const m=this.sourceCaches[d];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(const d in this.sourceCaches)this.sourceCaches[d].update(a,this.map.terrain)}_generateCollisionBoxes(){for(const a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,d,m,_,E=!1){let P=!1,M=!1;const N={};for(const U of this._order){const K=this._layers[U];if(K.type!=="symbol")continue;if(!N[K.source]){const ne=this.sourceCaches[K.source];N[K.source]=ne.getRenderableIds(!0).map(fe=>ne.getTileByID(fe)).sort((fe,pe)=>pe.tileID.overscaledZ-fe.tileID.overscaledZ||(fe.tileID.isLessThan(pe.tileID)?-1:1))}const W=this.crossTileSymbolIndex.addLayer(K,N[K.source],a.center.lng);P=P||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((E=E||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),a.zoom))&&(this.pauseablePlacement=new lr(a,this.map.terrain,this._order,E,d,m,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,N),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),M=!0),P&&this.pauseablePlacement.placement.setStale()),M||P)for(const U of this._order){const K=this._layers[U];K.type==="symbol"&&this.placement.updateLayerOpacities(K,N[K.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d,m){this.imageManager.getImages(d.icons,m),this._updateTilesForChangedImages();const _=this.sourceCaches[d.source];_&&_.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(a,d,m){this.glyphManager.getGlyphs(d.stacks,m);const _=this.sourceCaches[d.source];_&&_.setDependencies(d.tileID.key,d.type,[""])}getResource(a,d,m){return s.makeRequest(d,m)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,d={}){this._checkLoaded(),a&&this._validate(s.validateStyle.glyphs,"glyphs",a,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,d,m={},_){this._checkLoaded();const E=[{id:a,url:d}],P=[...We(this.stylesheet.sprite),...E];this._validate(s.validateStyle.sprite,"sprite",P,null,m)||(this.stylesheet.sprite=P,this._loadSprite(E,!0,_))}removeSprite(a){this._checkLoaded();const d=We(this.stylesheet.sprite);if(d.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(const m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;d.splice(d.findIndex(m=>m.id===a),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}else this.fire(new s.ErrorEvent(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return We(this.stylesheet.sprite)}setSprite(a,d={},m){this._checkLoaded(),a&&this._validate(s.validateStyle.sprite,"sprite",a,null,d)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m(null)))}}Wi.getSourceType=function(v){return nn[v]},Wi.setSourceType=function(v,a){nn[v]=a},Wi.registerForPluginStateChange=s.registerForPluginStateChange;var Xa=s.createLayout([{name:"a_pos",type:"Int16",components:2}]),ea="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const pr={prelude:On(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:On(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:On(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:On(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:On("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:On(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:On(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:On("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:On("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:On("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:On(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:On(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:On(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:On(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:On(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:On(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:On(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:On(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:On(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:On(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:On(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:On(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:On(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:On(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:On(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:On(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:On("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",ea),terrainDepth:On("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",ea),terrainCoords:On("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",ea)};function On(v,a){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),_=v.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),P=E?E.concat(_):_,M={};return{fragmentSource:v=v.replace(d,(N,U,K,W,ne)=>(M[ne]=!0,U==="define"?`
#ifndef HAS_UNIFORM_u_${ne}
varying ${K} ${W} ${ne};
#else
uniform ${K} ${W} u_${ne};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ne}
    ${K} ${W} ${ne} = u_${ne};
#endif
`)),vertexSource:a=a.replace(d,(N,U,K,W,ne)=>{const fe=W==="float"?"vec2":"vec4",pe=ne.match(/color/)?"color":fe;return M[ne]?U==="define"?`
#ifndef HAS_UNIFORM_u_${ne}
uniform lowp float u_${ne}_t;
attribute ${K} ${fe} a_${ne};
varying ${K} ${W} ${ne};
#else
uniform ${K} ${W} u_${ne};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ne}
    ${ne} = a_${ne};
#else
    ${K} ${W} ${ne} = u_${ne};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ne}
    ${ne} = unpack_mix_${pe}(a_${ne}, u_${ne}_t);
#else
    ${K} ${W} ${ne} = u_${ne};
#endif
`:U==="define"?`
#ifndef HAS_UNIFORM_u_${ne}
uniform lowp float u_${ne}_t;
attribute ${K} ${fe} a_${ne};
#else
uniform ${K} ${W} u_${ne};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ne}
    ${K} ${W} ${ne} = a_${ne};
#else
    ${K} ${W} ${ne} = u_${ne};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ne}
    ${K} ${W} ${ne} = unpack_mix_${pe}(a_${ne}, u_${ne}_t);
#else
    ${K} ${W} ${ne} = u_${ne};
#endif
`}),staticAttributes:m,staticUniforms:P}}class Ja{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,d,m,_,E,P,M,N,U){this.context=a;let K=this.boundPaintVertexBuffers.length!==_.length;for(let W=0;!K&&W<_.length;W++)this.boundPaintVertexBuffers[W]!==_[W]&&(K=!0);a.extVertexArrayObject&&this.vao&&this.boundProgram===d&&this.boundLayoutVertexBuffer===m&&!K&&this.boundIndexBuffer===E&&this.boundVertexOffset===P&&this.boundDynamicVertexBuffer===M&&this.boundDynamicVertexBuffer2===N&&this.boundDynamicVertexBuffer3===U?(a.bindVertexArrayOES.set(this.vao),M&&M.bind(),E&&E.dynamicDraw&&E.bind(),N&&N.bind(),U&&U.bind()):this.freshBind(d,m,_,E,P,M,N,U)}freshBind(a,d,m,_,E,P,M,N){let U;const K=a.numAttributes,W=this.context,ne=W.gl;if(W.extVertexArrayObject)this.vao&&this.destroy(),this.vao=W.extVertexArrayObject.createVertexArrayOES(),W.bindVertexArrayOES.set(this.vao),U=0,this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=_,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=P,this.boundDynamicVertexBuffer2=M,this.boundDynamicVertexBuffer3=N;else{U=W.currentNumAttributes||0;for(let fe=K;fe<U;fe++)ne.disableVertexAttribArray(fe)}d.enableAttributes(ne,a);for(const fe of m)fe.enableAttributes(ne,a);P&&P.enableAttributes(ne,a),M&&M.enableAttributes(ne,a),N&&N.enableAttributes(ne,a),d.bind(),d.setVertexAttribPointers(ne,a,E);for(const fe of m)fe.bind(),fe.setVertexAttribPointers(ne,a,E);P&&(P.bind(),P.setVertexAttribPointers(ne,a,E)),_&&_.bind(),M&&(M.bind(),M.setVertexAttribPointers(ne,a,E)),N&&(N.bind(),N.setVertexAttribPointers(ne,a,E)),W.currentNumAttributes=K}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ta(v){const a=[];for(let d=0;d<v.length;d++){if(v[d]===null)continue;const m=v[d].split(" ");a.push(m.pop())}return a}class _l{constructor(a,d,m,_,E,P,M){const N=a.gl;this.program=N.createProgram();const U=ta(m.staticAttributes),K=_?_.getBinderAttributes():[],W=U.concat(K),ne=pr.prelude.staticUniforms?ta(pr.prelude.staticUniforms):[],fe=m.staticUniforms?ta(m.staticUniforms):[],pe=_?_.getBinderUniforms():[],de=ne.concat(fe).concat(pe),we=[];for(const nt of de)we.indexOf(nt)<0&&we.push(nt);const Re=_?_.defines():[];P&&Re.push("#define OVERDRAW_INSPECTOR;"),M&&Re.push("#define TERRAIN3D;");const Oe=Re.concat(pr.prelude.fragmentSource,m.fragmentSource).join(`
`),ye=Re.concat(pr.prelude.vertexSource,m.vertexSource).join(`
`),Ne=N.createShader(N.FRAGMENT_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);N.shaderSource(Ne,Oe),N.compileShader(Ne),N.attachShader(this.program,Ne);const je=N.createShader(N.VERTEX_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);N.shaderSource(je,ye),N.compileShader(je),N.attachShader(this.program,je),this.attributes={};const Ze={};this.numAttributes=W.length;for(let nt=0;nt<this.numAttributes;nt++)W[nt]&&(N.bindAttribLocation(this.program,nt,W[nt]),this.attributes[W[nt]]=nt);N.linkProgram(this.program),N.deleteShader(je),N.deleteShader(Ne);for(let nt=0;nt<we.length;nt++){const ot=we[nt];if(ot&&!Ze[ot]){const ft=N.getUniformLocation(this.program,ot);ft&&(Ze[ot]=ft)}}this.fixedUniforms=E(a,Ze),this.terrainUniforms=((nt,ot)=>({u_depth:new s.Uniform1i(nt,ot.u_depth),u_terrain:new s.Uniform1i(nt,ot.u_terrain),u_terrain_dim:new s.Uniform1f(nt,ot.u_terrain_dim),u_terrain_matrix:new s.UniformMatrix4f(nt,ot.u_terrain_matrix),u_terrain_unpack:new s.Uniform4f(nt,ot.u_terrain_unpack),u_terrain_exaggeration:new s.Uniform1f(nt,ot.u_terrain_exaggeration)}))(a,Ze),this.binderUniforms=_?_.getUniforms(a,Ze):[]}draw(a,d,m,_,E,P,M,N,U,K,W,ne,fe,pe,de,we,Re,Oe){const ye=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(_),a.setColorMode(E),a.setCullFace(P),N){a.activeTexture.set(ye.TEXTURE2),ye.bindTexture(ye.TEXTURE_2D,N.depthTexture),a.activeTexture.set(ye.TEXTURE3),ye.bindTexture(ye.TEXTURE_2D,N.texture);for(const je in this.terrainUniforms)this.terrainUniforms[je].set(N[je])}for(const je in this.fixedUniforms)this.fixedUniforms[je].set(M[je]);de&&de.setUniforms(a,this.binderUniforms,fe,{zoom:pe});let Ne=0;switch(d){case ye.LINES:Ne=2;break;case ye.TRIANGLES:Ne=3;break;case ye.LINE_STRIP:Ne=1}for(const je of ne.get()){const Ze=je.vaos||(je.vaos={});(Ze[U]||(Ze[U]=new Ja)).bind(a,this,K,de?de.getPaintVertexBuffers():[],W,je.vertexOffset,we,Re,Oe),ye.drawElements(d,je.primitiveLength*Ne,ye.UNSIGNED_SHORT,je.primitiveOffset*Ne*2)}}}function Qa(v,a,d){const m=1/Qe(d,1,a.transform.tileZoom),_=Math.pow(2,d.tileID.overscaledZ),E=d.tileSize*Math.pow(2,a.transform.tileZoom)/_,P=E*(d.tileID.canonical.x+d.tileID.wrap*_),M=E*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[m,v.fromScale,v.toScale],u_fade:v.t,u_pixel_coord_upper:[P>>16,M>>16],u_pixel_coord_lower:[65535&P,65535&M]}}const xl=(v,a,d,m)=>{const _=a.style.light,E=_.properties.get("position"),P=[E.x,E.y,E.z],M=function(){var U=new s.ARRAY_TYPE(9);return s.ARRAY_TYPE!=Float32Array&&(U[1]=0,U[2]=0,U[3]=0,U[5]=0,U[6]=0,U[7]=0),U[0]=1,U[4]=1,U[8]=1,U}();_.properties.get("anchor")==="viewport"&&function(U,K){var W=Math.sin(K),ne=Math.cos(K);U[0]=ne,U[1]=W,U[2]=0,U[3]=-W,U[4]=ne,U[5]=0,U[6]=0,U[7]=0,U[8]=1}(M,-a.transform.angle),function(U,K,W){var ne=K[0],fe=K[1],pe=K[2];U[0]=ne*W[0]+fe*W[3]+pe*W[6],U[1]=ne*W[1]+fe*W[4]+pe*W[7],U[2]=ne*W[2]+fe*W[5]+pe*W[8]}(P,P,M);const N=_.properties.get("color");return{u_matrix:v,u_lightpos:P,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[N.r,N.g,N.b],u_vertical_gradient:+d,u_opacity:m}},wc=(v,a,d,m,_,E,P)=>s.extend(xl(v,a,d,m),Qa(E,a,P),{u_height_factor:-Math.pow(2,_.overscaledZ)/P.tileSize/8}),na=v=>({u_matrix:v}),Aa=(v,a,d,m)=>s.extend(na(v),Qa(d,a,m)),au=(v,a)=>({u_matrix:v,u_world:a}),ri=(v,a,d,m,_)=>s.extend(Aa(v,a,d,m),{u_world:_}),su=(v,a,d,m)=>{const _=v.transform;let E,P;if(m.paint.get("circle-pitch-alignment")==="map"){const M=Qe(d,1,_.zoom);E=!0,P=[M,M]}else E=!1,P=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:v.translatePosMatrix(a.posMatrix,d,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:v.pixelRatio,u_extrude_scale:P}},Rs=(v,a,d)=>{const m=Qe(d,1,a.zoom),_=Math.pow(2,a.zoom-d.tileID.overscaledZ),E=d.tileID.overscaleFactor();return{u_matrix:v,u_camera_to_center_distance:a.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[a.pixelsToGLUnits[0]/(m*_),a.pixelsToGLUnits[1]/(m*_)],u_overscale_factor:E}},bl=(v,a,d=1)=>({u_matrix:v,u_color:a,u_overlay:0,u_overlay_scale:d}),ln=v=>({u_matrix:v}),Zi=(v,a,d,m)=>({u_matrix:v,u_extrude_scale:Qe(a,1,d),u_intensity:m});function Yn(v,a){const d=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new s.MercatorCoordinate(0,m/d).toLngLat().lat,new s.MercatorCoordinate(0,(m+1)/d).toLngLat().lat]}const ks=(v,a,d,m)=>{const _=v.transform;return{u_matrix:ia(v,a,d,m),u_ratio:1/Qe(a,1,_.zoom),u_device_pixel_ratio:v.pixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},wl=(v,a,d,m,_)=>s.extend(ks(v,a,d,_),{u_image:0,u_image_height:m}),Ls=(v,a,d,m,_)=>{const E=v.transform,P=ra(a,E);return{u_matrix:ia(v,a,d,_),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Qe(a,1,E.zoom),u_device_pixel_ratio:v.pixelRatio,u_image:0,u_scale:[P,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},lu=(v,a,d,m,_,E)=>{const P=v.lineAtlas,M=ra(a,v.transform),N=d.layout.get("line-cap")==="round",U=P.getDash(m.from,N),K=P.getDash(m.to,N),W=U.width*_.fromScale,ne=K.width*_.toScale;return s.extend(ks(v,a,d,E),{u_patternscale_a:[M/W,-U.height/2],u_patternscale_b:[M/ne,-K.height/2],u_sdfgamma:P.width/(256*Math.min(W,ne)*v.pixelRatio)/2,u_image:0,u_tex_y_a:U.y,u_tex_y_b:K.y,u_mix:_.t})};function ra(v,a){return 1/Qe(v,1,a.tileZoom)}function ia(v,a,d,m){return v.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const El=(v,a,d,m,_)=>{return{u_matrix:v,u_tl_parent:a,u_scale_parent:d,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(P=_.paint.get("raster-saturation"),P>0?1-1/(1.001-P):-P),u_contrast_factor:(E=_.paint.get("raster-contrast"),E>0?1/(1-E):1+E),u_spin_weights:Yr(_.paint.get("raster-hue-rotate"))};var E,P};function Yr(v){v*=Math.PI/180;const a=Math.sin(v),d=Math.cos(v);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}const Pa=(v,a,d,m,_,E,P,M,N,U)=>{const K=_.transform;return{u_is_size_zoom_constant:+(v==="constant"||v==="source"),u_is_size_feature_constant:+(v==="constant"||v==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:K.cameraToCenterDistance,u_pitch:K.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:K.width/K.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:E,u_label_plane_matrix:P,u_coord_matrix:M,u_is_text:+N,u_pitch_with_map:+m,u_texsize:U,u_texture:0}},Ec=(v,a,d,m,_,E,P,M,N,U,K)=>{const W=_.transform;return s.extend(Pa(v,a,d,m,_,E,P,M,N,U),{u_gamma_scale:m?Math.cos(W._pitch)*W.cameraToCenterDistance:1,u_device_pixel_ratio:_.pixelRatio,u_is_halo:+K})},Ih=(v,a,d,m,_,E,P,M,N,U)=>s.extend(Ec(v,a,d,m,_,E,P,M,!0,N,!0),{u_texsize_icon:U,u_texture_icon:1}),df=(v,a,d)=>({u_matrix:v,u_opacity:a,u_color:d}),uu=(v,a,d,m,_,E)=>s.extend(function(P,M,N,U){const K=N.imageManager.getPattern(P.from.toString()),W=N.imageManager.getPattern(P.to.toString()),{width:ne,height:fe}=N.imageManager.getPixelSize(),pe=Math.pow(2,U.tileID.overscaledZ),de=U.tileSize*Math.pow(2,N.transform.tileZoom)/pe,we=de*(U.tileID.canonical.x+U.tileID.wrap*pe),Re=de*U.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:K.tl,u_pattern_br_a:K.br,u_pattern_tl_b:W.tl,u_pattern_br_b:W.br,u_texsize:[ne,fe],u_mix:M.t,u_pattern_size_a:K.displaySize,u_pattern_size_b:W.displaySize,u_scale_a:M.fromScale,u_scale_b:M.toScale,u_tile_units_to_pixels:1/Qe(U,1,N.transform.tileZoom),u_pixel_coord_upper:[we>>16,Re>>16],u_pixel_coord_lower:[65535&we,65535&Re]}}(m,E,d,_),{u_matrix:v,u_opacity:a}),Ms={fillExtrusion:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_lightpos:new s.Uniform3f(v,a.u_lightpos),u_lightintensity:new s.Uniform1f(v,a.u_lightintensity),u_lightcolor:new s.Uniform3f(v,a.u_lightcolor),u_vertical_gradient:new s.Uniform1f(v,a.u_vertical_gradient),u_opacity:new s.Uniform1f(v,a.u_opacity)}),fillExtrusionPattern:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_lightpos:new s.Uniform3f(v,a.u_lightpos),u_lightintensity:new s.Uniform1f(v,a.u_lightintensity),u_lightcolor:new s.Uniform3f(v,a.u_lightcolor),u_vertical_gradient:new s.Uniform1f(v,a.u_vertical_gradient),u_height_factor:new s.Uniform1f(v,a.u_height_factor),u_image:new s.Uniform1i(v,a.u_image),u_texsize:new s.Uniform2f(v,a.u_texsize),u_pixel_coord_upper:new s.Uniform2f(v,a.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(v,a.u_pixel_coord_lower),u_scale:new s.Uniform3f(v,a.u_scale),u_fade:new s.Uniform1f(v,a.u_fade),u_opacity:new s.Uniform1f(v,a.u_opacity)}),fill:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix)}),fillPattern:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_image:new s.Uniform1i(v,a.u_image),u_texsize:new s.Uniform2f(v,a.u_texsize),u_pixel_coord_upper:new s.Uniform2f(v,a.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(v,a.u_pixel_coord_lower),u_scale:new s.Uniform3f(v,a.u_scale),u_fade:new s.Uniform1f(v,a.u_fade)}),fillOutline:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_world:new s.Uniform2f(v,a.u_world)}),fillOutlinePattern:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_world:new s.Uniform2f(v,a.u_world),u_image:new s.Uniform1i(v,a.u_image),u_texsize:new s.Uniform2f(v,a.u_texsize),u_pixel_coord_upper:new s.Uniform2f(v,a.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(v,a.u_pixel_coord_lower),u_scale:new s.Uniform3f(v,a.u_scale),u_fade:new s.Uniform1f(v,a.u_fade)}),circle:(v,a)=>({u_camera_to_center_distance:new s.Uniform1f(v,a.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(v,a.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(v,a.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(v,a.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(v,a.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(v,a.u_matrix)}),collisionBox:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_camera_to_center_distance:new s.Uniform1f(v,a.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(v,a.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(v,a.u_extrude_scale),u_overscale_factor:new s.Uniform1f(v,a.u_overscale_factor)}),collisionCircle:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_inv_matrix:new s.UniformMatrix4f(v,a.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(v,a.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(v,a.u_viewport_size)}),debug:(v,a)=>({u_color:new s.UniformColor(v,a.u_color),u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_overlay:new s.Uniform1i(v,a.u_overlay),u_overlay_scale:new s.Uniform1f(v,a.u_overlay_scale)}),clippingMask:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix)}),heatmap:(v,a)=>({u_extrude_scale:new s.Uniform1f(v,a.u_extrude_scale),u_intensity:new s.Uniform1f(v,a.u_intensity),u_matrix:new s.UniformMatrix4f(v,a.u_matrix)}),heatmapTexture:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_world:new s.Uniform2f(v,a.u_world),u_image:new s.Uniform1i(v,a.u_image),u_color_ramp:new s.Uniform1i(v,a.u_color_ramp),u_opacity:new s.Uniform1f(v,a.u_opacity)}),hillshade:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_image:new s.Uniform1i(v,a.u_image),u_latrange:new s.Uniform2f(v,a.u_latrange),u_light:new s.Uniform2f(v,a.u_light),u_shadow:new s.UniformColor(v,a.u_shadow),u_highlight:new s.UniformColor(v,a.u_highlight),u_accent:new s.UniformColor(v,a.u_accent)}),hillshadePrepare:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_image:new s.Uniform1i(v,a.u_image),u_dimension:new s.Uniform2f(v,a.u_dimension),u_zoom:new s.Uniform1f(v,a.u_zoom),u_unpack:new s.Uniform4f(v,a.u_unpack)}),line:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_ratio:new s.Uniform1f(v,a.u_ratio),u_device_pixel_ratio:new s.Uniform1f(v,a.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(v,a.u_units_to_pixels)}),lineGradient:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_ratio:new s.Uniform1f(v,a.u_ratio),u_device_pixel_ratio:new s.Uniform1f(v,a.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(v,a.u_units_to_pixels),u_image:new s.Uniform1i(v,a.u_image),u_image_height:new s.Uniform1f(v,a.u_image_height)}),linePattern:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_texsize:new s.Uniform2f(v,a.u_texsize),u_ratio:new s.Uniform1f(v,a.u_ratio),u_device_pixel_ratio:new s.Uniform1f(v,a.u_device_pixel_ratio),u_image:new s.Uniform1i(v,a.u_image),u_units_to_pixels:new s.Uniform2f(v,a.u_units_to_pixels),u_scale:new s.Uniform3f(v,a.u_scale),u_fade:new s.Uniform1f(v,a.u_fade)}),lineSDF:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_ratio:new s.Uniform1f(v,a.u_ratio),u_device_pixel_ratio:new s.Uniform1f(v,a.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(v,a.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(v,a.u_patternscale_a),u_patternscale_b:new s.Uniform2f(v,a.u_patternscale_b),u_sdfgamma:new s.Uniform1f(v,a.u_sdfgamma),u_image:new s.Uniform1i(v,a.u_image),u_tex_y_a:new s.Uniform1f(v,a.u_tex_y_a),u_tex_y_b:new s.Uniform1f(v,a.u_tex_y_b),u_mix:new s.Uniform1f(v,a.u_mix)}),raster:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_tl_parent:new s.Uniform2f(v,a.u_tl_parent),u_scale_parent:new s.Uniform1f(v,a.u_scale_parent),u_buffer_scale:new s.Uniform1f(v,a.u_buffer_scale),u_fade_t:new s.Uniform1f(v,a.u_fade_t),u_opacity:new s.Uniform1f(v,a.u_opacity),u_image0:new s.Uniform1i(v,a.u_image0),u_image1:new s.Uniform1i(v,a.u_image1),u_brightness_low:new s.Uniform1f(v,a.u_brightness_low),u_brightness_high:new s.Uniform1f(v,a.u_brightness_high),u_saturation_factor:new s.Uniform1f(v,a.u_saturation_factor),u_contrast_factor:new s.Uniform1f(v,a.u_contrast_factor),u_spin_weights:new s.Uniform3f(v,a.u_spin_weights)}),symbolIcon:(v,a)=>({u_is_size_zoom_constant:new s.Uniform1i(v,a.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(v,a.u_is_size_feature_constant),u_size_t:new s.Uniform1f(v,a.u_size_t),u_size:new s.Uniform1f(v,a.u_size),u_camera_to_center_distance:new s.Uniform1f(v,a.u_camera_to_center_distance),u_pitch:new s.Uniform1f(v,a.u_pitch),u_rotate_symbol:new s.Uniform1i(v,a.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(v,a.u_aspect_ratio),u_fade_change:new s.Uniform1f(v,a.u_fade_change),u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(v,a.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(v,a.u_coord_matrix),u_is_text:new s.Uniform1i(v,a.u_is_text),u_pitch_with_map:new s.Uniform1i(v,a.u_pitch_with_map),u_texsize:new s.Uniform2f(v,a.u_texsize),u_texture:new s.Uniform1i(v,a.u_texture)}),symbolSDF:(v,a)=>({u_is_size_zoom_constant:new s.Uniform1i(v,a.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(v,a.u_is_size_feature_constant),u_size_t:new s.Uniform1f(v,a.u_size_t),u_size:new s.Uniform1f(v,a.u_size),u_camera_to_center_distance:new s.Uniform1f(v,a.u_camera_to_center_distance),u_pitch:new s.Uniform1f(v,a.u_pitch),u_rotate_symbol:new s.Uniform1i(v,a.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(v,a.u_aspect_ratio),u_fade_change:new s.Uniform1f(v,a.u_fade_change),u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(v,a.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(v,a.u_coord_matrix),u_is_text:new s.Uniform1i(v,a.u_is_text),u_pitch_with_map:new s.Uniform1i(v,a.u_pitch_with_map),u_texsize:new s.Uniform2f(v,a.u_texsize),u_texture:new s.Uniform1i(v,a.u_texture),u_gamma_scale:new s.Uniform1f(v,a.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(v,a.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(v,a.u_is_halo)}),symbolTextAndIcon:(v,a)=>({u_is_size_zoom_constant:new s.Uniform1i(v,a.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(v,a.u_is_size_feature_constant),u_size_t:new s.Uniform1f(v,a.u_size_t),u_size:new s.Uniform1f(v,a.u_size),u_camera_to_center_distance:new s.Uniform1f(v,a.u_camera_to_center_distance),u_pitch:new s.Uniform1f(v,a.u_pitch),u_rotate_symbol:new s.Uniform1i(v,a.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(v,a.u_aspect_ratio),u_fade_change:new s.Uniform1f(v,a.u_fade_change),u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(v,a.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(v,a.u_coord_matrix),u_is_text:new s.Uniform1i(v,a.u_is_text),u_pitch_with_map:new s.Uniform1i(v,a.u_pitch_with_map),u_texsize:new s.Uniform2f(v,a.u_texsize),u_texsize_icon:new s.Uniform2f(v,a.u_texsize_icon),u_texture:new s.Uniform1i(v,a.u_texture),u_texture_icon:new s.Uniform1i(v,a.u_texture_icon),u_gamma_scale:new s.Uniform1f(v,a.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(v,a.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(v,a.u_is_halo)}),background:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_opacity:new s.Uniform1f(v,a.u_opacity),u_color:new s.UniformColor(v,a.u_color)}),backgroundPattern:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_opacity:new s.Uniform1f(v,a.u_opacity),u_image:new s.Uniform1i(v,a.u_image),u_pattern_tl_a:new s.Uniform2f(v,a.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(v,a.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(v,a.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(v,a.u_pattern_br_b),u_texsize:new s.Uniform2f(v,a.u_texsize),u_mix:new s.Uniform1f(v,a.u_mix),u_pattern_size_a:new s.Uniform2f(v,a.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(v,a.u_pattern_size_b),u_scale_a:new s.Uniform1f(v,a.u_scale_a),u_scale_b:new s.Uniform1f(v,a.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(v,a.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(v,a.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(v,a.u_tile_units_to_pixels)}),terrain:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_texture:new s.Uniform1i(v,a.u_texture),u_ele_delta:new s.Uniform1f(v,a.u_ele_delta)}),terrainDepth:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_ele_delta:new s.Uniform1f(v,a.u_ele_delta)}),terrainCoords:(v,a)=>({u_matrix:new s.UniformMatrix4f(v,a.u_matrix),u_texture:new s.Uniform1i(v,a.u_texture),u_terrain_coords_id:new s.Uniform1f(v,a.u_terrain_coords_id),u_ele_delta:new s.Uniform1f(v,a.u_ele_delta)})};class Sc{constructor(a,d,m){this.context=a;const _=a.gl;this.buffer=_.createBuffer(),this.dynamicDraw=Boolean(m),this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const cu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class wn{constructor(a,d,m,_){this.length=d.length,this.attributes=m,this.itemSize=d.bytesPerElement,this.dynamicDraw=_,this.context=a;const E=a.gl;this.buffer=E.createBuffer(),a.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let m=0;m<this.attributes.length;m++){const _=d.attributes[this.attributes[m].name];_!==void 0&&a.enableVertexAttribArray(_)}}setVertexAttribPointers(a,d,m){for(let _=0;_<this.attributes.length;_++){const E=this.attributes[_],P=d.attributes[E.name];P!==void 0&&a.vertexAttribPointer(P,E.components,a[cu[E.type]],!1,this.itemSize,E.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Fn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ki extends Fn{getDefault(){return s.Color.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class es extends Fn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Oa extends Fn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class Ah extends Fn{getDefault(){return[!0,!0,!0,!0]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Ca extends Fn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Ds extends Fn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class Tc extends Fn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class Ic extends Fn{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class jn extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class Ns extends Fn{getDefault(){return[0,1]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class ff extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class co extends Fn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Sl extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class Ph extends Fn{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Ra extends Fn{getDefault(){return s.Color.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Ac extends Fn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Oh extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class Pc extends Fn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class hu extends Fn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class zs extends Fn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Oc extends Fn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class du extends Fn{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Cc extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class ts extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Lo extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class Xi extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Bs extends Fn{getDefault(){return null}set(a){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class mi extends Fn{constructor(a){super(a),this.vao=a.extVertexArrayObject}getDefault(){return null}set(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)}}class Rc extends Fn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class ns extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class fu extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Tl extends Fn{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class Ch extends Tl{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class kc extends Tl{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Lc{constructor(a,d,m,_){this.context=a,this.width=d,this.height=m;const E=a.gl,P=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Ch(a,P),_&&(this.depthAttachment=new kc(a,P)),E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){const m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class mr{constructor(a,d,m){this.blendFunction=a,this.blendColor=d,this.mask=m}}mr.Replace=[1,0],mr.disabled=new mr(mr.Replace,s.Color.transparent,[!1,!1,!1,!1]),mr.unblended=new mr(mr.Replace,s.Color.transparent,[!0,!0,!0,!0]),mr.alphaBlended=new mr([1,771],s.Color.transparent,[!0,!0,!0,!0]);class pu{constructor(a){this.gl=a,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ki(this),this.clearDepth=new es(this),this.clearStencil=new Oa(this),this.colorMask=new Ah(this),this.depthMask=new Ca(this),this.stencilMask=new Ds(this),this.stencilFunc=new Tc(this),this.stencilOp=new Ic(this),this.stencilTest=new jn(this),this.depthRange=new Ns(this),this.depthTest=new ff(this),this.depthFunc=new co(this),this.blend=new Sl(this),this.blendFunc=new Ph(this),this.blendColor=new Ra(this),this.blendEquation=new Ac(this),this.cullFace=new Oh(this),this.cullFaceSide=new Pc(this),this.frontFace=new hu(this),this.program=new zs(this),this.activeTexture=new Oc(this),this.viewport=new du(this),this.bindFramebuffer=new Cc(this),this.bindRenderbuffer=new ts(this),this.bindTexture=new Lo(this),this.bindVertexBuffer=new Xi(this),this.bindElementBuffer=new Bs(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new mi(this),this.pixelStoreUnpack=new Rc(this),this.pixelStoreUnpackPremultiplyAlpha=new ns(this),this.pixelStoreUnpackFlipY=new fu(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=a.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(a.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=a.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new Sc(this,a,d)}createVertexBuffer(a,d,m){return new wn(this,a,d,m)}createRenderbuffer(a,d,m){const _=this.gl,E=_.createRenderbuffer();return this.bindRenderbuffer.set(E),_.renderbufferStorage(_.RENDERBUFFER,a,d,m),this.bindRenderbuffer.set(null),E}createFramebuffer(a,d,m){return new Lc(this,a,d,m)}clear({color:a,depth:d}){const m=this.gl;let _=0;a&&(_|=m.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(_|=m.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),m.clear(_)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){R(a.blendFunction,mr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class En{constructor(a,d,m){this.func=a,this.mask=d,this.range=m}}En.ReadOnly=!1,En.ReadWrite=!0,En.disabled=new En(519,En.ReadOnly,[0,1]);const Il=7680;class ur{constructor(a,d,m,_,E,P){this.test=a,this.ref=d,this.mask=m,this.fail=_,this.depthFail=E,this.pass=P}}ur.disabled=new ur({func:519,mask:0},0,0,Il,Il,Il);class Sn{constructor(a,d,m){this.enable=a,this.mode=d,this.frontFace=m}}let ho;function Mc(v,a,d,m,_,E,P){const M=v.context,N=M.gl,U=v.useProgram("collisionBox"),K=[];let W=0,ne=0;for(let ye=0;ye<m.length;ye++){const Ne=m[ye],je=a.getTile(Ne),Ze=je.getBucket(d);if(!Ze)continue;let nt=Ne.posMatrix;_[0]===0&&_[1]===0||(nt=v.translatePosMatrix(Ne.posMatrix,je,_,E));const ot=P?Ze.textCollisionBox:Ze.iconCollisionBox,ft=Ze.collisionCircleArray;if(ft.length>0){const ct=s.create(),yt=nt;s.mul(ct,Ze.placementInvProjMatrix,v.transform.glCoordMatrix),s.mul(ct,ct,Ze.placementViewportMatrix),K.push({circleArray:ft,circleOffset:ne,transform:yt,invTransform:ct,coord:Ne}),W+=ft.length/4,ne=W}ot&&U.draw(M,N.LINES,En.disabled,ur.disabled,v.colorModeForRenderPass(),Sn.disabled,Rs(nt,v.transform,je),v.style.map.terrain&&v.style.map.terrain.getTerrainData(Ne),d.id,ot.layoutVertexBuffer,ot.indexBuffer,ot.segments,null,v.transform.zoom,null,null,ot.collisionVertexBuffer)}if(!P||!K.length)return;const fe=v.useProgram("collisionCircle"),pe=new s.CollisionCircleLayoutArray;pe.resize(4*W),pe._trim();let de=0;for(const ye of K)for(let Ne=0;Ne<ye.circleArray.length/4;Ne++){const je=4*Ne,Ze=ye.circleArray[je+0],nt=ye.circleArray[je+1],ot=ye.circleArray[je+2],ft=ye.circleArray[je+3];pe.emplace(de++,Ze,nt,ot,ft,0),pe.emplace(de++,Ze,nt,ot,ft,1),pe.emplace(de++,Ze,nt,ot,ft,2),pe.emplace(de++,Ze,nt,ot,ft,3)}(!ho||ho.length<2*W)&&(ho=function(ye){const Ne=2*ye,je=new s.QuadTriangleArray;je.resize(Ne),je._trim();for(let Ze=0;Ze<Ne;Ze++){const nt=6*Ze;je.uint16[nt+0]=4*Ze+0,je.uint16[nt+1]=4*Ze+1,je.uint16[nt+2]=4*Ze+2,je.uint16[nt+3]=4*Ze+2,je.uint16[nt+4]=4*Ze+3,je.uint16[nt+5]=4*Ze+0}return je}(W));const we=M.createIndexBuffer(ho,!0),Re=M.createVertexBuffer(pe,s.collisionCircleLayout.members,!0);for(const ye of K){const Ne={u_matrix:ye.transform,u_inv_matrix:ye.invTransform,u_camera_to_center_distance:(Oe=v.transform).cameraToCenterDistance,u_viewport_size:[Oe.width,Oe.height]};fe.draw(M,N.TRIANGLES,En.disabled,ur.disabled,v.colorModeForRenderPass(),Sn.disabled,Ne,v.style.map.terrain&&v.style.map.terrain.getTerrainData(ye.coord),d.id,Re,we,s.SegmentVector.simpleSegment(0,2*ye.circleOffset,ye.circleArray.length,ye.circleArray.length/2),null,v.transform.zoom,null,null,null)}var Oe;Re.destroy(),we.destroy()}Sn.disabled=new Sn(!1,1029,2305),Sn.backCCW=new Sn(!0,1029,2305);const Mo=s.identity(new Float32Array(16));function Rh(v,a,d,m,_,E){const{horizontalAlign:P,verticalAlign:M}=s.getAnchorAlignment(v),N=-(P-.5)*a,U=-(M-.5)*d,K=s.evaluateVariableOffset(v,m);return new s.pointGeometry((N/_+K[0])*E,(U/_+K[1])*E)}function rs(v,a,d,m,_,E,P,M,N,U,K){const W=v.text.placedSymbolArray,ne=v.text.dynamicLayoutVertexArray,fe=v.icon.dynamicLayoutVertexArray,pe={};ne.clear();for(let de=0;de<W.length;de++){const we=W.get(de),Re=we.hidden||!we.crossTileID||v.allowVerticalPlacement&&!we.placedOrientation?null:m[we.crossTileID];if(Re){const Oe=new s.pointGeometry(we.anchorX,we.anchorY),ye=Sr(Oe,d?P:E,K),Ne=Pr(_.cameraToCenterDistance,ye.signedDistanceFromCamera);let je=s.evaluateSizeForFeature(v.textSizeData,N,we)*Ne/s.ONE_EM;d&&(je*=v.tilePixelRatio/M);const{width:Ze,height:nt,anchor:ot,textOffset:ft,textBoxScale:ct}=Re,yt=Rh(ot,Ze,nt,ft,ct,je),kt=d?Sr(Oe.add(yt),E,K).point:ye.point.add(a?yt.rotate(-_.angle):yt),tn=v.allowVerticalPlacement&&we.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let an=0;an<we.numGlyphs;an++)s.addDynamicAttributes(ne,kt,tn);U&&we.associatedIconIndex>=0&&(pe[we.associatedIconIndex]={shiftedAnchor:kt,angle:tn})}else Se(we.numGlyphs,ne)}if(U){fe.clear();const de=v.icon.placedSymbolArray;for(let we=0;we<de.length;we++){const Re=de.get(we);if(Re.hidden)Se(Re.numGlyphs,fe);else{const Oe=pe[we];if(Oe)for(let ye=0;ye<Re.numGlyphs;ye++)s.addDynamicAttributes(fe,Oe.shiftedAnchor,Oe.angle);else Se(Re.numGlyphs,fe)}}v.icon.dynamicLayoutVertexBuffer.updateData(fe)}v.text.dynamicLayoutVertexBuffer.updateData(ne)}function kh(v,a,d){return d.iconsInText&&a?"symbolTextAndIcon":v?"symbolSDF":"symbolIcon"}function Yi(v,a,d,m,_,E,P,M,N,U,K,W){const ne=v.context,fe=ne.gl,pe=v.transform,de=M==="map",we=N==="map",Re=M!=="viewport"&&d.layout.get("symbol-placement")!=="point",Oe=de&&!we&&!Re,ye=!d.layout.get("symbol-sort-key").isConstant();let Ne=!1;const je=v.depthModeForSublayer(0,En.ReadOnly),Ze=d.layout.get("text-variable-anchor"),nt=[];for(const ot of m){const ft=a.getTile(ot),ct=ft.getBucket(d);if(!ct)continue;const yt=_?ct.text:ct.icon;if(!yt||!yt.segments.get().length||!yt.hasVisibleVertices)continue;const kt=yt.programConfigurations.get(d.id),tn=_||ct.sdfIcons,an=_?ct.textSizeData:ct.iconSizeData,Dt=we||pe.pitch!==0,$n=v.useProgram(kh(tn,_,ct),kt),Gn=s.evaluateSizeForZoom(an,pe.zoom),_n=v.style.map.terrain&&v.style.map.terrain.getTerrainData(ot);let Nn,nr,qn,Uo,Vo=[0,0],yi=null;if(_)nr=ft.glyphAtlasTexture,qn=fe.LINEAR,Nn=ft.glyphAtlasTexture.size,ct.iconsInText&&(Vo=ft.imageAtlasTexture.size,yi=ft.imageAtlasTexture,Uo=Dt||v.options.rotating||v.options.zooming||an.kind==="composite"||an.kind==="camera"?fe.LINEAR:fe.NEAREST);else{const Da=d.layout.get("icon-size").constantOr(0)!==1||ct.iconsNeedLinear;nr=ft.imageAtlasTexture,qn=tn||v.options.rotating||v.options.zooming||Da||Dt?fe.LINEAR:fe.NEAREST,Nn=ft.imageAtlasTexture.size}const vo=Qe(ft,1,v.transform.zoom),Oi=rn(ot.posMatrix,we,de,v.transform,vo),ca=Qn(ot.posMatrix,we,de,v.transform,vo),Ws=Ze&&ct.hasTextData(),Fh=d.layout.get("icon-text-fit")!=="none"&&Ws&&ct.hasIconData();if(Re){const Da=v.style.map.terrain?(gf,Nl)=>v.style.map.terrain.getElevation(ot,gf,Nl):null,ha=d.layout.get("text-rotation-alignment")==="map";Z(ct,ot.posMatrix,v,_,Oi,ca,we,U,ha,Da)}const $r=v.translatePosMatrix(ot.posMatrix,ft,E,P),br=Re||_&&Ze||Fh?Mo:Oi,Wn=v.translatePosMatrix(ca,ft,E,P,!0),Ci=tn&&d.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ri;Ri=tn?ct.iconsInText?Ih(an.kind,Gn,Oe,we,v,$r,br,Wn,Nn,Vo):Ec(an.kind,Gn,Oe,we,v,$r,br,Wn,_,Nn,!0):Pa(an.kind,Gn,Oe,we,v,$r,br,Wn,_,Nn);const wr={program:$n,buffers:yt,uniformValues:Ri,atlasTexture:nr,atlasTextureIcon:yi,atlasInterpolation:qn,atlasInterpolationIcon:Uo,isSDF:tn,hasHalo:Ci};if(ye&&ct.canOverlap){Ne=!0;const Da=yt.segments.get();for(const ha of Da)nt.push({segments:new s.SegmentVector([ha]),sortKey:ha.sortKey,state:wr,terrainData:_n})}else nt.push({segments:yt.segments,sortKey:0,state:wr,terrainData:_n})}Ne&&nt.sort((ot,ft)=>ot.sortKey-ft.sortKey);for(const ot of nt){const ft=ot.state;if(ne.activeTexture.set(fe.TEXTURE0),ft.atlasTexture.bind(ft.atlasInterpolation,fe.CLAMP_TO_EDGE),ft.atlasTextureIcon&&(ne.activeTexture.set(fe.TEXTURE1),ft.atlasTextureIcon&&ft.atlasTextureIcon.bind(ft.atlasInterpolationIcon,fe.CLAMP_TO_EDGE)),ft.isSDF){const ct=ft.uniformValues;ft.hasHalo&&(ct.u_is_halo=1,mu(ft.buffers,ot.segments,d,v,ft.program,je,K,W,ct,ot.terrainData)),ct.u_is_halo=0}mu(ft.buffers,ot.segments,d,v,ft.program,je,K,W,ft.uniformValues,ot.terrainData)}}function mu(v,a,d,m,_,E,P,M,N,U){const K=m.context;_.draw(K,K.gl.TRIANGLES,E,P,M,Sn.disabled,N,U,d.id,v.layoutVertexBuffer,v.indexBuffer,a,d.paint,m.transform.zoom,v.programConfigurations.get(d.id),v.dynamicLayoutVertexBuffer,v.opacityVertexBuffer)}function Fs(v,a,d,m,_){if(!d||!m||!m.imageAtlas)return;const E=m.imageAtlas.patternPositions;let P=E[d.to.toString()],M=E[d.from.toString()];if(!P||!M){const N=_.getPaintProperty(a);P=E[N],M=E[N]}P&&M&&v.setConstantPatternPositions(P,M)}function Dc(v,a,d,m,_,E,P){const M=v.context.gl,N="fill-pattern",U=d.paint.get(N),K=U&&U.constantOr(1),W=d.getCrossfadeParameters();let ne,fe,pe,de,we;P?(fe=K&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ne=M.LINES):(fe=K?"fillPattern":"fill",ne=M.TRIANGLES);const Re=U.constantOr(null);for(const Oe of m){const ye=a.getTile(Oe);if(K&&!ye.patternsLoaded())continue;const Ne=ye.getBucket(d);if(!Ne)continue;const je=Ne.programConfigurations.get(d.id),Ze=v.useProgram(fe,je),nt=v.style.map.terrain&&v.style.map.terrain.getTerrainData(Oe);K&&(v.context.activeTexture.set(M.TEXTURE0),ye.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),je.updatePaintBuffers(W)),Fs(je,N,Re,ye,d);const ot=nt?Oe:null,ft=v.translatePosMatrix(ot?ot.posMatrix:Oe.posMatrix,ye,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(P){de=Ne.indexBuffer2,we=Ne.segments2;const ct=[M.drawingBufferWidth,M.drawingBufferHeight];pe=fe==="fillOutlinePattern"&&K?ri(ft,v,W,ye,ct):au(ft,ct)}else de=Ne.indexBuffer,we=Ne.segments,pe=K?Aa(ft,v,W,ye):na(ft);Ze.draw(v.context,ne,_,v.stencilModeForClipping(Oe),E,Sn.disabled,pe,nt,d.id,Ne.layoutVertexBuffer,de,we,d.paint,v.transform.zoom,je)}}function fo(v,a,d,m,_,E,P){const M=v.context,N=M.gl,U="fill-extrusion-pattern",K=d.paint.get(U),W=K.constantOr(1),ne=d.getCrossfadeParameters(),fe=d.paint.get("fill-extrusion-opacity"),pe=K.constantOr(null);for(const de of m){const we=a.getTile(de),Re=we.getBucket(d);if(!Re)continue;const Oe=v.style.map.terrain&&v.style.map.terrain.getTerrainData(de),ye=Re.programConfigurations.get(d.id),Ne=v.useProgram(W?"fillExtrusionPattern":"fillExtrusion",ye);W&&(v.context.activeTexture.set(N.TEXTURE0),we.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),ye.updatePaintBuffers(ne)),Fs(ye,U,pe,we,d);const je=v.translatePosMatrix(de.posMatrix,we,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ze=d.paint.get("fill-extrusion-vertical-gradient"),nt=W?wc(je,v,Ze,fe,de,ne,we):xl(je,v,Ze,fe);Ne.draw(M,M.gl.TRIANGLES,_,E,P,Sn.backCCW,nt,Oe,d.id,Re.layoutVertexBuffer,Re.indexBuffer,Re.segments,d.paint,v.transform.zoom,ye,v.style.map.terrain&&Re.centroidVertexBuffer)}}function Al(v,a,d,m,_,E,P){const M=v.context,N=M.gl,U=d.fbo;if(!U)return;const K=v.useProgram("hillshade"),W=v.style.map.terrain&&v.style.map.terrain.getTerrainData(a);M.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,U.colorAttachment.get()),K.draw(M,N.TRIANGLES,_,E,P,Sn.disabled,((ne,fe,pe,de)=>{const we=pe.paint.get("hillshade-shadow-color"),Re=pe.paint.get("hillshade-highlight-color"),Oe=pe.paint.get("hillshade-accent-color");let ye=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(ye-=ne.transform.angle);const Ne=!ne.options.moving;return{u_matrix:de?de.posMatrix:ne.transform.calculatePosMatrix(fe.tileID.toUnwrapped(),Ne),u_image:0,u_latrange:Yn(0,fe.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),ye],u_shadow:we,u_highlight:Re,u_accent:Oe}})(v,d,m,W?a:null),W,m.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments)}function Lh(v,a,d,m,_,E){const P=v.context,M=P.gl,N=a.dem;if(N&&N.data){const U=N.dim,K=N.stride,W=N.getPixels();if(P.activeTexture.set(M.TEXTURE1),P.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||v.getTileTexture(K),a.demTexture){const fe=a.demTexture;fe.update(W,{premultiply:!1}),fe.bind(M.NEAREST,M.CLAMP_TO_EDGE)}else a.demTexture=new Fe(P,W,M.RGBA,{premultiply:!1}),a.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE);P.activeTexture.set(M.TEXTURE0);let ne=a.fbo;if(!ne){const fe=new Fe(P,{width:U,height:U,data:null},M.RGBA);fe.bind(M.LINEAR,M.CLAMP_TO_EDGE),ne=a.fbo=P.createFramebuffer(U,U,!0),ne.colorAttachment.set(fe.texture)}P.bindFramebuffer.set(ne.framebuffer),P.viewport.set([0,0,U,U]),v.useProgram("hillshadePrepare").draw(P,M.TRIANGLES,m,_,E,Sn.disabled,((fe,pe)=>{const de=pe.stride,we=s.create();return s.ortho(we,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(we,we,[0,-s.EXTENT,0]),{u_matrix:we,u_image:1,u_dimension:[de,de],u_zoom:fe.overscaledZ,u_unpack:pe.getUnpackVector()}})(a.tileID,N),null,d.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function is(v,a,d,m,_,E){const P=m.paint.get("raster-fade-duration");if(!E&&P>0){const M=s.exported.now(),N=(M-v.timeAdded)/P,U=a?(M-a.timeAdded)/P:-1,K=d.getSource(),W=_.coveringZoomLevel({tileSize:K.tileSize,roundZoom:K.roundZoom}),ne=!a||Math.abs(a.tileID.overscaledZ-W)>Math.abs(v.tileID.overscaledZ-W),fe=ne&&v.refreshedUponExpiration?1:s.clamp(ne?N:1-U,0,1);return v.refreshedUponExpiration&&N>=1&&(v.refreshedUponExpiration=!1),a?{opacity:1,mix:1-fe}:{opacity:fe,mix:0}}return{opacity:1,mix:0}}const Mh=new s.Color(1,0,0,1),Hr=new s.Color(0,1,0,1),oa=new s.Color(0,0,1,1),os=new s.Color(1,0,1,1),aa=new s.Color(0,1,1,1);function gi(v,a,d,m){Ol(v,0,a+d/2,v.transform.width,d,m)}function Pl(v,a,d,m){Ol(v,a-d/2,0,d,v.transform.height,m)}function Ol(v,a,d,m,_,E){const P=v.context,M=P.gl;M.enable(M.SCISSOR_TEST),M.scissor(a*v.pixelRatio,d*v.pixelRatio,m*v.pixelRatio,_*v.pixelRatio),P.clear({color:E}),M.disable(M.SCISSOR_TEST)}function Nc(v,a,d){const m=v.context,_=m.gl,E=d.posMatrix,P=v.useProgram("debug"),M=En.disabled,N=ur.disabled,U=v.colorModeForRenderPass(),K="$debug",W=v.style.map.terrain&&v.style.map.terrain.getTerrainData(d);m.activeTexture.set(_.TEXTURE0),v.emptyTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE);const ne=a.getTileByID(d.key).latestRawTileData,fe=Math.floor((ne&&ne.byteLength||0)/1024),pe=a.getTile(d).tileSize,de=512/Math.min(pe,512)*(d.overscaledZ/v.transform.zoom)*.5;let we=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(we+=` => ${d.overscaledZ}`),function(Re,Oe){Re.initDebugOverlayCanvas();const ye=Re.debugOverlayCanvas,Ne=Re.context.gl,je=Re.debugOverlayCanvas.getContext("2d");je.clearRect(0,0,ye.width,ye.height),je.shadowColor="white",je.shadowBlur=2,je.lineWidth=1.5,je.strokeStyle="white",je.textBaseline="top",je.font="bold 36px Open Sans, sans-serif",je.fillText(Oe,5,5),je.strokeText(Oe,5,5),Re.debugOverlayTexture.update(ye),Re.debugOverlayTexture.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE)}(v,`${we} ${fe}kB`),P.draw(m,_.TRIANGLES,M,N,mr.alphaBlended,Sn.disabled,bl(E,s.Color.transparent,de),null,K,v.debugBuffer,v.quadTriangleIndexBuffer,v.debugSegments),P.draw(m,_.LINE_STRIP,M,N,U,Sn.disabled,bl(E,s.Color.red),W,K,v.debugBuffer,v.tileBorderIndexBuffer,v.debugSegments)}function Us(v,a,d){const m=v.context,_=m.gl,E=v.colorModeForRenderPass(),P=new En(_.LEQUAL,En.ReadWrite,v.depthRangeFor3D),M=v.useProgram("terrain"),N=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,v.width,v.height]);for(const U of d){const K=v.renderToTexture.getTexture(U),W=a.getTerrainData(U.tileID);m.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,K.texture);const ne={u_matrix:v.transform.calculatePosMatrix(U.tileID.toUnwrapped()),u_texture:0,u_ele_delta:a.getMeshFrameDelta(v.transform.zoom)};M.draw(m,_.TRIANGLES,P,ur.disabled,E,Sn.backCCW,ne,W,"terrain",N.vertexBuffer,N.indexBuffer,N.segments)}}const ka={symbol:function(v,a,d,m,_){if(v.renderPass!=="translucent")return;const E=ur.disabled,P=v.colorModeForRenderPass();d.layout.get("text-variable-anchor")&&function(M,N,U,K,W,ne,fe){const pe=N.transform,de=W==="map",we=ne==="map";for(const Re of M){const Oe=K.getTile(Re),ye=Oe.getBucket(U);if(!ye||!ye.text||!ye.text.segments.get().length)continue;const Ne=s.evaluateSizeForZoom(ye.textSizeData,pe.zoom),je=Qe(Oe,1,N.transform.zoom),Ze=rn(Re.posMatrix,we,de,N.transform,je),nt=U.layout.get("icon-text-fit")!=="none"&&ye.hasIconData();if(Ne){const ot=Math.pow(2,pe.zoom-Oe.tileID.overscaledZ);rs(ye,de,we,fe,pe,Ze,Re.posMatrix,ot,Ne,nt,N.style.map.terrain?(ft,ct)=>N.style.map.terrain.getElevation(Re,ft,ct):null)}}}(m,v,d,a,d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),_),d.paint.get("icon-opacity").constantOr(1)!==0&&Yi(v,a,d,m,!1,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),d.layout.get("icon-rotation-alignment"),d.layout.get("icon-pitch-alignment"),d.layout.get("icon-keep-upright"),E,P),d.paint.get("text-opacity").constantOr(1)!==0&&Yi(v,a,d,m,!0,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),d.layout.get("text-keep-upright"),E,P),a.map.showCollisionBoxes&&(Mc(v,a,d,m,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),!0),Mc(v,a,d,m,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),!1))},circle:function(v,a,d,m){if(v.renderPass!=="translucent")return;const _=d.paint.get("circle-opacity"),E=d.paint.get("circle-stroke-width"),P=d.paint.get("circle-stroke-opacity"),M=!d.layout.get("circle-sort-key").isConstant();if(_.constantOr(1)===0&&(E.constantOr(1)===0||P.constantOr(1)===0))return;const N=v.context,U=N.gl,K=v.depthModeForSublayer(0,En.ReadOnly),W=ur.disabled,ne=v.colorModeForRenderPass(),fe=[];for(let pe=0;pe<m.length;pe++){const de=m[pe],we=a.getTile(de),Re=we.getBucket(d);if(!Re)continue;const Oe=Re.programConfigurations.get(d.id),ye=v.useProgram("circle",Oe),Ne=Re.layoutVertexBuffer,je=Re.indexBuffer,Ze=v.style.map.terrain&&v.style.map.terrain.getTerrainData(de),nt={programConfiguration:Oe,program:ye,layoutVertexBuffer:Ne,indexBuffer:je,uniformValues:su(v,de,we,d),terrainData:Ze};if(M){const ot=Re.segments.get();for(const ft of ot)fe.push({segments:new s.SegmentVector([ft]),sortKey:ft.sortKey,state:nt})}else fe.push({segments:Re.segments,sortKey:0,state:nt})}M&&fe.sort((pe,de)=>pe.sortKey-de.sortKey);for(const pe of fe){const{programConfiguration:de,program:we,layoutVertexBuffer:Re,indexBuffer:Oe,uniformValues:ye,terrainData:Ne}=pe.state;we.draw(N,U.TRIANGLES,K,W,ne,Sn.disabled,ye,Ne,d.id,Re,Oe,pe.segments,d.paint,v.transform.zoom,de)}},heatmap:function(v,a,d,m){if(d.paint.get("heatmap-opacity")!==0)if(v.renderPass==="offscreen"){const _=v.context,E=_.gl,P=ur.disabled,M=new mr([E.ONE,E.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(N,U,K){const W=N.gl;N.activeTexture.set(W.TEXTURE1),N.viewport.set([0,0,U.width/4,U.height/4]);let ne=K.heatmapFbo;if(ne)W.bindTexture(W.TEXTURE_2D,ne.colorAttachment.get()),N.bindFramebuffer.set(ne.framebuffer);else{const fe=W.createTexture();W.bindTexture(W.TEXTURE_2D,fe),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.LINEAR),ne=K.heatmapFbo=N.createFramebuffer(U.width/4,U.height/4,!1),function(pe,de,we,Re){const Oe=pe.gl;Oe.texImage2D(Oe.TEXTURE_2D,0,Oe.RGBA,de.width/4,de.height/4,0,Oe.RGBA,pe.extRenderToTextureHalfFloat?pe.extTextureHalfFloat.HALF_FLOAT_OES:Oe.UNSIGNED_BYTE,null),Re.colorAttachment.set(we)}(N,U,fe,ne)}})(_,v,d),_.clear({color:s.Color.transparent});for(let N=0;N<m.length;N++){const U=m[N];if(a.hasRenderableParent(U))continue;const K=a.getTile(U),W=K.getBucket(d);if(!W)continue;const ne=W.programConfigurations.get(d.id),fe=v.useProgram("heatmap",ne),{zoom:pe}=v.transform;fe.draw(_,E.TRIANGLES,En.disabled,P,M,Sn.disabled,Zi(U.posMatrix,K,pe,d.paint.get("heatmap-intensity")),null,d.id,W.layoutVertexBuffer,W.indexBuffer,W.segments,d.paint,v.transform.zoom,ne)}_.viewport.set([0,0,v.width,v.height])}else v.renderPass==="translucent"&&(v.context.setColorMode(v.colorModeForRenderPass()),function(_,E){const P=_.context,M=P.gl,N=E.heatmapFbo;if(!N)return;P.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,N.colorAttachment.get()),P.activeTexture.set(M.TEXTURE1);let U=E.colorRampTexture;U||(U=E.colorRampTexture=new Fe(P,E.colorRamp,M.RGBA)),U.bind(M.LINEAR,M.CLAMP_TO_EDGE),_.useProgram("heatmapTexture").draw(P,M.TRIANGLES,En.disabled,ur.disabled,_.colorModeForRenderPass(),Sn.disabled,((K,W,ne,fe)=>{const pe=s.create();s.ortho(pe,0,K.width,K.height,0,0,1);const de=K.context.gl;return{u_matrix:pe,u_world:[de.drawingBufferWidth,de.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:W.paint.get("heatmap-opacity")}})(_,E),null,E.id,_.viewportBuffer,_.quadTriangleIndexBuffer,_.viewportSegments,E.paint,_.transform.zoom)}(v,d))},line:function(v,a,d,m){if(v.renderPass!=="translucent")return;const _=d.paint.get("line-opacity"),E=d.paint.get("line-width");if(_.constantOr(1)===0||E.constantOr(1)===0)return;const P=v.depthModeForSublayer(0,En.ReadOnly),M=v.colorModeForRenderPass(),N=d.paint.get("line-dasharray"),U=d.paint.get("line-pattern"),K=U.constantOr(1),W=d.paint.get("line-gradient"),ne=d.getCrossfadeParameters(),fe=K?"linePattern":N?"lineSDF":W?"lineGradient":"line",pe=v.context,de=pe.gl;let we=!0;for(const Re of m){const Oe=a.getTile(Re);if(K&&!Oe.patternsLoaded())continue;const ye=Oe.getBucket(d);if(!ye)continue;const Ne=ye.programConfigurations.get(d.id),je=v.context.program.get(),Ze=v.useProgram(fe,Ne),nt=we||Ze.program!==je,ot=v.style.map.terrain&&v.style.map.terrain.getTerrainData(Re),ft=U.constantOr(null);if(ft&&Oe.imageAtlas){const kt=Oe.imageAtlas,tn=kt.patternPositions[ft.to.toString()],an=kt.patternPositions[ft.from.toString()];tn&&an&&Ne.setConstantPatternPositions(tn,an)}const ct=ot?Re:null,yt=K?Ls(v,Oe,d,ne,ct):N?lu(v,Oe,d,N,ne,ct):W?wl(v,Oe,d,ye.lineClipsArray.length,ct):ks(v,Oe,d,ct);if(K)pe.activeTexture.set(de.TEXTURE0),Oe.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Ne.updatePaintBuffers(ne);else if(N&&(nt||v.lineAtlas.dirty))pe.activeTexture.set(de.TEXTURE0),v.lineAtlas.bind(pe);else if(W){const kt=ye.gradients[d.id];let tn=kt.texture;if(d.gradientVersion!==kt.version){let an=256;if(d.stepInterpolant){const Dt=a.getSource().maxzoom,$n=Re.canonical.z===Dt?Math.ceil(1<<v.transform.maxZoom-Re.canonical.z):1;an=s.clamp(s.nextPowerOfTwo(ye.maxLineLength/s.EXTENT*1024*$n),256,pe.maxTextureSize)}kt.gradient=s.renderColorRamp({expression:d.gradientExpression(),evaluationKey:"lineProgress",resolution:an,image:kt.gradient||void 0,clips:ye.lineClipsArray}),kt.texture?kt.texture.update(kt.gradient):kt.texture=new Fe(pe,kt.gradient,de.RGBA),kt.version=d.gradientVersion,tn=kt.texture}pe.activeTexture.set(de.TEXTURE0),tn.bind(d.stepInterpolant?de.NEAREST:de.LINEAR,de.CLAMP_TO_EDGE)}Ze.draw(pe,de.TRIANGLES,P,v.stencilModeForClipping(Re),M,Sn.disabled,yt,ot,d.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,d.paint,v.transform.zoom,Ne,ye.layoutVertexBuffer2),we=!1}},fill:function(v,a,d,m){const _=d.paint.get("fill-color"),E=d.paint.get("fill-opacity");if(E.constantOr(1)===0)return;const P=v.colorModeForRenderPass(),M=d.paint.get("fill-pattern"),N=v.opaquePassEnabledForLayer()&&!M.constantOr(1)&&_.constantOr(s.Color.transparent).a===1&&E.constantOr(0)===1?"opaque":"translucent";if(v.renderPass===N){const U=v.depthModeForSublayer(1,v.renderPass==="opaque"?En.ReadWrite:En.ReadOnly);Dc(v,a,d,m,U,P,!1)}if(v.renderPass==="translucent"&&d.paint.get("fill-antialias")){const U=v.depthModeForSublayer(d.getPaintProperty("fill-outline-color")?2:0,En.ReadOnly);Dc(v,a,d,m,U,P,!0)}},"fill-extrusion":function(v,a,d,m){const _=d.paint.get("fill-extrusion-opacity");if(_!==0&&v.renderPass==="translucent"){const E=new En(v.context.gl.LEQUAL,En.ReadWrite,v.depthRangeFor3D);if(_!==1||d.paint.get("fill-extrusion-pattern").constantOr(1))fo(v,a,d,m,E,ur.disabled,mr.disabled),fo(v,a,d,m,E,v.stencilModeFor3D(),v.colorModeForRenderPass());else{const P=v.colorModeForRenderPass();fo(v,a,d,m,E,ur.disabled,P)}}},hillshade:function(v,a,d,m){if(v.renderPass!=="offscreen"&&v.renderPass!=="translucent")return;const _=v.context,E=v.depthModeForSublayer(0,En.ReadOnly),P=v.colorModeForRenderPass(),[M,N]=v.renderPass==="translucent"?v.stencilConfigForOverlap(m):[{},m];for(const U of N){const K=a.getTile(U);K.needsHillshadePrepare!==void 0&&K.needsHillshadePrepare&&v.renderPass==="offscreen"?Lh(v,K,d,E,ur.disabled,P):v.renderPass==="translucent"&&Al(v,U,K,d,E,M[U.overscaledZ],P)}_.viewport.set([0,0,v.width,v.height])},raster:function(v,a,d,m){if(v.renderPass!=="translucent"||d.paint.get("raster-opacity")===0||!m.length)return;const _=v.context,E=_.gl,P=a.getSource(),M=v.useProgram("raster"),N=v.colorModeForRenderPass(),[U,K]=P instanceof Wt?[{},m]:v.stencilConfigForOverlap(m),W=K[K.length-1].overscaledZ,ne=!v.options.moving;for(const fe of K){const pe=v.depthModeForSublayer(fe.overscaledZ-W,d.paint.get("raster-opacity")===1?En.ReadWrite:En.ReadOnly,E.LESS),de=a.getTile(fe);de.registerFadeDuration(d.paint.get("raster-fade-duration"));const we=a.findLoadedParent(fe,0),Re=is(de,we,a,d,v.transform,v.style.map.terrain);let Oe,ye;const Ne=d.paint.get("raster-resampling")==="nearest"?E.NEAREST:E.LINEAR;_.activeTexture.set(E.TEXTURE0),de.texture.bind(Ne,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST),_.activeTexture.set(E.TEXTURE1),we?(we.texture.bind(Ne,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST),Oe=Math.pow(2,we.tileID.overscaledZ-de.tileID.overscaledZ),ye=[de.tileID.canonical.x*Oe%1,de.tileID.canonical.y*Oe%1]):de.texture.bind(Ne,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST);const je=v.style.map.terrain&&v.style.map.terrain.getTerrainData(fe),Ze=je?fe:null,nt=Ze?Ze.posMatrix:v.transform.calculatePosMatrix(fe.toUnwrapped(),ne),ot=El(nt,ye||[0,0],Oe||1,Re,d);P instanceof Wt?M.draw(_,E.TRIANGLES,pe,ur.disabled,N,Sn.disabled,ot,je,d.id,P.boundsBuffer,v.quadTriangleIndexBuffer,P.boundsSegments):M.draw(_,E.TRIANGLES,pe,U[fe.overscaledZ],N,Sn.disabled,ot,je,d.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments)}},background:function(v,a,d,m){const _=d.paint.get("background-color"),E=d.paint.get("background-opacity");if(E===0)return;const P=v.context,M=P.gl,N=v.transform,U=N.tileSize,K=d.paint.get("background-pattern");if(v.isPatternMissing(K))return;const W=!K&&_.a===1&&E===1&&v.opaquePassEnabledForLayer()?"opaque":"translucent";if(v.renderPass!==W)return;const ne=ur.disabled,fe=v.depthModeForSublayer(0,W==="opaque"?En.ReadWrite:En.ReadOnly),pe=v.colorModeForRenderPass(),de=v.useProgram(K?"backgroundPattern":"background"),we=m||N.coveringTiles({tileSize:U,terrain:v.style.map.terrain});K&&(P.activeTexture.set(M.TEXTURE0),v.imageManager.bind(v.context));const Re=d.getCrossfadeParameters();for(const Oe of we){const ye=m?Oe.posMatrix:v.transform.calculatePosMatrix(Oe.toUnwrapped()),Ne=K?uu(ye,E,v,K,{tileID:Oe,tileSize:U},Re):df(ye,E,_),je=v.style.map.terrain&&v.style.map.terrain.getTerrainData(Oe);de.draw(P,M.TRIANGLES,fe,ne,pe,Sn.disabled,Ne,je,d.id,v.tileExtentBuffer,v.quadTriangleIndexBuffer,v.tileExtentSegments)}},debug:function(v,a,d){for(let m=0;m<d.length;m++)Nc(v,a,d[m])},custom:function(v,a,d){const m=v.context,_=d.implementation;if(v.renderPass==="offscreen"){const E=_.prerender;E&&(v.setCustomLayerDefaults(),m.setColorMode(v.colorModeForRenderPass()),E.call(_,m.gl,v.transform.customLayerMatrix()),m.setDirty(),v.setBaseState())}else if(v.renderPass==="translucent"){v.setCustomLayerDefaults(),m.setColorMode(v.colorModeForRenderPass()),m.setStencilMode(ur.disabled);const E=_.renderingMode==="3d"?new En(v.context.gl.LEQUAL,En.ReadWrite,v.depthRangeFor3D):v.depthModeForSublayer(0,En.ReadOnly);m.setDepthMode(E),_.render(m.gl,v.transform.customLayerMatrix()),m.setDirty(),v.setBaseState(),m.bindFramebuffer.set(null)}}};class po{constructor(a,d){this.context=new pu(a),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.create(),renderTime:0},this.setup(),this.numSublayers=it.maxUnderzooming+it.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Vt,this.gpuTimers={}}resize(a,d,m){if(this.width=a*m,this.height=d*m,this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style._order)this.style._layers[_].resize()}setup(){const a=this.context,d=new s.PosArray;d.emplaceBack(0,0),d.emplaceBack(s.EXTENT,0),d.emplaceBack(0,s.EXTENT),d.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(d,Xa.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const m=new s.PosArray;m.emplaceBack(0,0),m.emplaceBack(s.EXTENT,0),m.emplaceBack(0,s.EXTENT),m.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=a.createVertexBuffer(m,Xa.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const _=new s.RasterBoundsArray;_.emplaceBack(0,0,0,0),_.emplaceBack(s.EXTENT,0,s.EXTENT,0),_.emplaceBack(0,s.EXTENT,0,s.EXTENT),_.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=a.createVertexBuffer(_,Jt.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const E=new s.PosArray;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(E,Xa.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const P=new s.LineStripIndexArray;P.emplaceBack(0),P.emplaceBack(1),P.emplaceBack(3),P.emplaceBack(2),P.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(P);const M=new s.TriangleIndexArray;M.emplaceBack(0,1,2),M.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(M),this.emptyTexture=new Fe(a,{width:1,height:1,data:new Uint8Array([0,0,0,0])},a.gl.RGBA);const N=this.context.gl;this.stencilClearMode=new ur({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO)}clearStencil(){const a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=s.create();s.ortho(m,0,this.width,this.height,0,0,1),s.scale(m,m,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,d.TRIANGLES,En.disabled,this.stencilClearMode,mr.disabled,Sn.disabled,ln(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,d){if(this.currentStencilSource===a.source||!a.isTileClipped()||!d||!d.length)return;this.currentStencilSource=a.source;const m=this.context,_=m.gl;this.nextStencilID+d.length>256&&this.clearStencil(),m.setColorMode(mr.disabled),m.setDepthMode(En.disabled);const E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const P of d){const M=this._tileClippingMaskIDs[P.key]=this.nextStencilID++,N=this.style.map.terrain&&this.style.map.terrain.getTerrainData(P);E.draw(m,_.TRIANGLES,En.disabled,new ur({func:_.ALWAYS,mask:0},M,255,_.KEEP,_.KEEP,_.REPLACE),mr.disabled,Sn.disabled,ln(P.posMatrix),N,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,d=this.context.gl;return new ur({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){const d=this.context.gl;return new ur({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){const d=this.context.gl,m=a.sort((P,M)=>M.overscaledZ-P.overscaledZ),_=m[m.length-1].overscaledZ,E=m[0].overscaledZ-_+1;if(E>1){this.currentStencilSource=void 0,this.nextStencilID+E>256&&this.clearStencil();const P={};for(let M=0;M<E;M++)P[M+_]=new ur({func:d.GEQUAL,mask:255},M+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=E,[P,m]}return[{[_]:ur.disabled},m]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new mr([a.CONSTANT_COLOR,a.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?mr.unblended:mr.alphaBlended}depthModeForSublayer(a,d,m){if(!this.opaquePassEnabledForLayer())return En.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new En(m||this.context.gl.LEQUAL,d,[_,_])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const m=this.style._order,_=this.style.sourceCaches,E={},P={},M={};for(const N in _){const U=_[N];U.used&&U.prepare(this.context),E[N]=U.getVisibleCoordinates(),P[N]=E[N].slice().reverse(),M[N]=U.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let N=0;N<m.length;N++)if(this.style._layers[m[N]].is3D()){this.opaquePassCutoff=N;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const N=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!s.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||N.length)&&(s.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(U,K){const W=U.context,ne=W.gl,fe=mr.unblended,pe=new En(ne.LEQUAL,En.ReadWrite,[0,1]),de=K.getTerrainMesh(),we=K.sourceCache.getRenderableTiles(),Re=U.useProgram("terrainDepth");W.bindFramebuffer.set(K.getFramebuffer("depth").framebuffer),W.viewport.set([0,0,U.width/devicePixelRatio,U.height/devicePixelRatio]),W.clear({color:s.Color.transparent,depth:1});for(const Oe of we){const ye=K.getTerrainData(Oe.tileID),Ne={u_matrix:U.transform.calculatePosMatrix(Oe.tileID.toUnwrapped()),u_ele_delta:K.getMeshFrameDelta(U.transform.zoom)};Re.draw(W,ne.TRIANGLES,pe,ur.disabled,fe,Sn.backCCW,Ne,ye,"terrain",de.vertexBuffer,de.indexBuffer,de.segments)}W.bindFramebuffer.set(null),W.viewport.set([0,0,U.width,U.height])}(this,this.style.map.terrain),function(U,K){const W=U.context,ne=W.gl,fe=mr.unblended,pe=new En(ne.LEQUAL,En.ReadWrite,[0,1]),de=K.getTerrainMesh(),we=K.getCoordsTexture(),Re=K.sourceCache.getRenderableTiles(),Oe=U.useProgram("terrainCoords");W.bindFramebuffer.set(K.getFramebuffer("coords").framebuffer),W.viewport.set([0,0,U.width/devicePixelRatio,U.height/devicePixelRatio]),W.clear({color:s.Color.transparent,depth:1}),K.coordsIndex=[];for(const ye of Re){const Ne=K.getTerrainData(ye.tileID);W.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,we.texture);const je={u_matrix:U.transform.calculatePosMatrix(ye.tileID.toUnwrapped()),u_terrain_coords_id:(255-K.coordsIndex.length)/255,u_texture:0,u_ele_delta:K.getMeshFrameDelta(U.transform.zoom)};Oe.draw(W,ne.TRIANGLES,pe,ur.disabled,fe,Sn.backCCW,je,Ne,"terrain",de.vertexBuffer,de.indexBuffer,de.segments),K.coordsIndex.push(ye.tileID.key)}W.bindFramebuffer.set(null),W.viewport.set([0,0,U.width,U.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const N of m){const U=this.style._layers[N];if(!U.hasOffscreenPass()||U.isHidden(this.transform.zoom))continue;const K=P[U.source];(U.type==="custom"||K.length)&&this.renderLayer(this,_[U.source],U,K)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const N=this.style._layers[m[this.currentLayer]],U=_[N.source],K=E[N.source];this._renderTileClippingMasks(N,K),this.renderLayer(this,U,N,K)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const N=this.style._layers[m[this.currentLayer]],U=_[N.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(N))continue;const K=(N.type==="symbol"?M:P)[N.source];this._renderTileClippingMasks(N,E[N.source]),this.renderLayer(this,U,N,K)}if(this.options.showTileBoundaries){const N=function(U,K){let W=null;const ne=Object.values(U._layers).flatMap(we=>we.source&&!we.isHidden(K)?[U.sourceCaches[we.source]]:[]),fe=ne.filter(we=>we.getSource().type==="vector"),pe=ne.filter(we=>we.getSource().type!=="vector"),de=we=>{(!W||W.getSource().maxzoom<we.getSource().maxzoom)&&(W=we)};return fe.forEach(we=>de(we)),W||pe.forEach(we=>de(we)),W}(this.style,this.transform.zoom);N&&ka.debug(this,N,N.getVisibleCoordinates())}this.options.showPadding&&function(N){const U=N.transform.padding;gi(N,N.transform.height-(U.top||0),3,Mh),gi(N,U.bottom||0,3,Hr),Pl(N,U.left||0,3,oa),Pl(N,N.transform.width-(U.right||0),3,os);const K=N.transform.centerPoint;(function(W,ne,fe,pe){Ol(W,ne-1,fe-10,2,20,pe),Ol(W,ne-10,fe-1,20,2,pe)})(N,K.x,N.transform.height-K.y,aa)}(this),this.context.setDefault()}renderLayer(a,d,m,_){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="custom"||(_||[]).length)&&(this.id=m.id,this.gpuTimingStart(m),ka[m.type](a,d,m,_,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(a){if(!this.options.gpuTiming)return;const d=this.context.extTimerQuery;let m=this.gpuTimers[a.id];m||(m=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:d.createQueryEXT()}),m.calls++,d.beginQueryEXT(d.TIME_ELAPSED_EXT,m.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}collectGpuTimers(){const a=this.gpuTimers;return this.gpuTimers={},a}queryGpuTimers(a){const d={};for(const m in a){const _=a[m],E=this.context.extTimerQuery,P=E.getQueryObjectEXT(_.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(_.query),d[m]=P}return d}translatePosMatrix(a,d,m,_,E){if(!m[0]&&!m[1])return a;const P=E?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(P){const U=Math.sin(P),K=Math.cos(P);m=[m[0]*K-m[1]*U,m[0]*U+m[1]*K]}const M=[E?m[0]:Qe(d,m[0],this.transform.zoom),E?m[1]:Qe(d,m[1],this.transform.zoom),0],N=new Float32Array(16);return s.translate(N,a,M),N}saveTileTexture(a){const d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;const d=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!d||!m}useProgram(a,d){this.cache=this.cache||{};const m=a+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new _l(this.context,a,pr[a],d,Ms[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Fe(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class Tt{constructor(a,d){this.points=a,this.planes=d}static fromInvProjectionMatrix(a,d,m){const _=Math.pow(2,m),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(M=>{const N=1/(M=s.transformMat4([],M,a))[3]/d*_;return s.mul$1(M,M,[N,N,1/M[3],N])}),P=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(M=>{const N=function(ne,fe){var pe=fe[0],de=fe[1],we=fe[2],Re=pe*pe+de*de+we*we;return Re>0&&(Re=1/Math.sqrt(Re)),ne[0]=fe[0]*Re,ne[1]=fe[1]*Re,ne[2]=fe[2]*Re,ne}([],function(ne,fe,pe){var de=fe[0],we=fe[1],Re=fe[2],Oe=pe[0],ye=pe[1],Ne=pe[2];return ne[0]=we*Ne-Re*ye,ne[1]=Re*Oe-de*Ne,ne[2]=de*ye-we*Oe,ne}([],Ee([],E[M[0]],E[M[1]]),Ee([],E[M[2]],E[M[1]]))),U=-((K=N)[0]*(W=E[M[1]])[0]+K[1]*W[1]+K[2]*W[2]);var K,W;return N.concat(U)});return new Tt(E,P)}}class La{constructor(a,d){this.min=a,this.max=d,this.center=function(m,_,E){return m[0]=.5*_[0],m[1]=.5*_[1],m[2]=.5*_[2],m}([],function(m,_,E){return m[0]=_[0]+E[0],m[1]=_[1]+E[1],m[2]=_[2]+E[2],m}([],this.min,this.max))}quadrant(a){const d=[a%2==0,a<2],m=ge(this.min),_=ge(this.max);for(let E=0;E<d.length;E++)m[E]=d[E]?this.min[E]:this.center[E],_[E]=d[E]?this.center[E]:this.max[E];return _[2]=this.max[2],new La(m,_)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let _=0;_<a.planes.length;_++){const E=a.planes[_];let P=0;for(let M=0;M<d.length;M++)s.dot(E,d[M])>=0&&P++;if(P===0)return 0;P!==d.length&&(m=!1)}if(m)return 2;for(let _=0;_<3;_++){let E=Number.MAX_VALUE,P=-Number.MAX_VALUE;for(let M=0;M<a.points.length;M++){const N=a.points[M][_]-this.min[_];E=Math.min(E,N),P=Math.max(P,N)}if(P<0||E>this.max[_]-this.min[_])return 0}return 1}}class sa{constructor(a=0,d=0,m=0,_=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(m)||m<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=m,this.right=_}interpolate(a,d,m){return d.top!=null&&a.top!=null&&(this.top=s.number(a.top,d.top,m)),d.bottom!=null&&a.bottom!=null&&(this.bottom=s.number(a.bottom,d.bottom,m)),d.left!=null&&a.left!=null&&(this.left=s.number(a.left,d.left,m)),d.right!=null&&a.right!=null&&(this.right=s.number(a.right,d.right,m)),this}getCenter(a,d){const m=s.clamp((this.left+a-this.right)/2,0,a),_=s.clamp((this.top+d-this.bottom)/2,0,d);return new s.pointGeometry(m,_)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new sa(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Ma{constructor(a,d,m,_,E){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=E===void 0||!!E,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=m??0,this._maxPitch=_??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new sa,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const a=new Ma(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.tileSize=this.tileSize,a.latRange=this.latRange,a.width=this.width,a.height=this.height,a._center=this._center,a._elevation=this._elevation,a.zoom=this.zoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._unmodified=this._unmodified,a._edgeInsets=this._edgeInsets.clone(),a._calcMatrices(),a}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){const d=-s.wrap(a,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var m=new s.ARRAY_TYPE(4);return s.ARRAY_TYPE!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,_,E){var P=_[0],M=_[1],N=_[2],U=_[3],K=Math.sin(E),W=Math.cos(E);m[0]=P*W+N*K,m[1]=M*W+U*K,m[2]=P*-K+N*W,m[3]=M*-K+U*W}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const d=s.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){const d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,m){this._unmodified=!1,this._edgeInsets.interpolate(a,d,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){const d=[new s.UnwrappedTileID(0,a)];if(this._renderWorldCopies){const m=this.pointCoordinate(new s.pointGeometry(0,0)),_=this.pointCoordinate(new s.pointGeometry(this.width,0)),E=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),P=this.pointCoordinate(new s.pointGeometry(0,this.height)),M=Math.floor(Math.min(m.x,_.x,E.x,P.x)),N=Math.floor(Math.max(m.x,_.x,E.x,P.x)),U=1;for(let K=M-U;K<=N+U;K++)K!==0&&d.push(new s.UnwrappedTileID(K,a))}return d}coveringTiles(a){var d,m;let _=this.coveringZoomLevel(a);const E=_;if(a.minzoom!==void 0&&_<a.minzoom)return[];a.maxzoom!==void 0&&_>a.maxzoom&&(_=a.maxzoom);const P=this.pointCoordinate(this.getCameraPoint()),M=s.MercatorCoordinate.fromLngLat(this.center),N=Math.pow(2,_),U=[N*P.x,N*P.y,0],K=[N*M.x,N*M.y,0],W=Tt.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,_);let ne=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ne=_);const fe=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,pe=ye=>({aabb:new La([ye*N,0,0],[(ye+1)*N,N,0]),zoom:0,x:0,y:0,wrap:ye,fullyVisible:!1}),de=[],we=[],Re=_,Oe=a.reparseOverscaled?E:_;if(this._renderWorldCopies)for(let ye=1;ye<=3;ye++)de.push(pe(-ye)),de.push(pe(ye));for(de.push(pe(0));de.length>0;){const ye=de.pop(),Ne=ye.x,je=ye.y;let Ze=ye.fullyVisible;if(!Ze){const yt=ye.aabb.intersects(W);if(yt===0)continue;Ze=yt===2}const nt=a.terrain?U:K,ot=ye.aabb.distanceX(nt),ft=ye.aabb.distanceY(nt),ct=Math.max(Math.abs(ot),Math.abs(ft));if(ye.zoom===Re||ct>fe+(1<<Re-ye.zoom)-2&&ye.zoom>=ne){const yt=Re-ye.zoom,kt=U[0]-.5-(Ne<<yt),tn=U[1]-.5-(je<<yt);we.push({tileID:new s.OverscaledTileID(ye.zoom===Re?Oe:ye.zoom,ye.wrap,ye.zoom,Ne,je),distanceSq:De([K[0]-.5-Ne,K[1]-.5-je]),tileDistanceToCamera:Math.sqrt(kt*kt+tn*tn)})}else for(let yt=0;yt<4;yt++){const kt=(Ne<<1)+yt%2,tn=(je<<1)+(yt>>1),an=ye.zoom+1;let Dt=ye.aabb.quadrant(yt);if(a.terrain){const $n=new s.OverscaledTileID(an,ye.wrap,an,kt,tn),Gn=a.terrain.getMinMaxElevation($n),_n=(d=Gn.minElevation)!==null&&d!==void 0?d:this.elevation,Nn=(m=Gn.maxElevation)!==null&&m!==void 0?m:this.elevation;Dt=new La([Dt.min[0],Dt.min[1],_n],[Dt.max[0],Dt.max[1],Nn])}de.push({aabb:Dt,zoom:an,x:kt,y:tn,wrap:ye.wrap,fullyVisible:Ze})}}return we.sort((ye,Ne)=>ye.distanceSq-Ne.distanceSq).map(ye=>ye.tileID)}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const d=s.clamp(a.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.pointGeometry(s.mercatorXfromLng(a.lng)*this.worldSize,s.mercatorYfromLat(d)*this.worldSize)}unproject(a){return new s.MercatorCoordinate(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(a){this.freezeElevation||(this.elevation=a?this.getElevation(this._center,a):0)}getElevation(a,d){const m=s.MercatorCoordinate.fromLngLat(a),_=(1<<this.tileZoom)*s.EXTENT,E=m.x*_,P=m.y*_,M=Math.floor(E/s.EXTENT),N=Math.floor(P/s.EXTENT),U=new s.OverscaledTileID(this.tileZoom,0,this.tileZoom,M,N);return d.getElevation(U,E%s.EXTENT,P%s.EXTENT,s.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){const d=this.pointLocation(this.centerPoint,a),m=this.getElevation(d,a);if(!(this.elevation-m))return;const _=this.getCameraPosition(),E=s.MercatorCoordinate.fromLngLat(_.lngLat,_.altitude),P=s.MercatorCoordinate.fromLngLat(d,m),M=E.x-P.x,N=E.y-P.y,U=E.z-P.z,K=Math.sqrt(M*M+N*N+U*U),W=this.scaleZoom(this.cameraToCenterDistance/K/this.tileSize);this._elevation=m,this._center=d,this.zoom=W}setLocationAtPoint(a,d){const m=this.pointCoordinate(d),_=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(a),P=new s.MercatorCoordinate(E.x-(m.x-_.x),E.y-(m.y-_.y));this.center=this.coordinateLocation(P),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,d){return d?this.coordinatePoint(this.locationCoordinate(a),this.getElevation(a,d),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,d){return this.coordinateLocation(this.pointCoordinate(a,d))}locationCoordinate(a){return s.MercatorCoordinate.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,d){if(d){const ne=d.pointCoordinate(a);if(ne!=null)return ne}const m=[a.x,a.y,0,1],_=[a.x,a.y,1,1];s.transformMat4(m,m,this.pixelMatrixInverse),s.transformMat4(_,_,this.pixelMatrixInverse);const E=m[3],P=_[3],M=m[1]/E,N=_[1]/P,U=m[2]/E,K=_[2]/P,W=U===K?0:(0-U)/(K-U);return new s.MercatorCoordinate(s.number(m[0]/E,_[0]/P,W)/this.worldSize,s.number(M,N,W)/this.worldSize)}coordinatePoint(a,d=0,m=this.pixelMatrix){const _=[a.x*this.worldSize,a.y*this.worldSize,d,1];return s.transformMat4(_,_,m),new s.pointGeometry(_[0]/_[3],_[1]/_[3])}getBounds(){const a=Math.max(0,this.height/2-this.getHorizon());return new s.LngLatBounds().extend(this.pointLocation(new s.pointGeometry(0,a))).extend(this.pointLocation(new s.pointGeometry(this.width,a))).extend(this.pointLocation(new s.pointGeometry(this.width,this.height))).extend(this.pointLocation(new s.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(a,d=!1){const m=a.key,_=d?this._alignedPosMatrixCache:this._posMatrixCache;if(_[m])return _[m];const E=a.canonical,P=this.worldSize/this.zoomScale(E.z),M=E.x+Math.pow(2,E.z)*a.wrap,N=s.identity(new Float64Array(16));return s.translate(N,N,[M*P,E.y*P,0]),s.scale(N,N,[P/s.EXTENT,P/s.EXTENT,1]),s.multiply(N,d?this.alignedProjMatrix:this.projMatrix,N),_[m]=new Float32Array(N),_[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a,d,m,_,E=-90,P=90,M=-180,N=180;const U=this.size,K=this._unmodified;if(this.latRange){const fe=this.latRange;E=s.mercatorYfromLat(fe[1])*this.worldSize,P=s.mercatorYfromLat(fe[0])*this.worldSize,a=P-E<U.y?U.y/(P-E):0}if(this.lngRange){const fe=this.lngRange;M=s.wrap(s.mercatorXfromLng(fe[0])*this.worldSize,0,this.worldSize),N=s.wrap(s.mercatorXfromLng(fe[1])*this.worldSize,0,this.worldSize),N<M&&(N+=this.worldSize),d=N-M<U.x?U.x/(N-M):0}const W=this.point,ne=Math.max(d||0,a||0);if(ne)return this.center=this.unproject(new s.pointGeometry(d?(N+M)/2:W.x,a?(P+E)/2:W.y)),this.zoom+=this.scaleZoom(ne),this._unmodified=K,void(this._constraining=!1);if(this.latRange){const fe=W.y,pe=U.y/2;fe-pe<E&&(_=E+pe),fe+pe>P&&(_=P-pe)}if(this.lngRange){const fe=(M+N)/2,pe=s.wrap(W.x,fe-this.worldSize/2,fe+this.worldSize/2),de=U.x/2;pe-de<M&&(m=M+de),pe+de>N&&(m=N-de)}m===void 0&&_===void 0||(this.center=this.unproject(new s.pointGeometry(m!==void 0?m:W.x,_!==void 0?_:W.y)).wrap()),this._unmodified=K,this._constraining=!1}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,d=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let _=s.identity(new Float64Array(16));s.scale(_,_,[this.width/2,-this.height/2,1]),s.translate(_,_,[1,-1,0]),this.labelPlaneMatrix=_,_=s.identity(new Float64Array(16)),s.scale(_,_,[1,-1,1]),s.translate(_,_,[-1,-1,0]),s.scale(_,_,[2/this.width,2/this.height,1]),this.glCoordMatrix=_,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const E=this._elevation<0?this.cameraToCenterDistance:this.cameraToSeaLevelDistance,P=Math.PI/2+this._pitch,M=this._fov*(.5+a.y/this.height),N=Math.sin(M)*E/Math.sin(s.clamp(Math.PI-P-M,.01,Math.PI-.01)),U=this.getHorizon(),K=2*Math.atan(U/this.cameraToCenterDistance)*(.5+a.y/(2*U)),W=Math.sin(K)*E/Math.sin(s.clamp(Math.PI-P-K,.01,Math.PI-.01)),ne=Math.min(N,W),fe=1.01*(Math.cos(Math.PI/2-this._pitch)*ne+E),pe=this.height/50;_=new Float64Array(16),s.perspective(_,this._fov,this.width/this.height,pe,fe),_[8]=2*-a.x/this.width,_[9]=2*a.y/this.height,s.scale(_,_,[1,-1,1]),s.translate(_,_,[0,0,-this.cameraToCenterDistance]),s.rotateX(_,_,this._pitch),s.rotateZ(_,_,this.angle),s.translate(_,_,[-d,-m,0]),this.mercatorMatrix=s.scale([],_,[this.worldSize,this.worldSize,this.worldSize]),s.scale(_,_,[1,1,this._pixelPerMeter]),this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,_),s.translate(_,_,[0,0,-this.elevation]),this.projMatrix=_,this.invProjMatrix=s.invert([],_),this.pixelMatrix3D=s.multiply(new Float64Array(16),this.labelPlaneMatrix,_);const de=this.width%2/2,we=this.height%2/2,Re=Math.cos(this.angle),Oe=Math.sin(this.angle),ye=d-Math.round(d)+Re*de+Oe*we,Ne=m-Math.round(m)+Re*we+Oe*de,je=new Float64Array(_);if(s.translate(je,je,[ye>.5?ye-1:ye,Ne>.5?Ne-1:Ne,0]),this.alignedProjMatrix=je,_=s.invert(new Float64Array(16),this.pixelMatrix),!_)throw new Error("failed to invert matrix");this.pixelMatrixInverse=_,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const a=this.pointCoordinate(new s.pointGeometry(0,0)),d=[a.x*this.worldSize,a.y*this.worldSize,0,1];return s.transformMat4(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,a))}getCameraQueryGeometry(a){const d=this.getCameraPoint();if(a.length===1)return[a[0],d];{let m=d.x,_=d.y,E=d.x,P=d.y;for(const M of a)m=Math.min(m,M.x),_=Math.min(_,M.y),E=Math.max(E,M.x),P=Math.max(P,M.y);return[new s.pointGeometry(m,_),new s.pointGeometry(E,_),new s.pointGeometry(E,P),new s.pointGeometry(m,P),new s.pointGeometry(m,_)]}}}class Dh{constructor(a){this._hashName=a&&encodeURIComponent(a),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(d,m){let _=!1,E=null;const P=()=>{E=null,_&&(d(),E=setTimeout(P,300),_=!1)};return()=>(_=!0,E||P(),E)}(this._updateHashUnthrottled.bind(this))}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(a){const d=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,_=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,_),P=Math.round(d.lng*E)/E,M=Math.round(d.lat*E)/E,N=this._map.getBearing(),U=this._map.getPitch();let K="";if(K+=a?`/${P}/${M}/${m}`:`${m}/${M}/${P}`,(N||U)&&(K+="/"+Math.round(10*N)/10),U&&(K+=`/${Math.round(U)}`),this._hashName){const W=this._hashName;let ne=!1;const fe=window.location.hash.slice(1).split("&").map(pe=>{const de=pe.split("=")[0];return de===W?(ne=!0,`${de}=${K}`):pe}).filter(pe=>pe);return ne||fe.push(`${W}=${K}`),`#${fe.join("&")}`}return`#${K}`}_getCurrentHash(){const a=window.location.hash.replace("#","");if(this._hashName){let d;return a.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(d=m)}),(d&&d[1]||"").split("/")}return a.split("/")}_onHashChange(){const a=this._getCurrentHash();if(a.length>=3&&!a.some(d=>isNaN(d))){const d=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(a[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+a[2],+a[1]],zoom:+a[0],bearing:d,pitch:+(a[4]||0)}),!0}return!1}_updateHashUnthrottled(){const a=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,a)}catch{}}}const wt={linearity:.3,easing:s.bezier(0,0,.3,1)},zc=s.extend({deceleration:2500,maxSpeed:1400},wt),Nh=s.extend({deceleration:20,maxSpeed:1400},wt),pf=s.extend({deceleration:1e3,maxSpeed:360},wt),gu=s.extend({deceleration:1e3,maxSpeed:90},wt);class zh{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,d=s.exported.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:E}of this._inertiaBuffer)d.zoom+=E.zoomDelta||0,d.bearing+=E.bearingDelta||0,d.pitch+=E.pitchDelta||0,E.panDelta&&d.pan._add(E.panDelta),E.around&&(d.around=E.around),E.pinchAround&&(d.pinchAround=E.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(d.pan.mag()){const E=as(d.pan.mag(),m,s.extend({},zc,a||{}));_.offset=d.pan.mult(E.amount/d.pan.mag()),_.center=this._map.transform.center,vi(_,E)}if(d.zoom){const E=as(d.zoom,m,Nh);_.zoom=this._map.transform.zoom+E.amount,vi(_,E)}if(d.bearing){const E=as(d.bearing,m,pf);_.bearing=this._map.transform.bearing+s.clamp(E.amount,-179,179),vi(_,E)}if(d.pitch){const E=as(d.pitch,m,gu);_.pitch=this._map.transform.pitch+E.amount,vi(_,E)}if(_.zoom||_.bearing){const E=d.pinchAround===void 0?d.around:d.pinchAround;_.around=E?this._map.unproject(E):this._map.getCenter()}return this.clear(),s.extend(_,{noMoveStart:!0})}}function vi(v,a){(!v.duration||v.duration<a.duration)&&(v.duration=a.duration,v.easing=a.easing)}function as(v,a,d){const{maxSpeed:m,linearity:_,deceleration:E}=d,P=s.clamp(v*_/(a/1e3),-m,m),M=Math.abs(P)/(E*_);return{easing:d.easing,duration:1e3*M,amount:P*(M/2)}}class Ji extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m,_={}){const E=O.mousePos(d.getCanvasContainer(),m),P=d.unproject(E);super(a,s.extend({point:E,lngLat:P,originalEvent:m},_)),this._defaultPrevented=!1,this.target=d}}class la extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){const _=a==="touchend"?m.changedTouches:m.touches,E=O.touchPos(d.getCanvasContainer(),_),P=E.map(N=>d.unproject(N)),M=E.reduce((N,U,K,W)=>N.add(U.div(W.length)),new s.pointGeometry(0,0));super(a,{points:E,point:M,lngLats:P,lngLat:d.unproject(M),originalEvent:m}),this._defaultPrevented=!1}}class Bc extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class vu{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new Bc(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new Ji(a.type,this._map,a))}mouseup(a){this._map.fire(new Ji(a.type,this._map,a))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new Ji(a.type,this._map,a))}dblclick(a){return this._firePreventable(new Ji(a.type,this._map,a))}mouseover(a){this._map.fire(new Ji(a.type,this._map,a))}mouseout(a){this._map.fire(new Ji(a.type,this._map,a))}touchstart(a){return this._firePreventable(new la(a.type,this._map,a))}touchmove(a){this._map.fire(new la(a.type,this._map,a))}touchend(a){this._map.fire(new la(a.type,this._map,a))}touchcancel(a){this._map.fire(new la(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fc{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new Ji(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ji("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new Ji(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class jr{constructor(a,d){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(O.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;const m=d;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=m,this._box||(this._box=O.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));const E=Math.min(_.x,m.x),P=Math.max(_.x,m.x),M=Math.min(_.y,m.y),N=Math.max(_.y,m.y);O.setTransform(this._box,`translate(${E}px,${M}px)`),this._box.style.width=P-E+"px",this._box.style.height=N-M+"px"}mouseupWindow(a,d){if(!this._active||a.button!==0)return;const m=this._startPos,_=d;if(this.reset(),O.suppressClick(),m.x!==_.x||m.y!==_.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:a})),{cameraAnimation:E=>E.fitScreenCoordinates(m,_,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(O.remove(this._box),this._box=null),O.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new s.Event(a,{originalEvent:d}))}}function Do(v,a){if(v.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${v.length}, points ${a.length}`);const d={};for(let m=0;m<v.length;m++)d[v[m].identifier]=a[m];return d}class ss{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,d,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(_){const E=new s.pointGeometry(0,0);for(const P of _)E._add(P);return E.div(_.length)}(d),this.touches=Do(m,d)))}touchmove(a,d,m){if(this.aborted||!this.centroid)return;const _=Do(m,d);for(const E in this.touches){const P=_[E];(!P||P.dist(this.touches[E])>30)&&(this.aborted=!0)}}touchend(a,d,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class Vs{constructor(a){this.singleTap=new ss(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,d,m){this.singleTap.touchstart(a,d,m)}touchmove(a,d,m){this.singleTap.touchmove(a,d,m)}touchend(a,d,m){const _=this.singleTap.touchend(a,d,m);if(_){const E=a.timeStamp-this.lastTime<500,P=!this.lastTap||this.lastTap.dist(_)<30;if(E&&P||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class yu{constructor(){this._zoomIn=new Vs({numTouches:1,numTaps:2}),this._zoomOut=new Vs({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,m){this._zoomIn.touchstart(a,d,m),this._zoomOut.touchstart(a,d,m)}touchmove(a,d,m){this._zoomIn.touchmove(a,d,m),this._zoomOut.touchmove(a,d,m)}touchend(a,d,m){const _=this._zoomIn.touchend(a,d,m),E=this._zoomOut.touchend(a,d,m);return _?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:P.getZoom()+1,around:P.unproject(_)},{originalEvent:a})}):E?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:P.getZoom()-1,around:P.unproject(E)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ls{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){const d=this._moveFunction(...a);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(a,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,d){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);const _=d.length?d[0]:d;return!this._moved&&_.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=_,this._move(m,_))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&O.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const No={0:1,2:2};class li{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){const d=O.mouseButton(a);this._eventButton=d}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(d,m){const _=No[m];return d.buttons===void 0||(d.buttons&_)!==_}(a,this._eventButton)}isValidEndEvent(a){return O.mouseButton(a)===this._eventButton}}class tr{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}const zo=v=>{v.mousedown=v.dragStart,v.mousemoveWindow=v.dragMove,v.mouseup=v.dragEnd,v.contextmenu=function(a){a.preventDefault()}},_u=({enable:v,clickTolerance:a,bearingDegreesPerPixelMoved:d=.8})=>{const m=new li({checkCorrectEvent:_=>O.mouseButton(_)===0&&_.ctrlKey||O.mouseButton(_)===2});return new ls({clickTolerance:a,move:(_,E)=>({bearingDelta:(E.x-_.x)*d}),moveStateManager:m,enable:v,assignEvents:zo})},Hs=({enable:v,clickTolerance:a,pitchDegreesPerPixelMoved:d=-.5})=>{const m=new li({checkCorrectEvent:_=>O.mouseButton(_)===0&&_.ctrlKey||O.mouseButton(_)===2});return new ls({clickTolerance:a,move:(_,E)=>({pitchDelta:(E.y-_.y)*d}),moveStateManager:m,enable:v,assignEvents:zo})};class js{constructor(a,d){this._minTouches=a.cooperativeGestures?2:1,this._clickTolerance=a.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(a,d,m){return this._calculateTransform(a,d,m)}touchmove(a,d,m){if(this._map._cooperativeGestures&&(this._minTouches===2&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(a,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return a.preventDefault(),this._calculateTransform(a,d,m)}touchend(a,d,m){this._calculateTransform(a,d,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,m){m.length>0&&(this._active=!0);const _=Do(m,d),E=new s.pointGeometry(0,0),P=new s.pointGeometry(0,0);let M=0;for(const U in _){const K=_[U],W=this._touches[U];W&&(E._add(K),P._add(K.sub(W)),M++,_[U]=K)}if(this._touches=_,M<this._minTouches||!P.mag())return;const N=P.div(M);return this._sum._add(N),this._sum.mag()<this._clickTolerance?void 0:{around:E.div(M),panDelta:N}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cl{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(a){}_move(a,d,m){return{}}touchstart(a,d,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,m){if(!this._firstTwoTouches)return;a.preventDefault();const[_,E]=this._firstTwoTouches,P=Rl(m,d,_),M=Rl(m,d,E);if(!P||!M)return;const N=this._aroundCenter?null:P.add(M).div(2);return this._move([P,M],N,a)}touchend(a,d,m){if(!this._firstTwoTouches)return;const[_,E]=this._firstTwoTouches,P=Rl(m,d,_),M=Rl(m,d,E);P&&M||(this._active&&O.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Rl(v,a,d){for(let m=0;m<v.length;m++)if(v[m].identifier===d)return a[m]}function mo(v,a){return Math.log(v/a)/Math.LN2}class kl extends Cl{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){const m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(mo(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:mo(this._distance,m),pinchAround:d}}}function zt(v,a){return 180*v.angleWith(a)/Math.PI}class Xt extends Cl{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d){const m=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:zt(this._vector,m),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const d=25/(Math.PI*this._minDiameter)*360,m=zt(a,this._startVector);return Math.abs(m)<d}}function us(v){return Math.abs(v.y)>Math.abs(v.x)}class xu extends Cl{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,d,m){super.touchstart(a,d,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,us(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const _=a[0].sub(this._lastPoints[0]),E=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(_,E,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(_.y+E.y)/2*-.5}):void 0}gestureBeginsVertically(a,d,m){if(this._valid!==void 0)return this._valid;const _=a.mag()>=2,E=d.mag()>=2;if(!_&&!E)return;if(!_||!E)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;const P=a.y>0==d.y>0;return us(a)&&us(d)&&P}}const Uc={panStep:100,bearingStep:15,pitchStep:10};class ui{constructor(){const a=Uc;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,m=0,_=0,E=0,P=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),E=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),E=1);break;case 38:a.shiftKey?_=1:(a.preventDefault(),P=-1);break;case 40:a.shiftKey?_=-1:(a.preventDefault(),P=1);break;default:return}return this._rotationDisabled&&(m=0,_=0),{cameraAnimation:M=>{const N=M.getZoom();M.easeTo({duration:300,easeId:"keyboardHandler",easing:Ll,zoom:d?Math.round(N)+d*(a.shiftKey?2:1):N,bearing:M.getBearing()+m*this._bearingStep,pitch:M.getPitch()+_*this._pitchStep,offset:[-E*this._panStep,-P*this._panStep],center:M.getCenter()},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ll(v){return v*(2-v)}const go=4.000244140625;class h{constructor(a,d){this._map=a,this._el=a.getCanvasContainer(),this._handler=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout"],this)}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;a.preventDefault()}let d=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const m=s.exported.now(),_=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,d!==0&&d%go==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(_*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_onTimeout(a){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(a)}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=O.mousePos(this._el,a);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(d)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._map.transform;if(this._delta!==0){const M=this._type==="wheel"&&Math.abs(this._delta)>go?this._wheelZoomRate:this._defaultZoomRate;let N=2/(1+Math.exp(-Math.abs(this._delta*M)));this._delta<0&&N!==0&&(N=1/N);const U=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(U*N))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,_=this._easing;let E,P=!1;if(this._type==="wheel"&&m&&_){const M=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),N=_(M);E=s.number(m,d,N),M<1?this._frameId||(this._frameId=!0):P=!0}else E=d,P=!0;return this._active=!0,P&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!P,zoomDelta:E-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=s.ease;if(this._prevEase){const m=this._prevEase,_=(s.exported.now()-m.start)/m.duration,E=m.easing(_+.01)-m.easing(_),P=.27/Math.sqrt(E*E+1e-4)*.01,M=Math.sqrt(.0729-P*P);d=s.bezier(P,M,.25,1)}return this._prevEase={start:s.exported.now(),duration:a,easing:d},d}reset(){this._active=!1}}class g{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class T{constructor(){this.reset()}reset(){this._active=!1}dblclick(a,d){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(a.shiftKey?-1:1),around:m.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class k{constructor(){this._tap=new Vs({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(a,d,m){this._swipePoint||(this._tapTime&&a.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=d[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(a,d,m))}touchmove(a,d,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const _=d[0],E=_.y-this._swipePoint.y;return this._swipePoint=_,a.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(a,d,m)}touchend(a,d,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(a,d,m)&&(this._tapTime=a.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ${constructor(a,d,m){this._el=a,this._mousePan=d,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class oe{constructor(a,d,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Te{constructor(a,d,m,_){this._el=a,this._touchZoom=d,this._touchRotate=m,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ue=v=>v.zoom||v.drag||v.pitch||v.rotate;class Ke extends s.Event{}function dt(v){return v.panDelta&&v.panDelta.mag()||v.zoomDelta||v.bearingDelta||v.pitchDelta}class Pt{constructor(a,d){this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new zh(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d),s.bindAll(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,E,P]of this._listeners)O.addEventListener(_,E,_===document?this.handleWindowEvent:this.handleEvent,P)}destroy(){for(const[a,d,m]of this._listeners)O.removeEventListener(a,d,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){const d=this._map,m=d.getCanvasContainer();this._add("mapEvent",new vu(d,a));const _=d.boxZoom=new jr(d,a);this._add("boxZoom",_);const E=new yu,P=new T;d.doubleClickZoom=new g(P,E),this._add("tapZoom",E),this._add("clickZoom",P);const M=new k;this._add("tapDragZoom",M);const N=d.touchPitch=new xu(d);this._add("touchPitch",N);const U=_u(a),K=Hs(a);d.dragRotate=new oe(a,U,K),this._add("mouseRotate",U,["mousePitch"]),this._add("mousePitch",K,["mouseRotate"]);const W=(({enable:Re,clickTolerance:Oe})=>{const ye=new li({checkCorrectEvent:Ne=>O.mouseButton(Ne)===0&&!Ne.ctrlKey});return new ls({clickTolerance:Oe,move:(Ne,je)=>({around:je,panDelta:je.sub(Ne)}),activateOnStart:!0,moveStateManager:ye,enable:Re,assignEvents:zo})})(a),ne=new js(a,d);d.dragPan=new $(m,W,ne),this._add("mousePan",W),this._add("touchPan",ne,["touchZoom","touchRotate"]);const fe=new Xt,pe=new kl;d.touchZoomRotate=new Te(m,pe,fe,M),this._add("touchRotate",fe,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]);const de=d.scrollZoom=new h(d,this);this._add("scrollZoom",de,["mousePan"]);const we=d.keyboard=new ui;this._add("keyboard",we),this._add("blockableMapEvent",new Fc(d));for(const Re of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])a.interactive&&a[Re]&&d[Re].enable(a[Re])}_add(a,d,m){this._handlers.push({handlerName:a,handler:d,allowed:m}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Ue(this._eventsInProgress))||this.isZooming()}_blockedByActive(a,d,m){for(const _ in a)if(_!==m&&(!d||d.indexOf(_)<0))return!0;return!1}handleWindowEvent(a){this.handleEvent(a,`${a.type}Window`)}_getMapTouches(a){const d=[];for(const m of a)this._el.contains(m.target)&&d.push(m);return d}handleEvent(a,d){if(a.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const m=a.type==="renderFrame"?void 0:a,_={needsRenderFrame:!1},E={},P={},M=a.touches,N=M?this._getMapTouches(M):void 0,U=N?O.touchPos(this._el,N):O.mousePos(this._el,a);for(const{handlerName:ne,handler:fe,allowed:pe}of this._handlers){if(!fe.isEnabled())continue;let de;this._blockedByActive(P,pe,ne)?fe.reset():fe[d||a.type]&&(de=fe[d||a.type](a,U,N),this.mergeHandlerResult(_,E,de,ne,m),de&&de.needsRenderFrame&&this._triggerRenderFrame()),(de||fe.isActive())&&(P[ne]=fe)}const K={};for(const ne in this._previousActiveHandlers)P[ne]||(K[ne]=m);this._previousActiveHandlers=P,(Object.keys(K).length||dt(_))&&(this._changes.push([_,E,K]),this._triggerRenderFrame()),(Object.keys(P).length||dt(_))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:W}=_;W&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],W(this._map))}mergeHandlerResult(a,d,m,_,E){if(!m)return;s.extend(a,m);const P={handlerName:_,originalEvent:m.originalEvent||E};m.zoomDelta!==void 0&&(d.zoom=P),m.panDelta!==void 0&&(d.drag=P),m.pitchDelta!==void 0&&(d.pitch=P),m.bearingDelta!==void 0&&(d.rotate=P)}_applyChanges(){const a={},d={},m={};for(const[_,E,P]of this._changes)_.panDelta&&(a.panDelta=(a.panDelta||new s.pointGeometry(0,0))._add(_.panDelta)),_.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(a.around=_.around),_.pinchAround!==void 0&&(a.pinchAround=_.pinchAround),_.noInertia&&(a.noInertia=_.noInertia),s.extend(d,E),s.extend(m,P);this._updateMapTransform(a,d,m),this._changes=[]}_updateMapTransform(a,d,m){const _=this._map,E=_.transform,P=_.terrain;if(!(dt(a)||P&&this._terrainMovement))return this._fireEvents(d,m,!0);let{panDelta:M,zoomDelta:N,bearingDelta:U,pitchDelta:K,around:W,pinchAround:ne}=a;ne!==void 0&&(W=ne),_._stop(!0),W=W||_.transform.centerPoint;const fe=E.pointLocation(M?W.sub(M):W);U&&(E.bearing+=U),K&&(E.pitch+=K),N&&(E.zoom+=N),P?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?E.center=E.pointLocation(E.centerPoint.sub(M)):E.setLocationAtPoint(fe,W):(this._terrainMovement=!0,E.freezeElevation=!0,E.setLocationAtPoint(fe,W),this._map.once("moveend",()=>{E.freezeElevation=!1,this._terrainMovement=!1,E.recalculateZoom(_.terrain)})):E.setLocationAtPoint(fe,W),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,m,!0)}_fireEvents(a,d,m){const _=Ue(this._eventsInProgress),E=Ue(a),P={};for(const K in a){const{originalEvent:W}=a[K];this._eventsInProgress[K]||(P[`${K}start`]=W),this._eventsInProgress[K]=a[K]}!_&&E&&this._fireEvent("movestart",E.originalEvent);for(const K in P)this._fireEvent(K,P[K]);E&&this._fireEvent("move",E.originalEvent);for(const K in a){const{originalEvent:W}=a[K];this._fireEvent(K,W)}const M={};let N;for(const K in this._eventsInProgress){const{handlerName:W,originalEvent:ne}=this._eventsInProgress[K];this._handlersById[W].isActive()||(delete this._eventsInProgress[K],N=d[W]||ne,M[`${K}end`]=N)}for(const K in M)this._fireEvent(K,M[K]);const U=Ue(this._eventsInProgress);if(m&&(_||E)&&!U){this._updatingCamera=!0;const K=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),W=ne=>ne!==0&&-this._bearingSnap<ne&&ne<this._bearingSnap;K?(W(K.bearing||this._map.getBearing())&&(K.bearing=0),K.freezeElevation=!0,this._map.easeTo(K,{originalEvent:N})):(this._map.fire(new s.Event("moveend",{originalEvent:N})),W(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new s.Event(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Ke("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const on={extend:(v,...a)=>s.extend(v,...a),run(v){v()},logToElement(v,a=!1,d="log"){const m=window.document.getElementById(d);m&&(a&&(m.innerHTML=""),m.innerHTML+=`<br>${v}`)}};class Tn extends s.Evented{constructor(a,d){super(),this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,m){return a=s.pointGeometry.convert(a).mult(-1),this.panTo(this.transform.center,s.extend({offset:a},d),m)}panTo(a,d,m){return this.easeTo(s.extend({center:a},d),m)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,m){return this.easeTo(s.extend({zoom:a},d),m)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,m){return this.easeTo(s.extend({bearing:a},d),m)}resetNorth(a,d){return this.rotateTo(0,s.extend({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=s.LngLatBounds.convert(a);const m=d&&d.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,d)}_cameraForBoxAndBearing(a,d,m,_){const E={top:0,bottom:0,right:0,left:0};if(typeof(_=s.extend({padding:E,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const je=_.padding;_.padding={top:je,bottom:je,right:je,left:je}}_.padding=s.extend(E,_.padding);const P=this.transform,M=P.padding,N=P.project(s.LngLat.convert(a)),U=P.project(s.LngLat.convert(d)),K=N.rotate(-m*Math.PI/180),W=U.rotate(-m*Math.PI/180),ne=new s.pointGeometry(Math.max(K.x,W.x),Math.max(K.y,W.y)),fe=new s.pointGeometry(Math.min(K.x,W.x),Math.min(K.y,W.y)),pe=ne.sub(fe),de=(P.width-(M.left+M.right+_.padding.left+_.padding.right))/pe.x,we=(P.height-(M.top+M.bottom+_.padding.top+_.padding.bottom))/pe.y;if(we<0||de<0)return void s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Re=Math.min(P.scaleZoom(P.scale*Math.min(de,we)),_.maxZoom),Oe=s.pointGeometry.convert(_.offset),ye=new s.pointGeometry((_.padding.left-_.padding.right)/2,(_.padding.top-_.padding.bottom)/2).rotate(m*Math.PI/180),Ne=Oe.add(ye).mult(P.scale/P.zoomScale(Re));return{center:P.unproject(N.add(U).div(2).sub(Ne)),zoom:Re,bearing:m}}fitBounds(a,d,m){return this._fitInternal(this.cameraForBounds(a,d),d,m)}fitScreenCoordinates(a,d,m,_,E){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.pointGeometry.convert(a)),this.transform.pointLocation(s.pointGeometry.convert(d)),m,_),_,E)}_fitInternal(a,d,m){return a?(delete(d=s.extend(a,d)).padding,d.linear?this.easeTo(d,m):this.flyTo(d,m)):this}jumpTo(a,d){this.stop();const m=this.transform;let _=!1,E=!1,P=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(_=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=s.LngLat.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(E=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(P=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this.fire(new s.Event("movestart",d)).fire(new s.Event("move",d)),_&&this.fire(new s.Event("zoomstart",d)).fire(new s.Event("zoom",d)).fire(new s.Event("zoomend",d)),E&&this.fire(new s.Event("rotatestart",d)).fire(new s.Event("rotate",d)).fire(new s.Event("rotateend",d)),P&&this.fire(new s.Event("pitchstart",d)).fire(new s.Event("pitch",d)).fire(new s.Event("pitchend",d)),this.fire(new s.Event("moveend",d))}calculateCameraOptionsFromTo(a,d,m,_=0){const E=s.MercatorCoordinate.fromLngLat(a,d),P=s.MercatorCoordinate.fromLngLat(m,_),M=P.x-E.x,N=P.y-E.y,U=P.z-E.z,K=Math.hypot(M,N,U);if(K===0)throw new Error("Can't calculate camera options with same From and To");const W=Math.hypot(M,N),ne=this.transform.scaleZoom(this.transform.cameraToCenterDistance/K/this.transform.tileSize),fe=180*Math.atan2(M,-N)/Math.PI;let pe=180*Math.acos(W/K)/Math.PI;return pe=U<0?90-pe:90+pe,{center:P.toLngLat(),zoom:ne,pitch:pe,bearing:fe}}easeTo(a,d){this._stop(!1,a.easeId),((a=s.extend({offset:[0,0],duration:500,easing:s.ease},a)).animate===!1||!a.essential&&s.exported.prefersReducedMotion)&&(a.duration=0);const m=this.transform,_=this.getZoom(),E=this.getBearing(),P=this.getPitch(),M=this.getPadding(),N="zoom"in a?+a.zoom:_,U="bearing"in a?this._normalizeBearing(a.bearing,E):E,K="pitch"in a?+a.pitch:P,W="padding"in a?a.padding:m.padding,ne=s.pointGeometry.convert(a.offset);let fe=m.centerPoint.add(ne);const pe=m.pointLocation(fe),de=s.LngLat.convert(a.center||pe);this._normalizeCenter(de);const we=m.project(pe),Re=m.project(de).sub(we),Oe=m.zoomScale(N-_);let ye,Ne;a.around&&(ye=s.LngLat.convert(a.around),Ne=m.locationPoint(ye));const je={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||N!==_,this._rotating=this._rotating||E!==U,this._pitching=this._pitching||K!==P,this._padding=!m.isPaddingEqual(W),this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,je),this.terrain&&this._prepareElevation(de),this._ease(Ze=>{if(this._zooming&&(m.zoom=s.number(_,N,Ze)),this._rotating&&(m.bearing=s.number(E,U,Ze)),this._pitching&&(m.pitch=s.number(P,K,Ze)),this._padding&&(m.interpolatePadding(M,W,Ze),fe=m.centerPoint.add(ne)),this.terrain&&!a.freezeElevation&&this._updateElevation(Ze),ye)m.setLocationAtPoint(ye,Ne);else{const nt=m.zoomScale(m.zoom-_),ot=N>_?Math.min(2,Oe):Math.max(.5,Oe),ft=Math.pow(ot,1-Ze),ct=m.unproject(we.add(Re.mult(Ze*ft)).mult(nt));m.setLocationAtPoint(m.renderWorldCopies?ct.wrap():ct,fe)}this._fireMoveEvents(d)},Ze=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Ze)},a),this}_prepareEase(a,d,m={}){this._moving=!0,d||m.moving||this.fire(new s.Event("movestart",a)),this._zooming&&!m.zooming&&this.fire(new s.Event("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new s.Event("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new s.Event("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.transform.getElevation(a,this.terrain),this.transform.freezeElevation=!0}_updateElevation(a){const d=this.transform.getElevation(this._elevationCenter,this.terrain);if(a<1&&d!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(d-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=d}this.transform.elevation=s.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this.transform.freezeElevation=!1,this.transform.recalculateZoom(this.terrain)}_fireMoveEvents(a){this.fire(new s.Event("move",a)),this._zooming&&this.fire(new s.Event("zoom",a)),this._rotating&&this.fire(new s.Event("rotate",a)),this._pitching&&this.fire(new s.Event("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const m=this._zooming,_=this._rotating,E=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new s.Event("zoomend",a)),_&&this.fire(new s.Event("rotateend",a)),E&&this.fire(new s.Event("pitchend",a)),this.fire(new s.Event("moveend",a))}flyTo(a,d){if(!a.essential&&s.exported.prefersReducedMotion){const Dt=s.pick(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Dt,d)}this.stop(),a=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},a);const m=this.transform,_=this.getZoom(),E=this.getBearing(),P=this.getPitch(),M=this.getPadding(),N="zoom"in a?s.clamp(+a.zoom,m.minZoom,m.maxZoom):_,U="bearing"in a?this._normalizeBearing(a.bearing,E):E,K="pitch"in a?+a.pitch:P,W="padding"in a?a.padding:m.padding,ne=m.zoomScale(N-_),fe=s.pointGeometry.convert(a.offset);let pe=m.centerPoint.add(fe);const de=m.pointLocation(pe),we=s.LngLat.convert(a.center||de);this._normalizeCenter(we);const Re=m.project(de),Oe=m.project(we).sub(Re);let ye=a.curve;const Ne=Math.max(m.width,m.height),je=Ne/ne,Ze=Oe.mag();if("minZoom"in a){const Dt=s.clamp(Math.min(a.minZoom,_,N),m.minZoom,m.maxZoom),$n=Ne/m.zoomScale(Dt-_);ye=Math.sqrt($n/Ze*2)}const nt=ye*ye;function ot(Dt){const $n=(je*je-Ne*Ne+(Dt?-1:1)*nt*nt*Ze*Ze)/(2*(Dt?je:Ne)*nt*Ze);return Math.log(Math.sqrt($n*$n+1)-$n)}function ft(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function ct(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}const yt=ot(0);let kt=function(Dt){return ct(yt)/ct(yt+ye*Dt)},tn=function(Dt){return Ne*((ct(yt)*(ft($n=yt+ye*Dt)/ct($n))-ft(yt))/nt)/Ze;var $n},an=(ot(1)-yt)/ye;if(Math.abs(Ze)<1e-6||!isFinite(an)){if(Math.abs(Ne-je)<1e-6)return this.easeTo(a,d);const Dt=je<Ne?-1:1;an=Math.abs(Math.log(je/Ne))/ye,tn=function(){return 0},kt=function($n){return Math.exp(Dt*ye*$n)}}return a.duration="duration"in a?+a.duration:1e3*an/("screenSpeed"in a?+a.screenSpeed/ye:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=E!==U,this._pitching=K!==P,this._padding=!m.isPaddingEqual(W),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(we),this._ease(Dt=>{const $n=Dt*an,Gn=1/kt($n);m.zoom=Dt===1?N:_+m.scaleZoom(Gn),this._rotating&&(m.bearing=s.number(E,U,Dt)),this._pitching&&(m.pitch=s.number(P,K,Dt)),this._padding&&(m.interpolatePadding(M,W,Dt),pe=m.centerPoint.add(fe)),this.terrain&&!a.freezeElevation&&this._updateElevation(Dt);const _n=Dt===1?we:m.unproject(Re.add(Oe.mult(tn($n))).mult(Gn));m.setLocationAtPoint(m.renderWorldCopies?_n.wrap():_n,pe),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,d)}if(!a){const m=this.handlers;m&&m.stop(!1)}return this}_ease(a,d,m){m.animate===!1||m.duration===0?(a(1),d()):(this._easeStart=s.exported.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const a=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(a)),a<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(a,d){a=s.wrap(a,-180,180);const m=Math.abs(a-d);return Math.abs(a-360-d)<m&&(a-=360),Math.abs(a+360-d)<m&&(a+=360),a}_normalizeCenter(a){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const m=a.lng-d.center.lng;a.lng+=m>180?-360:m<-180?360:0}}class ci{constructor(a={}){this.options=a,s.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options&&this.options.compact,this._container=O.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=O.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=O.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){O.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,d){const m=this._map._getUIString(`AttributionControl.${d}`);a.title=m,a.setAttribute("aria-label",m)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))}_updateData(a){!a||a.sourceDataType!=="metadata"&&a.sourceDataType!=="visibility"&&a.dataType!=="style"&&a.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(_=>typeof _!="string"?"":_)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const d=this._map.style.sourceCaches;for(const _ in d){const E=d[_];if(E.used||E.usedForTerrain){const P=E.getSource();P.attribution&&a.indexOf(P.attribution)<0&&a.push(P.attribution)}}a=a.filter(_=>String(_).trim()),a.sort((_,E)=>_.length-E.length),a=a.filter((_,E)=>{for(let P=E+1;P<a.length;P++)if(a[P].indexOf(_)>=0)return!1;return!0});const m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")}}class Bo{constructor(a={}){this.options=a,s.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=O.create("div","maplibregl-ctrl");const d=O.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){O.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const a=this._container.children;if(a.length){const d=a[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&d.classList.add("maplibregl-compact"):d.classList.remove("maplibregl-compact")}}}class $s{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){const d=this._currentlyRunning,m=d?this._queue.concat(d):this._queue;for(const _ of m)if(_.id===a)return void(_.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const m of d)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Fo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Ml=s.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class Vc extends s.Evented{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,d){this.sourceCache.update(a,d),this._renderableTilesKeys=[];const m={};for(const _ of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))m[_.key]=!0,this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.posMatrix=new Float64Array(16),s.ortho(_.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),this._tiles[_.key]=new jt(_,this.tileSize));for(const _ in this._tiles)m[_]||delete this._tiles[_]}freeRtt(a){for(const d in this._tiles){const m=this._tiles[d];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){const d={};for(const m of this._renderableTilesKeys){const _=this._tiles[m].tileID;if(_.canonical.equals(a.canonical)){const E=a.clone();E.posMatrix=new Float64Array(16),s.ortho(E.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),d[m]=E}else if(_.canonical.isChildOf(a.canonical)){const E=a.clone();E.posMatrix=new Float64Array(16);const P=_.canonical.z-a.canonical.z,M=_.canonical.x-(_.canonical.x>>P<<P),N=_.canonical.y-(_.canonical.y>>P<<P),U=s.EXTENT>>P;s.ortho(E.posMatrix,0,U,0,U,0,1),s.translate(E.posMatrix,E.posMatrix,[-M*U,-N*U,0]),d[m]=E}else if(a.canonical.isChildOf(_.canonical)){const E=a.clone();E.posMatrix=new Float64Array(16);const P=a.canonical.z-_.canonical.z,M=a.canonical.x-(a.canonical.x>>P<<P),N=a.canonical.y-(a.canonical.y>>P<<P),U=s.EXTENT>>P;s.ortho(E.posMatrix,0,s.EXTENT,0,s.EXTENT,0,1),s.translate(E.posMatrix,E.posMatrix,[M*U,N*U,0]),s.scale(E.posMatrix,E.posMatrix,[1/2**P,1/2**P,0]),d[m]=E}}return d}getSourceTile(a,d){const m=this.sourceCache._source;let _=a.overscaledZ-this.deltaZoom;if(_>m.maxzoom&&(_=m.maxzoom),_<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(_).key);let E=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!E||!E.dem)&&d)for(;_>=m.minzoom&&(!E||!E.dem);)E=this.sourceCache.getTileByID(a.scaledTo(_--).key);return E}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=a)}}class bu{constructor(a,d,m){this.painter=a,this.sourceCache=new Vc(d),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,d,m,_=s.EXTENT){if(!(d>=0&&d<_&&m>=0&&m<_))return 0;let E=0;const P=this.getTerrainData(a);if(P.tile&&P.tile.dem){const M=function(pe,de,we){var Re=de[0],Oe=de[1];return pe[0]=we[0]*Re+we[4]*Oe+we[12],pe[1]=we[1]*Re+we[5]*Oe+we[13],pe}([],[d/_*s.EXTENT,m/_*s.EXTENT],P.u_terrain_matrix),N=[M[0]*P.tile.dem.dim,M[1]*P.tile.dem.dim],U=[Math.floor(N[0]),Math.floor(N[1])],K=P.tile.dem.get(U[0],U[1]),W=P.tile.dem.get(U[0],U[1]+1),ne=P.tile.dem.get(U[0]+1,U[1]),fe=P.tile.dem.get(U[0]+1,U[1]+1);E=s.number(s.number(K,W,N[0]-U[0]),s.number(ne,fe,N[0]-U[0]),N[1]-U[1])}return E}getElevation(a,d,m,_=s.EXTENT){return this.getDEMElevation(a,d,m,_)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){const _=this.painter.context,E=new s.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Fe(_,E,_.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Fe(_,new s.RGBAImage({width:1,height:1}),_.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.identity([])}const d=this.sourceCache.getSourceTile(a,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const _=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new Fe(_,d.dem.getPixels(),_.gl.RGBA,{premultiply:!1}),d.demTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const m=d&&d+d.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){const _=this.sourceCache.sourceCache._source.maxzoom;let E=a.canonical.z-d.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=_?E=a.canonical.z-_:s.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const P=a.canonical.x-(a.canonical.x>>E<<E),M=a.canonical.y-(a.canonical.y>>E<<E),N=s.fromScaling(new Float64Array(16),[1/(s.EXTENT<<E),1/(s.EXTENT<<E),0]);s.translate(N,N,[P*s.EXTENT,M*s.EXTENT,0]),this._demMatrixCache[a.key]={matrix:N,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(a){const d=this.painter,m=d.width/devicePixelRatio,_=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===_||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Fe(d.context,{width:m,height:_,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Fe(d.context,{width:m,height:_,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(m,_,!0),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,m,_))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let E=0,P=0;E<this._coordsTextureSize;E++)for(let M=0;M<this._coordsTextureSize;M++,P+=4)d[P+0]=255&M,d[P+1]=255&E,d[P+2]=M>>8<<4|E>>8,d[P+3]=0;const m=new s.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),_=new Fe(a,m,a.gl.RGBA,{premultiply:!1});return _.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=_,_}pointCoordinate(a){const d=new Uint8Array(4),m=this.painter.context,_=m.gl;m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null);const E=d[0]+(d[2]>>4<<8),P=d[1]+((15&d[2])<<8),M=this.coordsIndex[255-d[3]],N=M&&this.sourceCache.getTileByID(M);if(!N)return null;const U=this._coordsTextureSize,K=(1<<N.tileID.canonical.z)*U;return new s.MercatorCoordinate((N.tileID.canonical.x*U+E)/K,(N.tileID.canonical.y*U+P)/K,this.getElevation(N.tileID,E,P,U))}getTerrainMesh(){if(this._mesh)return this._mesh;const a=this.painter.context,d=new s.Pos3dArray,m=new s.TriangleIndexArray,_=this.meshSize,E=s.EXTENT/_,P=_*_;for(let W=0;W<=_;W++)for(let ne=0;ne<=_;ne++)d.emplaceBack(ne*E,W*E,0);for(let W=0;W<P;W+=_+1)for(let ne=0;ne<_;ne++)m.emplaceBack(ne+W,_+ne+W+1,_+ne+W+2),m.emplaceBack(ne+W,_+ne+W+2,ne+W+1);const M=d.length,N=M+2*(_+1);for(const W of[0,1])for(let ne=0;ne<=_;ne++)for(const fe of[0,1])d.emplaceBack(ne*E,W*s.EXTENT,fe);for(let W=0;W<2*_;W+=2)m.emplaceBack(N+W,N+W+1,N+W+3),m.emplaceBack(N+W,N+W+3,N+W+2),m.emplaceBack(M+W,M+W+3,M+W+1),m.emplaceBack(M+W,M+W+2,M+W+3);const U=d.length,K=U+2*(_+1);for(const W of[0,1])for(let ne=0;ne<=_;ne++)for(const fe of[0,1])d.emplaceBack(W*s.EXTENT,ne*E,fe);for(let W=0;W<2*_;W+=2)m.emplaceBack(U+W,U+W+1,U+W+3),m.emplaceBack(U+W,U+W+3,U+W+2),m.emplaceBack(K+W,K+W+3,K+W+1),m.emplaceBack(K+W,K+W+2,K+W+3);return this._mesh={indexBuffer:a.createIndexBuffer(m),vertexBuffer:a.createVertexBuffer(d,Ml.members),segments:s.SegmentVector.simpleSegment(0,0,d.length,m.length)},this._mesh}getMeshFrameDelta(a){return 2*Math.PI*s.earthRadius/Math.pow(2,a)/5}getMinMaxElevation(a){const d=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return d&&d.dem&&(m.minElevation=d.dem.min*this.exaggeration,m.maxElevation=d.dem.max*this.exaggeration),m}}class Hc{constructor(a,d,m){this._context=a,this._size=d,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0),m=new Fe(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_COMPONENT16,this._tileSize,this._tileSize)),d.colorAttachment.set(m.texture),{id:a,fbo:d,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>a.id!==d),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(const a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}const ua={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class wu{constructor(a,d){this.painter=a,this.terrain=d,this.pool=new Hc(a.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(d)),this._coordsDescendingInv={};for(const m in a.sourceCaches){this._coordsDescendingInv[m]={};const _=a.sourceCaches[m].getVisibleCoordinates();for(const E of _){const P=this.terrain.sourceCache.getTerrainCoords(E);for(const M in P)this._coordsDescendingInv[m][M]||(this._coordsDescendingInv[m][M]=[]),this._coordsDescendingInv[m][M].push(P[M])}}this._coordsDescendingInvStr={};for(const m of a._order){const _=a._layers[m],E=_.source;if(ua[_.type]&&!this._coordsDescendingInvStr[E]){this._coordsDescendingInvStr[E]={};for(const P in this._coordsDescendingInv[E])this._coordsDescendingInvStr[E][P]=this._coordsDescendingInv[E][P].map(M=>M.key).sort().join()}}for(const m of this._renderableTiles)for(const _ in this._coordsDescendingInvStr){const E=this._coordsDescendingInvStr[_][m.tileID.key];E&&E!==m.rttCoords[_]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;const d=a.type,m=this.painter,_=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(ua[d]&&(this._prevType&&ua[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(a.id),!_))return!0;if(ua[this._prevType]||ua[d]&&_){this._prevType=d;const E=this._stacks.length-1,P=this._stacks[E]||[];for(const M of this._renderableTiles){if(this.pool.isFull()&&(Us(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(M),M.rtt[E]){const U=this.pool.getObjectForId(M.rtt[E].id);if(U.stamp===M.rtt[E].stamp){this.pool.useObject(U);continue}}const N=this.pool.getOrCreateFreeObject();this.pool.useObject(N),this.pool.stampObject(N),M.rtt[E]={id:N.id,stamp:N.stamp},m.context.bindFramebuffer.set(N.fbo.framebuffer),m.context.clear({color:s.Color.transparent});for(let U=0;U<P.length;U++){const K=m.style._layers[P[U]],W=K.source?this._coordsDescendingInv[K.source][M.tileID.key]:[M.tileID];m.context.viewport.set([0,0,N.fbo.width,N.fbo.height]),m._renderTileClippingMasks(K,W),m.renderLayer(m,m.style.sourceCaches[K.source],K,W),K.source&&(M.rttCoords[K.source]=this._coordsDescendingInvStr[K.source][M.tileID.key])}}return Us(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),ua[d]}return!1}}const Eu=A,Tr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},cs=v=>{v.touchstart=v.dragStart,v.touchmoveWindow=v.dragMove,v.touchend=v.dragEnd},jc={showCompass:!0,showZoom:!0,visualizePitch:!1};class Bh{constructor(a,d,m=!1){this._clickTolerance=10;const _=a.dragRotate._mouseRotate.getClickTolerance(),E=a.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=_u({clickTolerance:_,enable:!0}),this.touchRotate=(({enable:P,clickTolerance:M,bearingDegreesPerPixelMoved:N=.8})=>{const U=new tr;return new ls({clickTolerance:M,move:(K,W)=>({bearingDelta:(W.x-K.x)*N}),moveStateManager:U,enable:P,assignEvents:cs})})({clickTolerance:_,enable:!0}),this.map=a,m&&(this.mousePitch=Hs({clickTolerance:E,enable:!0}),this.touchPitch=(({enable:P,clickTolerance:M,pitchDegreesPerPixelMoved:N=-.5})=>{const U=new tr;return new ls({clickTolerance:M,move:(K,W)=>({pitchDelta:(W.y-K.y)*N}),moveStateManager:U,enable:P,assignEvents:cs})})({clickTolerance:E,enable:!0})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),O.addEventListener(d,"mousedown",this.mousedown),O.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),O.addEventListener(d,"touchcancel",this.reset)}startMouse(a,d){this.mouseRotate.dragStart(a,d),this.mousePitch&&this.mousePitch.dragStart(a,d),O.disableDrag()}startTouch(a,d){this.touchRotate.dragStart(a,d),this.touchPitch&&this.touchPitch.dragStart(a,d),O.disableDrag()}moveMouse(a,d){const m=this.map,{bearingDelta:_}=this.mouseRotate.dragMove(a,d)||{};if(_&&m.setBearing(m.getBearing()+_),this.mousePitch){const{pitchDelta:E}=this.mousePitch.dragMove(a,d)||{};E&&m.setPitch(m.getPitch()+E)}}moveTouch(a,d){const m=this.map,{bearingDelta:_}=this.touchRotate.dragMove(a,d)||{};if(_&&m.setBearing(m.getBearing()+_),this.touchPitch){const{pitchDelta:E}=this.touchPitch.dragMove(a,d)||{};E&&m.setPitch(m.getPitch()+E)}}off(){const a=this.element;O.removeEventListener(a,"mousedown",this.mousedown),O.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend),O.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){O.enableDrag(),O.removeEventListener(window,"mousemove",this.mousemove),O.removeEventListener(window,"mouseup",this.mouseup),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend)}mousedown(a){this.startMouse(s.extend({},a,{ctrlKey:!0,preventDefault:()=>a.preventDefault()}),O.mousePos(this.element,a)),O.addEventListener(window,"mousemove",this.mousemove),O.addEventListener(window,"mouseup",this.mouseup)}mousemove(a){this.moveMouse(a,O.mousePos(this.element,a))}mouseup(a){this.mouseRotate.dragEnd(a),this.mousePitch&&this.mousePitch.dragEnd(a),this.offTemp()}touchstart(a){a.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=O.touchPos(this.element,a.targetTouches)[0],this.startTouch(a,this._startPos),O.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.addEventListener(window,"touchend",this.touchend))}touchmove(a){a.targetTouches.length!==1?this.reset():(this._lastPos=O.touchPos(this.element,a.targetTouches)[0],this.moveTouch(a,this._lastPos))}touchend(a){a.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function $c(v,a,d){if(v=new s.LngLat(v.lng,v.lat),a){const m=new s.LngLat(v.lng-360,v.lat),_=new s.LngLat(v.lng+360,v.lat),E=d.locationPoint(v).distSqr(a);d.locationPoint(m).distSqr(a)<E?v=m:d.locationPoint(_).distSqr(a)<E&&(v=_)}for(;Math.abs(v.lng-d.center.lng)>180;){const m=d.locationPoint(v);if(m.x>=0&&m.y>=0&&m.x<=d.width&&m.y<=d.height)break;v.lng>d.center.lng?v.lng-=360:v.lng+=360}return v}const Gs={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Su(v,a,d){const m=v.classList;for(const _ in Gs)m.remove(`maplibregl-${d}-anchor-${_}`);m.add(`maplibregl-${d}-anchor-${a}`)}class Tu extends s.Evented{constructor(a,d){if(super(),(a instanceof HTMLElement||d)&&(a=s.extend({element:a},d)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,a&&a.element)this._element=a.element,this._offset=s.pointGeometry.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=O.create("div"),this._element.setAttribute("aria-label","Map marker");const m=O.createNS("http://www.w3.org/2000/svg","svg"),_=41,E=27;m.setAttributeNS(null,"display","block"),m.setAttributeNS(null,"height",`${_}px`),m.setAttributeNS(null,"width",`${E}px`),m.setAttributeNS(null,"viewBox",`0 0 ${E} ${_}`);const P=O.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"stroke","none"),P.setAttributeNS(null,"stroke-width","1"),P.setAttributeNS(null,"fill","none"),P.setAttributeNS(null,"fill-rule","evenodd");const M=O.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"fill-rule","nonzero");const N=O.createNS("http://www.w3.org/2000/svg","g");N.setAttributeNS(null,"transform","translate(3.0, 29.0)"),N.setAttributeNS(null,"fill","#000000");const U=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Oe of U){const ye=O.createNS("http://www.w3.org/2000/svg","ellipse");ye.setAttributeNS(null,"opacity","0.04"),ye.setAttributeNS(null,"cx","10.5"),ye.setAttributeNS(null,"cy","5.80029008"),ye.setAttributeNS(null,"rx",Oe.rx),ye.setAttributeNS(null,"ry",Oe.ry),N.appendChild(ye)}const K=O.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"fill",this._color);const W=O.createNS("http://www.w3.org/2000/svg","path");W.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),K.appendChild(W);const ne=O.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"opacity","0.25"),ne.setAttributeNS(null,"fill","#000000");const fe=O.createNS("http://www.w3.org/2000/svg","path");fe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ne.appendChild(fe);const pe=O.createNS("http://www.w3.org/2000/svg","g");pe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),pe.setAttributeNS(null,"fill","#FFFFFF");const de=O.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(8.0, 8.0)");const we=O.createNS("http://www.w3.org/2000/svg","circle");we.setAttributeNS(null,"fill","#000000"),we.setAttributeNS(null,"opacity","0.25"),we.setAttributeNS(null,"cx","5.5"),we.setAttributeNS(null,"cy","5.5"),we.setAttributeNS(null,"r","5.4999962");const Re=O.createNS("http://www.w3.org/2000/svg","circle");Re.setAttributeNS(null,"fill","#FFFFFF"),Re.setAttributeNS(null,"cx","5.5"),Re.setAttributeNS(null,"cy","5.5"),Re.setAttributeNS(null,"r","5.4999962"),de.appendChild(we),de.appendChild(Re),M.appendChild(N),M.appendChild(K),M.appendChild(ne),M.appendChild(pe),M.appendChild(de),m.appendChild(M),m.setAttributeNS(null,"height",_*this._scale+"px"),m.setAttributeNS(null,"width",E*this._scale+"px"),this._element.appendChild(m),this._offset=s.pointGeometry.convert(a&&a.offset||[0,-14])}this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",m=>{m.preventDefault()}),this._element.addEventListener("mousedown",m=>{m.preventDefault()}),Su(this._element,this._anchor,"marker"),this._popup=null}addTo(a){return this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),O.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=s.LngLat.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const _=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(a){const d=a.code,m=a.charCode||a.keyCode;d!=="Space"&&d!=="Enter"&&m!==32&&m!==13||this.togglePopup()}_onMapClick(a){const d=a.originalEvent.target,m=this._element;this._popup&&(d===m||m.contains(d))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?a.remove():a.addTo(this._map),this):this}_update(a){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=$c(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let d="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?d=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(d=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let m="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?m="rotateX(0deg)":this._pitchAlignment==="map"&&(m=`rotateX(${this._map.getPitch()}deg)`),a&&a.type!=="moveend"||(this._pos=this._pos.round()),O.setTransform(this._element,`${Gs[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${m} ${d}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const _=this._map.unproject(this._pos),E=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=_.distanceTo(this._lngLat)>20*E?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(a){return this._offset=s.pointGeometry.convert(a),this._update(),this}_onMove(a){if(!this._isDragging){const d=this._clickTolerance||this._map._clickTolerance;this._isDragging=a.point.dist(this._pointerdownPos)>=d}this._isDragging&&(this._pos=a.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(a){this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(this._pos).add(this._offset),this._pointerdownPos=a.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Om={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Dl,Gc=0,Iu=!1;const Cm={maxWidth:100,unit:"metric"};function mf(v,a,d){const m=d&&d.maxWidth||100,_=v._container.clientHeight/2,E=v.unproject([0,_]),P=v.unproject([m,_]),M=E.distanceTo(P);if(d&&d.unit==="imperial"){const N=3.2808*M;N>5280?qc(a,m,N/5280,v._getUIString("ScaleControl.Miles")):qc(a,m,N,v._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?qc(a,m,M/1852,v._getUIString("ScaleControl.NauticalMiles")):M>=1e3?qc(a,m,M/1e3,v._getUIString("ScaleControl.Kilometers")):qc(a,m,M,v._getUIString("ScaleControl.Meters"))}function qc(v,a,d,m){const _=function(E){const P=Math.pow(10,`${Math.floor(E)}`.length-1);let M=E/P;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:function(N){const U=Math.pow(10,Math.ceil(-Math.log(N)/Math.LN10));return Math.round(N*U)/U}(M),P*M}(d);v.style.width=a*(_/d)+"px",v.innerHTML=`${_}&nbsp;${m}`}const F_={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},U_=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Rm(v){if(v){if(typeof v=="number"){const a=Math.round(Math.sqrt(.5*Math.pow(v,2)));return{center:new s.pointGeometry(0,0),top:new s.pointGeometry(0,v),"top-left":new s.pointGeometry(a,a),"top-right":new s.pointGeometry(-a,a),bottom:new s.pointGeometry(0,-v),"bottom-left":new s.pointGeometry(a,-a),"bottom-right":new s.pointGeometry(-a,-a),left:new s.pointGeometry(v,0),right:new s.pointGeometry(-v,0)}}if(v instanceof s.pointGeometry||Array.isArray(v)){const a=s.pointGeometry.convert(v);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:s.pointGeometry.convert(v.center||[0,0]),top:s.pointGeometry.convert(v.top||[0,0]),"top-left":s.pointGeometry.convert(v["top-left"]||[0,0]),"top-right":s.pointGeometry.convert(v["top-right"]||[0,0]),bottom:s.pointGeometry.convert(v.bottom||[0,0]),"bottom-left":s.pointGeometry.convert(v["bottom-left"]||[0,0]),"bottom-right":s.pointGeometry.convert(v["bottom-right"]||[0,0]),left:s.pointGeometry.convert(v.left||[0,0]),right:s.pointGeometry.convert(v.right||[0,0])}}return Rm(new s.pointGeometry(0,0))}const V_=A,qs={supported:y,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends Tn{constructor(v){var a;if(s.PerformanceUtils.mark(s.PerformanceMarkers.create),(v=s.extend({},Tr,v)).minZoom!=null&&v.maxZoom!=null&&v.minZoom>v.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(v.minPitch!=null&&v.maxPitch!=null&&v.minPitch>v.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(v.minPitch!=null&&v.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(v.maxPitch!=null&&v.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Ma(v.minZoom,v.maxZoom,v.minPitch,v.maxPitch,v.renderWorldCopies),{bearingSnap:v.bearingSnap}),this._interactive=v.interactive,this._cooperativeGestures=v.cooperativeGestures,this._maxTileCacheSize=v.maxTileCacheSize,this._failIfMajorPerformanceCaveat=v.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=v.preserveDrawingBuffer,this._antialias=v.antialias,this._trackResize=v.trackResize,this._bearingSnap=v.bearingSnap,this._refreshExpiredTiles=v.refreshExpiredTiles,this._fadeDuration=v.fadeDuration,this._crossSourceCollisions=v.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=v.collectResourceTiming,this._renderTaskQueue=new $s,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Fo,v.locale),this._clickTolerance=v.clickTolerance,this._pixelRatio=(a=v.pixelRatio)!==null&&a!==void 0?a:devicePixelRatio,this._imageQueueHandle=J.addThrottleControl(()=>this.isMoving()),this._requestManager=new ee(v.transformRequest),typeof v.container=="string"){if(this._container=document.getElementById(v.container),!this._container)throw new Error(`Container '${v.container}' not found.`)}else{if(!(v.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=v.container}v.maxBounds&&this.setMaxBounds(v.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Pt(this,v),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=v.hash&&new Dh(typeof v.hash=="string"&&v.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch}),v.bounds&&(this.resize(),this.fitBounds(v.bounds,s.extend({},v.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=v.localIdeographFontFamily,v.style&&this.setStyle(v.style,{localIdeographFontFamily:v.localIdeographFontFamily}),v.attributionControl&&this.addControl(new ci({customAttribution:v.customAttribution})),v.maplibreLogo&&this.addControl(new Bo,v.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new s.Event(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new s.Event(`${d.dataType}dataloading`,d))}),this.on("dataabort",d=>{this.fire(new s.Event("sourcedataabort",d))})}_getMapId(){return this._mapId}addControl(v,a){if(a===void 0&&(a=v.getDefaultPosition?v.getDefaultPosition():"top-right"),!v||!v.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=v.onAdd(this);this._controls.push(v);const m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(d,m.firstChild):m.appendChild(d),this}removeControl(v){if(!v||!v.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(v);return a>-1&&this._controls.splice(a,1),v.onRemove(this),this}hasControl(v){return this._controls.indexOf(v)>-1}calculateCameraOptionsFromTo(v,a,d,m){return m==null&&this.terrain&&(m=this.transform.getElevation(d,this.terrain)),super.calculateCameraOptionsFromTo(v,a,d,m)}resize(v){const a=this._containerDimensions(),d=a[0],m=a[1];this._resizeCanvas(d,m,this.getPixelRatio()),this.transform.resize(d,m),this.painter.resize(d,m,this.getPixelRatio());const _=!this._moving;return _&&(this.stop(),this.fire(new s.Event("movestart",v)).fire(new s.Event("move",v))),this.fire(new s.Event("resize",v)),_&&this.fire(new s.Event("moveend",v)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(v){const[a,d]=this._containerDimensions();this._pixelRatio=v,this._resizeCanvas(a,d,v),this.painter.resize(a,d,v)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(v){return this.transform.setMaxBounds(s.LngLatBounds.convert(v)),this._update()}setMinZoom(v){if((v=v??-2)>=-2&&v<=this.transform.maxZoom)return this.transform.minZoom=v,this._update(),this.getZoom()<v&&this.setZoom(v),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(v){if((v=v??22)>=this.transform.minZoom)return this.transform.maxZoom=v,this._update(),this.getZoom()>v&&this.setZoom(v),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(v){if((v=v??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(v>=0&&v<=this.transform.maxPitch)return this.transform.minPitch=v,this._update(),this.getPitch()<v&&this.setPitch(v),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(v){if((v=v??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(v>=this.transform.minPitch)return this.transform.maxPitch=v,this._update(),this.getPitch()>v&&this.setPitch(v),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(v){return this.transform.renderWorldCopies=v,this._update()}project(v){return this.transform.locationPoint(s.LngLat.convert(v),this.style&&this.terrain)}unproject(v){return this.transform.pointLocation(s.pointGeometry.convert(v),this.terrain)}isMoving(){var v;return this._moving||((v=this.handlers)===null||v===void 0?void 0:v.isMoving())}isZooming(){var v;return this._zooming||((v=this.handlers)===null||v===void 0?void 0:v.isZooming())}isRotating(){var v;return this._rotating||((v=this.handlers)===null||v===void 0?void 0:v.isRotating())}_createDelegatedListener(v,a,d){if(v==="mouseenter"||v==="mouseover"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:E=>{const P=this.getLayer(a)?this.queryRenderedFeatures(E.point,{layers:[a]}):[];P.length?m||(m=!0,d.call(this,new Ji(v,this,E.originalEvent,{features:P}))):m=!1},mouseout:()=>{m=!1}}}}if(v==="mouseleave"||v==="mouseout"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:P=>{(this.getLayer(a)?this.queryRenderedFeatures(P.point,{layers:[a]}):[]).length?m=!0:m&&(m=!1,d.call(this,new Ji(v,this,P.originalEvent)))},mouseout:P=>{m&&(m=!1,d.call(this,new Ji(v,this,P.originalEvent)))}}}}{const m=_=>{const E=this.getLayer(a)?this.queryRenderedFeatures(_.point,{layers:[a]}):[];E.length&&(_.features=E,d.call(this,_),delete _.features)};return{layer:a,listener:d,delegates:{[v]:m}}}}on(v,a,d){if(d===void 0)return super.on(v,a);const m=this._createDelegatedListener(v,a,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[v]=this._delegatedListeners[v]||[],this._delegatedListeners[v].push(m);for(const _ in m.delegates)this.on(_,m.delegates[_]);return this}once(v,a,d){if(d===void 0)return super.once(v,a);const m=this._createDelegatedListener(v,a,d);for(const _ in m.delegates)this.once(_,m.delegates[_]);return this}off(v,a,d){return d===void 0?super.off(v,a):(this._delegatedListeners&&this._delegatedListeners[v]&&(m=>{const _=this._delegatedListeners[v];for(let E=0;E<_.length;E++){const P=_[E];if(P.layer===a&&P.listener===d){for(const M in P.delegates)this.off(M,P.delegates[M]);return _.splice(E,1),this}}})(),this)}queryRenderedFeatures(v,a){if(!this.style)return[];let d;const m=v instanceof s.pointGeometry||Array.isArray(v),_=m?v:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:v)||{},_ instanceof s.pointGeometry||typeof _[0]=="number")d=[s.pointGeometry.convert(_)];else{const E=s.pointGeometry.convert(_[0]),P=s.pointGeometry.convert(_[1]);d=[E,new s.pointGeometry(P.x,E.y),P,new s.pointGeometry(E.x,P.y),E]}return this.style.queryRenderedFeatures(d,a,this.transform)}querySourceFeatures(v,a){return this.style.querySourceFeatures(v,a)}setStyle(v,a){return(a=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&v?(this._diffStyle(v,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(v,a))}setTransformRequest(v){return this._requestManager.setTransformRequest(v),this}_getUIString(v){const a=this._locale[v];if(a==null)throw new Error(`Missing UI string '${v}'`);return a}_updateStyle(v,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(v,a));const d=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!v)),v?(this.style=new Wi(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof v=="string"?this.style.loadURL(v,a,d):this.style.loadJSON(v,a,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Wi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(v,a){if(typeof v=="string"){const d=this._requestManager.transformRequest(v,Q.Style);s.getJSON(d,(m,_)=>{m?this.fire(new s.ErrorEvent(m)):_&&this._updateDiff(_,a)})}else typeof v=="object"&&this._updateDiff(v,a)}_updateDiff(v,a){try{this.style.setState(v,a)&&this._update(!0)}catch(d){s.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(v,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")}addSource(v,a){return this._lazyInitEmptyStyle(),this.style.addSource(v,a),this._update(!0)}isSourceLoaded(v){const a=this.style&&this.style.sourceCaches[v];if(a!==void 0)return a.loaded();this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${v}'`)))}setTerrain(v){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),v){const a=this.style.sourceCaches[v.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${v.source}`);this.terrain=new bu(this.painter,a,v),this.painter.renderToTexture=new wu(this.painter,this.terrain),this.transform.updateElevation(this.terrain),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId===v.source&&this.transform.updateElevation(this.terrain),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.updateElevation(this.terrain);return this.fire(new s.Event("terrain",{terrain:v})),this}getTerrain(){return this.terrain&&this.terrain.options}areTilesLoaded(){const v=this.style&&this.style.sourceCaches;for(const a in v){const d=v[a]._tiles;for(const m in d){const _=d[m];if(_.state!=="loaded"&&_.state!=="errored")return!1}}return!0}addSourceType(v,a,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(v,a,d)}removeSource(v){return this.style.removeSource(v),this._update(!0)}getSource(v){return this.style.getSource(v)}addImage(v,a,{pixelRatio:d=1,sdf:m=!1,stretchX:_,stretchY:E,content:P}={}){if(this._lazyInitEmptyStyle(),a instanceof HTMLImageElement||s.isImageBitmap(a)){const{width:M,height:N,data:U}=s.exported.getImageData(a);this.style.addImage(v,{data:new s.RGBAImage({width:M,height:N},U),pixelRatio:d,stretchX:_,stretchY:E,content:P,sdf:m,version:0})}else{if(a.width===void 0||a.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:M,height:N,data:U}=a,K=a;this.style.addImage(v,{data:new s.RGBAImage({width:M,height:N},new Uint8Array(U)),pixelRatio:d,stretchX:_,stretchY:E,content:P,sdf:m,version:0,userImage:K}),K.onAdd&&K.onAdd(this,v)}}}updateImage(v,a){const d=this.style.getImage(v);if(!d)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=a instanceof HTMLImageElement||s.isImageBitmap(a)?s.exported.getImageData(a):a,{width:_,height:E,data:P}=m;if(_===void 0||E===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==d.data.width||E!==d.data.height)return this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const M=!(a instanceof HTMLImageElement||s.isImageBitmap(a));d.data.replace(P,M),this.style.updateImage(v,d)}hasImage(v){return v?!!this.style.getImage(v):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(v){this.style.removeImage(v)}loadImage(v,a){J.getImage(this._requestManager.transformRequest(v,Q.Image),a)}listImages(){return this.style.listImages()}addLayer(v,a){return this._lazyInitEmptyStyle(),this.style.addLayer(v,a),this._update(!0)}moveLayer(v,a){return this.style.moveLayer(v,a),this._update(!0)}removeLayer(v){return this.style.removeLayer(v),this._update(!0)}getLayer(v){return this.style.getLayer(v)}setLayerZoomRange(v,a,d){return this.style.setLayerZoomRange(v,a,d),this._update(!0)}setFilter(v,a,d={}){return this.style.setFilter(v,a,d),this._update(!0)}getFilter(v){return this.style.getFilter(v)}setPaintProperty(v,a,d,m={}){return this.style.setPaintProperty(v,a,d,m),this._update(!0)}getPaintProperty(v,a){return this.style.getPaintProperty(v,a)}setLayoutProperty(v,a,d,m={}){return this.style.setLayoutProperty(v,a,d,m),this._update(!0)}getLayoutProperty(v,a){return this.style.getLayoutProperty(v,a)}setGlyphs(v,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(v,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(v,a,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(v,a,d,m=>{m||this._update(!0)}),this}removeSprite(v){return this._lazyInitEmptyStyle(),this.style.removeSprite(v),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(v,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(v,a,d=>{d||this._update(!0)}),this}setLight(v,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(v,a),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(v,a){return this.style.setFeatureState(v,a),this._update()}removeFeatureState(v,a){return this.style.removeFeatureState(v,a),this._update()}getFeatureState(v){return this.style.getFeatureState(v)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let v=0,a=0;return this._container&&(v=this._container.clientWidth||400,a=this._container.clientHeight||300),[v,a]}_setupContainer(){const v=this._container;v.classList.add("maplibregl-map");const a=this._canvasContainer=O.create("div","maplibregl-canvas-container",v);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=O.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions();this._resizeCanvas(d[0],d[1],this.getPixelRatio());const m=this._controlContainer=O.create("div","maplibregl-control-container",v),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{_[E]=O.create("div",`maplibregl-ctrl-${E} `,m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const v=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=O.create("div","maplibregl-cooperative-gesture-screen",v);let a="Control",d=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(d=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map",a="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${d}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",m=>{m.key===a&&(this._metaPress=!0)}),document.addEventListener("keyup",m=>{m.key===a&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",m=>{this._onCooperativeGesture(m,this._metaPress,1)},!1),this._canvasContainer.classList.remove("maplibregl-touch-drag-pan")}_resizeCanvas(v,a,d){this._canvas.width=d*v,this._canvas.height=d*a,this._canvas.style.width=`${v}px`,this._canvas.style.height=`${a}px`}_setupPainter(){const v=s.extend({},y.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1});let a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:v},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});const d=this._canvas.getContext("webgl",v)||this._canvas.getContext("experimental-webgl",v);if(!d){const m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new po(d,this.transform),z.testSupport(d)}_contextLost(v){v.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:v}))}_contextRestored(v){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:v}))}_onMapScroll(v){if(v.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(v,a,d){return!a&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(v){return this.style?(this._styleDirty=this._styleDirty||v,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(v){return this._update(),this._renderTaskQueue.add(v)}_cancelRenderFrame(v){this._renderTaskQueue.remove(v)}_render(v){let a,d=0;const m=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(a=m.createQueryEXT(),m.beginQueryEXT(m.TIME_ELAPSED_EXT,a),d=s.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(v),this._removed)return;let _=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const P=this.transform.zoom,M=s.exported.now();this.style.zoomHistory.update(P,M);const N=new s.EvaluationParameters(P,{now:M,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),U=N.crossFadingFactor();U===1&&U===this._crossFadingFactor||(_=!0,this._crossFadingFactor=U),this.style.update(N)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain&&this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.updateElevation(this.terrain),this._imageQueueDirty=J.processQueue()>0,this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.PerformanceUtils.mark(s.PerformanceMarkers.load),this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||_)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const P=s.exported.now()-d;m.endQueryEXT(m.TIME_ELAPSED_EXT,a),setTimeout(()=>{const M=m.getQueryObjectEXT(a,m.QUERY_RESULT_EXT)/1e6;m.deleteQueryEXT(a),this.fire(new s.Event("gpu-timing-frame",{cpuTime:P,gpuTime:M}))},50)}if(this.listens("gpu-timing-layer")){const P=this.painter.collectGpuTimers();setTimeout(()=>{const M=this.painter.queryGpuTimers(P);this.fire(new s.Event("gpu-timing-layer",{layerTimes:M}))},50)}const E=this._sourcesDirty||this._styleDirty||this._placementDirty||this._imageQueueDirty;return E||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),!this._loaded||this._fullyLoaded||E||(this._fullyLoaded=!0,s.PerformanceUtils.mark(s.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const a of this._controls)a.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1)),J.removeThrottleControl(this._imageQueueHandle);const v=this.painter.context.gl.getExtension("WEBGL_lose_context");v&&v.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),O.remove(this._canvasContainer),O.remove(this._controlContainer),this._cooperativeGestures&&O.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map"),s.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=s.exported.frame(v=>{s.PerformanceUtils.frame(v),this._frame=null,this._render(v)}))}_onWindowOnline(){this._update()}_onWindowResize(v){this._trackResize&&this.resize({originalEvent:v})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(v){this._showTileBoundaries!==v&&(this._showTileBoundaries=v,this._update())}get showPadding(){return!!this._showPadding}set showPadding(v){this._showPadding!==v&&(this._showPadding=v,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(v){this._showCollisionBoxes!==v&&(this._showCollisionBoxes=v,v?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(v){this._showOverdrawInspector!==v&&(this._showOverdrawInspector=v,this._update())}get repaint(){return!!this._repaint}set repaint(v){this._repaint!==v&&(this._repaint=v,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(v){this._vertices=v,this._update()}get version(){return Eu}getCameraTargetElevation(){return this.transform.elevation}},NavigationControl:class{constructor(v){this.options=s.extend({},jc,v),this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),O.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),O.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=O.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const v=this._map.getZoom(),a=v===this._map.getMaxZoom(),d=v===this._map.getMinZoom();this._zoomInButton.disabled=a,this._zoomOutButton.disabled=d,this._zoomInButton.setAttribute("aria-disabled",a.toString()),this._zoomOutButton.setAttribute("aria-disabled",d.toString())}_rotateCompassArrow(){const v=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=v}onAdd(v){return this._map=v,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Bh(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){O.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(v,a){const d=O.create("button",v,this._container);return d.type="button",d.addEventListener("click",a),d}_setButtonTitle(v,a){const d=this._map._getUIString(`NavigationControl.${a}`);v.title=d,v.setAttribute("aria-label",d)}},GeolocateControl:class extends s.Evented{constructor(v){super(),this.options=s.extend({},Om,v),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(v){var a;return this._map=v,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),a=this._setupUI,Dl!==void 0?a(Dl):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(d=>{Dl=d.state!=="denied",a(Dl)}):(Dl=!!window.navigator.geolocation,a(Dl)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),O.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Gc=0,Iu=!1}_isOutOfMapMaxBounds(v){const a=this._map.getMaxBounds(),d=v.coords;return a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(v){if(this._map){if(this._isOutOfMapMaxBounds(v))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",v)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=v,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(v),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(v),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.Event("geolocate",v)),this._finish()}}_updateCamera(v){const a=new s.LngLat(v.coords.longitude,v.coords.latitude),d=v.coords.accuracy,m=this._map.getBearing(),_=s.extend({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(a.toBounds(d),_,{geolocateSource:!0})}_updateMarker(v){if(v){const a=new s.LngLat(v.coords.longitude,v.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=v.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const v=this._map._container.clientHeight/2,a=this._map.unproject([0,v]),d=this._map.unproject([1,v]),m=a.distanceTo(d),_=Math.ceil(2*this._accuracy/m);this._circleElement.style.width=`${_}px`,this._circleElement.style.height=`${_}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(v){if(this._map){if(this.options.trackUserLocation)if(v.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(v.code===3&&Iu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.Event("error",v)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(v){if(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=O.create("button","maplibregl-ctrl-geolocate",this._container),O.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",v===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}else{const a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=O.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Tu(this._dotElement),this._circleElement=O.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Tu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",a=>{a.geolocateSource||this._watchState!=="ACTIVE_LOCK"||a.originalEvent&&a.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Gc--,Iu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let v;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Gc++,Gc>1?(v={maximumAge:6e5,timeout:0},Iu=!0):(v=this.options.positionOptions,Iu=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,v)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:ci,LogoControl:Bo,ScaleControl:class{constructor(v){this.options=s.extend({},Cm,v),s.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){mf(this._map,this._container,this.options)}onAdd(v){return this._map=v,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-scale",v.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){O.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(v){this.options.unit=v,mf(this._map,this._container,this.options)}},FullscreenControl:class extends s.Evented{constructor(v={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,v&&v.container&&(v.container instanceof HTMLElement?this._container=v.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(v){return this._map=v,this._container||(this._container=this._map.getContainer()),this._controlContainer=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){O.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const v=this._fullscreenButton=O.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);O.create("span","maplibregl-ctrl-icon",v).setAttribute("aria-hidden","true"),v.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const v=this._getTitle();this._fullscreenButton.setAttribute("aria-label",v),this._fullscreenButton.title=v}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this.fire(new s.Event(this._fullscreen?"fullscreenstart":"fullscreenend"))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},TerrainControl:class{constructor(v){this.options=v,s.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(v){return this._map=v,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=O.create("button","maplibregl-ctrl-terrain",this._container),O.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){O.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends s.Evented{constructor(v){super(),this.options=s.extend(Object.create(F_),v),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(v){return this._map&&this.remove(),this._map=v,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&O.remove(this._content),this._container&&(O.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(v){return this._lngLat=s.LngLat.convert(v),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(v){return this.setDOMContent(document.createTextNode(v))}setHTML(v){const a=document.createDocumentFragment(),d=document.createElement("body");let m;for(d.innerHTML=v;m=d.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(v){return this.options.maxWidth=v,this._update(),this}setDOMContent(v){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=O.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(v),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(v){this._container&&this._container.classList.add(v)}removeClassName(v){this._container&&this._container.classList.remove(v)}setOffset(v){return this.options.offset=v,this._update(),this}toggleClassName(v){if(this._container)return this._container.classList.toggle(v)}_createCloseButton(){this.options.closeButton&&(this._closeButton=O.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(v){this._update(v.point)}_onMouseMove(v){this._update(v.point)}_onDrag(v){this._update(v.point)}_update(v){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=O.create("div","maplibregl-popup",this._map.getContainer()),this._tip=O.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(E=>this._container.classList.add(E)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=$c(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!v))return;const a=this._pos=this._trackPointer&&v?v:this._map.project(this._lngLat);let d=this.options.anchor;const m=Rm(this.options.offset);if(!d){const E=this._container.offsetWidth,P=this._container.offsetHeight;let M;M=a.y+m.bottom.y<P?["top"]:a.y>this._map.transform.height-P?["bottom"]:[],a.x<E/2?M.push("left"):a.x>this._map.transform.width-E/2&&M.push("right"),d=M.length===0?"bottom":M.join("-")}const _=a.add(m[d]).round();O.setTransform(this._container,`${Gs[d]} translate(${_.x}px,${_.y}px)`),Su(this._container,d,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const v=this._container.querySelector(U_);v&&v.focus()}_onClose(){this.remove()}},Marker:Tu,Style:Wi,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,AJAXError:s.AJAXError,config:s.config,CanvasSource:un,GeoJSONSource:_t,ImageSource:Wt,RasterDEMTileSource:Xe,RasterTileSource:en,VectorTileSource:lt,VideoSource:Zt,prewarm:function(){Xo().acquire(Xr)},clearPrewarmedResources:function(){const v=Cn;v&&(v.isPreloaded()&&v.numActive()===1?(v.release(Xr),Cn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return V_},get workerCount(){return Ln.workerCount},set workerCount(v){Ln.workerCount=v},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(v){s.config.MAX_PARALLEL_IMAGE_REQUESTS=v},workerUrl:"",addProtocol(v,a){s.config.REGISTERED_PROTOCOLS[v]=a},removeProtocol(v){delete s.config.REGISTERED_PROTOCOLS[v]}};return on.extend(qs,{isSafari:s.isSafari,getPerformanceMetrics:s.PerformanceUtils.getPerformanceMetrics}),qs});var f=i;return f})})(q9);const uM="3.7.5",W9=uM,Z9=typeof atob=="function",K9=typeof btoa=="function",hf=typeof Buffer=="function",YA=typeof TextDecoder=="function"?new TextDecoder:void 0,JA=typeof TextEncoder=="function"?new TextEncoder:void 0,X9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",sp=Array.prototype.slice.call(X9),Vg=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(sp),Y9=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ui=String.fromCharCode.bind(String),QA=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),cM=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),hM=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),dM=e=>{let t,n,r,i,u="";const f=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,u+=sp[t>>18&63]+sp[t>>12&63]+sp[t>>6&63]+sp[t&63]}return f?u.slice(0,f-3)+"===".substring(f):u},yE=K9?e=>btoa(e):hf?e=>Buffer.from(e,"binary").toString("base64"):dM,Pb=hf?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,i=e.length;r<i;r+=4096)n.push(Ui.apply(null,e.subarray(r,r+4096)));return yE(n.join(""))},yv=(e,t=!1)=>t?cM(Pb(e)):Pb(e),J9=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Ui(192|t>>>6)+Ui(128|t&63):Ui(224|t>>>12&15)+Ui(128|t>>>6&63)+Ui(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Ui(240|t>>>18&7)+Ui(128|t>>>12&63)+Ui(128|t>>>6&63)+Ui(128|t&63)}},Q9=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,fM=e=>e.replace(Q9,J9),eP=hf?e=>Buffer.from(e,"utf8").toString("base64"):JA?e=>Pb(JA.encode(e)):e=>yE(fM(e)),Nd=(e,t=!1)=>t?cM(eP(e)):eP(e),tP=e=>Nd(e,!0),eq=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,tq=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Ui((n>>>10)+55296)+Ui((n&1023)+56320);case 3:return Ui((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Ui((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},pM=e=>e.replace(eq,tq),mM=e=>{if(e=e.replace(/\s+/g,""),!Y9.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,i;for(let u=0;u<e.length;)t=Vg[e.charAt(u++)]<<18|Vg[e.charAt(u++)]<<12|(r=Vg[e.charAt(u++)])<<6|(i=Vg[e.charAt(u++)]),n+=r===64?Ui(t>>16&255):i===64?Ui(t>>16&255,t>>8&255):Ui(t>>16&255,t>>8&255,t&255);return n},_E=Z9?e=>atob(hM(e)):hf?e=>Buffer.from(e,"base64").toString("binary"):mM,gM=hf?e=>QA(Buffer.from(e,"base64")):e=>QA(_E(e).split("").map(t=>t.charCodeAt(0))),vM=e=>gM(yM(e)),nq=hf?e=>Buffer.from(e,"base64").toString("utf8"):YA?e=>YA.decode(gM(e)):e=>pM(_E(e)),yM=e=>hM(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Ob=e=>nq(yM(e)),rq=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},_M=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),xM=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,_M(n));e("fromBase64",function(){return Ob(this)}),e("toBase64",function(t){return Nd(this,t)}),e("toBase64URI",function(){return Nd(this,!0)}),e("toBase64URL",function(){return Nd(this,!0)}),e("toUint8Array",function(){return vM(this)})},bM=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,_M(n));e("toBase64",function(t){return yv(this,t)}),e("toBase64URI",function(){return yv(this,!0)}),e("toBase64URL",function(){return yv(this,!0)})},iq=()=>{xM(),bM()},oq={version:uM,VERSION:W9,atob:_E,atobPolyfill:mM,btoa:yE,btoaPolyfill:dM,fromBase64:Ob,toBase64:Nd,encode:Nd,encodeURI:tP,encodeURL:tP,utob:fM,btou:pM,decode:Ob,isValid:rq,fromUint8Array:yv,toUint8Array:vM,extendString:xM,extendUint8Array:bM,extendBuiltins:iq};let Hg;const aq=new Uint8Array(16);function sq(){if(!Hg&&(Hg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hg(aq)}const Di=[];for(let e=0;e<256;++e)Di.push((e+256).toString(16).slice(1));function lq(e,t=0){return(Di[e[t+0]]+Di[e[t+1]]+Di[e[t+2]]+Di[e[t+3]]+"-"+Di[e[t+4]]+Di[e[t+5]]+"-"+Di[e[t+6]]+Di[e[t+7]]+"-"+Di[e[t+8]]+Di[e[t+9]]+"-"+Di[e[t+10]]+Di[e[t+11]]+Di[e[t+12]]+Di[e[t+13]]+Di[e[t+14]]+Di[e[t+15]]).toLowerCase()}const uq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nP={randomUUID:uq};function cq(e,t,n){if(nP.randomUUID&&!t&&!e)return nP.randomUUID();e=e||{};const r=e.random||(e.rng||sq)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return lq(r)}var Ly={},hq={get exports(){return Ly},set exports(e){Ly=e}},zd=typeof Reflect=="object"?Reflect:null,rP=zd&&typeof zd.apply=="function"?zd.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},_v;zd&&typeof zd.ownKeys=="function"?_v=zd.ownKeys:Object.getOwnPropertySymbols?_v=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:_v=function(t){return Object.getOwnPropertyNames(t)};function dq(e){console&&console.warn&&console.warn(e)}var wM=Number.isNaN||function(t){return t!==t};function xr(){xr.init.call(this)}hq.exports=xr;Ly.once=gq;xr.EventEmitter=xr;xr.prototype._events=void 0;xr.prototype._eventsCount=0;xr.prototype._maxListeners=void 0;var iP=10;function N_(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(xr,"defaultMaxListeners",{enumerable:!0,get:function(){return iP},set:function(e){if(typeof e!="number"||e<0||wM(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");iP=e}});xr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||wM(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function EM(e){return e._maxListeners===void 0?xr.defaultMaxListeners:e._maxListeners}xr.prototype.getMaxListeners=function(){return EM(this)};xr.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",u=this._events;if(u!==void 0)i=i&&u.error===void 0;else if(!i)return!1;if(i){var f;if(n.length>0&&(f=n[0]),f instanceof Error)throw f;var s=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw s.context=f,s}var y=u[t];if(y===void 0)return!1;if(typeof y=="function")rP(y,this,n);else for(var w=y.length,I=PM(y,w),r=0;r<w;++r)rP(I[r],this,n);return!0};function SM(e,t,n,r){var i,u,f;if(N_(n),u=e._events,u===void 0?(u=e._events=Object.create(null),e._eventsCount=0):(u.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),u=e._events),f=u[t]),f===void 0)f=u[t]=n,++e._eventsCount;else if(typeof f=="function"?f=u[t]=r?[n,f]:[f,n]:r?f.unshift(n):f.push(n),i=EM(e),i>0&&f.length>i&&!f.warned){f.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=f.length,dq(s)}return e}xr.prototype.addListener=function(t,n){return SM(this,t,n,!1)};xr.prototype.on=xr.prototype.addListener;xr.prototype.prependListener=function(t,n){return SM(this,t,n,!0)};function fq(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function TM(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=fq.bind(r);return i.listener=n,r.wrapFn=i,i}xr.prototype.once=function(t,n){return N_(n),this.on(t,TM(this,t,n)),this};xr.prototype.prependOnceListener=function(t,n){return N_(n),this.prependListener(t,TM(this,t,n)),this};xr.prototype.removeListener=function(t,n){var r,i,u,f,s;if(N_(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(u=-1,f=r.length-1;f>=0;f--)if(r[f]===n||r[f].listener===n){s=r[f].listener,u=f;break}if(u<0)return this;u===0?r.shift():pq(r,u),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};xr.prototype.off=xr.prototype.removeListener;xr.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var u=Object.keys(r),f;for(i=0;i<u.length;++i)f=u[i],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function IM(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?mq(i):PM(i,i.length)}xr.prototype.listeners=function(t){return IM(this,t,!0)};xr.prototype.rawListeners=function(t){return IM(this,t,!1)};xr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):AM.call(e,t)};xr.prototype.listenerCount=AM;function AM(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}xr.prototype.eventNames=function(){return this._eventsCount>0?_v(this._events):[]};function PM(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function pq(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function mq(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function gq(e,t){return new Promise(function(n,r){function i(f){e.removeListener(t,u),r(f)}function u(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}OM(e,t,u,{once:!0}),t!=="error"&&vq(e,i,{once:!0})})}function vq(e,t,n){typeof e.on=="function"&&OM(e,"error",t,n)}function OM(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(u){r.once&&e.removeEventListener(t,i),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}function yq(){return typeof self<"u"?fetch.bind(self):typeof global<"u"&&global.fetch?global.fetch:null}class _q{constructor(){this._apiKey="",this._fetch=yq()}set apiKey(t){this._apiKey=t}get apiKey(){return this._apiKey}set fetch(t){this._fetch=t}get fetch(){return this._fetch}}const Bd=new _q,xq={AUTO:"auto",ALBANIAN:"sq",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HUNGARIAN:"hu",ICELANDIC:"is",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALTESE:"mt",NORWEGIAN:"no",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(xq));var bq=(e,t,n)=>new Promise((r,i)=>{var u=y=>{try{s(n.next(y))}catch(w){i(w)}},f=y=>{try{s(n.throw(y))}catch(w){i(w)}},s=y=>y.done?r(y.value):Promise.resolve(y.value).then(u,f);s((n=n.apply(e,t)).next())});function wq(e){return bq(this,arguments,function*(t,n={}){if(Bd.fetch===null)throw new Error("The fetch function was not found. If on NodeJS < 18 please specify the fetch function with config.fetch");if(new URL(t).searchParams.get("key").trim()==="")throw new Error("The MapTiler Cloud API key is missing. Set it in `config.apiKey` or get one for free at https://maptiler.com");return Bd.fetch(t,n)})}const CM={maptilerApiURL:"https://api.maptiler.com/",mapStyle:"streets-v2"};Object.freeze(CM);class Eq extends Error{constructor(t,n=""){super(`Call to enpoint ${t.url} failed with the status code ${t.status}. ${n}`),this.res=t}}var Sq=(e,t,n)=>new Promise((r,i)=>{var u=y=>{try{s(n.next(y))}catch(w){i(w)}},f=y=>{try{s(n.throw(y))}catch(w){i(w)}},s=y=>y.done?r(y.value):Promise.resolve(y.value).then(u,f);s((n=n.apply(e,t)).next())});const oP={403:"Key is missing, invalid or restricted"};function Tq(){return Sq(this,arguments,function*(e={}){var t;const n=new URL("geolocation/ip.json",CM.maptilerApiURL);n.searchParams.set("key",(t=e.apiKey)!=null?t:Bd.apiKey);const r=n.toString(),i=yield wq(r);if(!i.ok)throw new Eq(i,i.status in oP?oP[i.status]:"");return yield i.json()})}const aP={info:Tq};function RM(e){const t=/^maptiler:\/\/(.*)/;let n;const r=e.trim();let i;return r.startsWith("http://")||r.startsWith("https://")?i=r:(n=t.exec(r))!==null?i=`https://api.maptiler.com/maps/${n[1]}/style.json`:i=`https://api.maptiler.com/maps/${r}/style.json`,i}class kM{constructor(t,n,r,i,u,f){this.name=t,this.variantType=n,this.id=r,this.referenceStyle=i,this.description=u,this.imageURL=f}getName(){return this.name}getFullName(){return`${this.referenceStyle.getName()} ${this.name}`}getType(){return this.variantType}getId(){return this.id}getDescription(){return this.description}getReferenceStyle(){return this.referenceStyle}hasVariant(t){return this.referenceStyle.hasVariant(t)}getVariant(t){return this.referenceStyle.getVariant(t)}getVariants(){return this.referenceStyle.getVariants().filter(t=>t!==this)}getImageURL(){return this.imageURL}getExpandedStyleURL(){return RM(this.getId())}}class LM{constructor(t,n){this.name=t,this.id=n,this.variants={},this.orderedVariants=[]}getName(){return this.name}getId(){return this.id}addVariant(t){this.variants[t.getType()]=t,this.orderedVariants.push(t)}hasVariant(t){return t in this.variants}getVariant(t){return t in this.variants?this.variants[t]:this.orderedVariants[0]}getVariants(){return Object.values(this.variants)}getDefaultVariant(){return this.orderedVariants[0]}}const Cb=[{referenceStyleID:"STREETS",name:"Streets",description:"",variants:[{id:"streets-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"streets-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"streets-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"streets-v2-night",name:"Night",variantType:"NIGHT",description:"",imageURL:""},{id:"streets-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OUTDOOR",name:"Outdoor",description:"",variants:[{id:"outdoor-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"outdoor-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"WINTER",name:"Winter",description:"",variants:[{id:"winter-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"winter-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"SATELLITE",name:"Satellite",description:"",variants:[{id:"satellite",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"HYBRID",name:"Hybrid",description:"",variants:[{id:"hybrid",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"BASIC",name:"Basic",description:"",variants:[{id:"basic-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"basic-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"basic-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BRIGHT",name:"Bright",description:"",variants:[{id:"bright-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"bright-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"bright-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"bright-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OPENSTREETMAP",name:"OpenStreetMap",description:"",variants:[{id:"openstreetmap",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"TOPO",name:"Topo",description:"",variants:[{id:"topo-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"topo-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"topo-v2-shiny",name:"Shiny",variantType:"SHINY",description:"",imageURL:""},{id:"topo-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""},{id:"topo-v2-topographique",name:"Topographique",variantType:"TOPOGRAPHIQUE",description:"",imageURL:""}]},{referenceStyleID:"VOYAGER",name:"Voyager",description:"",variants:[{id:"voyager-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"voyager-v2-darkmatter",name:"Darkmatter",variantType:"DARK",description:"",imageURL:""},{id:"voyager-v2-positron",name:"Positron",variantType:"LIGHT",description:"",imageURL:""},{id:"voyager-v2-vintage",name:"Vintage",variantType:"VINTAGE",description:"",imageURL:""}]},{referenceStyleID:"TONER",name:"Toner",description:"",variants:[{id:"toner-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"toner-v2-background",name:"Background",variantType:"BACKGROUND",description:"",imageURL:""},{id:"toner-v2-lite",name:"Lite",variantType:"LITE",description:"",imageURL:""},{id:"toner-v2-lines",name:"Lines",variantType:"LINES",description:"",imageURL:""}]},{referenceStyleID:"DATAVIZ",name:"Dataviz",description:"",variants:[{id:"dataviz",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"dataviz-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"dataviz-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"OCEAN",name:"Ocean",description:"",variants:[{id:"ocean",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]}];function Iq(e){return new Proxy(e,{get(t,n,r){return t.hasVariant(n)?t.getVariant(n):n.toString().toUpperCase()===n?e.getDefaultVariant():Reflect.get(t,n,r)}})}function Aq(){const e={};for(let t=0;t<Cb.length;t+=1){const n=Cb[t],r=Iq(new LM(n.name,n.referenceStyleID));for(let i=0;i<n.variants.length;i+=1){const u=n.variants[i],f=new kM(u.name,u.variantType,u.id,r,u.description,u.imageURL);r.addVariant(f)}e[n.referenceStyleID]=r}return e}const Pq=Aq(),Yl={AUTO:"auto",LATIN:"latin",NON_LATIN:"nonlatin",LOCAL:"",ALBANIAN:"sq",AMHARIC:"am",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BASQUE:"eu",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CORSICAN:"co",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HINDI:"hi",HUNGARIAN:"hu",ICELANDIC:"is",INDONESIAN:"id",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",JAPANESE_HIRAGANA:"ja-Hira",JAPANESE_KANA:"ja_kana",JAPANESE_LATIN:"ja_rm",JAPANESE_2018:"ja-Latn",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",KOREAN_LATIN:"ko-Latn",KURDISH:"ku",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALAYALAM:"ml",MALTESE:"mt",NORWEGIAN:"no",OCCITAN:"oc",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SERBIAN_LATIN:"sr-Latn",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",TAMIL:"ta",TELUGU:"te",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"},Oq=new Set(Object.values(Yl));function sP(e){return Oq.has(e)}const Cq=new Set(Object.values(Yl));function k1(){if(typeof navigator>"u")return Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0];const e=Array.from(new Set(navigator.languages.map(t=>t.split("-")[0]))).filter(t=>Cq.has(t));return e.length?e[0]:Yl.LATIN}class Rq extends Ly{constructor(){super(),this.primaryLanguage=Yl.AUTO,this.secondaryLanguage=null,this.session=!0,this._unit="metric",this._apiKey=""}set unit(t){this._unit=t,this.emit("unit",t)}get unit(){return this._unit}set apiKey(t){this._apiKey=t,Bd.apiKey=t,this.emit("apiKey",t)}get apiKey(){return this._apiKey}set fetch(t){Bd.fetch=t}get fetch(){return Bd.fetch}}const Qs=new Rq,jo={maptilerLogoURL:"https://api.maptiler.com/resources/logo.svg",maptilerURL:"https://www.maptiler.com/",maptilerApiHost:"api.maptiler.com",rtlPluginURL:"https://cdn.maptiler.com/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.min.js",primaryLanguage:Yl.AUTO,secondaryLanguage:Yl.LOCAL,terrainSourceURL:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json",terrainSourceId:"maptiler-terrain"};Object.freeze(jo);class kq extends Pn.LogoControl{onAdd(t){return super.onAdd(t)}}class lP extends kq{constructor(t={}){var n,r;super(t),this.logoURL="",this.linkURL="",this.logoURL=(n=t.logoURL)!=null?n:jo.maptilerLogoURL,this.linkURL=(r=t.linkURL)!=null?r:jo.maptilerURL}onAdd(t){this._map=t,this._compact=this.options&&this.options.compact,this._container=window.document.createElement("div"),this._container.className="maplibregl-ctrl";const n=window.document.createElement("a");return n.style.backgroundRepeat="no-repeat",n.style.cursor="pointer",n.style.display="block",n.style.height="23px",n.style.margin="0 0 -4px -4px",n.style.overflow="hidden",n.style.width="88px",n.style.backgroundImage=`url(${this.logoURL})`,n.style.backgroundSize="100px 30px",n.style.width="100px",n.style.height="30px",n.target="_blank",n.rel="noopener nofollow",n.href=this.linkURL,n.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),n.setAttribute("rel","noopener nofollow"),this._container.appendChild(n),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}}function Lq(){Pn.getRTLTextPluginStatus()==="unavailable"&&Pn.setRTLTextPlugin(jo.rtlPluginURL,null,!0)}function Mq(e,t){e.forEach(n=>{t[n]&&(t[n]=t[n].bind(t))})}function oh(e,t,n){const r=window.document.createElement(e);return t!==void 0&&(r.className=t),n&&n.appendChild(r),r}function Dq(e){e.parentNode&&e.parentNode.removeChild(e)}function uP(e){return e?typeof e=="string"||e instanceof String?!e.startsWith("http")&&e.toLowerCase().includes(".json")?e:RM(e):e instanceof kM?e.getExpandedStyleURL():e instanceof LM?e.getDefaultVariant().getExpandedStyleURL():e:Pq[Cb[0].referenceStyleID].getDefaultVariant().getExpandedStyleURL()}class Nq{constructor(){Mq(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=oh("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=oh("button","maplibregl-ctrl-terrain",this._container),oh("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){Dq(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}}class zq extends Pn.NavigationControl{onAdd(t){return super.onAdd(t)}}class Bq extends zq{constructor(){super({showCompass:!0,showZoom:!0,visualizePitch:!0}),this._compass.removeEventListener("click",this._compass.clickFunction),this._compass.addEventListener("click",t=>{this._map.getPitch()===0?this._map.easeTo({pitch:Math.min(this._map.getMaxPitch(),80)}):this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})}_createButton(t,n){const r=super._createButton(t,n);return r.clickFunction=n,r}_rotateCompassArrow(){const t=this.options.visualizePitch?`scale(${Math.min(1.5,1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5))}) rotateX(${Math.min(70,this._map.transform.pitch)}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=t}}class Fq extends Pn.GeolocateControl{onAdd(t){return super.onAdd(t)}}var Uq=Object.defineProperty,Vq=Object.defineProperties,Hq=Object.getOwnPropertyDescriptors,cP=Object.getOwnPropertySymbols,jq=Object.prototype.hasOwnProperty,$q=Object.prototype.propertyIsEnumerable,hP=(e,t,n)=>t in e?Uq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gq=(e,t)=>{for(var n in t||(t={}))jq.call(t,n)&&hP(e,n,t[n]);if(cP)for(var n of cP(t))$q.call(t,n)&&hP(e,n,t[n]);return e},qq=(e,t)=>Vq(e,Hq(t));const dP=Pn.Marker,fP=Pn.LngLat;class Wq extends Fq{constructor(){super(...arguments),this.lastUpdatedCenter=new fP(0,0)}_updateCamera(t){const n=new fP(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),u=qq(Gq({bearing:i},this.options.fitBoundsOptions),{linear:!0}),f=this._map.getZoom();f>this.options.fitBoundsOptions.maxZoom&&(u.zoom=f),this._map.fitBounds(n.toBounds(r),u,{geolocateSource:!0});let s=!1;const y=()=>{s=!0};this._map.once("click",y),this._map.once("dblclick",y),this._map.once("dragstart",y),this._map.once("mousedown",y),this._map.once("touchstart",y),this._map.once("wheel",y),this._map.once("moveend",()=>{this._map.off("click",y),this._map.off("dblclick",y),this._map.off("dragstart",y),this._map.off("mousedown",y),this._map.off("touchstart",y),this._map.off("wheel",y),!s&&(this.lastUpdatedCenter=this._map.getCenter())})}_setupUI(t){if(this.lastUpdatedCenter=this._map.getCenter(),this._container.addEventListener("contextmenu",n=>n.preventDefault()),this._geolocateButton=oh("button","maplibregl-ctrl-geolocate",this._container),oh("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",t===!1){const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=oh("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new dP(this._dotElement),this._circleElement=oh("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new dP({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("move",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("moveend",n=>{const r=n.originalEvent&&n.originalEvent.type==="resize",i=this.lastUpdatedCenter.distanceTo(this._map.getCenter());!n.geolocateSource&&this._watchState==="ACTIVE_LOCK"&&!r&&i>1&&(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new Event("trackuserlocationend")))})}_updateCircleRadius(){if(this._watchState!=="BACKGROUND"&&this._watchState!=="ACTIVE_LOCK")return;const t=[this._lastKnownPosition.coords.longitude,this._lastKnownPosition.coords.latitude],n=this._map.project(t),r=this._map.unproject([n.x,n.y]),i=this._map.unproject([n.x+20,n.y]),u=r.distanceTo(i)/20,f=Math.ceil(2*this._accuracy/u);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}}class Zq extends Pn.AttributionControl{onAdd(t){return super.onAdd(t)}}class Kq extends Pn.ScaleControl{onAdd(t){return super.onAdd(t)}}class Xq extends Pn.FullscreenControl{onAdd(t){return super.onAdd(t)}}var Yq=Object.defineProperty,Jq=Object.defineProperties,Qq=Object.getOwnPropertyDescriptors,pP=Object.getOwnPropertySymbols,eW=Object.prototype.hasOwnProperty,tW=Object.prototype.propertyIsEnumerable,mP=(e,t,n)=>t in e?Yq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gP=(e,t)=>{for(var n in t||(t={}))eW.call(t,n)&&mP(e,n,t[n]);if(pP)for(var n of pP(t))tW.call(t,n)&&mP(e,n,t[n]);return e},vP=(e,t)=>Jq(e,Qq(t)),Xf=(e,t,n)=>new Promise((r,i)=>{var u=y=>{try{s(n.next(y))}catch(w){i(w)}},f=y=>{try{s(n.throw(y))}catch(w){i(w)}},s=y=>y.done?r(y.value):Promise.resolve(y.value).then(u,f);s((n=n.apply(e,t)).next())});const yP=cq(),nW={POINT:"POINT",COUNTRY:"COUNTRY"};let XW=class extends Pn.Map{constructor(t){var n,r;t.apiKey&&(Qs.apiKey=t.apiKey);const i=uP(t.style),u=location.hash;Qs.apiKey||console.warn("MapTiler Cloud API key is not set. Visit https://maptiler.com and try Cloud for free!"),super(vP(gP({},t),{style:i,maplibreLogo:!1,transformRequest:f=>{let s=null;try{s=new URL(f)}catch{return{url:f,headers:{}}}return s.host===jo.maptilerApiHost&&(s.searchParams.has("key")||s.searchParams.append("key",Qs.apiKey),Qs.session&&s.searchParams.append("mtsid",yP)),{url:s.href,headers:{}}}})),this.isTerrainEnabled=!1,this.terrainExaggeration=1,this.primaryLanguage=null,this.secondaryLanguage=null,this.primaryLanguage=(n=t.language)!=null?n:Qs.primaryLanguage,this.secondaryLanguage=Qs.secondaryLanguage,this.once("styledata",()=>Xf(this,null,function*(){if(!t.geolocate||t.center||t.hash&&u)return;try{if(t.geolocate===nW.COUNTRY){yield this.fitToIpBounds();return}}catch(y){console.warn(y.message)}let f=null;try{yield this.centerOnIpPoint(t.zoom),f=this.getCameraHash()}catch(y){console.warn(y.message)}(yield navigator.permissions.query({name:"geolocation"})).state==="granted"&&navigator.geolocation.getCurrentPosition(y=>{f===this.getCameraHash()&&this.easeTo({center:[y.coords.longitude,y.coords.latitude],zoom:t.zoom||12,duration:2e3})},null,{maximumAge:24*3600*1e3,timeout:5e3,enableHighAccuracy:!1})})),this.on("styledata",()=>{this.setPrimaryLanguage(this.primaryLanguage),this.setSecondaryLanguage(this.secondaryLanguage)}),this.on("styledata",()=>{this.getTerrain()===null&&this.isTerrainEnabled&&this.enableTerrain(this.terrainExaggeration)}),this.once("load",()=>Xf(this,null,function*(){Lq()})),this.once("load",()=>Xf(this,null,function*(){let f={logo:null};try{const s=Object.keys(this.style.sourceCaches).map(I=>this.getSource(I)).filter(I=>typeof I.url=="string"&&I.url.includes("tiles.json")),y=new URL(s[0].url);y.searchParams.has("key")||y.searchParams.append("key",Qs.apiKey),f=yield(yield fetch(y.href)).json()}catch{}if("logo"in f&&f.logo){const s=f.logo;this.addControl(new lP({logoURL:s}),t.logoPosition),t.attributionControl===!1&&this.addControl(new Zq(t))}else t.maptilerLogo&&this.addControl(new lP,t.logoPosition);if(t.scaleControl){const s=t.scaleControl===!0||t.scaleControl===void 0?"bottom-right":t.scaleControl,y=new Kq({unit:Qs.unit});this.addControl(y,s),Qs.on("unit",w=>{y.setUnit(w)})}if(t.navigationControl!==!1){const s=t.navigationControl===!0||t.navigationControl===void 0?"top-right":t.navigationControl;this.addControl(new Bq,s)}if(t.geolocateControl!==!1){const s=t.geolocateControl===!0||t.geolocateControl===void 0?"top-right":t.geolocateControl;this.addControl(new Wq({positionOptions:{enableHighAccuracy:!0,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!0,showAccuracyCircle:!0,showUserLocation:!0}),s)}if(t.terrainControl){const s=t.terrainControl===!0||t.terrainControl===void 0?"top-right":t.terrainControl;this.addControl(new Nq,s)}if(t.fullscreenControl){const s=t.fullscreenControl===!0||t.fullscreenControl===void 0?"top-right":t.fullscreenControl;this.addControl(new Xq({}),s)}})),t.terrain&&this.enableTerrain((r=t.terrainExaggeration)!=null?r:this.terrainExaggeration)}setStyle(t,n){return super.setStyle(uP(t),n)}setLanguage(t=jo.primaryLanguage){if(t===Yl.AUTO)return this.setLanguage(k1());this.setPrimaryLanguage(t)}setPrimaryLanguage(t=jo.primaryLanguage){sP(t)&&(this.primaryLanguage=t,this.onStyleReady(()=>{if(t===Yl.AUTO)return this.setPrimaryLanguage(k1());const n=this.getStyle().layers,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,i=/^\s*name\s*(:\s*(\S*))?\s*$/,u=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/,f=/^(.*)({\s*name\s*(:\s*(\S*))?\s*})(.*)$/,s=t?`name:${t}`:"name",y=["case",["has",s],["get",s],["get","name:latin"]];for(let w=0;w<n.length;w+=1){const I=n[w],A=I.layout;if(!A||!A["text-field"])continue;const R=this.getLayoutProperty(I.id,"text-field");let O;if(Array.isArray(R)&&R.length>=2&&R[0].trim().toLowerCase()==="concat"){const z=R.slice();for(let V=0;V<R.length;V+=1){const G=R[V];if((typeof G=="string"||G instanceof String)&&r.exec(G.toString())){z[V]=y;break}else if(Array.isArray(G)&&G.length>=2&&G[0].trim().toLowerCase()==="get"&&i.exec(G[1].toString())){z[V]=y;break}else if(Array.isArray(G)&&G.length===4&&G[0].trim().toLowerCase()==="case"){z[V]=y;break}}this.setLayoutProperty(I.id,"text-field",z)}else if(Array.isArray(R)&&R.length>=2&&R[0].trim().toLowerCase()==="get"&&i.exec(R[1].toString())){const z=y;this.setLayoutProperty(I.id,"text-field",z)}else if((typeof R=="string"||R instanceof String)&&r.exec(R.toString())){const z=y;this.setLayoutProperty(I.id,"text-field",z)}else if(Array.isArray(R)&&R.length===4&&R[0].trim().toLowerCase()==="case"){const z=y;this.setLayoutProperty(I.id,"text-field",z)}else if((typeof R=="string"||R instanceof String)&&(O=u.exec(R.toString()))!==null){const z=`{${s}}${O[3]}{name${O[4]||""}}`;this.setLayoutProperty(I.id,"text-field",z)}else if((typeof R=="string"||R instanceof String)&&(O=f.exec(R.toString()))!==null){const z=`${O[1]}{${s}}${O[5]}`;this.setLayoutProperty(I.id,"text-field",z)}}}))}setSecondaryLanguage(t=jo.secondaryLanguage){sP(t)&&(this.secondaryLanguage=t,this.onStyleReady(()=>{if(t===Yl.AUTO)return this.setSecondaryLanguage(k1());const n=this.getStyle().layers,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,i=/^\s*name\s*(:\s*(\S*))?\s*$/,u=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/;let f;for(let s=0;s<n.length;s+=1){const y=n[s],w=y.layout;if(!w||!w["text-field"])continue;const I=this.getLayoutProperty(y.id,"text-field");let A;if(Array.isArray(I)&&I.length>=2&&I[0].trim().toLowerCase()==="concat"){A=I.slice();let R=0;for(let O=0;O<I.length;O+=1){const z=I[O];if((typeof z=="string"||z instanceof String)&&r.exec(z.toString())){if(R===1){A[O]=`{name:${t}}`;break}R+=1}else if(Array.isArray(z)&&z.length>=2&&z[0].trim().toLowerCase()==="get"&&i.exec(z[1].toString())){if(R===1){A[O][1]=`name:${t}`;break}R+=1}else if(Array.isArray(z)&&z.length===4&&z[0].trim().toLowerCase()==="case"){if(R===1){A[O]=["get",`name:${t}`];break}R+=1}}this.setLayoutProperty(y.id,"text-field",A)}else if((typeof I=="string"||I instanceof String)&&(f=u.exec(I.toString()))!==null){const R=t?`name:${t}`:"name";A=`{name${f[1]||""}}${f[3]}{${R}}`,this.setLayoutProperty(y.id,"text-field",A)}}}))}getPrimaryLanguage(){return this.primaryLanguage}getSecondaryLanguage(){return this.secondaryLanguage}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}enableTerrain(t=this.terrainExaggeration){if(t<0){console.warn("Terrain exaggeration cannot be negative.");return}const n=this.getTerrain(),r=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=t,this.addSource(jo.terrainSourceId,{type:"raster-dem",url:jo.terrainSourceURL}),this.setTerrain({source:jo.terrainSourceId,exaggeration:t})};if(n){this.setTerrain(vP(gP({},n),{exaggeration:t}));return}this.loaded()||this.isTerrainEnabled?r():this.once("load",()=>{this.getTerrain()&&this.getSource(jo.terrainSourceId)||r()})}disableTerrain(){this.isTerrainEnabled=!1,this.setTerrain(null),this.getSource(jo.terrainSourceId)&&this.removeSource(jo.terrainSourceId)}setTerrainExaggeration(t){this.enableTerrain(t)}onStyleReady(t){this.isStyleLoaded()?t():this.once("styledata",()=>{t()})}fitToIpBounds(){return Xf(this,null,function*(){const t=yield aP.info();this.fitBounds(t.country_bounds,{duration:0,padding:100})})}centerOnIpPoint(t){return Xf(this,null,function*(){const n=yield aP.info();this.jumpTo({center:[n.longitude,n.latitude],zoom:t||11})})}getCameraHash(){const t=new Float32Array(5),n=this.getCenter();return t[0]=n.lng,t[1]=n.lat,t[2]=this.getZoom(),t[3]=this.getPitch(),t[4]=this.getBearing(),oq.fromUint8Array(new Uint8Array(t.buffer))}getSdkConfig(){return Qs}getMaptilerSessionId(){return yP}};class JW extends Pn.Marker{addTo(t){return super.addTo(t)}}class QW extends Pn.Popup{addTo(t){return super.addTo(t)}}class eZ extends Pn.Style{constructor(t,n={}){super(t,n)}}class tZ extends Pn.CanvasSource{onAdd(t){super.onAdd(t)}}class nZ extends Pn.GeoJSONSource{onAdd(t){super.onAdd(t)}}class rZ extends Pn.ImageSource{onAdd(t){super.onAdd(t)}}class iZ extends Pn.RasterTileSource{onAdd(t){super.onAdd(t)}}class oZ extends Pn.RasterDEMTileSource{onAdd(t){super.onAdd(t)}}class aZ extends Pn.VectorTileSource{onAdd(t){super.onAdd(t)}}class sZ extends Pn.VideoSource{onAdd(t){super.onAdd(t)}}class lZ extends Pn.TerrainControl{onAdd(t){return super.onAdd(t)}}Pn.Map;Pn.Marker;Pn.Popup;Pn.Style;Pn.CanvasSource;Pn.GeoJSONSource;Pn.ImageSource;Pn.RasterTileSource;Pn.RasterDEMTileSource;Pn.VectorTileSource;Pn.VideoSource;Pn.NavigationControl;Pn.GeolocateControl;Pn.AttributionControl;Pn.LogoControl;Pn.ScaleControl;Pn.FullscreenControl;Pn.TerrainControl;var MM={},DM={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},rW=DM;function NM(e){this.mode=rW.MODE_8BIT_BYTE,this.data=e}NM.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var iW=NM,zM={L:1,M:0,Q:3,H:2},jg=zM;function il(e,t){this.totalCount=e,this.dataCount=t}il.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];il.getRSBlocks=function(e,t){var n=il.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=new Array,u=0;u<r;u++)for(var f=n[u*3+0],s=n[u*3+1],y=n[u*3+2],w=0;w<f;w++)i.push(new il(s,y));return i};il.getRsBlockTable=function(e,t){switch(t){case jg.L:return il.RS_BLOCK_TABLE[(e-1)*4+0];case jg.M:return il.RS_BLOCK_TABLE[(e-1)*4+1];case jg.Q:return il.RS_BLOCK_TABLE[(e-1)*4+2];case jg.H:return il.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var oW=il;function BM(){this.buffer=new Array,this.length=0}BM.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var aW=BM,Es={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Es.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Es.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Hi=0;Hi<8;Hi++)Es.EXP_TABLE[Hi]=1<<Hi;for(var Hi=8;Hi<256;Hi++)Es.EXP_TABLE[Hi]=Es.EXP_TABLE[Hi-4]^Es.EXP_TABLE[Hi-5]^Es.EXP_TABLE[Hi-6]^Es.EXP_TABLE[Hi-8];for(var Hi=0;Hi<255;Hi++)Es.LOG_TABLE[Es.EXP_TABLE[Hi]]=Hi;var FM=Es,Yc=FM;function xv(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}xv.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=Yc.gexp(Yc.glog(this.get(n))+Yc.glog(e.get(r)));return new xv(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Yc.glog(this.get(0))-Yc.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=Yc.gexp(Yc.glog(e.get(r))+t);return new xv(n,0).mod(e)}};var UM=xv,Ba=DM,_P=UM,sW=FM,Du={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ni={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(e){for(var t=e<<10;Ni.getBCHDigit(t)-Ni.getBCHDigit(Ni.G15)>=0;)t^=Ni.G15<<Ni.getBCHDigit(t)-Ni.getBCHDigit(Ni.G15);return(e<<10|t)^Ni.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ni.getBCHDigit(t)-Ni.getBCHDigit(Ni.G18)>=0;)t^=Ni.G18<<Ni.getBCHDigit(t)-Ni.getBCHDigit(Ni.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ni.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Du.PATTERN000:return(t+n)%2==0;case Du.PATTERN001:return t%2==0;case Du.PATTERN010:return n%3==0;case Du.PATTERN011:return(t+n)%3==0;case Du.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Du.PATTERN101:return t*n%2+t*n%3==0;case Du.PATTERN110:return(t*n%2+t*n%3)%2==0;case Du.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new _P([1],0),n=0;n<e;n++)t=t.multiply(new _P([1,sW.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Ba.MODE_NUMBER:return 10;case Ba.MODE_ALPHA_NUM:return 9;case Ba.MODE_8BIT_BYTE:return 8;case Ba.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Ba.MODE_NUMBER:return 12;case Ba.MODE_ALPHA_NUM:return 11;case Ba.MODE_8BIT_BYTE:return 16;case Ba.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Ba.MODE_NUMBER:return 14;case Ba.MODE_ALPHA_NUM:return 13;case Ba.MODE_8BIT_BYTE:return 16;case Ba.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var u=0,f=e.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var y=-1;y<=1;y++)i+y<0||t<=i+y||s==0&&y==0||f==e.isDark(r+s,i+y)&&u++;u>5&&(n+=3+u-5)}for(var r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var w=0;e.isDark(r,i)&&w++,e.isDark(r+1,i)&&w++,e.isDark(r,i+1)&&w++,e.isDark(r+1,i+1)&&w++,(w==0||w==4)&&(n+=3)}for(var r=0;r<t;r++)for(var i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(var i=0;i<t;i++)for(var r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);for(var I=0,i=0;i<t;i++)for(var r=0;r<t;r++)e.isDark(r,i)&&I++;var A=Math.abs(100*I/t/t-50)/5;return n+=A*10,n}},lW=Ni,uW=iW,VM=oW,HM=aW,bc=lW,cW=UM;function ll(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Ta=ll.prototype;Ta.addData=function(e){var t=new uW(e);this.dataList.push(t),this.dataCache=null};Ta.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Ta.getModuleCount=function(){return this.moduleCount};Ta.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=VM.getRSBlocks(e,this.errorCorrectLevel),n=new HM,r=0,i=0;i<t.length;i++)r+=t[i].dataCount;for(var i=0;i<this.dataList.length;i++){var u=this.dataList[i];n.put(u.mode,4),n.put(u.getLength(),bc.getLengthInBits(u.mode,e)),u.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Ta.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=ll.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Ta.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};Ta.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=bc.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};Ta.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),i=1;this.make();for(var u=0;u<this.modules.length;u++)for(var f=u*i,s=0;s<this.modules[u].length;s++){var y=s*i,w=this.modules[u][s];w&&(r.beginFill(0,100),r.moveTo(y,f),r.lineTo(y+i,f),r.lineTo(y+i,f+i),r.lineTo(y,f+i),r.endFill())}return r};Ta.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Ta.setupPositionAdjustPattern=function(){for(var e=bc.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(this.modules[r][i]==null)for(var u=-2;u<=2;u++)for(var f=-2;f<=2;f++)u==-2||u==2||f==-2||f==2||u==0&&f==0?this.modules[r+u][i+f]=!0:this.modules[r+u][i+f]=!1}};Ta.setupTypeNumber=function(e){for(var t=bc.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};Ta.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=bc.getBCHTypeInfo(n),i=0;i<15;i++){var u=!e&&(r>>i&1)==1;i<6?this.modules[i][8]=u:i<8?this.modules[i+1][8]=u:this.modules[this.moduleCount-15+i][8]=u}for(var i=0;i<15;i++){var u=!e&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=u:i<9?this.modules[8][15-i-1+1]=u:this.modules[8][15-i-1]=u}this.modules[this.moduleCount-8][8]=!e};Ta.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,u=0,f=this.moduleCount-1;f>0;f-=2)for(f==6&&f--;;){for(var s=0;s<2;s++)if(this.modules[r][f-s]==null){var y=!1;u<e.length&&(y=(e[u]>>>i&1)==1);var w=bc.getMask(t,r,f-s);w&&(y=!y),this.modules[r][f-s]=y,i--,i==-1&&(u++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};ll.PAD0=236;ll.PAD1=17;ll.createData=function(e,t,n){for(var r=VM.getRSBlocks(e,t),i=new HM,u=0;u<n.length;u++){var f=n[u];i.put(f.mode,4),i.put(f.getLength(),bc.getLengthInBits(f.mode,e)),f.write(i)}for(var s=0,u=0;u<r.length;u++)s+=r[u].dataCount;if(i.getLengthInBits()>s*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+s*8+")");for(i.getLengthInBits()+4<=s*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=s*8||(i.put(ll.PAD0,8),i.getLengthInBits()>=s*8));)i.put(ll.PAD1,8);return ll.createBytes(i,r)};ll.createBytes=function(e,t){for(var n=0,r=0,i=0,u=new Array(t.length),f=new Array(t.length),s=0;s<t.length;s++){var y=t[s].dataCount,w=t[s].totalCount-y;r=Math.max(r,y),i=Math.max(i,w),u[s]=new Array(y);for(var I=0;I<u[s].length;I++)u[s][I]=255&e.buffer[I+n];n+=y;var A=bc.getErrorCorrectPolynomial(w),R=new cW(u[s],A.getLength()-1),O=R.mod(A);f[s]=new Array(A.getLength()-1);for(var I=0;I<f[s].length;I++){var z=I+O.getLength()-f[s].length;f[s][I]=z>=0?O.get(z):0}}for(var V=0,I=0;I<t.length;I++)V+=t[I].totalCount;for(var G=new Array(V),F=0,I=0;I<r;I++)for(var s=0;s<t.length;s++)I<u[s].length&&(G[F++]=u[s][I]);for(var I=0;I<i;I++)for(var s=0;s<t.length;s++)I<f[s].length&&(G[F++]=f[s][I]);return G};var hW=ll,xE={};Object.defineProperty(xE,"__esModule",{value:!0});var dW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fW=xs,Fa=$M(fW),jM=le,$g=$M(jM);function $M(e){return e&&e.__esModule?e:{default:e}}function pW(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var mW={bgColor:Fa.default.oneOfType([Fa.default.object,Fa.default.string]).isRequired,bgD:Fa.default.string.isRequired,fgColor:Fa.default.oneOfType([Fa.default.object,Fa.default.string]).isRequired,fgD:Fa.default.string.isRequired,size:Fa.default.number.isRequired,title:Fa.default.string,viewBoxSize:Fa.default.number.isRequired,xmlns:Fa.default.string},gW={title:void 0,xmlns:"http://www.w3.org/2000/svg"},z_=(0,jM.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,i=e.fgD,u=e.fgColor,f=e.size,s=e.title,y=e.viewBoxSize,w=pW(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return $g.default.createElement("svg",dW({},w,{height:f,ref:t,viewBox:"0 0 "+y+" "+y,width:f}),s?$g.default.createElement("title",null,s):null,$g.default.createElement("path",{d:r,fill:n}),$g.default.createElement("path",{d:i,fill:u}))});z_.displayName="QRCodeSvg";z_.propTypes=mW;z_.defaultProps=gW;xE.default=z_;Object.defineProperty(MM,"__esModule",{value:!0});var vW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yW=hW,_W=Pm(yW),xW=zM,bW=Pm(xW),wW=xs,Hl=Pm(wW),GM=le,EW=Pm(GM),SW=xE,TW=Pm(SW);function Pm(e){return e&&e.__esModule?e:{default:e}}function IW(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var AW={bgColor:Hl.default.oneOfType([Hl.default.object,Hl.default.string]),fgColor:Hl.default.oneOfType([Hl.default.object,Hl.default.string]),level:Hl.default.string,size:Hl.default.number,value:Hl.default.string.isRequired},PW={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},B_=(0,GM.forwardRef)(function(e,t){var n=e.bgColor,r=e.fgColor,i=e.level,u=e.size,f=e.value,s=IW(e,["bgColor","fgColor","level","size","value"]),y=new _W.default(-1,bW.default[i]);y.addData(f),y.make();var w=y.modules;return EW.default.createElement(TW.default,vW({},s,{bgColor:n,bgD:w.map(function(I,A){return I.map(function(R,O){return R?"":"M "+O+" "+A+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:r,fgD:w.map(function(I,A){return I.map(function(R,O){return R?"M "+O+" "+A+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:u,viewBoxSize:w.length}))});B_.displayName="QRCode";B_.propTypes=AW;B_.defaultProps=PW;var uZ=MM.default=B_;export{FW as B,lk as C,qW as J,UW as L,JW as M,OW as P,zW as R,HW as S,jW as W,uZ as _,MW as a,LW as b,Yh as c,RW as d,CW as e,kW as f,DW as g,J3 as h,ko as i,LS as j,VW as k,bR as l,WW as m,ZW as n,Zr as o,Qs as p,KW as q,le as r,$W as s,XW as t,O3 as u,Pq as v,BW as w,UU as x,NW as y,n3 as z};
