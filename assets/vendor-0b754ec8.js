function T4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const u=Object.getOwnPropertyDescriptor(r,i);u&&Object.defineProperty(e,i,u.get?u:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var XA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var YA={exports:{}},Jy={},QA={exports:{}},Dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=Symbol.for("react.element"),C4=Symbol.for("react.portal"),P4=Symbol.for("react.fragment"),A4=Symbol.for("react.strict_mode"),I4=Symbol.for("react.profiler"),k4=Symbol.for("react.provider"),O4=Symbol.for("react.context"),L4=Symbol.for("react.forward_ref"),R4=Symbol.for("react.suspense"),M4=Symbol.for("react.memo"),D4=Symbol.for("react.lazy"),c2=Symbol.iterator;function z4(e){return e===null||typeof e!="object"?null:(e=c2&&e[c2]||e["@@iterator"],typeof e=="function"?e:null)}var JA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eI=Object.assign,tI={};function gd(e,t,n){this.props=e,this.context=t,this.refs=tI,this.updater=n||JA}gd.prototype.isReactComponent={};gd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nI(){}nI.prototype=gd.prototype;function aw(e,t,n){this.props=e,this.context=t,this.refs=tI,this.updater=n||JA}var sw=aw.prototype=new nI;sw.constructor=aw;eI(sw,gd.prototype);sw.isPureReactComponent=!0;var h2=Array.isArray,rI=Object.prototype.hasOwnProperty,lw={current:null},iI={key:!0,ref:!0,__self:!0,__source:!0};function oI(e,t,n){var r,i={},u=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(u=""+t.key),t)rI.call(t,r)&&!iI.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var y=Array(l),w=0;w<l;w++)y[w]=arguments[w+2];i.children=y}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:km,type:e,key:u,ref:d,props:i,_owner:lw.current}}function F4(e,t){return{$$typeof:km,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uw(e){return typeof e=="object"&&e!==null&&e.$$typeof===km}function N4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var f2=/\/+/g;function X0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N4(""+e.key):t.toString(36)}function uv(e,t,n,r,i){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(u){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case km:case C4:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+X0(d,0):r,h2(i)?(n="",e!=null&&(n=e.replace(f2,"$&/")+"/"),uv(i,t,n,"",function(w){return w})):i!=null&&(uw(i)&&(i=F4(i,n+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(f2,"$&/")+"/")+e)),t.push(i)),1;if(d=0,r=r===""?".":r+":",h2(e))for(var l=0;l<e.length;l++){u=e[l];var y=r+X0(u,l);d+=uv(u,t,n,y,i)}else if(y=z4(e),typeof y=="function")for(e=y.call(e),l=0;!(u=e.next()).done;)u=u.value,y=r+X0(u,l++),d+=uv(u,t,n,y,i);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function mg(e,t,n){if(e==null)return e;var r=[],i=0;return uv(e,r,"","",function(u){return t.call(n,u,i++)}),r}function B4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zo={current:null},cv={transition:null},U4={ReactCurrentDispatcher:zo,ReactCurrentBatchConfig:cv,ReactCurrentOwner:lw};Dn.Children={map:mg,forEach:function(e,t,n){mg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mg(e,function(){t++}),t},toArray:function(e){return mg(e,function(t){return t})||[]},only:function(e){if(!uw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Dn.Component=gd;Dn.Fragment=P4;Dn.Profiler=I4;Dn.PureComponent=aw;Dn.StrictMode=A4;Dn.Suspense=R4;Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U4;Dn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eI({},e.props),i=e.key,u=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,d=lw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(y in t)rI.call(t,y)&&!iI.hasOwnProperty(y)&&(r[y]=t[y]===void 0&&l!==void 0?l[y]:t[y])}var y=arguments.length-2;if(y===1)r.children=n;else if(1<y){l=Array(y);for(var w=0;w<y;w++)l[w]=arguments[w+2];r.children=l}return{$$typeof:km,type:e.type,key:i,ref:u,props:r,_owner:d}};Dn.createContext=function(e){return e={$$typeof:O4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:k4,_context:e},e.Consumer=e};Dn.createElement=oI;Dn.createFactory=function(e){var t=oI.bind(null,e);return t.type=e,t};Dn.createRef=function(){return{current:null}};Dn.forwardRef=function(e){return{$$typeof:L4,render:e}};Dn.isValidElement=uw;Dn.lazy=function(e){return{$$typeof:D4,_payload:{_status:-1,_result:e},_init:B4}};Dn.memo=function(e,t){return{$$typeof:M4,type:e,compare:t===void 0?null:t}};Dn.startTransition=function(e){var t=cv.transition;cv.transition={};try{e()}finally{cv.transition=t}};Dn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Dn.useCallback=function(e,t){return zo.current.useCallback(e,t)};Dn.useContext=function(e){return zo.current.useContext(e)};Dn.useDebugValue=function(){};Dn.useDeferredValue=function(e){return zo.current.useDeferredValue(e)};Dn.useEffect=function(e,t){return zo.current.useEffect(e,t)};Dn.useId=function(){return zo.current.useId()};Dn.useImperativeHandle=function(e,t,n){return zo.current.useImperativeHandle(e,t,n)};Dn.useInsertionEffect=function(e,t){return zo.current.useInsertionEffect(e,t)};Dn.useLayoutEffect=function(e,t){return zo.current.useLayoutEffect(e,t)};Dn.useMemo=function(e,t){return zo.current.useMemo(e,t)};Dn.useReducer=function(e,t,n){return zo.current.useReducer(e,t,n)};Dn.useRef=function(e){return zo.current.useRef(e)};Dn.useState=function(e){return zo.current.useState(e)};Dn.useSyncExternalStore=function(e,t,n){return zo.current.useSyncExternalStore(e,t,n)};Dn.useTransition=function(){return zo.current.useTransition()};Dn.version="18.2.0";QA.exports=Dn;var ce=QA.exports;const Er=md(ce),Kp=T4({__proto__:null,default:Er},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V4=ce,$4=Symbol.for("react.element"),j4=Symbol.for("react.fragment"),q4=Object.prototype.hasOwnProperty,G4=V4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H4={key:!0,ref:!0,__self:!0,__source:!0};function aI(e,t,n){var r,i={},u=null,d=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)q4.call(t,r)&&!H4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:$4,type:e,key:u,ref:d,props:i,_owner:G4.current}}Jy.Fragment=j4;Jy.jsx=aI;Jy.jsxs=aI;YA.exports=Jy;var FW=YA.exports,sI={exports:{}},Aa={},lI={exports:{}},uI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Pe,We){var Me=Pe.length;Pe.push(We);e:for(;0<Me;){var Xe=Me-1>>>1,et=Pe[Xe];if(0<i(et,We))Pe[Xe]=We,Pe[Me]=et,Me=Xe;else break e}}function n(Pe){return Pe.length===0?null:Pe[0]}function r(Pe){if(Pe.length===0)return null;var We=Pe[0],Me=Pe.pop();if(Me!==We){Pe[0]=Me;e:for(var Xe=0,et=Pe.length,mt=et>>>1;Xe<mt;){var ct=2*(Xe+1)-1,ht=Pe[ct],pt=ct+1,Et=Pe[pt];if(0>i(ht,Me))pt<et&&0>i(Et,ht)?(Pe[Xe]=Et,Pe[pt]=Me,Xe=pt):(Pe[Xe]=ht,Pe[ct]=Me,Xe=ct);else if(pt<et&&0>i(Et,Me))Pe[Xe]=Et,Pe[pt]=Me,Xe=pt;else break e}}return We}function i(Pe,We){var Me=Pe.sortIndex-We.sortIndex;return Me!==0?Me:Pe.id-We.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,l=d.now();e.unstable_now=function(){return d.now()-l}}var y=[],w=[],C=1,P=null,O=3,I=!1,F=!1,V=!1,Z=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Pe){for(var We=n(w);We!==null;){if(We.callback===null)r(w);else if(We.startTime<=Pe)r(w),We.sortIndex=We.expirationTime,t(y,We);else break;We=n(w)}}function Q(Pe){if(V=!1,j(Pe),!F)if(n(y)!==null)F=!0,Ge(ee);else{var We=n(w);We!==null&&ut(Q,We.startTime-Pe)}}function ee(Pe,We){F=!1,V&&(V=!1,U(se),se=-1),I=!0;var Me=O;try{for(j(We),P=n(y);P!==null&&(!(P.expirationTime>We)||Pe&&!Se());){var Xe=P.callback;if(typeof Xe=="function"){P.callback=null,O=P.priorityLevel;var et=Xe(P.expirationTime<=We);We=e.unstable_now(),typeof et=="function"?P.callback=et:P===n(y)&&r(y),j(We)}else r(y);P=n(y)}if(P!==null)var mt=!0;else{var ct=n(w);ct!==null&&ut(Q,ct.startTime-We),mt=!1}return mt}finally{P=null,O=Me,I=!1}}var Y=!1,J=null,se=-1,ge=5,he=-1;function Se(){return!(e.unstable_now()-he<ge)}function De(){if(J!==null){var Pe=e.unstable_now();he=Pe;var We=!0;try{We=J(!0,Pe)}finally{We?He():(Y=!1,J=null)}}else Y=!1}var He;if(typeof N=="function")He=function(){N(De)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Je=Be.port2;Be.port1.onmessage=De,He=function(){Je.postMessage(null)}}else He=function(){Z(De,0)};function Ge(Pe){J=Pe,Y||(Y=!0,He())}function ut(Pe,We){se=Z(function(){Pe(e.unstable_now())},We)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Pe){Pe.callback=null},e.unstable_continueExecution=function(){F||I||(F=!0,Ge(ee))},e.unstable_forceFrameRate=function(Pe){0>Pe||125<Pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<Pe?Math.floor(1e3/Pe):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return n(y)},e.unstable_next=function(Pe){switch(O){case 1:case 2:case 3:var We=3;break;default:We=O}var Me=O;O=We;try{return Pe()}finally{O=Me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Pe,We){switch(Pe){case 1:case 2:case 3:case 4:case 5:break;default:Pe=3}var Me=O;O=Pe;try{return We()}finally{O=Me}},e.unstable_scheduleCallback=function(Pe,We,Me){var Xe=e.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?Xe+Me:Xe):Me=Xe,Pe){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=Me+et,Pe={id:C++,callback:We,priorityLevel:Pe,startTime:Me,expirationTime:et,sortIndex:-1},Me>Xe?(Pe.sortIndex=Me,t(w,Pe),n(y)===null&&Pe===n(w)&&(V?(U(se),se=-1):V=!0,ut(Q,Me-Xe))):(Pe.sortIndex=et,t(y,Pe),F||I||(F=!0,Ge(ee))),Pe},e.unstable_shouldYield=Se,e.unstable_wrapCallback=function(Pe){var We=O;return function(){var Me=O;O=We;try{return Pe.apply(this,arguments)}finally{O=Me}}}})(uI);lI.exports=uI;var Z4=lI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI=ce,Ca=Z4;function gt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hI=new Set,Xp={};function kh(e,t){Yf(e,t),Yf(e+"Capture",t)}function Yf(e,t){for(Xp[e]=t,e=0;e<t.length;e++)hI.add(t[e])}var au=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s1=Object.prototype.hasOwnProperty,W4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d2={},p2={};function K4(e){return s1.call(p2,e)?!0:s1.call(d2,e)?!1:W4.test(e)?p2[e]=!0:(d2[e]=!0,!1)}function X4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y4(e,t,n,r){if(t===null||typeof t>"u"||X4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fo(e,t,n,r,i,u,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=d}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ki[e]=new Fo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ki[t]=new Fo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ki[e]=new Fo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ki[e]=new Fo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ki[e]=new Fo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ki[e]=new Fo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ki[e]=new Fo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ki[e]=new Fo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ki[e]=new Fo(e,5,!1,e.toLowerCase(),null,!1,!1)});var cw=/[\-:]([a-z])/g;function hw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cw,hw);Ki[t]=new Fo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cw,hw);Ki[t]=new Fo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cw,hw);Ki[t]=new Fo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ki[e]=new Fo(e,1,!1,e.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new Fo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ki[e]=new Fo(e,1,!1,e.toLowerCase(),null,!0,!0)});function fw(e,t,n,r){var i=Ki.hasOwnProperty(t)?Ki[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y4(t,n,i,r)&&(n=null),r||i===null?K4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hu=cI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gg=Symbol.for("react.element"),bf=Symbol.for("react.portal"),wf=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),fI=Symbol.for("react.provider"),dI=Symbol.for("react.context"),pw=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),c1=Symbol.for("react.suspense_list"),mw=Symbol.for("react.memo"),Gu=Symbol.for("react.lazy"),pI=Symbol.for("react.offscreen"),m2=Symbol.iterator;function Yd(e){return e===null||typeof e!="object"?null:(e=m2&&e[m2]||e["@@iterator"],typeof e=="function"?e:null)}var Gr=Object.assign,Y0;function pp(e){if(Y0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Y0=t&&t[1]||""}return`
`+Y0+e}var Q0=!1;function J0(e,t){if(!e||Q0)return"";Q0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var r=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){r=w}e.call(t.prototype)}else{try{throw Error()}catch(w){r=w}e()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var i=w.stack.split(`
`),u=r.stack.split(`
`),d=i.length-1,l=u.length-1;1<=d&&0<=l&&i[d]!==u[l];)l--;for(;1<=d&&0<=l;d--,l--)if(i[d]!==u[l]){if(d!==1||l!==1)do if(d--,l--,0>l||i[d]!==u[l]){var y=`
`+i[d].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=d&&0<=l);break}}}finally{Q0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pp(e):""}function Q4(e){switch(e.tag){case 5:return pp(e.type);case 16:return pp("Lazy");case 13:return pp("Suspense");case 19:return pp("SuspenseList");case 0:case 2:case 15:return e=J0(e.type,!1),e;case 11:return e=J0(e.type.render,!1),e;case 1:return e=J0(e.type,!0),e;default:return""}}function h1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wf:return"Fragment";case bf:return"Portal";case l1:return"Profiler";case dw:return"StrictMode";case u1:return"Suspense";case c1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dI:return(e.displayName||"Context")+".Consumer";case fI:return(e._context.displayName||"Context")+".Provider";case pw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mw:return t=e.displayName||null,t!==null?t:h1(e.type)||"Memo";case Gu:t=e._payload,e=e._init;try{return h1(e(t))}catch{}}return null}function J4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h1(t);case 8:return t===dw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _c(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e3(e){var t=mI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vg(e){e._valueTracker||(e._valueTracker=e3(e))}function gI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $v(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f1(e,t){var n=t.checked;return Gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function g2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_c(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vI(e,t){t=t.checked,t!=null&&fw(e,"checked",t,!1)}function d1(e,t){vI(e,t);var n=_c(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?p1(e,t.type,n):t.hasOwnProperty("defaultValue")&&p1(e,t.type,_c(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function v2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function p1(e,t,n){(t!=="number"||$v(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mp=Array.isArray;function Df(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_c(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function m1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gt(91));return Gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(gt(92));if(mp(n)){if(1<n.length)throw Error(gt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_c(n)}}function yI(e,t){var n=_c(t.value),r=_c(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _I(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_I(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yg,xI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yg=yg||document.createElement("div"),yg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t3=["Webkit","ms","Moz","O"];Object.keys(Cp).forEach(function(e){t3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cp[t]=Cp[e]})});function bI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cp.hasOwnProperty(e)&&Cp[e]?(""+t).trim():t+"px"}function wI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bI(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var n3=Gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v1(e,t){if(t){if(n3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(gt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gt(62))}}function y1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _1=null;function gw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var x1=null,zf=null,Ff=null;function x2(e){if(e=Rm(e)){if(typeof x1!="function")throw Error(gt(280));var t=e.stateNode;t&&(t=i_(t),x1(e.stateNode,e.type,t))}}function SI(e){zf?Ff?Ff.push(e):Ff=[e]:zf=e}function EI(){if(zf){var e=zf,t=Ff;if(Ff=zf=null,x2(e),t)for(e=0;e<t.length;e++)x2(t[e])}}function TI(e,t){return e(t)}function CI(){}var ex=!1;function PI(e,t,n){if(ex)return e(t,n);ex=!0;try{return TI(e,t,n)}finally{ex=!1,(zf!==null||Ff!==null)&&(CI(),EI())}}function Qp(e,t){var n=e.stateNode;if(n===null)return null;var r=i_(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(gt(231,t,typeof n));return n}var b1=!1;if(au)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){b1=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{b1=!1}function r3(e,t,n,r,i,u,d,l,y){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(C){this.onError(C)}}var Pp=!1,jv=null,qv=!1,w1=null,i3={onError:function(e){Pp=!0,jv=e}};function o3(e,t,n,r,i,u,d,l,y){Pp=!1,jv=null,r3.apply(i3,arguments)}function a3(e,t,n,r,i,u,d,l,y){if(o3.apply(this,arguments),Pp){if(Pp){var w=jv;Pp=!1,jv=null}else throw Error(gt(198));qv||(qv=!0,w1=w)}}function Oh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function AI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b2(e){if(Oh(e)!==e)throw Error(gt(188))}function s3(e){var t=e.alternate;if(!t){if(t=Oh(e),t===null)throw Error(gt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var u=i.alternate;if(u===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return b2(i),e;if(u===r)return b2(i),t;u=u.sibling}throw Error(gt(188))}if(n.return!==r.return)n=i,r=u;else{for(var d=!1,l=i.child;l;){if(l===n){d=!0,n=i,r=u;break}if(l===r){d=!0,r=i,n=u;break}l=l.sibling}if(!d){for(l=u.child;l;){if(l===n){d=!0,n=u,r=i;break}if(l===r){d=!0,r=u,n=i;break}l=l.sibling}if(!d)throw Error(gt(189))}}if(n.alternate!==r)throw Error(gt(190))}if(n.tag!==3)throw Error(gt(188));return n.stateNode.current===n?e:t}function II(e){return e=s3(e),e!==null?kI(e):null}function kI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kI(e);if(t!==null)return t;e=e.sibling}return null}var OI=Ca.unstable_scheduleCallback,w2=Ca.unstable_cancelCallback,l3=Ca.unstable_shouldYield,u3=Ca.unstable_requestPaint,ri=Ca.unstable_now,c3=Ca.unstable_getCurrentPriorityLevel,vw=Ca.unstable_ImmediatePriority,LI=Ca.unstable_UserBlockingPriority,Gv=Ca.unstable_NormalPriority,h3=Ca.unstable_LowPriority,RI=Ca.unstable_IdlePriority,e_=null,gl=null;function f3(e){if(gl&&typeof gl.onCommitFiberRoot=="function")try{gl.onCommitFiberRoot(e_,e,void 0,(e.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:m3,d3=Math.log,p3=Math.LN2;function m3(e){return e>>>=0,e===0?32:31-(d3(e)/p3|0)|0}var _g=64,xg=4194304;function gp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,u=e.pingedLanes,d=n&268435455;if(d!==0){var l=d&~i;l!==0?r=gp(l):(u&=d,u!==0&&(r=gp(u)))}else d=n&~i,d!==0?r=gp(d):u!==0&&(r=gp(u));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Os(t),i=1<<n,r|=e[n],t&=~i;return r}function g3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var d=31-Os(u),l=1<<d,y=i[d];y===-1?(!(l&n)||l&r)&&(i[d]=g3(l,t)):y<=t&&(e.expiredLanes|=l),u&=~l}}function S1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function MI(){var e=_g;return _g<<=1,!(_g&4194240)&&(_g=64),e}function tx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Om(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Os(t),e[t]=n}function y3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Os(n),u=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~u}}function yw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Os(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ur=0;function DI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zI,_w,FI,NI,BI,E1=!1,bg=[],ic=null,oc=null,ac=null,Jp=new Map,em=new Map,Zu=[],_3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S2(e,t){switch(e){case"focusin":case"focusout":ic=null;break;case"dragenter":case"dragleave":oc=null;break;case"mouseover":case"mouseout":ac=null;break;case"pointerover":case"pointerout":Jp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(t.pointerId)}}function Jd(e,t,n,r,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[i]},t!==null&&(t=Rm(t),t!==null&&_w(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function x3(e,t,n,r,i){switch(t){case"focusin":return ic=Jd(ic,e,t,n,r,i),!0;case"dragenter":return oc=Jd(oc,e,t,n,r,i),!0;case"mouseover":return ac=Jd(ac,e,t,n,r,i),!0;case"pointerover":var u=i.pointerId;return Jp.set(u,Jd(Jp.get(u)||null,e,t,n,r,i)),!0;case"gotpointercapture":return u=i.pointerId,em.set(u,Jd(em.get(u)||null,e,t,n,r,i)),!0}return!1}function UI(e){var t=hh(e.target);if(t!==null){var n=Oh(t);if(n!==null){if(t=n.tag,t===13){if(t=AI(n),t!==null){e.blockedOn=t,BI(e.priority,function(){FI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=T1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_1=r,n.target.dispatchEvent(r),_1=null}else return t=Rm(n),t!==null&&_w(t),e.blockedOn=n,!1;t.shift()}return!0}function E2(e,t,n){hv(e)&&n.delete(t)}function b3(){E1=!1,ic!==null&&hv(ic)&&(ic=null),oc!==null&&hv(oc)&&(oc=null),ac!==null&&hv(ac)&&(ac=null),Jp.forEach(E2),em.forEach(E2)}function ep(e,t){e.blockedOn===t&&(e.blockedOn=null,E1||(E1=!0,Ca.unstable_scheduleCallback(Ca.unstable_NormalPriority,b3)))}function tm(e){function t(i){return ep(i,e)}if(0<bg.length){ep(bg[0],e);for(var n=1;n<bg.length;n++){var r=bg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ic!==null&&ep(ic,e),oc!==null&&ep(oc,e),ac!==null&&ep(ac,e),Jp.forEach(t),em.forEach(t),n=0;n<Zu.length;n++)r=Zu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zu.length&&(n=Zu[0],n.blockedOn===null);)UI(n),n.blockedOn===null&&Zu.shift()}var Nf=hu.ReactCurrentBatchConfig,Zv=!0;function w3(e,t,n,r){var i=ur,u=Nf.transition;Nf.transition=null;try{ur=1,xw(e,t,n,r)}finally{ur=i,Nf.transition=u}}function S3(e,t,n,r){var i=ur,u=Nf.transition;Nf.transition=null;try{ur=4,xw(e,t,n,r)}finally{ur=i,Nf.transition=u}}function xw(e,t,n,r){if(Zv){var i=T1(e,t,n,r);if(i===null)hx(e,t,r,Wv,n),S2(e,r);else if(x3(i,e,t,n,r))r.stopPropagation();else if(S2(e,r),t&4&&-1<_3.indexOf(e)){for(;i!==null;){var u=Rm(i);if(u!==null&&zI(u),u=T1(e,t,n,r),u===null&&hx(e,t,r,Wv,n),u===i)break;i=u}i!==null&&r.stopPropagation()}else hx(e,t,r,null,n)}}var Wv=null;function T1(e,t,n,r){if(Wv=null,e=gw(r),e=hh(e),e!==null)if(t=Oh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=AI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wv=e,null}function VI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c3()){case vw:return 1;case LI:return 4;case Gv:case h3:return 16;case RI:return 536870912;default:return 16}default:return 16}}var ec=null,bw=null,fv=null;function $I(){if(fv)return fv;var e,t=bw,n=t.length,r,i="value"in ec?ec.value:ec.textContent,u=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===i[u-r];r++);return fv=i.slice(e,1<r?1-r:void 0)}function dv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wg(){return!0}function T2(){return!1}function Ia(e){function t(n,r,i,u,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(u):u[l]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?wg:T2,this.isPropagationStopped=T2,this}return Gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wg)},persist:function(){},isPersistent:wg}),t}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ww=Ia(vd),Lm=Gr({},vd,{view:0,detail:0}),E3=Ia(Lm),nx,rx,tp,t_=Gr({},Lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tp&&(tp&&e.type==="mousemove"?(nx=e.screenX-tp.screenX,rx=e.screenY-tp.screenY):rx=nx=0,tp=e),nx)},movementY:function(e){return"movementY"in e?e.movementY:rx}}),C2=Ia(t_),T3=Gr({},t_,{dataTransfer:0}),C3=Ia(T3),P3=Gr({},Lm,{relatedTarget:0}),ix=Ia(P3),A3=Gr({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),I3=Ia(A3),k3=Gr({},vd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O3=Ia(k3),L3=Gr({},vd,{data:0}),P2=Ia(L3),R3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D3[e])?!!t[e]:!1}function Sw(){return z3}var F3=Gr({},Lm,{key:function(e){if(e.key){var t=R3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sw,charCode:function(e){return e.type==="keypress"?dv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N3=Ia(F3),B3=Gr({},t_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A2=Ia(B3),U3=Gr({},Lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sw}),V3=Ia(U3),$3=Gr({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),j3=Ia($3),q3=Gr({},t_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G3=Ia(q3),H3=[9,13,27,32],Ew=au&&"CompositionEvent"in window,Ap=null;au&&"documentMode"in document&&(Ap=document.documentMode);var Z3=au&&"TextEvent"in window&&!Ap,jI=au&&(!Ew||Ap&&8<Ap&&11>=Ap),I2=String.fromCharCode(32),k2=!1;function qI(e,t){switch(e){case"keyup":return H3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sf=!1;function W3(e,t){switch(e){case"compositionend":return GI(t);case"keypress":return t.which!==32?null:(k2=!0,I2);case"textInput":return e=t.data,e===I2&&k2?null:e;default:return null}}function K3(e,t){if(Sf)return e==="compositionend"||!Ew&&qI(e,t)?(e=$I(),fv=bw=ec=null,Sf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jI&&t.locale!=="ko"?null:t.data;default:return null}}var X3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X3[e.type]:t==="textarea"}function HI(e,t,n,r){SI(r),t=Kv(t,"onChange"),0<t.length&&(n=new ww("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ip=null,nm=null;function Y3(e){rk(e,0)}function n_(e){var t=Cf(e);if(gI(t))return e}function Q3(e,t){if(e==="change")return t}var ZI=!1;if(au){var ox;if(au){var ax="oninput"in document;if(!ax){var L2=document.createElement("div");L2.setAttribute("oninput","return;"),ax=typeof L2.oninput=="function"}ox=ax}else ox=!1;ZI=ox&&(!document.documentMode||9<document.documentMode)}function R2(){Ip&&(Ip.detachEvent("onpropertychange",WI),nm=Ip=null)}function WI(e){if(e.propertyName==="value"&&n_(nm)){var t=[];HI(t,nm,e,gw(e)),PI(Y3,t)}}function J3(e,t,n){e==="focusin"?(R2(),Ip=t,nm=n,Ip.attachEvent("onpropertychange",WI)):e==="focusout"&&R2()}function e5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n_(nm)}function t5(e,t){if(e==="click")return n_(t)}function n5(e,t){if(e==="input"||e==="change")return n_(t)}function r5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ds=typeof Object.is=="function"?Object.is:r5;function rm(e,t){if(Ds(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!s1.call(t,i)||!Ds(e[i],t[i]))return!1}return!0}function M2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D2(e,t){var n=M2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M2(n)}}function KI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XI(){for(var e=window,t=$v();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$v(e.document)}return t}function Tw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i5(e){var t=XI(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&KI(n.ownerDocument.documentElement,n)){if(r!==null&&Tw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(r.start,i);r=r.end===void 0?u:Math.min(r.end,i),!e.extend&&u>r&&(i=r,r=u,u=i),i=D2(n,u);var d=D2(n,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o5=au&&"documentMode"in document&&11>=document.documentMode,Ef=null,C1=null,kp=null,P1=!1;function z2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;P1||Ef==null||Ef!==$v(r)||(r=Ef,"selectionStart"in r&&Tw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kp&&rm(kp,r)||(kp=r,r=Kv(C1,"onSelect"),0<r.length&&(t=new ww("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ef)))}function Sg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tf={animationend:Sg("Animation","AnimationEnd"),animationiteration:Sg("Animation","AnimationIteration"),animationstart:Sg("Animation","AnimationStart"),transitionend:Sg("Transition","TransitionEnd")},sx={},YI={};au&&(YI=document.createElement("div").style,"AnimationEvent"in window||(delete Tf.animationend.animation,delete Tf.animationiteration.animation,delete Tf.animationstart.animation),"TransitionEvent"in window||delete Tf.transitionend.transition);function r_(e){if(sx[e])return sx[e];if(!Tf[e])return e;var t=Tf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in YI)return sx[e]=t[n];return e}var QI=r_("animationend"),JI=r_("animationiteration"),ek=r_("animationstart"),tk=r_("transitionend"),nk=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cc(e,t){nk.set(e,t),kh(t,[e])}for(var lx=0;lx<F2.length;lx++){var ux=F2[lx],a5=ux.toLowerCase(),s5=ux[0].toUpperCase()+ux.slice(1);Cc(a5,"on"+s5)}Cc(QI,"onAnimationEnd");Cc(JI,"onAnimationIteration");Cc(ek,"onAnimationStart");Cc("dblclick","onDoubleClick");Cc("focusin","onFocus");Cc("focusout","onBlur");Cc(tk,"onTransitionEnd");Yf("onMouseEnter",["mouseout","mouseover"]);Yf("onMouseLeave",["mouseout","mouseover"]);Yf("onPointerEnter",["pointerout","pointerover"]);Yf("onPointerLeave",["pointerout","pointerover"]);kh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kh("onBeforeInput",["compositionend","keypress","textInput","paste"]);kh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l5=new Set("cancel close invalid load scroll toggle".split(" ").concat(vp));function N2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,a3(r,t,void 0,e),e.currentTarget=null}function rk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var d=r.length-1;0<=d;d--){var l=r[d],y=l.instance,w=l.currentTarget;if(l=l.listener,y!==u&&i.isPropagationStopped())break e;N2(i,l,w),u=y}else for(d=0;d<r.length;d++){if(l=r[d],y=l.instance,w=l.currentTarget,l=l.listener,y!==u&&i.isPropagationStopped())break e;N2(i,l,w),u=y}}}if(qv)throw e=w1,qv=!1,w1=null,e}function Or(e,t){var n=t[L1];n===void 0&&(n=t[L1]=new Set);var r=e+"__bubble";n.has(r)||(ik(t,e,2,!1),n.add(r))}function cx(e,t,n){var r=0;t&&(r|=4),ik(n,e,r,t)}var Eg="_reactListening"+Math.random().toString(36).slice(2);function im(e){if(!e[Eg]){e[Eg]=!0,hI.forEach(function(n){n!=="selectionchange"&&(l5.has(n)||cx(n,!1,e),cx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eg]||(t[Eg]=!0,cx("selectionchange",!1,t))}}function ik(e,t,n,r){switch(VI(t)){case 1:var i=w3;break;case 4:i=S3;break;default:i=xw}n=i.bind(null,t,n,e),i=void 0,!b1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function hx(e,t,n,r,i){var u=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var y=d.tag;if((y===3||y===4)&&(y=d.stateNode.containerInfo,y===i||y.nodeType===8&&y.parentNode===i))return;d=d.return}for(;l!==null;){if(d=hh(l),d===null)return;if(y=d.tag,y===5||y===6){r=u=d;continue e}l=l.parentNode}}r=r.return}PI(function(){var w=u,C=gw(n),P=[];e:{var O=nk.get(e);if(O!==void 0){var I=ww,F=e;switch(e){case"keypress":if(dv(n)===0)break e;case"keydown":case"keyup":I=N3;break;case"focusin":F="focus",I=ix;break;case"focusout":F="blur",I=ix;break;case"beforeblur":case"afterblur":I=ix;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=C2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=C3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=V3;break;case QI:case JI:case ek:I=I3;break;case tk:I=j3;break;case"scroll":I=E3;break;case"wheel":I=G3;break;case"copy":case"cut":case"paste":I=O3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=A2}var V=(t&4)!==0,Z=!V&&e==="scroll",U=V?O!==null?O+"Capture":null:O;V=[];for(var N=w,j;N!==null;){j=N;var Q=j.stateNode;if(j.tag===5&&Q!==null&&(j=Q,U!==null&&(Q=Qp(N,U),Q!=null&&V.push(om(N,Q,j)))),Z)break;N=N.return}0<V.length&&(O=new I(O,F,null,n,C),P.push({event:O,listeners:V}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",O&&n!==_1&&(F=n.relatedTarget||n.fromElement)&&(hh(F)||F[su]))break e;if((I||O)&&(O=C.window===C?C:(O=C.ownerDocument)?O.defaultView||O.parentWindow:window,I?(F=n.relatedTarget||n.toElement,I=w,F=F?hh(F):null,F!==null&&(Z=Oh(F),F!==Z||F.tag!==5&&F.tag!==6)&&(F=null)):(I=null,F=w),I!==F)){if(V=C2,Q="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(V=A2,Q="onPointerLeave",U="onPointerEnter",N="pointer"),Z=I==null?O:Cf(I),j=F==null?O:Cf(F),O=new V(Q,N+"leave",I,n,C),O.target=Z,O.relatedTarget=j,Q=null,hh(C)===w&&(V=new V(U,N+"enter",F,n,C),V.target=j,V.relatedTarget=Z,Q=V),Z=Q,I&&F)t:{for(V=I,U=F,N=0,j=V;j;j=af(j))N++;for(j=0,Q=U;Q;Q=af(Q))j++;for(;0<N-j;)V=af(V),N--;for(;0<j-N;)U=af(U),j--;for(;N--;){if(V===U||U!==null&&V===U.alternate)break t;V=af(V),U=af(U)}V=null}else V=null;I!==null&&B2(P,O,I,V,!1),F!==null&&Z!==null&&B2(P,Z,F,V,!0)}}e:{if(O=w?Cf(w):window,I=O.nodeName&&O.nodeName.toLowerCase(),I==="select"||I==="input"&&O.type==="file")var ee=Q3;else if(O2(O))if(ZI)ee=n5;else{ee=e5;var Y=J3}else(I=O.nodeName)&&I.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(ee=t5);if(ee&&(ee=ee(e,w))){HI(P,ee,n,C);break e}Y&&Y(e,O,w),e==="focusout"&&(Y=O._wrapperState)&&Y.controlled&&O.type==="number"&&p1(O,"number",O.value)}switch(Y=w?Cf(w):window,e){case"focusin":(O2(Y)||Y.contentEditable==="true")&&(Ef=Y,C1=w,kp=null);break;case"focusout":kp=C1=Ef=null;break;case"mousedown":P1=!0;break;case"contextmenu":case"mouseup":case"dragend":P1=!1,z2(P,n,C);break;case"selectionchange":if(o5)break;case"keydown":case"keyup":z2(P,n,C)}var J;if(Ew)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Sf?qI(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(jI&&n.locale!=="ko"&&(Sf||se!=="onCompositionStart"?se==="onCompositionEnd"&&Sf&&(J=$I()):(ec=C,bw="value"in ec?ec.value:ec.textContent,Sf=!0)),Y=Kv(w,se),0<Y.length&&(se=new P2(se,e,null,n,C),P.push({event:se,listeners:Y}),J?se.data=J:(J=GI(n),J!==null&&(se.data=J)))),(J=Z3?W3(e,n):K3(e,n))&&(w=Kv(w,"onBeforeInput"),0<w.length&&(C=new P2("onBeforeInput","beforeinput",null,n,C),P.push({event:C,listeners:w}),C.data=J))}rk(P,t)})}function om(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=Qp(e,n),u!=null&&r.unshift(om(e,u,i)),u=Qp(e,t),u!=null&&r.push(om(e,u,i))),e=e.return}return r}function af(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function B2(e,t,n,r,i){for(var u=t._reactName,d=[];n!==null&&n!==r;){var l=n,y=l.alternate,w=l.stateNode;if(y!==null&&y===r)break;l.tag===5&&w!==null&&(l=w,i?(y=Qp(n,u),y!=null&&d.unshift(om(n,y,l))):i||(y=Qp(n,u),y!=null&&d.push(om(n,y,l)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var u5=/\r\n?/g,c5=/\u0000|\uFFFD/g;function U2(e){return(typeof e=="string"?e:""+e).replace(u5,`
`).replace(c5,"")}function Tg(e,t,n){if(t=U2(t),U2(e)!==t&&n)throw Error(gt(425))}function Xv(){}var A1=null,I1=null;function k1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,h5=typeof clearTimeout=="function"?clearTimeout:void 0,V2=typeof Promise=="function"?Promise:void 0,f5=typeof queueMicrotask=="function"?queueMicrotask:typeof V2<"u"?function(e){return V2.resolve(null).then(e).catch(d5)}:O1;function d5(e){setTimeout(function(){throw e})}function fx(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),tm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tm(t)}function sc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yd=Math.random().toString(36).slice(2),hl="__reactFiber$"+yd,am="__reactProps$"+yd,su="__reactContainer$"+yd,L1="__reactEvents$"+yd,p5="__reactListeners$"+yd,m5="__reactHandles$"+yd;function hh(e){var t=e[hl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[su]||n[hl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$2(e);e!==null;){if(n=e[hl])return n;e=$2(e)}return t}e=n,n=e.parentNode}return null}function Rm(e){return e=e[hl]||e[su],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(gt(33))}function i_(e){return e[am]||null}var R1=[],Pf=-1;function Pc(e){return{current:e}}function Rr(e){0>Pf||(e.current=R1[Pf],R1[Pf]=null,Pf--)}function Ar(e,t){Pf++,R1[Pf]=e.current,e.current=t}var xc={},mo=Pc(xc),Qo=Pc(!1),Sh=xc;function Qf(e,t){var n=e.type.contextTypes;if(!n)return xc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in n)i[u]=t[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jo(e){return e=e.childContextTypes,e!=null}function Yv(){Rr(Qo),Rr(mo)}function j2(e,t,n){if(mo.current!==xc)throw Error(gt(168));Ar(mo,t),Ar(Qo,n)}function ok(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(gt(108,J4(e)||"Unknown",i));return Gr({},n,r)}function Qv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xc,Sh=mo.current,Ar(mo,e),Ar(Qo,Qo.current),!0}function q2(e,t,n){var r=e.stateNode;if(!r)throw Error(gt(169));n?(e=ok(e,t,Sh),r.__reactInternalMemoizedMergedChildContext=e,Rr(Qo),Rr(mo),Ar(mo,e)):Rr(Qo),Ar(Qo,n)}var Jl=null,o_=!1,dx=!1;function ak(e){Jl===null?Jl=[e]:Jl.push(e)}function g5(e){o_=!0,ak(e)}function Ac(){if(!dx&&Jl!==null){dx=!0;var e=0,t=ur;try{var n=Jl;for(ur=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jl=null,o_=!1}catch(i){throw Jl!==null&&(Jl=Jl.slice(e+1)),OI(vw,Ac),i}finally{ur=t,dx=!1}}return null}var Af=[],If=0,Jv=null,ey=0,Za=[],Wa=0,Eh=null,tu=1,nu="";function sh(e,t){Af[If++]=ey,Af[If++]=Jv,Jv=e,ey=t}function sk(e,t,n){Za[Wa++]=tu,Za[Wa++]=nu,Za[Wa++]=Eh,Eh=e;var r=tu;e=nu;var i=32-Os(r)-1;r&=~(1<<i),n+=1;var u=32-Os(t)+i;if(30<u){var d=i-i%5;u=(r&(1<<d)-1).toString(32),r>>=d,i-=d,tu=1<<32-Os(t)+i|n<<i|r,nu=u+e}else tu=1<<u|n<<i|r,nu=e}function Cw(e){e.return!==null&&(sh(e,1),sk(e,1,0))}function Pw(e){for(;e===Jv;)Jv=Af[--If],Af[If]=null,ey=Af[--If],Af[If]=null;for(;e===Eh;)Eh=Za[--Wa],Za[Wa]=null,nu=Za[--Wa],Za[Wa]=null,tu=Za[--Wa],Za[Wa]=null}var Ea=null,Sa=null,Br=!1,Cs=null;function lk(e,t){var n=Ka(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function G2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ea=e,Sa=sc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ea=e,Sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Eh!==null?{id:tu,overflow:nu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ka(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ea=e,Sa=null,!0):!1;default:return!1}}function M1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function D1(e){if(Br){var t=Sa;if(t){var n=t;if(!G2(e,t)){if(M1(e))throw Error(gt(418));t=sc(n.nextSibling);var r=Ea;t&&G2(e,t)?lk(r,n):(e.flags=e.flags&-4097|2,Br=!1,Ea=e)}}else{if(M1(e))throw Error(gt(418));e.flags=e.flags&-4097|2,Br=!1,Ea=e}}}function H2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ea=e}function Cg(e){if(e!==Ea)return!1;if(!Br)return H2(e),Br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!k1(e.type,e.memoizedProps)),t&&(t=Sa)){if(M1(e))throw uk(),Error(gt(418));for(;t;)lk(e,t),t=sc(t.nextSibling)}if(H2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(gt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sa=sc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sa=null}}else Sa=Ea?sc(e.stateNode.nextSibling):null;return!0}function uk(){for(var e=Sa;e;)e=sc(e.nextSibling)}function Jf(){Sa=Ea=null,Br=!1}function Aw(e){Cs===null?Cs=[e]:Cs.push(e)}var v5=hu.ReactCurrentBatchConfig;function Ss(e,t){if(e&&e.defaultProps){t=Gr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ty=Pc(null),ny=null,kf=null,Iw=null;function kw(){Iw=kf=ny=null}function Ow(e){var t=ty.current;Rr(ty),e._currentValue=t}function z1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bf(e,t){ny=e,Iw=kf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Yo=!0),e.firstContext=null)}function Qa(e){var t=e._currentValue;if(Iw!==e)if(e={context:e,memoizedValue:t,next:null},kf===null){if(ny===null)throw Error(gt(308));kf=e,ny.dependencies={lanes:0,firstContext:e}}else kf=kf.next=e;return t}var fh=null;function Lw(e){fh===null?fh=[e]:fh.push(e)}function ck(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Lw(t)):(n.next=i.next,i.next=n),t.interleaved=n,lu(e,r)}function lu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hu=!1;function Rw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ru(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Gn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,lu(e,n)}return i=r.interleaved,i===null?(t.next=t,Lw(r)):(t.next=i.next,i.next=t),r.interleaved=t,lu(e,n)}function pv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yw(e,n)}}function Z2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?i=u=d:u=u.next=d,n=n.next}while(n!==null);u===null?i=u=t:u=u.next=t}else i=u=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ry(e,t,n,r){var i=e.updateQueue;Hu=!1;var u=i.firstBaseUpdate,d=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var y=l,w=y.next;y.next=null,d===null?u=w:d.next=w,d=y;var C=e.alternate;C!==null&&(C=C.updateQueue,l=C.lastBaseUpdate,l!==d&&(l===null?C.firstBaseUpdate=w:l.next=w,C.lastBaseUpdate=y))}if(u!==null){var P=i.baseState;d=0,C=w=y=null,l=u;do{var O=l.lane,I=l.eventTime;if((r&O)===O){C!==null&&(C=C.next={eventTime:I,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var F=e,V=l;switch(O=t,I=n,V.tag){case 1:if(F=V.payload,typeof F=="function"){P=F.call(I,P,O);break e}P=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=V.payload,O=typeof F=="function"?F.call(I,P,O):F,O==null)break e;P=Gr({},P,O);break e;case 2:Hu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,O=i.effects,O===null?i.effects=[l]:O.push(l))}else I={eventTime:I,lane:O,tag:l.tag,payload:l.payload,callback:l.callback,next:null},C===null?(w=C=I,y=P):C=C.next=I,d|=O;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;O=l,l=O.next,O.next=null,i.lastBaseUpdate=O,i.shared.pending=null}}while(1);if(C===null&&(y=P),i.baseState=y,i.firstBaseUpdate=w,i.lastBaseUpdate=C,t=i.shared.interleaved,t!==null){i=t;do d|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);Ch|=d,e.lanes=d,e.memoizedState=P}}function W2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(gt(191,i));i.call(r)}}}var fk=new cI.Component().refs;function F1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Gr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var a_={isMounted:function(e){return(e=e._reactInternals)?Oh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mo(),i=cc(e),u=ru(r,i);u.payload=t,n!=null&&(u.callback=n),t=lc(e,u,i),t!==null&&(Ls(t,e,i,r),pv(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mo(),i=cc(e),u=ru(r,i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=lc(e,u,i),t!==null&&(Ls(t,e,i,r),pv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mo(),r=cc(e),i=ru(n,r);i.tag=2,t!=null&&(i.callback=t),t=lc(e,i,r),t!==null&&(Ls(t,e,r,n),pv(t,e,r))}};function K2(e,t,n,r,i,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,d):t.prototype&&t.prototype.isPureReactComponent?!rm(n,r)||!rm(i,u):!0}function dk(e,t,n){var r=!1,i=xc,u=t.contextType;return typeof u=="object"&&u!==null?u=Qa(u):(i=Jo(t)?Sh:mo.current,r=t.contextTypes,u=(r=r!=null)?Qf(e,i):xc),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=a_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function X2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&a_.enqueueReplaceState(t,t.state,null)}function N1(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fk,Rw(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=Qa(u):(u=Jo(t)?Sh:mo.current,i.context=Qf(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(F1(e,t,u,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&a_.enqueueReplaceState(i,i.state,null),ry(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function np(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(gt(309));var r=n.stateNode}if(!r)throw Error(gt(147,e));var i=r,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(d){var l=i.refs;l===fk&&(l=i.refs={}),d===null?delete l[u]:l[u]=d},t._stringRef=u,t)}if(typeof e!="string")throw Error(gt(284));if(!n._owner)throw Error(gt(290,e))}return e}function Pg(e,t){throw e=Object.prototype.toString.call(t),Error(gt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Y2(e){var t=e._init;return t(e._payload)}function pk(e){function t(U,N){if(e){var j=U.deletions;j===null?(U.deletions=[N],U.flags|=16):j.push(N)}}function n(U,N){if(!e)return null;for(;N!==null;)t(U,N),N=N.sibling;return null}function r(U,N){for(U=new Map;N!==null;)N.key!==null?U.set(N.key,N):U.set(N.index,N),N=N.sibling;return U}function i(U,N){return U=hc(U,N),U.index=0,U.sibling=null,U}function u(U,N,j){return U.index=j,e?(j=U.alternate,j!==null?(j=j.index,j<N?(U.flags|=2,N):j):(U.flags|=2,N)):(U.flags|=1048576,N)}function d(U){return e&&U.alternate===null&&(U.flags|=2),U}function l(U,N,j,Q){return N===null||N.tag!==6?(N=xx(j,U.mode,Q),N.return=U,N):(N=i(N,j),N.return=U,N)}function y(U,N,j,Q){var ee=j.type;return ee===wf?C(U,N,j.props.children,Q,j.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Gu&&Y2(ee)===N.type)?(Q=i(N,j.props),Q.ref=np(U,N,j),Q.return=U,Q):(Q=xv(j.type,j.key,j.props,null,U.mode,Q),Q.ref=np(U,N,j),Q.return=U,Q)}function w(U,N,j,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=bx(j,U.mode,Q),N.return=U,N):(N=i(N,j.children||[]),N.return=U,N)}function C(U,N,j,Q,ee){return N===null||N.tag!==7?(N=vh(j,U.mode,Q,ee),N.return=U,N):(N=i(N,j),N.return=U,N)}function P(U,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=xx(""+N,U.mode,j),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case gg:return j=xv(N.type,N.key,N.props,null,U.mode,j),j.ref=np(U,null,N),j.return=U,j;case bf:return N=bx(N,U.mode,j),N.return=U,N;case Gu:var Q=N._init;return P(U,Q(N._payload),j)}if(mp(N)||Yd(N))return N=vh(N,U.mode,j,null),N.return=U,N;Pg(U,N)}return null}function O(U,N,j,Q){var ee=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ee!==null?null:l(U,N,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gg:return j.key===ee?y(U,N,j,Q):null;case bf:return j.key===ee?w(U,N,j,Q):null;case Gu:return ee=j._init,O(U,N,ee(j._payload),Q)}if(mp(j)||Yd(j))return ee!==null?null:C(U,N,j,Q,null);Pg(U,j)}return null}function I(U,N,j,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return U=U.get(j)||null,l(N,U,""+Q,ee);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case gg:return U=U.get(Q.key===null?j:Q.key)||null,y(N,U,Q,ee);case bf:return U=U.get(Q.key===null?j:Q.key)||null,w(N,U,Q,ee);case Gu:var Y=Q._init;return I(U,N,j,Y(Q._payload),ee)}if(mp(Q)||Yd(Q))return U=U.get(j)||null,C(N,U,Q,ee,null);Pg(N,Q)}return null}function F(U,N,j,Q){for(var ee=null,Y=null,J=N,se=N=0,ge=null;J!==null&&se<j.length;se++){J.index>se?(ge=J,J=null):ge=J.sibling;var he=O(U,J,j[se],Q);if(he===null){J===null&&(J=ge);break}e&&J&&he.alternate===null&&t(U,J),N=u(he,N,se),Y===null?ee=he:Y.sibling=he,Y=he,J=ge}if(se===j.length)return n(U,J),Br&&sh(U,se),ee;if(J===null){for(;se<j.length;se++)J=P(U,j[se],Q),J!==null&&(N=u(J,N,se),Y===null?ee=J:Y.sibling=J,Y=J);return Br&&sh(U,se),ee}for(J=r(U,J);se<j.length;se++)ge=I(J,U,se,j[se],Q),ge!==null&&(e&&ge.alternate!==null&&J.delete(ge.key===null?se:ge.key),N=u(ge,N,se),Y===null?ee=ge:Y.sibling=ge,Y=ge);return e&&J.forEach(function(Se){return t(U,Se)}),Br&&sh(U,se),ee}function V(U,N,j,Q){var ee=Yd(j);if(typeof ee!="function")throw Error(gt(150));if(j=ee.call(j),j==null)throw Error(gt(151));for(var Y=ee=null,J=N,se=N=0,ge=null,he=j.next();J!==null&&!he.done;se++,he=j.next()){J.index>se?(ge=J,J=null):ge=J.sibling;var Se=O(U,J,he.value,Q);if(Se===null){J===null&&(J=ge);break}e&&J&&Se.alternate===null&&t(U,J),N=u(Se,N,se),Y===null?ee=Se:Y.sibling=Se,Y=Se,J=ge}if(he.done)return n(U,J),Br&&sh(U,se),ee;if(J===null){for(;!he.done;se++,he=j.next())he=P(U,he.value,Q),he!==null&&(N=u(he,N,se),Y===null?ee=he:Y.sibling=he,Y=he);return Br&&sh(U,se),ee}for(J=r(U,J);!he.done;se++,he=j.next())he=I(J,U,se,he.value,Q),he!==null&&(e&&he.alternate!==null&&J.delete(he.key===null?se:he.key),N=u(he,N,se),Y===null?ee=he:Y.sibling=he,Y=he);return e&&J.forEach(function(De){return t(U,De)}),Br&&sh(U,se),ee}function Z(U,N,j,Q){if(typeof j=="object"&&j!==null&&j.type===wf&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case gg:e:{for(var ee=j.key,Y=N;Y!==null;){if(Y.key===ee){if(ee=j.type,ee===wf){if(Y.tag===7){n(U,Y.sibling),N=i(Y,j.props.children),N.return=U,U=N;break e}}else if(Y.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Gu&&Y2(ee)===Y.type){n(U,Y.sibling),N=i(Y,j.props),N.ref=np(U,Y,j),N.return=U,U=N;break e}n(U,Y);break}else t(U,Y);Y=Y.sibling}j.type===wf?(N=vh(j.props.children,U.mode,Q,j.key),N.return=U,U=N):(Q=xv(j.type,j.key,j.props,null,U.mode,Q),Q.ref=np(U,N,j),Q.return=U,U=Q)}return d(U);case bf:e:{for(Y=j.key;N!==null;){if(N.key===Y)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){n(U,N.sibling),N=i(N,j.children||[]),N.return=U,U=N;break e}else{n(U,N);break}else t(U,N);N=N.sibling}N=bx(j,U.mode,Q),N.return=U,U=N}return d(U);case Gu:return Y=j._init,Z(U,N,Y(j._payload),Q)}if(mp(j))return F(U,N,j,Q);if(Yd(j))return V(U,N,j,Q);Pg(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(n(U,N.sibling),N=i(N,j),N.return=U,U=N):(n(U,N),N=xx(j,U.mode,Q),N.return=U,U=N),d(U)):n(U,N)}return Z}var ed=pk(!0),mk=pk(!1),Mm={},vl=Pc(Mm),sm=Pc(Mm),lm=Pc(Mm);function dh(e){if(e===Mm)throw Error(gt(174));return e}function Mw(e,t){switch(Ar(lm,t),Ar(sm,e),Ar(vl,Mm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:g1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=g1(t,e)}Rr(vl),Ar(vl,t)}function td(){Rr(vl),Rr(sm),Rr(lm)}function gk(e){dh(lm.current);var t=dh(vl.current),n=g1(t,e.type);t!==n&&(Ar(sm,e),Ar(vl,n))}function Dw(e){sm.current===e&&(Rr(vl),Rr(sm))}var jr=Pc(0);function iy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var px=[];function zw(){for(var e=0;e<px.length;e++)px[e]._workInProgressVersionPrimary=null;px.length=0}var mv=hu.ReactCurrentDispatcher,mx=hu.ReactCurrentBatchConfig,Th=0,qr=null,mi=null,Pi=null,oy=!1,Op=!1,um=0,y5=0;function oo(){throw Error(gt(321))}function Fw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ds(e[n],t[n]))return!1;return!0}function Nw(e,t,n,r,i,u){if(Th=u,qr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mv.current=e===null||e.memoizedState===null?w5:S5,e=n(r,i),Op){u=0;do{if(Op=!1,um=0,25<=u)throw Error(gt(301));u+=1,Pi=mi=null,t.updateQueue=null,mv.current=E5,e=n(r,i)}while(Op)}if(mv.current=ay,t=mi!==null&&mi.next!==null,Th=0,Pi=mi=qr=null,oy=!1,t)throw Error(gt(300));return e}function Bw(){var e=um!==0;return um=0,e}function sl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?qr.memoizedState=Pi=e:Pi=Pi.next=e,Pi}function Ja(){if(mi===null){var e=qr.alternate;e=e!==null?e.memoizedState:null}else e=mi.next;var t=Pi===null?qr.memoizedState:Pi.next;if(t!==null)Pi=t,mi=e;else{if(e===null)throw Error(gt(310));mi=e,e={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},Pi===null?qr.memoizedState=Pi=e:Pi=Pi.next=e}return Pi}function cm(e,t){return typeof t=="function"?t(e):t}function gx(e){var t=Ja(),n=t.queue;if(n===null)throw Error(gt(311));n.lastRenderedReducer=e;var r=mi,i=r.baseQueue,u=n.pending;if(u!==null){if(i!==null){var d=i.next;i.next=u.next,u.next=d}r.baseQueue=i=u,n.pending=null}if(i!==null){u=i.next,r=r.baseState;var l=d=null,y=null,w=u;do{var C=w.lane;if((Th&C)===C)y!==null&&(y=y.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:e(r,w.action);else{var P={lane:C,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};y===null?(l=y=P,d=r):y=y.next=P,qr.lanes|=C,Ch|=C}w=w.next}while(w!==null&&w!==u);y===null?d=r:y.next=l,Ds(r,t.memoizedState)||(Yo=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=y,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do u=i.lane,qr.lanes|=u,Ch|=u,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vx(e){var t=Ja(),n=t.queue;if(n===null)throw Error(gt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,u=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do u=e(u,d.action),d=d.next;while(d!==i);Ds(u,t.memoizedState)||(Yo=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function vk(){}function yk(e,t){var n=qr,r=Ja(),i=t(),u=!Ds(r.memoizedState,i);if(u&&(r.memoizedState=i,Yo=!0),r=r.queue,Uw(bk.bind(null,n,r,e),[e]),r.getSnapshot!==t||u||Pi!==null&&Pi.memoizedState.tag&1){if(n.flags|=2048,hm(9,xk.bind(null,n,r,i,t),void 0,null),ki===null)throw Error(gt(349));Th&30||_k(n,t,i)}return i}function _k(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qr.updateQueue,t===null?(t={lastEffect:null,stores:null},qr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xk(e,t,n,r){t.value=n,t.getSnapshot=r,wk(t)&&Sk(e)}function bk(e,t,n){return n(function(){wk(t)&&Sk(e)})}function wk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ds(e,n)}catch{return!0}}function Sk(e){var t=lu(e,1);t!==null&&Ls(t,e,1,-1)}function Q2(e){var t=sl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cm,lastRenderedState:e},t.queue=e,e=e.dispatch=b5.bind(null,qr,e),[t.memoizedState,e]}function hm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=qr.updateQueue,t===null?(t={lastEffect:null,stores:null},qr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ek(){return Ja().memoizedState}function gv(e,t,n,r){var i=sl();qr.flags|=e,i.memoizedState=hm(1|t,n,void 0,r===void 0?null:r)}function s_(e,t,n,r){var i=Ja();r=r===void 0?null:r;var u=void 0;if(mi!==null){var d=mi.memoizedState;if(u=d.destroy,r!==null&&Fw(r,d.deps)){i.memoizedState=hm(t,n,u,r);return}}qr.flags|=e,i.memoizedState=hm(1|t,n,u,r)}function J2(e,t){return gv(8390656,8,e,t)}function Uw(e,t){return s_(2048,8,e,t)}function Tk(e,t){return s_(4,2,e,t)}function Ck(e,t){return s_(4,4,e,t)}function Pk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ak(e,t,n){return n=n!=null?n.concat([e]):null,s_(4,4,Pk.bind(null,t,e),n)}function Vw(){}function Ik(e,t){var n=Ja();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kk(e,t){var n=Ja();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ok(e,t,n){return Th&21?(Ds(n,t)||(n=MI(),qr.lanes|=n,Ch|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Yo=!0),e.memoizedState=n)}function _5(e,t){var n=ur;ur=n!==0&&4>n?n:4,e(!0);var r=mx.transition;mx.transition={};try{e(!1),t()}finally{ur=n,mx.transition=r}}function Lk(){return Ja().memoizedState}function x5(e,t,n){var r=cc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rk(e))Mk(t,n);else if(n=ck(e,t,n,r),n!==null){var i=Mo();Ls(n,e,r,i),Dk(n,t,r)}}function b5(e,t,n){var r=cc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rk(e))Mk(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,l=u(d,n);if(i.hasEagerState=!0,i.eagerState=l,Ds(l,d)){var y=t.interleaved;y===null?(i.next=i,Lw(t)):(i.next=y.next,y.next=i),t.interleaved=i;return}}catch{}finally{}n=ck(e,t,i,r),n!==null&&(i=Mo(),Ls(n,e,r,i),Dk(n,t,r))}}function Rk(e){var t=e.alternate;return e===qr||t!==null&&t===qr}function Mk(e,t){Op=oy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yw(e,n)}}var ay={readContext:Qa,useCallback:oo,useContext:oo,useEffect:oo,useImperativeHandle:oo,useInsertionEffect:oo,useLayoutEffect:oo,useMemo:oo,useReducer:oo,useRef:oo,useState:oo,useDebugValue:oo,useDeferredValue:oo,useTransition:oo,useMutableSource:oo,useSyncExternalStore:oo,useId:oo,unstable_isNewReconciler:!1},w5={readContext:Qa,useCallback:function(e,t){return sl().memoizedState=[e,t===void 0?null:t],e},useContext:Qa,useEffect:J2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gv(4194308,4,Pk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gv(4194308,4,e,t)},useInsertionEffect:function(e,t){return gv(4,2,e,t)},useMemo:function(e,t){var n=sl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=x5.bind(null,qr,e),[r.memoizedState,e]},useRef:function(e){var t=sl();return e={current:e},t.memoizedState=e},useState:Q2,useDebugValue:Vw,useDeferredValue:function(e){return sl().memoizedState=e},useTransition:function(){var e=Q2(!1),t=e[0];return e=_5.bind(null,e[1]),sl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=qr,i=sl();if(Br){if(n===void 0)throw Error(gt(407));n=n()}else{if(n=t(),ki===null)throw Error(gt(349));Th&30||_k(r,t,n)}i.memoizedState=n;var u={value:n,getSnapshot:t};return i.queue=u,J2(bk.bind(null,r,u,e),[e]),r.flags|=2048,hm(9,xk.bind(null,r,u,n,t),void 0,null),n},useId:function(){var e=sl(),t=ki.identifierPrefix;if(Br){var n=nu,r=tu;n=(r&~(1<<32-Os(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=um++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=y5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},S5={readContext:Qa,useCallback:Ik,useContext:Qa,useEffect:Uw,useImperativeHandle:Ak,useInsertionEffect:Tk,useLayoutEffect:Ck,useMemo:kk,useReducer:gx,useRef:Ek,useState:function(){return gx(cm)},useDebugValue:Vw,useDeferredValue:function(e){var t=Ja();return Ok(t,mi.memoizedState,e)},useTransition:function(){var e=gx(cm)[0],t=Ja().memoizedState;return[e,t]},useMutableSource:vk,useSyncExternalStore:yk,useId:Lk,unstable_isNewReconciler:!1},E5={readContext:Qa,useCallback:Ik,useContext:Qa,useEffect:Uw,useImperativeHandle:Ak,useInsertionEffect:Tk,useLayoutEffect:Ck,useMemo:kk,useReducer:vx,useRef:Ek,useState:function(){return vx(cm)},useDebugValue:Vw,useDeferredValue:function(e){var t=Ja();return mi===null?t.memoizedState=e:Ok(t,mi.memoizedState,e)},useTransition:function(){var e=vx(cm)[0],t=Ja().memoizedState;return[e,t]},useMutableSource:vk,useSyncExternalStore:yk,useId:Lk,unstable_isNewReconciler:!1};function nd(e,t){try{var n="",r=t;do n+=Q4(r),r=r.return;while(r);var i=n}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i,digest:null}}function yx(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function B1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var T5=typeof WeakMap=="function"?WeakMap:Map;function zk(e,t,n){n=ru(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ly||(ly=!0,K1=r),B1(e,t)},n}function Fk(e,t,n){n=ru(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){B1(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){B1(e,t),typeof r!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function eT(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new T5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=B5.bind(null,e,t,n),t.then(e,e))}function tT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nT(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ru(-1,1),t.tag=2,lc(n,t,1))),n.lanes|=1),e)}var C5=hu.ReactCurrentOwner,Yo=!1;function Oo(e,t,n,r){t.child=e===null?mk(t,null,n,r):ed(t,e.child,n,r)}function rT(e,t,n,r,i){n=n.render;var u=t.ref;return Bf(t,i),r=Nw(e,t,n,r,u,i),n=Bw(),e!==null&&!Yo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uu(e,t,i)):(Br&&n&&Cw(t),t.flags|=1,Oo(e,t,r,i),t.child)}function iT(e,t,n,r,i){if(e===null){var u=n.type;return typeof u=="function"&&!Kw(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,Nk(e,t,u,r,i)):(e=xv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&i)){var d=u.memoizedProps;if(n=n.compare,n=n!==null?n:rm,n(d,r)&&e.ref===t.ref)return uu(e,t,i)}return t.flags|=1,e=hc(u,r),e.ref=t.ref,e.return=t,t.child=e}function Nk(e,t,n,r,i){if(e!==null){var u=e.memoizedProps;if(rm(u,r)&&e.ref===t.ref)if(Yo=!1,t.pendingProps=r=u,(e.lanes&i)!==0)e.flags&131072&&(Yo=!0);else return t.lanes=e.lanes,uu(e,t,i)}return U1(e,t,n,r,i)}function Bk(e,t,n){var r=t.pendingProps,i=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(Lf,wa),wa|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ar(Lf,wa),wa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:n,Ar(Lf,wa),wa|=r}else u!==null?(r=u.baseLanes|n,t.memoizedState=null):r=n,Ar(Lf,wa),wa|=r;return Oo(e,t,i,n),t.child}function Uk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function U1(e,t,n,r,i){var u=Jo(n)?Sh:mo.current;return u=Qf(t,u),Bf(t,i),n=Nw(e,t,n,r,u,i),r=Bw(),e!==null&&!Yo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uu(e,t,i)):(Br&&r&&Cw(t),t.flags|=1,Oo(e,t,n,i),t.child)}function oT(e,t,n,r,i){if(Jo(n)){var u=!0;Qv(t)}else u=!1;if(Bf(t,i),t.stateNode===null)vv(e,t),dk(t,n,r),N1(t,n,r,i),r=!0;else if(e===null){var d=t.stateNode,l=t.memoizedProps;d.props=l;var y=d.context,w=n.contextType;typeof w=="object"&&w!==null?w=Qa(w):(w=Jo(n)?Sh:mo.current,w=Qf(t,w));var C=n.getDerivedStateFromProps,P=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function";P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(l!==r||y!==w)&&X2(t,d,r,w),Hu=!1;var O=t.memoizedState;d.state=O,ry(t,r,d,i),y=t.memoizedState,l!==r||O!==y||Qo.current||Hu?(typeof C=="function"&&(F1(t,n,C,r),y=t.memoizedState),(l=Hu||K2(t,n,l,r,O,y,w))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=y),d.props=r,d.state=y,d.context=w,r=l):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,hk(e,t),l=t.memoizedProps,w=t.type===t.elementType?l:Ss(t.type,l),d.props=w,P=t.pendingProps,O=d.context,y=n.contextType,typeof y=="object"&&y!==null?y=Qa(y):(y=Jo(n)?Sh:mo.current,y=Qf(t,y));var I=n.getDerivedStateFromProps;(C=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(l!==P||O!==y)&&X2(t,d,r,y),Hu=!1,O=t.memoizedState,d.state=O,ry(t,r,d,i);var F=t.memoizedState;l!==P||O!==F||Qo.current||Hu?(typeof I=="function"&&(F1(t,n,I,r),F=t.memoizedState),(w=Hu||K2(t,n,w,r,O,F,y)||!1)?(C||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,F,y),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,F,y)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||l===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=F),d.props=r,d.state=F,d.context=y,r=w):(typeof d.componentDidUpdate!="function"||l===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),r=!1)}return V1(e,t,n,r,u,i)}function V1(e,t,n,r,i,u){Uk(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return i&&q2(t,n,!1),uu(e,t,u);r=t.stateNode,C5.current=t;var l=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=ed(t,e.child,null,u),t.child=ed(t,null,l,u)):Oo(e,t,l,u),t.memoizedState=r.state,i&&q2(t,n,!0),t.child}function Vk(e){var t=e.stateNode;t.pendingContext?j2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&j2(e,t.context,!1),Mw(e,t.containerInfo)}function aT(e,t,n,r,i){return Jf(),Aw(i),t.flags|=256,Oo(e,t,n,r),t.child}var $1={dehydrated:null,treeContext:null,retryLane:0};function j1(e){return{baseLanes:e,cachePool:null,transitions:null}}function $k(e,t,n){var r=t.pendingProps,i=jr.current,u=!1,d=(t.flags&128)!==0,l;if((l=d)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ar(jr,i&1),e===null)return D1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,u?(r=t.mode,u=t.child,d={mode:"hidden",children:d},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=d):u=c_(d,r,0,null),e=vh(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=j1(n),t.memoizedState=$1,e):$w(t,d));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return P5(e,t,d,r,l,i,n);if(u){u=r.fallback,d=t.mode,i=e.child,l=i.sibling;var y={mode:"hidden",children:r.children};return!(d&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=y,t.deletions=null):(r=hc(i,y),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?u=hc(l,u):(u=vh(u,d,n,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,d=e.child.memoizedState,d=d===null?j1(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},u.memoizedState=d,u.childLanes=e.childLanes&~n,t.memoizedState=$1,r}return u=e.child,e=u.sibling,r=hc(u,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $w(e,t){return t=c_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ag(e,t,n,r){return r!==null&&Aw(r),ed(t,e.child,null,n),e=$w(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P5(e,t,n,r,i,u,d){if(n)return t.flags&256?(t.flags&=-257,r=yx(Error(gt(422))),Ag(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=r.fallback,i=t.mode,r=c_({mode:"visible",children:r.children},i,0,null),u=vh(u,i,d,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,t.mode&1&&ed(t,e.child,null,d),t.child.memoizedState=j1(d),t.memoizedState=$1,u);if(!(t.mode&1))return Ag(e,t,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,u=Error(gt(419)),r=yx(u,r,void 0),Ag(e,t,d,r)}if(l=(d&e.childLanes)!==0,Yo||l){if(r=ki,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==u.retryLane&&(u.retryLane=i,lu(e,i),Ls(r,e,i,-1))}return Ww(),r=yx(Error(gt(421))),Ag(e,t,d,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=U5.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,Sa=sc(i.nextSibling),Ea=t,Br=!0,Cs=null,e!==null&&(Za[Wa++]=tu,Za[Wa++]=nu,Za[Wa++]=Eh,tu=e.id,nu=e.overflow,Eh=t),t=$w(t,r.children),t.flags|=4096,t)}function sT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),z1(e.return,t,n)}function _x(e,t,n,r,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=i)}function jk(e,t,n){var r=t.pendingProps,i=r.revealOrder,u=r.tail;if(Oo(e,t,r.children,n),r=jr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sT(e,n,t);else if(e.tag===19)sT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ar(jr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&iy(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_x(t,!1,i,n,u);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&iy(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_x(t,!0,n,null,u);break;case"together":_x(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ch|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(gt(153));if(t.child!==null){for(e=t.child,n=hc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function A5(e,t,n){switch(t.tag){case 3:Vk(t),Jf();break;case 5:gk(t);break;case 1:Jo(t.type)&&Qv(t);break;case 4:Mw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ar(ty,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ar(jr,jr.current&1),t.flags|=128,null):n&t.child.childLanes?$k(e,t,n):(Ar(jr,jr.current&1),e=uu(e,t,n),e!==null?e.sibling:null);Ar(jr,jr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ar(jr,jr.current),r)break;return null;case 22:case 23:return t.lanes=0,Bk(e,t,n)}return uu(e,t,n)}var qk,q1,Gk,Hk;qk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q1=function(){};Gk=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,dh(vl.current);var u=null;switch(n){case"input":i=f1(e,i),r=f1(e,r),u=[];break;case"select":i=Gr({},i,{value:void 0}),r=Gr({},r,{value:void 0}),u=[];break;case"textarea":i=m1(e,i),r=m1(e,r),u=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xv)}v1(n,r);var d;n=null;for(w in i)if(!r.hasOwnProperty(w)&&i.hasOwnProperty(w)&&i[w]!=null)if(w==="style"){var l=i[w];for(d in l)l.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Xp.hasOwnProperty(w)?u||(u=[]):(u=u||[]).push(w,null));for(w in r){var y=r[w];if(l=i!=null?i[w]:void 0,r.hasOwnProperty(w)&&y!==l&&(y!=null||l!=null))if(w==="style")if(l){for(d in l)!l.hasOwnProperty(d)||y&&y.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in y)y.hasOwnProperty(d)&&l[d]!==y[d]&&(n||(n={}),n[d]=y[d])}else n||(u||(u=[]),u.push(w,n)),n=y;else w==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,l=l?l.__html:void 0,y!=null&&l!==y&&(u=u||[]).push(w,y)):w==="children"?typeof y!="string"&&typeof y!="number"||(u=u||[]).push(w,""+y):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Xp.hasOwnProperty(w)?(y!=null&&w==="onScroll"&&Or("scroll",e),u||l===y||(u=[])):(u=u||[]).push(w,y))}n&&(u=u||[]).push("style",n);var w=u;(t.updateQueue=w)&&(t.flags|=4)}};Hk=function(e,t,n,r){n!==r&&(t.flags|=4)};function rp(e,t){if(!Br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ao(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function I5(e,t,n){var r=t.pendingProps;switch(Pw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ao(t),null;case 1:return Jo(t.type)&&Yv(),ao(t),null;case 3:return r=t.stateNode,td(),Rr(Qo),Rr(mo),zw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cs!==null&&(Q1(Cs),Cs=null))),q1(e,t),ao(t),null;case 5:Dw(t);var i=dh(lm.current);if(n=t.type,e!==null&&t.stateNode!=null)Gk(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(gt(166));return ao(t),null}if(e=dh(vl.current),Cg(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[hl]=t,r[am]=u,e=(t.mode&1)!==0,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(i=0;i<vp.length;i++)Or(vp[i],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":g2(r,u),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Or("invalid",r);break;case"textarea":y2(r,u),Or("invalid",r)}v1(n,u),i=null;for(var d in u)if(u.hasOwnProperty(d)){var l=u[d];d==="children"?typeof l=="string"?r.textContent!==l&&(u.suppressHydrationWarning!==!0&&Tg(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(u.suppressHydrationWarning!==!0&&Tg(r.textContent,l,e),i=["children",""+l]):Xp.hasOwnProperty(d)&&l!=null&&d==="onScroll"&&Or("scroll",r)}switch(n){case"input":vg(r),v2(r,u,!0);break;case"textarea":vg(r),_2(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=Xv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_I(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[hl]=t,e[am]=r,qk(e,t,!1,!1),t.stateNode=e;e:{switch(d=y1(n,r),n){case"dialog":Or("cancel",e),Or("close",e),i=r;break;case"iframe":case"object":case"embed":Or("load",e),i=r;break;case"video":case"audio":for(i=0;i<vp.length;i++)Or(vp[i],e);i=r;break;case"source":Or("error",e),i=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),i=r;break;case"details":Or("toggle",e),i=r;break;case"input":g2(e,r),i=f1(e,r),Or("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Gr({},r,{value:void 0}),Or("invalid",e);break;case"textarea":y2(e,r),i=m1(e,r),Or("invalid",e);break;default:i=r}v1(n,i),l=i;for(u in l)if(l.hasOwnProperty(u)){var y=l[u];u==="style"?wI(e,y):u==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&xI(e,y)):u==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&Yp(e,y):typeof y=="number"&&Yp(e,""+y):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xp.hasOwnProperty(u)?y!=null&&u==="onScroll"&&Or("scroll",e):y!=null&&fw(e,u,y,d))}switch(n){case"input":vg(e),v2(e,r,!1);break;case"textarea":vg(e),_2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_c(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?Df(e,!!r.multiple,u,!1):r.defaultValue!=null&&Df(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Xv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ao(t),null;case 6:if(e&&t.stateNode!=null)Hk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(gt(166));if(n=dh(lm.current),dh(vl.current),Cg(t)){if(r=t.stateNode,n=t.memoizedProps,r[hl]=t,(u=r.nodeValue!==n)&&(e=Ea,e!==null))switch(e.tag){case 3:Tg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tg(r.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hl]=t,t.stateNode=r}return ao(t),null;case 13:if(Rr(jr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Br&&Sa!==null&&t.mode&1&&!(t.flags&128))uk(),Jf(),t.flags|=98560,u=!1;else if(u=Cg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(gt(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(gt(317));u[hl]=t}else Jf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ao(t),u=!1}else Cs!==null&&(Q1(Cs),Cs=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||jr.current&1?gi===0&&(gi=3):Ww())),t.updateQueue!==null&&(t.flags|=4),ao(t),null);case 4:return td(),q1(e,t),e===null&&im(t.stateNode.containerInfo),ao(t),null;case 10:return Ow(t.type._context),ao(t),null;case 17:return Jo(t.type)&&Yv(),ao(t),null;case 19:if(Rr(jr),u=t.memoizedState,u===null)return ao(t),null;if(r=(t.flags&128)!==0,d=u.rendering,d===null)if(r)rp(u,!1);else{if(gi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=iy(e),d!==null){for(t.flags|=128,rp(u,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)u=n,e=r,u.flags&=14680066,d=u.alternate,d===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=d.childLanes,u.lanes=d.lanes,u.child=d.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=d.memoizedProps,u.memoizedState=d.memoizedState,u.updateQueue=d.updateQueue,u.type=d.type,e=d.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ar(jr,jr.current&1|2),t.child}e=e.sibling}u.tail!==null&&ri()>rd&&(t.flags|=128,r=!0,rp(u,!1),t.lanes=4194304)}else{if(!r)if(e=iy(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rp(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Br)return ao(t),null}else 2*ri()-u.renderingStartTime>rd&&n!==1073741824&&(t.flags|=128,r=!0,rp(u,!1),t.lanes=4194304);u.isBackwards?(d.sibling=t.child,t.child=d):(n=u.last,n!==null?n.sibling=d:t.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ri(),t.sibling=null,n=jr.current,Ar(jr,r?n&1|2:n&1),t):(ao(t),null);case 22:case 23:return Zw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wa&1073741824&&(ao(t),t.subtreeFlags&6&&(t.flags|=8192)):ao(t),null;case 24:return null;case 25:return null}throw Error(gt(156,t.tag))}function k5(e,t){switch(Pw(t),t.tag){case 1:return Jo(t.type)&&Yv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return td(),Rr(Qo),Rr(mo),zw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dw(t),null;case 13:if(Rr(jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(gt(340));Jf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rr(jr),null;case 4:return td(),null;case 10:return Ow(t.type._context),null;case 22:case 23:return Zw(),null;case 24:return null;default:return null}}var Ig=!1,ho=!1,O5=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Of(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yr(e,t,r)}else n.current=null}function G1(e,t,n){try{n()}catch(r){Yr(e,t,r)}}var lT=!1;function L5(e,t){if(A1=Zv,e=XI(),Tw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var d=0,l=-1,y=-1,w=0,C=0,P=e,O=null;t:for(;;){for(var I;P!==n||i!==0&&P.nodeType!==3||(l=d+i),P!==u||r!==0&&P.nodeType!==3||(y=d+r),P.nodeType===3&&(d+=P.nodeValue.length),(I=P.firstChild)!==null;)O=P,P=I;for(;;){if(P===e)break t;if(O===n&&++w===i&&(l=d),O===u&&++C===r&&(y=d),(I=P.nextSibling)!==null)break;P=O,O=P.parentNode}P=I}n=l===-1||y===-1?null:{start:l,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(I1={focusedElem:e,selectionRange:n},Zv=!1,$t=t;$t!==null;)if(t=$t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$t=e;else for(;$t!==null;){t=$t;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var V=F.memoizedProps,Z=F.memoizedState,U=t.stateNode,N=U.getSnapshotBeforeUpdate(t.elementType===t.type?V:Ss(t.type,V),Z);U.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(Q){Yr(t,t.return,Q)}if(e=t.sibling,e!==null){e.return=t.return,$t=e;break}$t=t.return}return F=lT,lT=!1,F}function Lp(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&G1(t,n,u)}i=i.next}while(i!==r)}}function l_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function H1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zk(e){var t=e.alternate;t!==null&&(e.alternate=null,Zk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hl],delete t[am],delete t[L1],delete t[p5],delete t[m5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wk(e){return e.tag===5||e.tag===3||e.tag===4}function uT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Z1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xv));else if(r!==4&&(e=e.child,e!==null))for(Z1(e,t,n),e=e.sibling;e!==null;)Z1(e,t,n),e=e.sibling}function W1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(W1(e,t,n),e=e.sibling;e!==null;)W1(e,t,n),e=e.sibling}var ji=null,Ts=!1;function Bu(e,t,n){for(n=n.child;n!==null;)Kk(e,t,n),n=n.sibling}function Kk(e,t,n){if(gl&&typeof gl.onCommitFiberUnmount=="function")try{gl.onCommitFiberUnmount(e_,n)}catch{}switch(n.tag){case 5:ho||Of(n,t);case 6:var r=ji,i=Ts;ji=null,Bu(e,t,n),ji=r,Ts=i,ji!==null&&(Ts?(e=ji,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ji.removeChild(n.stateNode));break;case 18:ji!==null&&(Ts?(e=ji,n=n.stateNode,e.nodeType===8?fx(e.parentNode,n):e.nodeType===1&&fx(e,n),tm(e)):fx(ji,n.stateNode));break;case 4:r=ji,i=Ts,ji=n.stateNode.containerInfo,Ts=!0,Bu(e,t,n),ji=r,Ts=i;break;case 0:case 11:case 14:case 15:if(!ho&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var u=i,d=u.destroy;u=u.tag,d!==void 0&&(u&2||u&4)&&G1(n,t,d),i=i.next}while(i!==r)}Bu(e,t,n);break;case 1:if(!ho&&(Of(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Yr(n,t,l)}Bu(e,t,n);break;case 21:Bu(e,t,n);break;case 22:n.mode&1?(ho=(r=ho)||n.memoizedState!==null,Bu(e,t,n),ho=r):Bu(e,t,n);break;default:Bu(e,t,n)}}function cT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new O5),t.forEach(function(r){var i=V5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var u=e,d=t,l=d;e:for(;l!==null;){switch(l.tag){case 5:ji=l.stateNode,Ts=!1;break e;case 3:ji=l.stateNode.containerInfo,Ts=!0;break e;case 4:ji=l.stateNode.containerInfo,Ts=!0;break e}l=l.return}if(ji===null)throw Error(gt(160));Kk(u,d,i),ji=null,Ts=!1;var y=i.alternate;y!==null&&(y.return=null),i.return=null}catch(w){Yr(i,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xk(t,e),t=t.sibling}function Xk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bs(t,e),rl(e),r&4){try{Lp(3,e,e.return),l_(3,e)}catch(V){Yr(e,e.return,V)}try{Lp(5,e,e.return)}catch(V){Yr(e,e.return,V)}}break;case 1:bs(t,e),rl(e),r&512&&n!==null&&Of(n,n.return);break;case 5:if(bs(t,e),rl(e),r&512&&n!==null&&Of(n,n.return),e.flags&32){var i=e.stateNode;try{Yp(i,"")}catch(V){Yr(e,e.return,V)}}if(r&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,d=n!==null?n.memoizedProps:u,l=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{l==="input"&&u.type==="radio"&&u.name!=null&&vI(i,u),y1(l,d);var w=y1(l,u);for(d=0;d<y.length;d+=2){var C=y[d],P=y[d+1];C==="style"?wI(i,P):C==="dangerouslySetInnerHTML"?xI(i,P):C==="children"?Yp(i,P):fw(i,C,P,w)}switch(l){case"input":d1(i,u);break;case"textarea":yI(i,u);break;case"select":var O=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var I=u.value;I!=null?Df(i,!!u.multiple,I,!1):O!==!!u.multiple&&(u.defaultValue!=null?Df(i,!!u.multiple,u.defaultValue,!0):Df(i,!!u.multiple,u.multiple?[]:"",!1))}i[am]=u}catch(V){Yr(e,e.return,V)}}break;case 6:if(bs(t,e),rl(e),r&4){if(e.stateNode===null)throw Error(gt(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(V){Yr(e,e.return,V)}}break;case 3:if(bs(t,e),rl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tm(t.containerInfo)}catch(V){Yr(e,e.return,V)}break;case 4:bs(t,e),rl(e);break;case 13:bs(t,e),rl(e),i=e.child,i.flags&8192&&(u=i.memoizedState!==null,i.stateNode.isHidden=u,!u||i.alternate!==null&&i.alternate.memoizedState!==null||(Gw=ri())),r&4&&cT(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(ho=(w=ho)||C,bs(t,e),ho=w):bs(t,e),rl(e),r&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!C&&e.mode&1)for($t=e,C=e.child;C!==null;){for(P=$t=C;$t!==null;){switch(O=$t,I=O.child,O.tag){case 0:case 11:case 14:case 15:Lp(4,O,O.return);break;case 1:Of(O,O.return);var F=O.stateNode;if(typeof F.componentWillUnmount=="function"){r=O,n=O.return;try{t=r,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(V){Yr(r,n,V)}}break;case 5:Of(O,O.return);break;case 22:if(O.memoizedState!==null){fT(P);continue}}I!==null?(I.return=O,$t=I):fT(P)}C=C.sibling}e:for(C=null,P=e;;){if(P.tag===5){if(C===null){C=P;try{i=P.stateNode,w?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(l=P.stateNode,y=P.memoizedProps.style,d=y!=null&&y.hasOwnProperty("display")?y.display:null,l.style.display=bI("display",d))}catch(V){Yr(e,e.return,V)}}}else if(P.tag===6){if(C===null)try{P.stateNode.nodeValue=w?"":P.memoizedProps}catch(V){Yr(e,e.return,V)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;C===P&&(C=null),P=P.return}C===P&&(C=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:bs(t,e),rl(e),r&4&&cT(e);break;case 21:break;default:bs(t,e),rl(e)}}function rl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wk(n)){var r=n;break e}n=n.return}throw Error(gt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yp(i,""),r.flags&=-33);var u=uT(e);W1(e,u,i);break;case 3:case 4:var d=r.stateNode.containerInfo,l=uT(e);Z1(e,l,d);break;default:throw Error(gt(161))}}catch(y){Yr(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R5(e,t,n){$t=e,Yk(e)}function Yk(e,t,n){for(var r=(e.mode&1)!==0;$t!==null;){var i=$t,u=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||Ig;if(!d){var l=i.alternate,y=l!==null&&l.memoizedState!==null||ho;l=Ig;var w=ho;if(Ig=d,(ho=y)&&!w)for($t=i;$t!==null;)d=$t,y=d.child,d.tag===22&&d.memoizedState!==null?dT(i):y!==null?(y.return=d,$t=y):dT(i);for(;u!==null;)$t=u,Yk(u),u=u.sibling;$t=i,Ig=l,ho=w}hT(e)}else i.subtreeFlags&8772&&u!==null?(u.return=i,$t=u):hT(e)}}function hT(e){for(;$t!==null;){var t=$t;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ho||l_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ho)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ss(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&W2(t,u,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}W2(t,d,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var C=w.memoizedState;if(C!==null){var P=C.dehydrated;P!==null&&tm(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}ho||t.flags&512&&H1(t)}catch(O){Yr(t,t.return,O)}}if(t===e){$t=null;break}if(n=t.sibling,n!==null){n.return=t.return,$t=n;break}$t=t.return}}function fT(e){for(;$t!==null;){var t=$t;if(t===e){$t=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$t=n;break}$t=t.return}}function dT(e){for(;$t!==null;){var t=$t;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{l_(4,t)}catch(y){Yr(t,n,y)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(y){Yr(t,i,y)}}var u=t.return;try{H1(t)}catch(y){Yr(t,u,y)}break;case 5:var d=t.return;try{H1(t)}catch(y){Yr(t,d,y)}}}catch(y){Yr(t,t.return,y)}if(t===e){$t=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$t=l;break}$t=t.return}}var M5=Math.ceil,sy=hu.ReactCurrentDispatcher,jw=hu.ReactCurrentOwner,Xa=hu.ReactCurrentBatchConfig,Gn=0,ki=null,ci=null,Wi=0,wa=0,Lf=Pc(0),gi=0,fm=null,Ch=0,u_=0,qw=0,Rp=null,Xo=null,Gw=0,rd=1/0,Yl=null,ly=!1,K1=null,uc=null,kg=!1,tc=null,uy=0,Mp=0,X1=null,yv=-1,_v=0;function Mo(){return Gn&6?ri():yv!==-1?yv:yv=ri()}function cc(e){return e.mode&1?Gn&2&&Wi!==0?Wi&-Wi:v5.transition!==null?(_v===0&&(_v=MI()),_v):(e=ur,e!==0||(e=window.event,e=e===void 0?16:VI(e.type)),e):1}function Ls(e,t,n,r){if(50<Mp)throw Mp=0,X1=null,Error(gt(185));Om(e,n,r),(!(Gn&2)||e!==ki)&&(e===ki&&(!(Gn&2)&&(u_|=n),gi===4&&Wu(e,Wi)),ea(e,r),n===1&&Gn===0&&!(t.mode&1)&&(rd=ri()+500,o_&&Ac()))}function ea(e,t){var n=e.callbackNode;v3(e,t);var r=Hv(e,e===ki?Wi:0);if(r===0)n!==null&&w2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&w2(n),t===1)e.tag===0?g5(pT.bind(null,e)):ak(pT.bind(null,e)),f5(function(){!(Gn&6)&&Ac()}),n=null;else{switch(DI(r)){case 1:n=vw;break;case 4:n=LI;break;case 16:n=Gv;break;case 536870912:n=RI;break;default:n=Gv}n=oO(n,Qk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qk(e,t){if(yv=-1,_v=0,Gn&6)throw Error(gt(327));var n=e.callbackNode;if(Uf()&&e.callbackNode!==n)return null;var r=Hv(e,e===ki?Wi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cy(e,r);else{t=r;var i=Gn;Gn|=2;var u=eO();(ki!==e||Wi!==t)&&(Yl=null,rd=ri()+500,gh(e,t));do try{F5();break}catch(l){Jk(e,l)}while(1);kw(),sy.current=u,Gn=i,ci!==null?t=0:(ki=null,Wi=0,t=gi)}if(t!==0){if(t===2&&(i=S1(e),i!==0&&(r=i,t=Y1(e,i))),t===1)throw n=fm,gh(e,0),Wu(e,r),ea(e,ri()),n;if(t===6)Wu(e,r);else{if(i=e.current.alternate,!(r&30)&&!D5(i)&&(t=cy(e,r),t===2&&(u=S1(e),u!==0&&(r=u,t=Y1(e,u))),t===1))throw n=fm,gh(e,0),Wu(e,r),ea(e,ri()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(gt(345));case 2:lh(e,Xo,Yl);break;case 3:if(Wu(e,r),(r&130023424)===r&&(t=Gw+500-ri(),10<t)){if(Hv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Mo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=O1(lh.bind(null,e,Xo,Yl),t);break}lh(e,Xo,Yl);break;case 4:if(Wu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var d=31-Os(r);u=1<<d,d=t[d],d>i&&(i=d),r&=~u}if(r=i,r=ri()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M5(r/1960))-r,10<r){e.timeoutHandle=O1(lh.bind(null,e,Xo,Yl),r);break}lh(e,Xo,Yl);break;case 5:lh(e,Xo,Yl);break;default:throw Error(gt(329))}}}return ea(e,ri()),e.callbackNode===n?Qk.bind(null,e):null}function Y1(e,t){var n=Rp;return e.current.memoizedState.isDehydrated&&(gh(e,t).flags|=256),e=cy(e,t),e!==2&&(t=Xo,Xo=n,t!==null&&Q1(t)),e}function Q1(e){Xo===null?Xo=e:Xo.push.apply(Xo,e)}function D5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],u=i.getSnapshot;i=i.value;try{if(!Ds(u(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wu(e,t){for(t&=~qw,t&=~u_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Os(t),r=1<<n;e[n]=-1,t&=~r}}function pT(e){if(Gn&6)throw Error(gt(327));Uf();var t=Hv(e,0);if(!(t&1))return ea(e,ri()),null;var n=cy(e,t);if(e.tag!==0&&n===2){var r=S1(e);r!==0&&(t=r,n=Y1(e,r))}if(n===1)throw n=fm,gh(e,0),Wu(e,t),ea(e,ri()),n;if(n===6)throw Error(gt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lh(e,Xo,Yl),ea(e,ri()),null}function Hw(e,t){var n=Gn;Gn|=1;try{return e(t)}finally{Gn=n,Gn===0&&(rd=ri()+500,o_&&Ac())}}function Ph(e){tc!==null&&tc.tag===0&&!(Gn&6)&&Uf();var t=Gn;Gn|=1;var n=Xa.transition,r=ur;try{if(Xa.transition=null,ur=1,e)return e()}finally{ur=r,Xa.transition=n,Gn=t,!(Gn&6)&&Ac()}}function Zw(){wa=Lf.current,Rr(Lf)}function gh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,h5(n)),ci!==null)for(n=ci.return;n!==null;){var r=n;switch(Pw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yv();break;case 3:td(),Rr(Qo),Rr(mo),zw();break;case 5:Dw(r);break;case 4:td();break;case 13:Rr(jr);break;case 19:Rr(jr);break;case 10:Ow(r.type._context);break;case 22:case 23:Zw()}n=n.return}if(ki=e,ci=e=hc(e.current,null),Wi=wa=t,gi=0,fm=null,qw=u_=Ch=0,Xo=Rp=null,fh!==null){for(t=0;t<fh.length;t++)if(n=fh[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,u=n.pending;if(u!==null){var d=u.next;u.next=i,r.next=d}n.pending=r}fh=null}return e}function Jk(e,t){do{var n=ci;try{if(kw(),mv.current=ay,oy){for(var r=qr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oy=!1}if(Th=0,Pi=mi=qr=null,Op=!1,um=0,jw.current=null,n===null||n.return===null){gi=1,fm=t,ci=null;break}e:{var u=e,d=n.return,l=n,y=t;if(t=Wi,l.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var w=y,C=l,P=C.tag;if(!(C.mode&1)&&(P===0||P===11||P===15)){var O=C.alternate;O?(C.updateQueue=O.updateQueue,C.memoizedState=O.memoizedState,C.lanes=O.lanes):(C.updateQueue=null,C.memoizedState=null)}var I=tT(d);if(I!==null){I.flags&=-257,nT(I,d,l,u,t),I.mode&1&&eT(u,w,t),t=I,y=w;var F=t.updateQueue;if(F===null){var V=new Set;V.add(y),t.updateQueue=V}else F.add(y);break e}else{if(!(t&1)){eT(u,w,t),Ww();break e}y=Error(gt(426))}}else if(Br&&l.mode&1){var Z=tT(d);if(Z!==null){!(Z.flags&65536)&&(Z.flags|=256),nT(Z,d,l,u,t),Aw(nd(y,l));break e}}u=y=nd(y,l),gi!==4&&(gi=2),Rp===null?Rp=[u]:Rp.push(u),u=d;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var U=zk(u,y,t);Z2(u,U);break e;case 1:l=y;var N=u.type,j=u.stateNode;if(!(u.flags&128)&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(uc===null||!uc.has(j)))){u.flags|=65536,t&=-t,u.lanes|=t;var Q=Fk(u,l,t);Z2(u,Q);break e}}u=u.return}while(u!==null)}nO(n)}catch(ee){t=ee,ci===n&&n!==null&&(ci=n=n.return);continue}break}while(1)}function eO(){var e=sy.current;return sy.current=ay,e===null?ay:e}function Ww(){(gi===0||gi===3||gi===2)&&(gi=4),ki===null||!(Ch&268435455)&&!(u_&268435455)||Wu(ki,Wi)}function cy(e,t){var n=Gn;Gn|=2;var r=eO();(ki!==e||Wi!==t)&&(Yl=null,gh(e,t));do try{z5();break}catch(i){Jk(e,i)}while(1);if(kw(),Gn=n,sy.current=r,ci!==null)throw Error(gt(261));return ki=null,Wi=0,gi}function z5(){for(;ci!==null;)tO(ci)}function F5(){for(;ci!==null&&!l3();)tO(ci)}function tO(e){var t=iO(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?nO(e):ci=t,jw.current=null}function nO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=k5(n,t),n!==null){n.flags&=32767,ci=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gi=6,ci=null;return}}else if(n=I5(n,t,wa),n!==null){ci=n;return}if(t=t.sibling,t!==null){ci=t;return}ci=t=e}while(t!==null);gi===0&&(gi=5)}function lh(e,t,n){var r=ur,i=Xa.transition;try{Xa.transition=null,ur=1,N5(e,t,n,r)}finally{Xa.transition=i,ur=r}return null}function N5(e,t,n,r){do Uf();while(tc!==null);if(Gn&6)throw Error(gt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(gt(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(y3(e,u),e===ki&&(ci=ki=null,Wi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kg||(kg=!0,oO(Gv,function(){return Uf(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=Xa.transition,Xa.transition=null;var d=ur;ur=1;var l=Gn;Gn|=4,jw.current=null,L5(e,n),Xk(n,e),i5(I1),Zv=!!A1,I1=A1=null,e.current=n,R5(n),u3(),Gn=l,ur=d,Xa.transition=u}else e.current=n;if(kg&&(kg=!1,tc=e,uy=i),u=e.pendingLanes,u===0&&(uc=null),f3(n.stateNode),ea(e,ri()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ly)throw ly=!1,e=K1,K1=null,e;return uy&1&&e.tag!==0&&Uf(),u=e.pendingLanes,u&1?e===X1?Mp++:(Mp=0,X1=e):Mp=0,Ac(),null}function Uf(){if(tc!==null){var e=DI(uy),t=Xa.transition,n=ur;try{if(Xa.transition=null,ur=16>e?16:e,tc===null)var r=!1;else{if(e=tc,tc=null,uy=0,Gn&6)throw Error(gt(331));var i=Gn;for(Gn|=4,$t=e.current;$t!==null;){var u=$t,d=u.child;if($t.flags&16){var l=u.deletions;if(l!==null){for(var y=0;y<l.length;y++){var w=l[y];for($t=w;$t!==null;){var C=$t;switch(C.tag){case 0:case 11:case 15:Lp(8,C,u)}var P=C.child;if(P!==null)P.return=C,$t=P;else for(;$t!==null;){C=$t;var O=C.sibling,I=C.return;if(Zk(C),C===w){$t=null;break}if(O!==null){O.return=I,$t=O;break}$t=I}}}var F=u.alternate;if(F!==null){var V=F.child;if(V!==null){F.child=null;do{var Z=V.sibling;V.sibling=null,V=Z}while(V!==null)}}$t=u}}if(u.subtreeFlags&2064&&d!==null)d.return=u,$t=d;else e:for(;$t!==null;){if(u=$t,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Lp(9,u,u.return)}var U=u.sibling;if(U!==null){U.return=u.return,$t=U;break e}$t=u.return}}var N=e.current;for($t=N;$t!==null;){d=$t;var j=d.child;if(d.subtreeFlags&2064&&j!==null)j.return=d,$t=j;else e:for(d=N;$t!==null;){if(l=$t,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:l_(9,l)}}catch(ee){Yr(l,l.return,ee)}if(l===d){$t=null;break e}var Q=l.sibling;if(Q!==null){Q.return=l.return,$t=Q;break e}$t=l.return}}if(Gn=i,Ac(),gl&&typeof gl.onPostCommitFiberRoot=="function")try{gl.onPostCommitFiberRoot(e_,e)}catch{}r=!0}return r}finally{ur=n,Xa.transition=t}}return!1}function mT(e,t,n){t=nd(n,t),t=zk(e,t,1),e=lc(e,t,1),t=Mo(),e!==null&&(Om(e,1,t),ea(e,t))}function Yr(e,t,n){if(e.tag===3)mT(e,e,n);else for(;t!==null;){if(t.tag===3){mT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uc===null||!uc.has(r))){e=nd(n,e),e=Fk(t,e,1),t=lc(t,e,1),e=Mo(),t!==null&&(Om(t,1,e),ea(t,e));break}}t=t.return}}function B5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mo(),e.pingedLanes|=e.suspendedLanes&n,ki===e&&(Wi&n)===n&&(gi===4||gi===3&&(Wi&130023424)===Wi&&500>ri()-Gw?gh(e,0):qw|=n),ea(e,t)}function rO(e,t){t===0&&(e.mode&1?(t=xg,xg<<=1,!(xg&130023424)&&(xg=4194304)):t=1);var n=Mo();e=lu(e,t),e!==null&&(Om(e,t,n),ea(e,n))}function U5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rO(e,n)}function V5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(gt(314))}r!==null&&r.delete(t),rO(e,n)}var iO;iO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qo.current)Yo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Yo=!1,A5(e,t,n);Yo=!!(e.flags&131072)}else Yo=!1,Br&&t.flags&1048576&&sk(t,ey,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vv(e,t),e=t.pendingProps;var i=Qf(t,mo.current);Bf(t,n),i=Nw(null,t,r,e,i,n);var u=Bw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jo(r)?(u=!0,Qv(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rw(t),i.updater=a_,t.stateNode=i,i._reactInternals=t,N1(t,r,e,n),t=V1(null,t,r,!0,u,n)):(t.tag=0,Br&&u&&Cw(t),Oo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vv(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=j5(r),e=Ss(r,e),i){case 0:t=U1(null,t,r,e,n);break e;case 1:t=oT(null,t,r,e,n);break e;case 11:t=rT(null,t,r,e,n);break e;case 14:t=iT(null,t,r,Ss(r.type,e),n);break e}throw Error(gt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ss(r,i),U1(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ss(r,i),oT(e,t,r,i,n);case 3:e:{if(Vk(t),e===null)throw Error(gt(387));r=t.pendingProps,u=t.memoizedState,i=u.element,hk(e,t),ry(t,r,null,n);var d=t.memoizedState;if(r=d.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=nd(Error(gt(423)),t),t=aT(e,t,r,n,i);break e}else if(r!==i){i=nd(Error(gt(424)),t),t=aT(e,t,r,n,i);break e}else for(Sa=sc(t.stateNode.containerInfo.firstChild),Ea=t,Br=!0,Cs=null,n=mk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jf(),r===i){t=uu(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 5:return gk(t),e===null&&D1(t),r=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,d=i.children,k1(r,i)?d=null:u!==null&&k1(r,u)&&(t.flags|=32),Uk(e,t),Oo(e,t,d,n),t.child;case 6:return e===null&&D1(t),null;case 13:return $k(e,t,n);case 4:return Mw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ed(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ss(r,i),rT(e,t,r,i,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:return Oo(e,t,t.pendingProps.children,n),t.child;case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,u=t.memoizedProps,d=i.value,Ar(ty,r._currentValue),r._currentValue=d,u!==null)if(Ds(u.value,d)){if(u.children===i.children&&!Qo.current){t=uu(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var l=u.dependencies;if(l!==null){d=u.child;for(var y=l.firstContext;y!==null;){if(y.context===r){if(u.tag===1){y=ru(-1,n&-n),y.tag=2;var w=u.updateQueue;if(w!==null){w=w.shared;var C=w.pending;C===null?y.next=y:(y.next=C.next,C.next=y),w.pending=y}}u.lanes|=n,y=u.alternate,y!==null&&(y.lanes|=n),z1(u.return,n,t),l.lanes|=n;break}y=y.next}}else if(u.tag===10)d=u.type===t.type?null:u.child;else if(u.tag===18){if(d=u.return,d===null)throw Error(gt(341));d.lanes|=n,l=d.alternate,l!==null&&(l.lanes|=n),z1(d,n,t),d=u.sibling}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===t){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}Oo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bf(t,n),i=Qa(i),r=r(i),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return r=t.type,i=Ss(r,t.pendingProps),i=Ss(r.type,i),iT(e,t,r,i,n);case 15:return Nk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ss(r,i),vv(e,t),t.tag=1,Jo(r)?(e=!0,Qv(t)):e=!1,Bf(t,n),dk(t,r,i),N1(t,r,i,n),V1(null,t,r,!0,e,n);case 19:return jk(e,t,n);case 22:return Bk(e,t,n)}throw Error(gt(156,t.tag))};function oO(e,t){return OI(e,t)}function $5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(e,t,n,r){return new $5(e,t,n,r)}function Kw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j5(e){if(typeof e=="function")return Kw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pw)return 11;if(e===mw)return 14}return 2}function hc(e,t){var n=e.alternate;return n===null?(n=Ka(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xv(e,t,n,r,i,u){var d=2;if(r=e,typeof e=="function")Kw(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case wf:return vh(n.children,i,u,t);case dw:d=8,i|=8;break;case l1:return e=Ka(12,n,t,i|2),e.elementType=l1,e.lanes=u,e;case u1:return e=Ka(13,n,t,i),e.elementType=u1,e.lanes=u,e;case c1:return e=Ka(19,n,t,i),e.elementType=c1,e.lanes=u,e;case pI:return c_(n,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fI:d=10;break e;case dI:d=9;break e;case pw:d=11;break e;case mw:d=14;break e;case Gu:d=16,r=null;break e}throw Error(gt(130,e==null?e:typeof e,""))}return t=Ka(d,n,t,i),t.elementType=e,t.type=r,t.lanes=u,t}function vh(e,t,n,r){return e=Ka(7,e,r,t),e.lanes=n,e}function c_(e,t,n,r){return e=Ka(22,e,r,t),e.elementType=pI,e.lanes=n,e.stateNode={isHidden:!1},e}function xx(e,t,n){return e=Ka(6,e,null,t),e.lanes=n,e}function bx(e,t,n){return t=Ka(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q5(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tx(0),this.expirationTimes=tx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xw(e,t,n,r,i,u,d,l,y){return e=new q5(e,t,n,l,y),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Ka(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rw(u),e}function G5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function aO(e){if(!e)return xc;e=e._reactInternals;e:{if(Oh(e)!==e||e.tag!==1)throw Error(gt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(gt(171))}if(e.tag===1){var n=e.type;if(Jo(n))return ok(e,n,t)}return t}function sO(e,t,n,r,i,u,d,l,y){return e=Xw(n,r,!0,e,i,u,d,l,y),e.context=aO(null),n=e.current,r=Mo(),i=cc(n),u=ru(r,i),u.callback=t??null,lc(n,u,i),e.current.lanes=i,Om(e,i,r),ea(e,r),e}function h_(e,t,n,r){var i=t.current,u=Mo(),d=cc(i);return n=aO(n),t.context===null?t.context=n:t.pendingContext=n,t=ru(u,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=lc(i,t,d),e!==null&&(Ls(e,i,d,u),pv(e,i,d)),d}function hy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yw(e,t){gT(e,t),(e=e.alternate)&&gT(e,t)}function H5(){return null}var lO=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qw(e){this._internalRoot=e}f_.prototype.render=Qw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(gt(409));h_(e,t,null,null)};f_.prototype.unmount=Qw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ph(function(){h_(null,e,null,null)}),t[su]=null}};function f_(e){this._internalRoot=e}f_.prototype.unstable_scheduleHydration=function(e){if(e){var t=NI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zu.length&&t!==0&&t<Zu[n].priority;n++);Zu.splice(n,0,e),n===0&&UI(e)}};function Jw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vT(){}function Z5(e,t,n,r,i){if(i){if(typeof r=="function"){var u=r;r=function(){var w=hy(d);u.call(w)}}var d=sO(t,r,e,0,null,!1,!1,"",vT);return e._reactRootContainer=d,e[su]=d.current,im(e.nodeType===8?e.parentNode:e),Ph(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var w=hy(y);l.call(w)}}var y=Xw(e,0,!1,null,null,!1,!1,"",vT);return e._reactRootContainer=y,e[su]=y.current,im(e.nodeType===8?e.parentNode:e),Ph(function(){h_(t,y,n,r)}),y}function p_(e,t,n,r,i){var u=n._reactRootContainer;if(u){var d=u;if(typeof i=="function"){var l=i;i=function(){var y=hy(d);l.call(y)}}h_(t,d,e,i)}else d=Z5(n,t,e,i,r);return hy(d)}zI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gp(t.pendingLanes);n!==0&&(yw(t,n|1),ea(t,ri()),!(Gn&6)&&(rd=ri()+500,Ac()))}break;case 13:Ph(function(){var r=lu(e,1);if(r!==null){var i=Mo();Ls(r,e,1,i)}}),Yw(e,1)}};_w=function(e){if(e.tag===13){var t=lu(e,134217728);if(t!==null){var n=Mo();Ls(t,e,134217728,n)}Yw(e,134217728)}};FI=function(e){if(e.tag===13){var t=cc(e),n=lu(e,t);if(n!==null){var r=Mo();Ls(n,e,t,r)}Yw(e,t)}};NI=function(){return ur};BI=function(e,t){var n=ur;try{return ur=e,t()}finally{ur=n}};x1=function(e,t,n){switch(t){case"input":if(d1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=i_(r);if(!i)throw Error(gt(90));gI(r),d1(r,i)}}}break;case"textarea":yI(e,n);break;case"select":t=n.value,t!=null&&Df(e,!!n.multiple,t,!1)}};TI=Hw;CI=Ph;var W5={usingClientEntryPoint:!1,Events:[Rm,Cf,i_,SI,EI,Hw]},ip={findFiberByHostInstance:hh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},K5={bundleType:ip.bundleType,version:ip.version,rendererPackageName:ip.rendererPackageName,rendererConfig:ip.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=II(e),e===null?null:e.stateNode},findFiberByHostInstance:ip.findFiberByHostInstance||H5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Og.isDisabled&&Og.supportsFiber)try{e_=Og.inject(K5),gl=Og}catch{}}Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W5;Aa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(t))throw Error(gt(200));return G5(e,t,null,n)};Aa.createRoot=function(e,t){if(!Jw(e))throw Error(gt(299));var n=!1,r="",i=lO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Xw(e,1,!1,null,null,n,!1,r,i),e[su]=t.current,im(e.nodeType===8?e.parentNode:e),new Qw(t)};Aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(gt(188)):(e=Object.keys(e).join(","),Error(gt(268,e)));return e=II(t),e=e===null?null:e.stateNode,e};Aa.flushSync=function(e){return Ph(e)};Aa.hydrate=function(e,t,n){if(!d_(t))throw Error(gt(200));return p_(null,e,t,!0,n)};Aa.hydrateRoot=function(e,t,n){if(!Jw(e))throw Error(gt(405));var r=n!=null&&n.hydratedSources||null,i=!1,u="",d=lO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=sO(t,null,e,1,n??null,i,!1,u,d),e[su]=t.current,im(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new f_(t)};Aa.render=function(e,t,n){if(!d_(t))throw Error(gt(200));return p_(null,e,t,!1,n)};Aa.unmountComponentAtNode=function(e){if(!d_(e))throw Error(gt(40));return e._reactRootContainer?(Ph(function(){p_(null,null,e,!1,function(){e._reactRootContainer=null,e[su]=null})}),!0):!1};Aa.unstable_batchedUpdates=Hw;Aa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!d_(n))throw Error(gt(200));if(e==null||e._reactInternals===void 0)throw Error(gt(38));return p_(e,t,n,!1,r)};Aa.version="18.2.0-next-9e3b772b8-20220608";function uO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uO)}catch(e){console.error(e)}}uO(),sI.exports=Aa;var Dm=sI.exports,X5,yT=Dm;X5=yT.createRoot,yT.hydrateRoot;var cO={exports:{}},hO={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=ce;function Y5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Q5=typeof Object.is=="function"?Object.is:Y5,J5=id.useState,eF=id.useEffect,tF=id.useLayoutEffect,nF=id.useDebugValue;function rF(e,t){var n=t(),r=J5({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return tF(function(){i.value=n,i.getSnapshot=t,wx(i)&&u({inst:i})},[e,n,t]),eF(function(){return wx(i)&&u({inst:i}),e(function(){wx(i)&&u({inst:i})})},[e]),nF(n),n}function wx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Q5(e,n)}catch{return!0}}function iF(e,t){return t()}var oF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iF:rF;hO.useSyncExternalStore=id.useSyncExternalStore!==void 0?id.useSyncExternalStore:oF;cO.exports=hO;var aF=cO.exports,fO={exports:{}},dO={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_=ce,sF=aF;function lF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uF=typeof Object.is=="function"?Object.is:lF,cF=sF.useSyncExternalStore,hF=m_.useRef,fF=m_.useEffect,dF=m_.useMemo,pF=m_.useDebugValue;dO.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var u=hF(null);if(u.current===null){var d={hasValue:!1,value:null};u.current=d}else d=u.current;u=dF(function(){function y(I){if(!w){if(w=!0,C=I,I=r(I),i!==void 0&&d.hasValue){var F=d.value;if(i(F,I))return P=F}return P=I}if(F=P,uF(C,I))return F;var V=r(I);return i!==void 0&&i(F,V)?F:(C=I,P=V)}var w=!1,C,P,O=n===void 0?null:n;return[function(){return y(t())},O===null?void 0:function(){return y(O())}]},[t,n,r,i]);var l=cF(e,u[0],u[1]);return fF(function(){d.hasValue=!0,d.value=l},[l]),pF(l),l};fO.exports=dO;var mF=fO.exports;function gF(e){e()}let pO=gF;const vF=e=>pO=e,yF=()=>pO,bc=ce.createContext(null);function mO(){return ce.useContext(bc)}const _F=()=>{throw new Error("uSES not initialized!")};let gO=_F;const xF=e=>{gO=e},bF=(e,t)=>e===t;function wF(e=bc){const t=e===bc?mO:()=>ce.useContext(e);return function(r,i=bF){const{store:u,subscription:d,getServerState:l}=t(),y=gO(d.addNestedSub,u.getState,l||u.getState,r,i);return ce.useDebugValue(y),y}}const SF=wF();function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}function yh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var vO={exports:{}},cr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=typeof Symbol=="function"&&Symbol.for,eS=Oi?Symbol.for("react.element"):60103,tS=Oi?Symbol.for("react.portal"):60106,g_=Oi?Symbol.for("react.fragment"):60107,v_=Oi?Symbol.for("react.strict_mode"):60108,y_=Oi?Symbol.for("react.profiler"):60114,__=Oi?Symbol.for("react.provider"):60109,x_=Oi?Symbol.for("react.context"):60110,nS=Oi?Symbol.for("react.async_mode"):60111,b_=Oi?Symbol.for("react.concurrent_mode"):60111,w_=Oi?Symbol.for("react.forward_ref"):60112,S_=Oi?Symbol.for("react.suspense"):60113,EF=Oi?Symbol.for("react.suspense_list"):60120,E_=Oi?Symbol.for("react.memo"):60115,T_=Oi?Symbol.for("react.lazy"):60116,TF=Oi?Symbol.for("react.block"):60121,CF=Oi?Symbol.for("react.fundamental"):60117,PF=Oi?Symbol.for("react.responder"):60118,AF=Oi?Symbol.for("react.scope"):60119;function ka(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eS:switch(e=e.type,e){case nS:case b_:case g_:case y_:case v_:case S_:return e;default:switch(e=e&&e.$$typeof,e){case x_:case w_:case T_:case E_:case __:return e;default:return t}}case tS:return t}}}function yO(e){return ka(e)===b_}cr.AsyncMode=nS;cr.ConcurrentMode=b_;cr.ContextConsumer=x_;cr.ContextProvider=__;cr.Element=eS;cr.ForwardRef=w_;cr.Fragment=g_;cr.Lazy=T_;cr.Memo=E_;cr.Portal=tS;cr.Profiler=y_;cr.StrictMode=v_;cr.Suspense=S_;cr.isAsyncMode=function(e){return yO(e)||ka(e)===nS};cr.isConcurrentMode=yO;cr.isContextConsumer=function(e){return ka(e)===x_};cr.isContextProvider=function(e){return ka(e)===__};cr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eS};cr.isForwardRef=function(e){return ka(e)===w_};cr.isFragment=function(e){return ka(e)===g_};cr.isLazy=function(e){return ka(e)===T_};cr.isMemo=function(e){return ka(e)===E_};cr.isPortal=function(e){return ka(e)===tS};cr.isProfiler=function(e){return ka(e)===y_};cr.isStrictMode=function(e){return ka(e)===v_};cr.isSuspense=function(e){return ka(e)===S_};cr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===g_||e===b_||e===y_||e===v_||e===S_||e===EF||typeof e=="object"&&e!==null&&(e.$$typeof===T_||e.$$typeof===E_||e.$$typeof===__||e.$$typeof===x_||e.$$typeof===w_||e.$$typeof===CF||e.$$typeof===PF||e.$$typeof===AF||e.$$typeof===TF)};cr.typeOf=ka;vO.exports=cr;var IF=vO.exports,_O=IF,kF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xO={};xO[_O.ForwardRef]=kF;xO[_O.Memo]=OF;var xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS=Symbol.for("react.element"),iS=Symbol.for("react.portal"),C_=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),A_=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),k_=Symbol.for("react.context"),LF=Symbol.for("react.server_context"),O_=Symbol.for("react.forward_ref"),L_=Symbol.for("react.suspense"),R_=Symbol.for("react.suspense_list"),M_=Symbol.for("react.memo"),D_=Symbol.for("react.lazy"),RF=Symbol.for("react.offscreen"),bO;bO=Symbol.for("react.module.reference");function ts(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rS:switch(e=e.type,e){case C_:case A_:case P_:case L_:case R_:return e;default:switch(e=e&&e.$$typeof,e){case LF:case k_:case O_:case D_:case M_:case I_:return e;default:return t}}case iS:return t}}}xr.ContextConsumer=k_;xr.ContextProvider=I_;xr.Element=rS;xr.ForwardRef=O_;xr.Fragment=C_;xr.Lazy=D_;xr.Memo=M_;xr.Portal=iS;xr.Profiler=A_;xr.StrictMode=P_;xr.Suspense=L_;xr.SuspenseList=R_;xr.isAsyncMode=function(){return!1};xr.isConcurrentMode=function(){return!1};xr.isContextConsumer=function(e){return ts(e)===k_};xr.isContextProvider=function(e){return ts(e)===I_};xr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rS};xr.isForwardRef=function(e){return ts(e)===O_};xr.isFragment=function(e){return ts(e)===C_};xr.isLazy=function(e){return ts(e)===D_};xr.isMemo=function(e){return ts(e)===M_};xr.isPortal=function(e){return ts(e)===iS};xr.isProfiler=function(e){return ts(e)===A_};xr.isStrictMode=function(e){return ts(e)===P_};xr.isSuspense=function(e){return ts(e)===L_};xr.isSuspenseList=function(e){return ts(e)===R_};xr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===C_||e===A_||e===P_||e===L_||e===R_||e===RF||typeof e=="object"&&e!==null&&(e.$$typeof===D_||e.$$typeof===M_||e.$$typeof===I_||e.$$typeof===k_||e.$$typeof===O_||e.$$typeof===bO||e.getModuleId!==void 0)};xr.typeOf=ts;function MF(){const e=yF();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,u=n={callback:r,next:null,prev:n};return u.prev?u.prev.next=u:t=u,function(){!i||t===null||(i=!1,u.next?u.next.prev=u.prev:n=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}const _T={notify(){},get:()=>[]};function DF(e,t){let n,r=_T;function i(P){return y(),r.subscribe(P)}function u(){r.notify()}function d(){C.onStateChange&&C.onStateChange()}function l(){return!!n}function y(){n||(n=t?t.addNestedSub(d):e.subscribe(d),r=MF())}function w(){n&&(n(),n=void 0,r.clear(),r=_T)}const C={addNestedSub:i,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:l,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return C}const zF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FF=zF?ce.useLayoutEffect:ce.useEffect;function xT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fy(e,t){if(xT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!xT(e[n[i]],t[n[i]]))return!1;return!0}function NW({store:e,context:t,children:n,serverState:r}){const i=ce.useMemo(()=>{const l=DF(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0}},[e,r]),u=ce.useMemo(()=>e.getState(),[e]);FF(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),u!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,u]);const d=t||bc;return Er.createElement(d.Provider,{value:i},n)}function wO(e=bc){const t=e===bc?mO:()=>ce.useContext(e);return function(){const{store:r}=t();return r}}const SO=wO();function NF(e=bc){const t=e===bc?SO:wO(e);return function(){return t().dispatch}}const BF=NF();xF(mF.useSyncExternalStoreWithSelector);vF(Dm.unstable_batchedUpdates);function fo(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function cu(e){return!!e&&!!e[Fr]}function zs(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===ZF}(e)||Array.isArray(e)||!!e[Dp]||!!(!((t=e.constructor)===null||t===void 0)&&t[Dp])||z_(e)||F_(e))}function wc(e,t,n){n===void 0&&(n=!1),Sc(e)===0?(n?Object.keys:Vf)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Sc(e){var t=e[Fr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:z_(e)?2:F_(e)?3:0}function fc(e,t){return Sc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bv(e,t){return Sc(e)===2?e.get(t):e[t]}function EO(e,t,n){var r=Sc(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function TO(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function z_(e){return GF&&e instanceof Map}function F_(e){return HF&&e instanceof Set}function uh(e){return e.o||e.t}function oS(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=PO(e);delete t[Fr];for(var n=Vf(t),r=0;r<n.length;r++){var i=n[r],u=t[i];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(t[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function aS(e,t){return t===void 0&&(t=!1),sS(e)||cu(e)||!zs(e)||(Sc(e)>1&&(e.set=e.add=e.clear=e.delete=UF),Object.freeze(e),t&&wc(e,function(n,r){return aS(r,!0)},!0)),e}function UF(){fo(2)}function sS(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function yl(e){var t=nb[e];return t||fo(18,e),t}function CO(e,t){nb[e]||(nb[e]=t)}function J1(){return dm}function Sx(e,t){t&&(yl("Patches"),e.u=[],e.s=[],e.v=t)}function dy(e){eb(e),e.p.forEach(VF),e.p=null}function eb(e){e===dm&&(dm=e.l)}function bT(e){return dm={p:[],l:dm,h:e,m:!0,_:0}}function VF(e){var t=e[Fr];t.i===0||t.i===1?t.j():t.O=!0}function Ex(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||yl("ES5").S(t,e,r),r?(n[Fr].P&&(dy(t),fo(4)),zs(e)&&(e=py(t,e),t.l||my(t,e)),t.u&&yl("Patches").M(n[Fr].t,e,t.u,t.s)):e=py(t,n,[]),dy(t),t.u&&t.v(t.u,t.s),e!==uS?e:void 0}function py(e,t,n){if(sS(t))return t;var r=t[Fr];if(!r)return wc(t,function(u,d){return wT(e,r,t,u,d,n)},!0),t;if(r.A!==e)return t;if(!r.P)return my(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=oS(r.k):r.o;wc(r.i===3?new Set(i):i,function(u,d){return wT(e,r,i,u,d,n)}),my(e,i,!1),n&&e.u&&yl("Patches").R(r,n,e.u,e.s)}return r.o}function wT(e,t,n,r,i,u){if(cu(i)){var d=py(e,i,u&&t&&t.i!==3&&!fc(t.D,r)?u.concat(r):void 0);if(EO(n,r,d),!cu(d))return;e.m=!1}if(zs(i)&&!sS(i)){if(!e.h.F&&e._<1)return;py(e,i),t&&t.A.l||my(e,i)}}function my(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&aS(t,n)}function Tx(e,t){var n=e[Fr];return(n?uh(n):e)[t]}function ST(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ku(e){e.P||(e.P=!0,e.l&&Ku(e.l))}function Cx(e){e.o||(e.o=oS(e.t))}function tb(e,t,n){var r=z_(t)?yl("MapSet").N(t,n):F_(t)?yl("MapSet").T(t,n):e.g?function(i,u){var d=Array.isArray(i),l={i:d?1:0,A:u?u.A:J1(),P:!1,I:!1,D:{},l:u,t:i,k:null,o:null,j:null,C:!1},y=l,w=pm;d&&(y=[l],w=yp);var C=Proxy.revocable(y,w),P=C.revoke,O=C.proxy;return l.k=O,l.j=P,O}(t,n):yl("ES5").J(t,n);return(n?n.A:J1()).p.push(r),r}function $F(e){return cu(e)||fo(22,e),function t(n){if(!zs(n))return n;var r,i=n[Fr],u=Sc(n);if(i){if(!i.P&&(i.i<4||!yl("ES5").K(i)))return i.t;i.I=!0,r=ET(n,u),i.I=!1}else r=ET(n,u);return wc(r,function(d,l){i&&bv(i.t,d)===l||EO(r,d,t(l))}),u===3?new Set(r):r}(e)}function ET(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return oS(e)}function jF(){function e(u,d){var l=i[u];return l?l.enumerable=d:i[u]=l={configurable:!0,enumerable:d,get:function(){var y=this[Fr];return pm.get(y,u)},set:function(y){var w=this[Fr];pm.set(w,u,y)}},l}function t(u){for(var d=u.length-1;d>=0;d--){var l=u[d][Fr];if(!l.P)switch(l.i){case 5:r(l)&&Ku(l);break;case 4:n(l)&&Ku(l)}}}function n(u){for(var d=u.t,l=u.k,y=Vf(l),w=y.length-1;w>=0;w--){var C=y[w];if(C!==Fr){var P=d[C];if(P===void 0&&!fc(d,C))return!0;var O=l[C],I=O&&O[Fr];if(I?I.t!==P:!TO(O,P))return!0}}var F=!!d[Fr];return y.length!==Vf(d).length+(F?0:1)}function r(u){var d=u.k;if(d.length!==u.t.length)return!0;var l=Object.getOwnPropertyDescriptor(d,d.length-1);if(l&&!l.get)return!0;for(var y=0;y<d.length;y++)if(!d.hasOwnProperty(y))return!0;return!1}var i={};CO("ES5",{J:function(u,d){var l=Array.isArray(u),y=function(C,P){if(C){for(var O=Array(P.length),I=0;I<P.length;I++)Object.defineProperty(O,""+I,e(I,!0));return O}var F=PO(P);delete F[Fr];for(var V=Vf(F),Z=0;Z<V.length;Z++){var U=V[Z];F[U]=e(U,C||!!F[U].enumerable)}return Object.create(Object.getPrototypeOf(P),F)}(l,u),w={i:l?5:4,A:d?d.A:J1(),P:!1,I:!1,D:{},l:d,t:u,k:y,o:null,O:!1,C:!1};return Object.defineProperty(y,Fr,{value:w,writable:!0}),y},S:function(u,d,l){l?cu(d)&&d[Fr].A===u&&t(u.p):(u.u&&function y(w){if(w&&typeof w=="object"){var C=w[Fr];if(C){var P=C.t,O=C.k,I=C.D,F=C.i;if(F===4)wc(O,function(j){j!==Fr&&(P[j]!==void 0||fc(P,j)?I[j]||y(O[j]):(I[j]=!0,Ku(C)))}),wc(P,function(j){O[j]!==void 0||fc(O,j)||(I[j]=!1,Ku(C))});else if(F===5){if(r(C)&&(Ku(C),I.length=!0),O.length<P.length)for(var V=O.length;V<P.length;V++)I[V]=!1;else for(var Z=P.length;Z<O.length;Z++)I[Z]=!0;for(var U=Math.min(O.length,P.length),N=0;N<U;N++)O.hasOwnProperty(N)||(I[N]=!0),I[N]===void 0&&y(O[N])}}}}(u.p[0]),t(u.p))},K:function(u){return u.i===4?n(u):r(u)}})}function qF(){function e(r){if(!zs(r))return r;if(Array.isArray(r))return r.map(e);if(z_(r))return new Map(Array.from(r.entries()).map(function(d){return[d[0],e(d[1])]}));if(F_(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var u in r)i[u]=e(r[u]);return fc(r,Dp)&&(i[Dp]=r[Dp]),i}function t(r){return cu(r)?e(r):r}var n="add";CO("Patches",{$:function(r,i){return i.forEach(function(u){for(var d=u.path,l=u.op,y=r,w=0;w<d.length-1;w++){var C=Sc(y),P=""+d[w];C!==0&&C!==1||P!=="__proto__"&&P!=="constructor"||fo(24),typeof y=="function"&&P==="prototype"&&fo(24),typeof(y=bv(y,P))!="object"&&fo(15,d.join("/"))}var O=Sc(y),I=e(u.value),F=d[d.length-1];switch(l){case"replace":switch(O){case 2:return y.set(F,I);case 3:fo(16);default:return y[F]=I}case n:switch(O){case 1:return F==="-"?y.push(I):y.splice(F,0,I);case 2:return y.set(F,I);case 3:return y.add(I);default:return y[F]=I}case"remove":switch(O){case 1:return y.splice(F,1);case 2:return y.delete(F);case 3:return y.delete(u.value);default:return delete y[F]}default:fo(17,l)}}),r},R:function(r,i,u,d){switch(r.i){case 0:case 4:case 2:return function(l,y,w,C){var P=l.t,O=l.o;wc(l.D,function(I,F){var V=bv(P,I),Z=bv(O,I),U=F?fc(P,I)?"replace":n:"remove";if(V!==Z||U!=="replace"){var N=y.concat(I);w.push(U==="remove"?{op:U,path:N}:{op:U,path:N,value:Z}),C.push(U===n?{op:"remove",path:N}:U==="remove"?{op:n,path:N,value:t(V)}:{op:"replace",path:N,value:t(V)})}})}(r,i,u,d);case 5:case 1:return function(l,y,w,C){var P=l.t,O=l.D,I=l.o;if(I.length<P.length){var F=[I,P];P=F[0],I=F[1];var V=[C,w];w=V[0],C=V[1]}for(var Z=0;Z<P.length;Z++)if(O[Z]&&I[Z]!==P[Z]){var U=y.concat([Z]);w.push({op:"replace",path:U,value:t(I[Z])}),C.push({op:"replace",path:U,value:t(P[Z])})}for(var N=P.length;N<I.length;N++){var j=y.concat([N]);w.push({op:n,path:j,value:t(I[N])})}P.length<I.length&&C.push({op:"replace",path:y.concat(["length"]),value:P.length})}(r,i,u,d);case 3:return function(l,y,w,C){var P=l.t,O=l.o,I=0;P.forEach(function(F){if(!O.has(F)){var V=y.concat([I]);w.push({op:"remove",path:V,value:F}),C.unshift({op:n,path:V,value:F})}I++}),I=0,O.forEach(function(F){if(!P.has(F)){var V=y.concat([I]);w.push({op:n,path:V,value:F}),C.unshift({op:"remove",path:V,value:F})}I++})}(r,i,u,d)}},M:function(r,i,u,d){u.push({op:"replace",path:[],value:i===uS?void 0:i}),d.push({op:"replace",path:[],value:r})}})}var TT,dm,lS=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",GF=typeof Map<"u",HF=typeof Set<"u",CT=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",uS=lS?Symbol.for("immer-nothing"):((TT={})["immer-nothing"]=!0,TT),Dp=lS?Symbol.for("immer-draftable"):"__$immer_draftable",Fr=lS?Symbol.for("immer-state"):"__$immer_state",ZF=""+Object.prototype.constructor,Vf=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,PO=Object.getOwnPropertyDescriptors||function(e){var t={};return Vf(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},nb={},pm={get:function(e,t){if(t===Fr)return e;var n=uh(e);if(!fc(n,t))return function(i,u,d){var l,y=ST(u,d);return y?"value"in y?y.value:(l=y.get)===null||l===void 0?void 0:l.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!zs(r)?r:r===Tx(e.t,t)?(Cx(e),e.o[t]=tb(e.A.h,r,e)):r},has:function(e,t){return t in uh(e)},ownKeys:function(e){return Reflect.ownKeys(uh(e))},set:function(e,t,n){var r=ST(uh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Tx(uh(e),t),u=i==null?void 0:i[Fr];if(u&&u.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(TO(n,i)&&(n!==void 0||fc(e.t,t)))return!0;Cx(e),Ku(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Tx(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Cx(e),Ku(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=uh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){fo(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){fo(12)}},yp={};wc(pm,function(e,t){yp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),yp.deleteProperty=function(e,t){return yp.set.call(this,e,t,void 0)},yp.set=function(e,t,n){return pm.set.call(this,e[0],t,n,e[0])};var WF=function(){function e(n){var r=this;this.g=CT,this.F=!0,this.produce=function(i,u,d){if(typeof i=="function"&&typeof u!="function"){var l=u;u=i;var y=r;return function(V){var Z=this;V===void 0&&(V=l);for(var U=arguments.length,N=Array(U>1?U-1:0),j=1;j<U;j++)N[j-1]=arguments[j];return y.produce(V,function(Q){var ee;return(ee=u).call.apply(ee,[Z,Q].concat(N))})}}var w;if(typeof u!="function"&&fo(6),d!==void 0&&typeof d!="function"&&fo(7),zs(i)){var C=bT(r),P=tb(r,i,void 0),O=!0;try{w=u(P),O=!1}finally{O?dy(C):eb(C)}return typeof Promise<"u"&&w instanceof Promise?w.then(function(V){return Sx(C,d),Ex(V,C)},function(V){throw dy(C),V}):(Sx(C,d),Ex(w,C))}if(!i||typeof i!="object"){if((w=u(i))===void 0&&(w=i),w===uS&&(w=void 0),r.F&&aS(w,!0),d){var I=[],F=[];yl("Patches").M(i,w,I,F),d(I,F)}return w}fo(21,i)},this.produceWithPatches=function(i,u){if(typeof i=="function")return function(w){for(var C=arguments.length,P=Array(C>1?C-1:0),O=1;O<C;O++)P[O-1]=arguments[O];return r.produceWithPatches(w,function(I){return i.apply(void 0,[I].concat(P))})};var d,l,y=r.produce(i,u,function(w,C){d=w,l=C});return typeof Promise<"u"&&y instanceof Promise?y.then(function(w){return[w,d,l]}):[y,d,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){zs(n)||fo(8),cu(n)&&(n=$F(n));var r=bT(this),i=tb(this,n,void 0);return i[Fr].C=!0,eb(r),i},t.finishDraft=function(n,r){var i=n&&n[Fr],u=i.A;return Sx(u,r),Ex(void 0,u)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!CT&&fo(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var u=r[i];if(u.path.length===0&&u.op==="replace"){n=u.value;break}}i>-1&&(r=r.slice(i+1));var d=yl("Patches").$;return cu(n)?d(n,r):this.produce(n,function(l){return d(l,r)})},e}(),Pa=new WF,zm=Pa.produce,AO=Pa.produceWithPatches.bind(Pa);Pa.setAutoFreeze.bind(Pa);Pa.setUseProxies.bind(Pa);var PT=Pa.applyPatches.bind(Pa);Pa.createDraft.bind(Pa);Pa.finishDraft.bind(Pa);function _p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){_p(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uo(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var IT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Px=function(){return Math.random().toString(36).substring(7).split("").join(".")},gy={INIT:"@@redux/INIT"+Px(),REPLACE:"@@redux/REPLACE"+Px(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Px()}};function KF(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function IO(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(uo(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(uo(1));return n(IO)(e,t)}if(typeof e!="function")throw new Error(uo(2));var i=e,u=t,d=[],l=d,y=!1;function w(){l===d&&(l=d.slice())}function C(){if(y)throw new Error(uo(3));return u}function P(V){if(typeof V!="function")throw new Error(uo(4));if(y)throw new Error(uo(5));var Z=!0;return w(),l.push(V),function(){if(Z){if(y)throw new Error(uo(6));Z=!1,w();var N=l.indexOf(V);l.splice(N,1),d=null}}}function O(V){if(!KF(V))throw new Error(uo(7));if(typeof V.type>"u")throw new Error(uo(8));if(y)throw new Error(uo(9));try{y=!0,u=i(u,V)}finally{y=!1}for(var Z=d=l,U=0;U<Z.length;U++){var N=Z[U];N()}return V}function I(V){if(typeof V!="function")throw new Error(uo(10));i=V,O({type:gy.REPLACE})}function F(){var V,Z=P;return V={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(uo(11));function j(){N.next&&N.next(C())}j();var Q=Z(j);return{unsubscribe:Q}}},V[IT]=function(){return this},V}return O({type:gy.INIT}),r={dispatch:O,subscribe:P,getState:C,replaceReducer:I},r[IT]=F,r}function XF(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:gy.INIT});if(typeof r>"u")throw new Error(uo(12));if(typeof n(void 0,{type:gy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(uo(13))})}function kO(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var u=Object.keys(n),d;try{XF(n)}catch(l){d=l}return function(y,w){if(y===void 0&&(y={}),d)throw d;for(var C=!1,P={},O=0;O<u.length;O++){var I=u[O],F=n[I],V=y[I],Z=F(V,w);if(typeof Z>"u")throw w&&w.type,new Error(uo(14));P[I]=Z,C=C||Z!==V}return C=C||u.length!==Object.keys(y).length,C?P:y}}function vy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function YF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),u=function(){throw new Error(uo(15))},d={getState:i.getState,dispatch:function(){return u.apply(void 0,arguments)}},l=t.map(function(y){return y(d)});return u=vy.apply(void 0,l)(i.dispatch),on(on({},i),{},{dispatch:u})}}}var yy="NOT_FOUND";function QF(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:yy},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function JF(e,t){var n=[];function r(l){var y=n.findIndex(function(C){return t(l,C.key)});if(y>-1){var w=n[y];return y>0&&(n.splice(y,1),n.unshift(w)),w.value}return yy}function i(l,y){r(l)===yy&&(n.unshift({key:l,value:y}),n.length>e&&n.pop())}function u(){return n}function d(){n=[]}return{get:r,put:i,getEntries:u,clear:d}}var eN=function(t,n){return t===n};function tN(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,u=0;u<i;u++)if(!e(n[u],r[u]))return!1;return!0}}function rb(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?eN:r,u=n.maxSize,d=u===void 0?1:u,l=n.resultEqualityCheck,y=tN(i),w=d===1?QF(y):JF(d,y);function C(){var P=w.get(arguments);if(P===yy){if(P=e.apply(null,arguments),l){var O=w.getEntries(),I=O.find(function(F){return l(F.value,P)});I&&(P=I.value)}w.put(arguments,P)}return P}return C.clearCache=function(){return w.clear()},C}function nN(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function rN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var d=arguments.length,l=new Array(d),y=0;y<d;y++)l[y]=arguments[y];var w=0,C,P={memoizeOptions:void 0},O=l.pop();if(typeof O=="object"&&(P=O,O=l.pop()),typeof O!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof O+"]");var I=P,F=I.memoizeOptions,V=F===void 0?n:F,Z=Array.isArray(V)?V:[V],U=nN(l),N=e.apply(void 0,[function(){return w++,O.apply(null,arguments)}].concat(Z)),j=e(function(){for(var ee=[],Y=U.length,J=0;J<Y;J++)ee.push(U[J].apply(null,arguments));return C=N.apply(null,ee),C});return Object.assign(j,{resultFunc:O,memoizedResultFunc:N,dependencies:U,lastResult:function(){return C},recomputations:function(){return w},resetRecomputations:function(){return w=0}}),j};return i}var zp=rN(rb);function OO(e){var t=function(r){var i=r.dispatch,u=r.getState;return function(d){return function(l){return typeof l=="function"?l(i,u,e):d(l)}}};return t}var LO=OO();LO.withExtraArgument=OO;const kT=LO;var iN=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fm=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,i,u,d;return d={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function l(w){return function(C){return y([w,C])}}function y(w){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(u=w[0]&2?i.return:w[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,w[1])).done)return u;switch(i=0,u&&(w=[w[0]&2,u.value]),w[0]){case 0:case 1:u=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,i=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!u||w[1]>u[0]&&w[1]<u[3])){n.label=w[1];break}if(w[0]===6&&n.label<u[1]){n.label=u[1],u=w;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(w);break}u[2]&&n.ops.pop(),n.trys.pop();continue}w=t.call(e,n)}catch(C){w=[6,C],i=0}finally{r=u=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},mm=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},oN=Object.defineProperty,aN=Object.defineProperties,sN=Object.getOwnPropertyDescriptors,OT=Object.getOwnPropertySymbols,lN=Object.prototype.hasOwnProperty,uN=Object.prototype.propertyIsEnumerable,LT=function(e,t,n){return t in e?oN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},dc=function(e,t){for(var n in t||(t={}))lN.call(t,n)&&LT(e,n,t[n]);if(OT)for(var r=0,i=OT(t);r<i.length;r++){var n=i[r];uN.call(t,n)&&LT(e,n,t[n])}return e},Ax=function(e,t){return aN(e,sN(t))},Nm=function(e,t,n){return new Promise(function(r,i){var u=function(y){try{l(n.next(y))}catch(w){i(w)}},d=function(y){try{l(n.throw(y))}catch(w){i(w)}},l=function(y){return y.done?r(y.value):Promise.resolve(y.value).then(u,d)};l((n=n.apply(e,t)).next())})},cN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vy:vy.apply(null,arguments)};function _d(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var hN=function(e){iN(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,mm([void 0],n[0].concat(this)))):new(t.bind.apply(t,mm([void 0],n.concat(this))))},t}(Array);function ib(e){return zs(e)?zm(e,function(){}):e}function fN(e){return typeof e=="boolean"}function dN(){return function(t){return pN(t)}}function pN(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new hN;return n&&(fN(n)?r.push(kT):r.push(kT.withExtraArgument(n.extraArgument))),r}var mN=!0;function BW(e){var t=dN(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,u=n.middleware,d=u===void 0?t():u,l=n.devTools,y=l===void 0?!0:l,w=n.preloadedState,C=w===void 0?void 0:w,P=n.enhancers,O=P===void 0?void 0:P,I;if(typeof i=="function")I=i;else if(_d(i))I=kO(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var F=d;typeof F=="function"&&(F=F(t));var V=YF.apply(void 0,F),Z=vy;y&&(Z=cN(dc({trace:!mN},typeof y=="object"&&y)));var U=[V];Array.isArray(O)?U=mm([V],O):typeof O=="function"&&(U=O(U));var N=Z.apply(void 0,U);return IO(I,C,N)}function Do(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var u=t.apply(void 0,r);if(!u)throw new Error("prepareAction did not return an object");return dc(dc({type:e,payload:u.payload},"meta"in u&&{meta:u.meta}),"error"in u&&{error:u.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function RO(e){var t={},n=[],r,i={addCase:function(u,d){var l=typeof u=="string"?u:u.type;if(l in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[l]=d,i},addMatcher:function(u,d){return n.push({matcher:u,reducer:d}),i},addDefaultCase:function(u){return r=u,i}};return e(i),[t,n,r]}function gN(e){return typeof e=="function"}function vN(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?RO(t):[t,n,r],u=i[0],d=i[1],l=i[2],y;if(gN(e))y=function(){return ib(e())};else{var w=ib(e);y=function(){return w}}function C(P,O){P===void 0&&(P=y());var I=mm([u[O.type]],d.filter(function(F){var V=F.matcher;return V(O)}).map(function(F){var V=F.reducer;return V}));return I.filter(function(F){return!!F}).length===0&&(I=[l]),I.reduce(function(F,V){if(V)if(cu(F)){var Z=F,U=V(Z,O);return U===void 0?F:U}else{if(zs(F))return zm(F,function(N){return V(N,O)});var U=V(F,O);if(U===void 0){if(F===null)return F;throw Error("A case reducer on a non-draftable value must not return undefined")}return U}return F},P)}return C.getInitialState=y,C}function yN(e,t){return e+"/"+t}function sf(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:ib(e.initialState),r=e.reducers||{},i=Object.keys(r),u={},d={},l={};i.forEach(function(C){var P=r[C],O=yN(t,C),I,F;"reducer"in P?(I=P.reducer,F=P.prepare):I=P,u[C]=I,d[O]=I,l[C]=F?Do(O,F):Do(O)});function y(){var C=typeof e.extraReducers=="function"?RO(e.extraReducers):[e.extraReducers],P=C[0],O=P===void 0?{}:P,I=C[1],F=I===void 0?[]:I,V=C[2],Z=V===void 0?void 0:V,U=dc(dc({},O),d);return vN(n,function(N){for(var j in U)N.addCase(j,U[j]);for(var Q=0,ee=F;Q<ee.length;Q++){var Y=ee[Q];N.addMatcher(Y.matcher,Y.reducer)}Z&&N.addDefaultCase(Z)})}var w;return{name:t,reducer:function(C,P){return w||(w=y()),w(C,P)},actions:l,caseReducers:u,getInitialState:function(){return w||(w=y()),w.getInitialState()}}}var _N="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cS=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=_N[Math.random()*64|0];return t},xN=["name","message","stack","code"],Ix=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),RT=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),bN=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=xN;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},MT=function(){function e(t,n,r){var i=Do(t+"/fulfilled",function(w,C,P,O){return{payload:w,meta:Ax(dc({},O||{}),{arg:P,requestId:C,requestStatus:"fulfilled"})}}),u=Do(t+"/pending",function(w,C,P){return{payload:void 0,meta:Ax(dc({},P||{}),{arg:C,requestId:w,requestStatus:"pending"})}}),d=Do(t+"/rejected",function(w,C,P,O,I){return{payload:O,error:(r&&r.serializeError||bN)(w||"Rejected"),meta:Ax(dc({},I||{}),{arg:P,requestId:C,rejectedWithValue:!!O,requestStatus:"rejected",aborted:(w==null?void 0:w.name)==="AbortError",condition:(w==null?void 0:w.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function w(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return w.prototype.abort=function(){},w}();function y(w){return function(C,P,O){var I=r!=null&&r.idGenerator?r.idGenerator(w):cS(),F=new l,V;function Z(N){V=N,F.abort()}var U=function(){return Nm(this,null,function(){var N,j,Q,ee,Y,J,se;return Fm(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,4,,5]),ee=(N=r==null?void 0:r.condition)==null?void 0:N.call(r,w,{getState:P,extra:O}),SN(ee)?[4,ee]:[3,2];case 1:ee=ge.sent(),ge.label=2;case 2:if(ee===!1||F.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Y=new Promise(function(he,Se){return F.signal.addEventListener("abort",function(){return Se({name:"AbortError",message:V||"Aborted"})})}),C(u(I,w,(j=r==null?void 0:r.getPendingMeta)==null?void 0:j.call(r,{requestId:I,arg:w},{getState:P,extra:O}))),[4,Promise.race([Y,Promise.resolve(n(w,{dispatch:C,getState:P,extra:O,requestId:I,signal:F.signal,abort:Z,rejectWithValue:function(he,Se){return new Ix(he,Se)},fulfillWithValue:function(he,Se){return new RT(he,Se)}})).then(function(he){if(he instanceof Ix)throw he;return he instanceof RT?i(he.payload,I,w,he.meta):i(he,I,w)})])];case 3:return Q=ge.sent(),[3,5];case 4:return J=ge.sent(),Q=J instanceof Ix?d(null,I,w,J.payload,J.meta):d(J,I,w),[3,5];case 5:return se=r&&!r.dispatchConditionRejection&&d.match(Q)&&Q.meta.condition,se||C(Q),[2,Q]}})})}();return Object.assign(U,{abort:Z,requestId:I,arg:w,unwrap:function(){return U.then(wN)}})}}return Object.assign(y,{pending:u,rejected:d,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function wN(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function SN(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var EN=function(e){return e&&typeof e.match=="function"},MO=function(e,t){return EN(e)?e.match(t):e(t)};function xd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return MO(r,n)})}}function Fp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.every(function(r){return MO(r,n)})}}function N_(e,t){if(!e||!e.meta)return!1;var n=typeof e.meta.requestId=="string",r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Bm(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function hS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return N_(n,["pending"])}:Bm(e)?function(n){var r=e.map(function(u){return u.pending}),i=xd.apply(void 0,r);return i(n)}:hS()(e[0])}function gm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return N_(n,["rejected"])}:Bm(e)?function(n){var r=e.map(function(u){return u.rejected}),i=xd.apply(void 0,r);return i(n)}:gm()(e[0])}function B_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return e.length===0?function(r){var i=Fp(gm.apply(void 0,e),n);return i(r)}:Bm(e)?function(r){var i=Fp(gm.apply(void 0,e),n);return i(r)}:B_()(e[0])}function Lh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return N_(n,["fulfilled"])}:Bm(e)?function(n){var r=e.map(function(u){return u.fulfilled}),i=xd.apply(void 0,r);return i(n)}:Lh()(e[0])}function ob(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return N_(n,["pending","fulfilled","rejected"])}:Bm(e)?function(n){for(var r=[],i=0,u=e;i<u.length;i++){var d=u[i];r.push(d.pending,d.rejected,d.fulfilled)}var l=xd.apply(void 0,r);return l(n)}:ob()(e[0])}var fS=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},TN=function(){},dS=function(e,t){return t===void 0&&(t=TN),e.catch(t),e},DO=function(e,t){e.addEventListener("abort",t,{once:!0})},$f=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},CN="task",zO="listener",FO="completed",pS="cancelled",PN="task-"+pS,AN="task-"+FO,NO=zO+"-"+pS,IN=zO+"-"+FO,U_=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=CN+" "+pS+" (reason: "+t+")"}return e}(),jf=function(e){if(e.aborted)throw new U_(e.reason)},BO=function(e){return dS(new Promise(function(t,n){var r=function(){return n(new U_(e.reason))};e.aborted?r():DO(e,r)}))},kN=function(e,t){return Nm(void 0,null,function(){var n,r;return Fm(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof U_?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},_y=function(e){return function(t){return dS(Promise.race([BO(e),t]).then(function(n){return jf(e),n}))}},UO=function(e){var t=_y(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},ON=Object.assign,DT={},Um="listenerMiddleware",LN=function(e){var t=function(n){return DO(e,function(){return $f(n,e.reason)})};return function(n){fS(n,"taskExecutor");var r=new AbortController;t(r);var i=kN(function(){return Nm(void 0,null,function(){var u;return Fm(this,function(d){switch(d.label){case 0:return jf(e),jf(r.signal),[4,n({pause:_y(r.signal),delay:UO(r.signal),signal:r.signal})];case 1:return u=d.sent(),jf(r.signal),[2,u]}})})},function(){return $f(r,AN)});return{result:_y(e)(i),cancel:function(){$f(r,PN)}}}},RN=function(e,t){var n=function(r,i){return Nm(void 0,null,function(){var u,d,l,y;return Fm(this,function(w){switch(w.label){case 0:jf(t),u=function(){},d=new Promise(function(C){u=e({predicate:r,effect:function(P,O){O.unsubscribe(),C([P,O.getState(),O.getOriginalState()])}})}),l=[BO(t),d],i!=null&&l.push(new Promise(function(C){return setTimeout(C,i,null)})),w.label=1;case 1:return w.trys.push([1,,3,4]),[4,Promise.race(l)];case 2:return y=w.sent(),jf(t),[2,y];case 3:return u(),[7];case 4:return[2]}})})};return function(r,i){return dS(n(r,i))}},VO=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,u=e.effect;if(t)i=Do(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return fS(u,"options.listener"),{predicate:i,type:t,effect:u}},MN=function(e){var t=VO(e),n=t.type,r=t.predicate,i=t.effect,u=cS(),d={id:u,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return d},DN=function(e){return function(){e.forEach(ab),e.clear()}},zT=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},zN=Do(Um+"/add"),FN=Do(Um+"/removeAll"),NN=Do(Um+"/remove"),BN=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,mm([Um+"/error"],e))},ab=function(e){e.pending.forEach(function(t){$f(t,NO)})};function UW(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,u=i===void 0?BN:i;fS(u,"onError");var d=function(I){return I.unsubscribe=function(){return n.delete(I.id)},n.set(I.id,I),function(F){I.unsubscribe(),F!=null&&F.cancelActive&&ab(I)}},l=function(I){for(var F=0,V=Array.from(n.values());F<V.length;F++){var Z=V[F];if(I(Z))return Z}},y=function(I){var F=l(function(V){return V.effect===I.effect});return F||(F=MN(I)),d(F)},w=function(I){var F=VO(I),V=F.type,Z=F.effect,U=F.predicate,N=l(function(j){var Q=typeof V=="string"?j.type===V:j.predicate===U;return Q&&j.effect===Z});return N&&(N.unsubscribe(),I.cancelActive&&ab(N)),!!N},C=function(I,F,V,Z){return Nm(t,null,function(){var U,N,j;return Fm(this,function(Q){switch(Q.label){case 0:U=new AbortController,N=RN(y,U.signal),Q.label=1;case 1:return Q.trys.push([1,3,4,5]),I.pending.add(U),[4,Promise.resolve(I.effect(F,ON({},V,{getOriginalState:Z,condition:function(ee,Y){return N(ee,Y).then(Boolean)},take:N,delay:UO(U.signal),pause:_y(U.signal),extra:r,signal:U.signal,fork:LN(U.signal),unsubscribe:I.unsubscribe,subscribe:function(){n.set(I.id,I)},cancelActiveListeners:function(){I.pending.forEach(function(ee,Y,J){ee!==U&&($f(ee,NO),J.delete(ee))})}})))];case 2:return Q.sent(),[3,5];case 3:return j=Q.sent(),j instanceof U_||zT(u,j,{raisedBy:"effect"}),[3,5];case 4:return $f(U,IN),I.pending.delete(U),[7];case 5:return[2]}})})},P=DN(n),O=function(I){return function(F){return function(V){if(zN.match(V))return y(V.payload);if(FN.match(V)){P();return}if(NN.match(V))return w(V.payload);var Z=I.getState(),U=function(){if(Z===DT)throw new Error(Um+": getOriginalState can only be called synchronously");return Z},N;try{if(N=F(V),n.size>0)for(var j=I.getState(),Q=Array.from(n.values()),ee=0,Y=Q;ee<Y.length;ee++){var J=Y[ee],se=!1;try{se=J.predicate(V,j,Z)}catch(ge){se=!1,zT(u,ge,{raisedBy:"predicate"})}se&&C(J,V,I,U)}}finally{Z=DT}return N}}};return{middleware:O,startListening:y,stopListening:w,clearListeners:P}}var xp="RTK_autoBatch",FT=function(){return function(e){var t;return{payload:e,meta:(t={},t[xp]=!0,t)}}},NT;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);jF();var xy=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,i,u,d;return d={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function l(w){return function(C){return y([w,C])}}function y(w){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(u=w[0]&2?i.return:w[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,w[1])).done)return u;switch(i=0,u&&(w=[w[0]&2,u.value]),w[0]){case 0:case 1:u=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,i=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!u||w[1]>u[0]&&w[1]<u[3])){n.label=w[1];break}if(w[0]===6&&n.label<u[1]){n.label=u[1],u=w;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(w);break}u[2]&&n.ops.pop(),n.trys.pop();continue}w=t.call(e,n)}catch(C){w=[6,C],i=0}finally{r=u=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},by=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},UN=Object.defineProperty,VN=Object.defineProperties,$N=Object.getOwnPropertyDescriptors,wy=Object.getOwnPropertySymbols,$O=Object.prototype.hasOwnProperty,jO=Object.prototype.propertyIsEnumerable,BT=function(e,t,n){return t in e?UN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ni=function(e,t){for(var n in t||(t={}))$O.call(t,n)&&BT(e,n,t[n]);if(wy)for(var r=0,i=wy(t);r<i.length;r++){var n=i[r];jO.call(t,n)&&BT(e,n,t[n])}return e},dl=function(e,t){return VN(e,$N(t))},UT=function(e,t){var n={};for(var r in e)$O.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wy)for(var i=0,u=wy(e);i<u.length;i++){var r=u[i];t.indexOf(r)<0&&jO.call(e,r)&&(n[r]=e[r])}return n},Sy=function(e,t,n){return new Promise(function(r,i){var u=function(y){try{l(n.next(y))}catch(w){i(w)}},d=function(y){try{l(n.throw(y))}catch(w){i(w)}},l=function(y){return y.done?r(y.value):Promise.resolve(y.value).then(u,d)};l((n=n.apply(e,t)).next())})},Nr;(function(e){e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"})(Nr||(Nr={}));function jN(e){return{status:e,isUninitialized:e===Nr.uninitialized,isLoading:e===Nr.pending,isSuccess:e===Nr.fulfilled,isError:e===Nr.rejected}}function qN(e){return new RegExp("(^|:)//").test(e)}var GN=function(e){return e.replace(/\/$/,"")},HN=function(e){return e.replace(/^\//,"")};function ZN(e,t){if(!e)return t;if(!t)return e;if(qN(t))return t;var n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=GN(e),t=HN(t),""+e+n+t}var VT=function(e){return[].concat.apply([],e)};function WN(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function KN(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var $T=_d;function qO(e,t){if(e===t||!($T(e)&&$T(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),r=Object.keys(e),i=n.length===r.length,u=Array.isArray(t)?[]:{},d=0,l=n;d<l.length;d++){var y=l[d];u[y]=qO(e[y],t[y]),i&&(i=e[y]===u[y])}return i?e:u}var jT=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},XN=function(e){return e.status>=200&&e.status<=299},YN=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function qT(e){if(!_d(e))return e;for(var t=ni({},e),n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],u=i[0],d=i[1];d===void 0&&delete t[u]}return t}function VW(e){var t=this;e===void 0&&(e={});var n=e,r=n.baseUrl,i=n.prepareHeaders,u=i===void 0?function(U){return U}:i,d=n.fetchFn,l=d===void 0?jT:d,y=n.paramsSerializer,w=n.isJsonContentType,C=w===void 0?YN:w,P=n.jsonContentType,O=P===void 0?"application/json":P,I=n.timeout,F=n.validateStatus,V=UT(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","timeout","validateStatus"]);return typeof fetch>"u"&&l===jT&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(U,N){return Sy(t,null,function(){var j,Q,ee,Y,J,se,ge,he,Se,De,He,Be,Je,Ge,ut,Pe,We,Me,Xe,et,mt,ct,ht,pt,Et,an,Pn,Fe,rt,Kt,xn,tn,Zn,Wn,Ur,ir,dt,Zt,qt,hr;return xy(this,function(Kn){switch(Kn.label){case 0:return j=N.signal,Q=N.getState,ee=N.extra,Y=N.endpoint,J=N.forced,se=N.type,he=typeof U=="string"?{url:U}:U,Se=he.url,De=he.method,He=De===void 0?"GET":De,Be=he.headers,Je=Be===void 0?new Headers(V.headers):Be,Ge=he.body,ut=Ge===void 0?void 0:Ge,Pe=he.params,We=Pe===void 0?void 0:Pe,Me=he.responseHandler,Xe=Me===void 0?"json":Me,et=he.validateStatus,mt=et===void 0?F??XN:et,ct=he.timeout,ht=ct===void 0?I:ct,pt=UT(he,["url","method","headers","body","params","responseHandler","validateStatus","timeout"]),Et=ni(dl(ni({},V),{method:He,signal:j,body:ut}),pt),Je=new Headers(qT(Je)),an=Et,[4,u(Je,{getState:Q,extra:ee,endpoint:Y,forced:J,type:se})];case 1:an.headers=Kn.sent()||Je,Pn=function(Ct){return typeof Ct=="object"&&(_d(Ct)||Array.isArray(Ct)||typeof Ct.toJSON=="function")},!Et.headers.has("content-type")&&Pn(ut)&&Et.headers.set("content-type",O),Pn(ut)&&C(Et.headers)&&(Et.body=JSON.stringify(ut)),We&&(Fe=~Se.indexOf("?")?"&":"?",rt=y?y(We):new URLSearchParams(qT(We)),Se+=Fe+rt),Se=ZN(r,Se),Kt=new Request(Se,Et),xn=Kt.clone(),ge={request:xn},Zn=!1,Wn=ht&&setTimeout(function(){Zn=!0,N.abort()},ht),Kn.label=2;case 2:return Kn.trys.push([2,4,5,6]),[4,l(Kt)];case 3:return tn=Kn.sent(),[3,6];case 4:return Ur=Kn.sent(),[2,{error:{status:Zn?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Ur)},meta:ge}];case 5:return Wn&&clearTimeout(Wn),[7];case 6:ir=tn.clone(),ge.response=ir,Zt="",Kn.label=7;case 7:return Kn.trys.push([7,9,,10]),[4,Promise.all([Z(tn,Xe).then(function(Ct){return dt=Ct},function(Ct){return qt=Ct}),ir.text().then(function(Ct){return Zt=Ct},function(){})])];case 8:if(Kn.sent(),qt)throw qt;return[3,10];case 9:return hr=Kn.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:tn.status,data:Zt,error:String(hr)},meta:ge}];case 10:return[2,mt(tn,dt)?{data:dt,meta:ge}:{error:{status:tn.status,data:dt},meta:ge}]}})})};function Z(U,N){return Sy(this,null,function(){var j;return xy(this,function(Q){switch(Q.label){case 0:return typeof N=="function"?[2,N(U)]:(N==="content-type"&&(N=C(U.headers)?"json":"text"),N!=="json"?[3,2]:[4,U.text()]);case 1:return j=Q.sent(),[2,j.length?JSON.parse(j):null];case 2:return[2,U.text()]}})})}}var GT=function(){function e(t,n){n===void 0&&(n=void 0),this.value=t,this.meta=n}return e}(),mS=Do("__rtkq/focused"),GO=Do("__rtkq/unfocused"),gS=Do("__rtkq/online"),HO=Do("__rtkq/offline"),xl;(function(e){e.query="query",e.mutation="mutation"})(xl||(xl={}));function ZO(e){return e.type===xl.query}function QN(e){return e.type===xl.mutation}function WO(e,t,n,r,i,u){return JN(e)?e(t,n,r,i).map(sb).map(u):Array.isArray(e)?e.map(sb).map(u):[]}function JN(e){return typeof e=="function"}function sb(e){return typeof e=="string"?{type:e}:e}function kx(e){return e!=null}var vm=Symbol("forceQueryFn"),lb=function(e){return typeof e[vm]=="function"};function eB(e){var t=e.serializeQueryArgs,n=e.queryThunk,r=e.mutationThunk,i=e.api,u=e.context,d=new Map,l=new Map,y=i.internalActions,w=y.unsubscribeQueryResult,C=y.removeMutationResult,P=y.updateSubscriptionOptions;return{buildInitiateQuery:N,buildInitiateMutation:j,getRunningQueryThunk:F,getRunningMutationThunk:V,getRunningQueriesThunk:Z,getRunningMutationsThunk:U,getRunningOperationPromises:I,removalWarning:O};function O(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function I(){typeof process<"u";var Q=function(ee){return Array.from(ee.values()).flatMap(function(Y){return Y?Object.values(Y):[]})};return by(by([],Q(d)),Q(l)).filter(kx)}function F(Q,ee){return function(Y){var J,se=u.endpointDefinitions[Q],ge=t({queryArgs:ee,endpointDefinition:se,endpointName:Q});return(J=d.get(Y))==null?void 0:J[ge]}}function V(Q,ee){return function(Y){var J;return(J=l.get(Y))==null?void 0:J[ee]}}function Z(){return function(Q){return Object.values(d.get(Q)||{}).filter(kx)}}function U(){return function(Q){return Object.values(l.get(Q)||{}).filter(kx)}}function N(Q,ee){var Y=function(J,se){var ge=se===void 0?{}:se,he=ge.subscribe,Se=he===void 0?!0:he,De=ge.forceRefetch,He=ge.subscriptionOptions,Be=vm,Je=ge[Be];return function(Ge,ut){var Pe,We,Me=t({queryArgs:J,endpointDefinition:ee,endpointName:Q}),Xe=n((Pe={type:"query",subscribe:Se,forceRefetch:De,subscriptionOptions:He,endpointName:Q,originalArgs:J,queryCacheKey:Me},Pe[vm]=Je,Pe)),et=i.endpoints[Q].select(J),mt=Ge(Xe),ct=et(ut()),ht=mt.requestId,pt=mt.abort,Et=ct.requestId!==ht,an=(We=d.get(Ge))==null?void 0:We[Me],Pn=function(){return et(ut())},Fe=Object.assign(Je?mt.then(Pn):Et&&!an?Promise.resolve(ct):Promise.all([an,mt]).then(Pn),{arg:J,requestId:ht,subscriptionOptions:He,queryCacheKey:Me,abort:pt,unwrap:function(){return Sy(this,null,function(){var Kt;return xy(this,function(xn){switch(xn.label){case 0:return[4,Fe];case 1:if(Kt=xn.sent(),Kt.isError)throw Kt.error;return[2,Kt.data]}})})},refetch:function(){return Ge(Y(J,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){Se&&Ge(w({queryCacheKey:Me,requestId:ht}))},updateSubscriptionOptions:function(Kt){Fe.subscriptionOptions=Kt,Ge(P({endpointName:Q,requestId:ht,queryCacheKey:Me,options:Kt}))}});if(!an&&!Et&&!Je){var rt=d.get(Ge)||{};rt[Me]=Fe,d.set(Ge,rt),Fe.then(function(){delete rt[Me],Object.keys(rt).length||d.delete(Ge)})}return Fe}};return Y}function j(Q){return function(ee,Y){var J=Y===void 0?{}:Y,se=J.track,ge=se===void 0?!0:se,he=J.fixedCacheKey;return function(Se,De){var He=r({type:"mutation",endpointName:Q,originalArgs:ee,track:ge,fixedCacheKey:he}),Be=Se(He),Je=Be.requestId,Ge=Be.abort,ut=Be.unwrap,Pe=Be.unwrap().then(function(et){return{data:et}}).catch(function(et){return{error:et}}),We=function(){Se(C({requestId:Je,fixedCacheKey:he}))},Me=Object.assign(Pe,{arg:Be.arg,requestId:Je,abort:Ge,unwrap:ut,unsubscribe:We,reset:We}),Xe=l.get(Se)||{};return l.set(Se,Xe),Xe[Je]=Me,Me.then(function(){delete Xe[Je],Object.keys(Xe).length||l.delete(Se)}),he&&(Xe[he]=Me,Me.then(function(){Xe[he]===Me&&(delete Xe[he],Object.keys(Xe).length||l.delete(Se))})),Me}}}}function HT(e){return e}function tB(e){var t=this,n=e.reducerPath,r=e.baseQuery,i=e.context.endpointDefinitions,u=e.serializeQueryArgs,d=e.api,l=function(j,Q,ee){return function(Y){var J=i[j];Y(d.internalActions.queryResultPatched({queryCacheKey:u({queryArgs:Q,endpointDefinition:J,endpointName:j}),patches:ee}))}},y=function(j,Q,ee){return function(Y,J){var se,ge,he=d.endpoints[j].select(Q)(J()),Se={patches:[],inversePatches:[],undo:function(){return Y(d.util.patchQueryData(j,Q,Se.inversePatches))}};if(he.status===Nr.uninitialized)return Se;if("data"in he)if(zs(he.data)){var De=AO(he.data,ee),He=De[1],Be=De[2];(se=Se.patches).push.apply(se,He),(ge=Se.inversePatches).push.apply(ge,Be)}else{var Je=ee(he.data);Se.patches.push({op:"replace",path:[],value:Je}),Se.inversePatches.push({op:"replace",path:[],value:he.data})}return Y(d.util.patchQueryData(j,Q,Se.patches)),Se}},w=function(j,Q,ee){return function(Y){var J;return Y(d.endpoints[j].initiate(Q,(J={subscribe:!1,forceRefetch:!0},J[vm]=function(){return{data:ee}},J)))}},C=function(j,Q){return Sy(t,[j,Q],function(ee,Y){var J,se,ge,he,Se,De,He,Be,Je,Ge,ut,Pe,We,Me,Xe,et,mt,ct,ht=Y.signal,pt=Y.abort,Et=Y.rejectWithValue,an=Y.fulfillWithValue,Pn=Y.dispatch,Fe=Y.getState,rt=Y.extra;return xy(this,function(Kt){switch(Kt.label){case 0:J=i[ee.endpointName],Kt.label=1;case 1:return Kt.trys.push([1,8,,13]),se=HT,ge=void 0,he={signal:ht,abort:pt,dispatch:Pn,getState:Fe,extra:rt,endpoint:ee.endpointName,type:ee.type,forced:ee.type==="query"?P(ee,Fe()):void 0},Se=ee.type==="query"?ee[vm]:void 0,Se?(ge=Se(),[3,6]):[3,2];case 2:return J.query?[4,r(J.query(ee.originalArgs),he,J.extraOptions)]:[3,4];case 3:return ge=Kt.sent(),J.transformResponse&&(se=J.transformResponse),[3,6];case 4:return[4,J.queryFn(ee.originalArgs,he,J.extraOptions,function(xn){return r(xn,he,J.extraOptions)})];case 5:ge=Kt.sent(),Kt.label=6;case 6:if(typeof process<"u",ge.error)throw new GT(ge.error,ge.meta);return ut=an,[4,se(ge.data,ge.meta,ee.originalArgs)];case 7:return[2,ut.apply(void 0,[Kt.sent(),(mt={fulfilledTimeStamp:Date.now(),baseQueryMeta:ge.meta},mt[xp]=!0,mt)])];case 8:if(Pe=Kt.sent(),We=Pe,!(We instanceof GT))return[3,12];Me=HT,J.query&&J.transformErrorResponse&&(Me=J.transformErrorResponse),Kt.label=9;case 9:return Kt.trys.push([9,11,,12]),Xe=Et,[4,Me(We.value,We.meta,ee.originalArgs)];case 10:return[2,Xe.apply(void 0,[Kt.sent(),(ct={baseQueryMeta:We.meta},ct[xp]=!0,ct)])];case 11:return et=Kt.sent(),We=et,[3,12];case 12:throw typeof process<"u",console.error(We),We;case 13:return[2]}})})};function P(j,Q){var ee,Y,J,se,ge=(Y=(ee=Q[n])==null?void 0:ee.queries)==null?void 0:Y[j.queryCacheKey],he=(J=Q[n])==null?void 0:J.config.refetchOnMountOrArgChange,Se=ge==null?void 0:ge.fulfilledTimeStamp,De=(se=j.forceRefetch)!=null?se:j.subscribe&&he;return De?De===!0||(Number(new Date)-Number(Se))/1e3>=De:!1}var O=MT(n+"/executeQuery",C,{getPendingMeta:function(){var j;return j={startedTimeStamp:Date.now()},j[xp]=!0,j},condition:function(j,Q){var ee=Q.getState,Y,J,se,ge=ee(),he=(J=(Y=ge[n])==null?void 0:Y.queries)==null?void 0:J[j.queryCacheKey],Se=he==null?void 0:he.fulfilledTimeStamp,De=j.originalArgs,He=he==null?void 0:he.originalArgs,Be=i[j.endpointName];return lb(j)?!0:(he==null?void 0:he.status)==="pending"?!1:P(j,ge)||ZO(Be)&&((se=Be==null?void 0:Be.forceRefetch)!=null&&se.call(Be,{currentArg:De,previousArg:He,endpointState:he,state:ge}))?!0:!Se},dispatchConditionRejection:!0}),I=MT(n+"/executeMutation",C,{getPendingMeta:function(){var j;return j={startedTimeStamp:Date.now()},j[xp]=!0,j}}),F=function(j){return"force"in j},V=function(j){return"ifOlderThan"in j},Z=function(j,Q,ee){return function(Y,J){var se=F(ee)&&ee.force,ge=V(ee)&&ee.ifOlderThan,he=function(Be){return Be===void 0&&(Be=!0),d.endpoints[j].initiate(Q,{forceRefetch:Be})},Se=d.endpoints[j].select(Q)(J());if(se)Y(he());else if(ge){var De=Se==null?void 0:Se.fulfilledTimeStamp;if(!De){Y(he());return}var He=(Number(new Date)-Number(new Date(De)))/1e3>=ge;He&&Y(he())}else Y(he(!1))}};function U(j){return function(Q){var ee,Y;return((Y=(ee=Q==null?void 0:Q.meta)==null?void 0:ee.arg)==null?void 0:Y.endpointName)===j}}function N(j,Q){return{matchPending:Fp(hS(j),U(Q)),matchFulfilled:Fp(Lh(j),U(Q)),matchRejected:Fp(gm(j),U(Q))}}return{queryThunk:O,mutationThunk:I,prefetch:Z,updateQueryData:y,upsertQueryData:w,patchQueryData:l,buildMatchThunkActions:N}}function KO(e,t,n,r){return WO(n[e.meta.arg.endpointName][t],Lh(e)?e.payload:void 0,B_(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function Lg(e,t,n){var r=e[t];r&&n(r)}function ym(e){var t;return(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)!=null?t:e.requestId}function ZT(e,t,n){var r=e[ym(t)];r&&n(r)}var op={};function nB(e){var t=e.reducerPath,n=e.queryThunk,r=e.mutationThunk,i=e.context,u=i.endpointDefinitions,d=i.apiUid,l=i.extractRehydrationInfo,y=i.hasRehydrationInfo,w=e.assertTagType,C=e.config,P=Do(t+"/resetApiState"),O=sf({name:t+"/queries",initialState:op,reducers:{removeQueryResult:{reducer:function(ee,Y){var J=Y.payload.queryCacheKey;delete ee[J]},prepare:FT()},queryResultPatched:function(ee,Y){var J=Y.payload,se=J.queryCacheKey,ge=J.patches;Lg(ee,se,function(he){he.data=PT(he.data,ge.concat())})}},extraReducers:function(ee){ee.addCase(n.pending,function(Y,J){var se=J.meta,ge=J.meta.arg,he,Se,De=lb(ge);(ge.subscribe||De)&&((Se=Y[he=ge.queryCacheKey])!=null||(Y[he]={status:Nr.uninitialized,endpointName:ge.endpointName})),Lg(Y,ge.queryCacheKey,function(He){He.status=Nr.pending,He.requestId=De&&He.requestId?He.requestId:se.requestId,ge.originalArgs!==void 0&&(He.originalArgs=ge.originalArgs),He.startedTimeStamp=se.startedTimeStamp})}).addCase(n.fulfilled,function(Y,J){var se=J.meta,ge=J.payload;Lg(Y,se.arg.queryCacheKey,function(he){var Se;if(!(he.requestId!==se.requestId&&!lb(se.arg))){var De=u[se.arg.endpointName].merge;if(he.status=Nr.fulfilled,De)if(he.data!==void 0){var He=se.fulfilledTimeStamp,Be=se.arg,Je=se.baseQueryMeta,Ge=se.requestId,ut=zm(he.data,function(Pe){return De(Pe,ge,{arg:Be.originalArgs,baseQueryMeta:Je,fulfilledTimeStamp:He,requestId:Ge})});he.data=ut}else he.data=ge;else he.data=(Se=u[se.arg.endpointName].structuralSharing)==null||Se?qO(he.data,ge):ge;delete he.error,he.fulfilledTimeStamp=se.fulfilledTimeStamp}})}).addCase(n.rejected,function(Y,J){var se=J.meta,ge=se.condition,he=se.arg,Se=se.requestId,De=J.error,He=J.payload;Lg(Y,he.queryCacheKey,function(Be){if(!ge){if(Be.requestId!==Se)return;Be.status=Nr.rejected,Be.error=He??De}})}).addMatcher(y,function(Y,J){for(var se=l(J).queries,ge=0,he=Object.entries(se);ge<he.length;ge++){var Se=he[ge],De=Se[0],He=Se[1];((He==null?void 0:He.status)===Nr.fulfilled||(He==null?void 0:He.status)===Nr.rejected)&&(Y[De]=He)}})}}),I=sf({name:t+"/mutations",initialState:op,reducers:{removeMutationResult:{reducer:function(ee,Y){var J=Y.payload,se=ym(J);se in ee&&delete ee[se]},prepare:FT()}},extraReducers:function(ee){ee.addCase(r.pending,function(Y,J){var se=J.meta,ge=J.meta,he=ge.requestId,Se=ge.arg,De=ge.startedTimeStamp;Se.track&&(Y[ym(se)]={requestId:he,status:Nr.pending,endpointName:Se.endpointName,startedTimeStamp:De})}).addCase(r.fulfilled,function(Y,J){var se=J.payload,ge=J.meta;ge.arg.track&&ZT(Y,ge,function(he){he.requestId===ge.requestId&&(he.status=Nr.fulfilled,he.data=se,he.fulfilledTimeStamp=ge.fulfilledTimeStamp)})}).addCase(r.rejected,function(Y,J){var se=J.payload,ge=J.error,he=J.meta;he.arg.track&&ZT(Y,he,function(Se){Se.requestId===he.requestId&&(Se.status=Nr.rejected,Se.error=se??ge)})}).addMatcher(y,function(Y,J){for(var se=l(J).mutations,ge=0,he=Object.entries(se);ge<he.length;ge++){var Se=he[ge],De=Se[0],He=Se[1];((He==null?void 0:He.status)===Nr.fulfilled||(He==null?void 0:He.status)===Nr.rejected)&&De!==(He==null?void 0:He.requestId)&&(Y[De]=He)}})}}),F=sf({name:t+"/invalidation",initialState:op,reducers:{},extraReducers:function(ee){ee.addCase(O.actions.removeQueryResult,function(Y,J){for(var se=J.payload.queryCacheKey,ge=0,he=Object.values(Y);ge<he.length;ge++)for(var Se=he[ge],De=0,He=Object.values(Se);De<He.length;De++){var Be=He[De],Je=Be.indexOf(se);Je!==-1&&Be.splice(Je,1)}}).addMatcher(y,function(Y,J){for(var se,ge,he,Se,De=l(J).provided,He=0,Be=Object.entries(De);He<Be.length;He++)for(var Je=Be[He],Ge=Je[0],ut=Je[1],Pe=0,We=Object.entries(ut);Pe<We.length;Pe++)for(var Me=We[Pe],Xe=Me[0],et=Me[1],mt=(Se=(ge=(se=Y[Ge])!=null?se:Y[Ge]={})[he=Xe||"__internal_without_id"])!=null?Se:ge[he]=[],ct=0,ht=et;ct<ht.length;ct++){var pt=ht[ct],Et=mt.includes(pt);Et||mt.push(pt)}}).addMatcher(xd(Lh(n),B_(n)),function(Y,J){for(var se,ge,he,Se,De=KO(J,"providesTags",u,w),He=J.meta.arg.queryCacheKey,Be=0,Je=Object.values(Y);Be<Je.length;Be++)for(var Ge=Je[Be],ut=0,Pe=Object.values(Ge);ut<Pe.length;ut++){var We=Pe[ut],Me=We.indexOf(He);Me!==-1&&We.splice(Me,1)}for(var Xe=0,et=De;Xe<et.length;Xe++){var mt=et[Xe],ct=mt.type,ht=mt.id,pt=(Se=(ge=(se=Y[ct])!=null?se:Y[ct]={})[he=ht||"__internal_without_id"])!=null?Se:ge[he]=[],Et=pt.includes(He);Et||pt.push(He)}})}}),V=sf({name:t+"/subscriptions",initialState:op,reducers:{updateSubscriptionOptions:function(ee,Y){},unsubscribeQueryResult:function(ee,Y){},internal_probeSubscription:function(ee,Y){}}}),Z=sf({name:t+"/internalSubscriptions",initialState:op,reducers:{subscriptionsUpdated:function(ee,Y){return PT(ee,Y.payload)}}}),U=sf({name:t+"/config",initialState:ni({online:WN(),focused:KN(),middlewareRegistered:!1},C),reducers:{middlewareRegistered:function(ee,Y){var J=Y.payload;ee.middlewareRegistered=ee.middlewareRegistered==="conflict"||d!==J?"conflict":!0}},extraReducers:function(ee){ee.addCase(gS,function(Y){Y.online=!0}).addCase(HO,function(Y){Y.online=!1}).addCase(mS,function(Y){Y.focused=!0}).addCase(GO,function(Y){Y.focused=!1}).addMatcher(y,function(Y){return ni({},Y)})}}),N=kO({queries:O.reducer,mutations:I.reducer,provided:F.reducer,subscriptions:Z.reducer,config:U.reducer}),j=function(ee,Y){return N(P.match(Y)?void 0:ee,Y)},Q=dl(ni(ni(ni(ni(ni({},U.actions),O.actions),V.actions),Z.actions),I.actions),{unsubscribeMutationResult:I.actions.removeMutationResult,resetApiState:P});return{reducer:j,actions:Q}}var Xu=Symbol.for("RTKQ/skipToken"),XO={status:Nr.uninitialized},WT=zm(XO,function(){}),KT=zm(XO,function(){});function rB(e){var t=e.serializeQueryArgs,n=e.reducerPath,r=function(C){return WT},i=function(C){return KT};return{buildQuerySelector:l,buildMutationSelector:y,selectInvalidatedBy:w};function u(C){return ni(ni({},C),jN(C.status))}function d(C){var P=C[n];return P}function l(C,P){return function(O){var I=t({queryArgs:O,endpointDefinition:P,endpointName:C}),F=function(Z){var U,N,j;return(j=(N=(U=d(Z))==null?void 0:U.queries)==null?void 0:N[I])!=null?j:WT},V=O===Xu?r:F;return zp(V,u)}}function y(){return function(C){var P,O;typeof C=="object"?O=(P=ym(C))!=null?P:Xu:O=C;var I=function(V){var Z,U,N;return(N=(U=(Z=d(V))==null?void 0:Z.mutations)==null?void 0:U[O])!=null?N:KT},F=O===Xu?i:I;return zp(F,u)}}function w(C,P){for(var O,I=C[n],F=new Set,V=0,Z=P.map(sb);V<Z.length;V++){var U=Z[V],N=I.provided[U.type];if(N)for(var j=(O=U.id!==void 0?N[U.id]:VT(Object.values(N)))!=null?O:[],Q=0,ee=j;Q<ee.length;Q++){var Y=ee[Q];F.add(Y)}}return VT(Array.from(F.values()).map(function(J){var se=I.queries[J];return se?[{queryCacheKey:J,endpointName:se.endpointName,originalArgs:se.originalArgs}]:[]}))}}var XT=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,function(r,i){return _d(i)?Object.keys(i).sort().reduce(function(u,d){return u[d]=i[d],u},{}):i})+")"};function iB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){var i=rb(function(C){var P,O;return(O=r.extractRehydrationInfo)==null?void 0:O.call(r,C,{reducerPath:(P=r.reducerPath)!=null?P:"api"})}),u=dl(ni({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},r),{extractRehydrationInfo:i,serializeQueryArgs:function(C){var P=XT;if("serializeQueryArgs"in C.endpointDefinition){var O=C.endpointDefinition.serializeQueryArgs;P=function(I){var F=O(I);return typeof F=="string"?F:XT(dl(ni({},I),{queryArgs:F}))}}else r.serializeQueryArgs&&(P=r.serializeQueryArgs);return P(C)},tagTypes:by([],r.tagTypes||[])}),d={endpointDefinitions:{},batch:function(C){C()},apiUid:cS(),extractRehydrationInfo:i,hasRehydrationInfo:rb(function(C){return i(C)!=null})},l={injectEndpoints:w,enhanceEndpoints:function(C){var P=C.addTagTypes,O=C.endpoints;if(P)for(var I=0,F=P;I<F.length;I++){var V=F[I];u.tagTypes.includes(V)||u.tagTypes.push(V)}if(O)for(var Z=0,U=Object.entries(O);Z<U.length;Z++){var N=U[Z],j=N[0],Q=N[1];typeof Q=="function"?Q(d.endpointDefinitions[j]):Object.assign(d.endpointDefinitions[j]||{},Q)}return l}},y=e.map(function(C){return C.init(l,u,d)});function w(C){for(var P=C.endpoints({query:function(Q){return dl(ni({},Q),{type:xl.query})},mutation:function(Q){return dl(ni({},Q),{type:xl.mutation})}}),O=0,I=Object.entries(P);O<I.length;O++){var F=I[O],V=F[0],Z=F[1];if(!C.overrideExisting&&V in d.endpointDefinitions){typeof process<"u";continue}d.endpointDefinitions[V]=Z;for(var U=0,N=y;U<N.length;U++){var j=N[U];j.injectEndpoint(V,Z)}}return l}return l.injectEndpoints({endpoints:r.endpoints})}}function oB(e){for(var t in e)return!1;return!0}var aB=2147483647/1e3-1,sB=function(e){var t=e.reducerPath,n=e.api,r=e.context,i=e.internalState,u=n.internalActions,d=u.removeQueryResult,l=u.unsubscribeQueryResult;function y(O){var I=i.currentSubscriptions[O];return!!I&&!oB(I)}var w={},C=function(O,I,F){var V;if(l.match(O)){var Z=I.getState()[t],U=O.payload.queryCacheKey;P(U,(V=Z.queries[U])==null?void 0:V.endpointName,I,Z.config)}if(n.util.resetApiState.match(O))for(var N=0,j=Object.entries(w);N<j.length;N++){var Q=j[N],ee=Q[0],Y=Q[1];Y&&clearTimeout(Y),delete w[ee]}if(r.hasRehydrationInfo(O))for(var Z=I.getState()[t],J=r.extractRehydrationInfo(O).queries,se=0,ge=Object.entries(J);se<ge.length;se++){var he=ge[se],U=he[0],Se=he[1];P(U,Se==null?void 0:Se.endpointName,I,Z.config)}};function P(O,I,F,V){var Z,U=r.endpointDefinitions[I],N=(Z=U==null?void 0:U.keepUnusedDataFor)!=null?Z:V.keepUnusedDataFor;if(N!==1/0){var j=Math.max(0,Math.min(N,aB));if(!y(O)){var Q=w[O];Q&&clearTimeout(Q),w[O]=setTimeout(function(){y(O)||F.dispatch(d({queryCacheKey:O})),delete w[O]},j*1e3)}}}return C},lB=function(e){var t=e.reducerPath,n=e.context,r=e.context.endpointDefinitions,i=e.mutationThunk,u=e.api,d=e.assertTagType,l=e.refetchQuery,y=u.internalActions.removeQueryResult,w=xd(Lh(i),B_(i)),C=function(O,I){w(O)&&P(KO(O,"invalidatesTags",r,d),I),u.util.invalidateTags.match(O)&&P(WO(O.payload,void 0,void 0,void 0,void 0,d),I)};function P(O,I){var F=I.getState(),V=F[t],Z=u.util.selectInvalidatedBy(F,O);n.batch(function(){for(var U,N=Array.from(Z.values()),j=0,Q=N;j<Q.length;j++){var ee=Q[j].queryCacheKey,Y=V.queries[ee],J=(U=V.subscriptions[ee])!=null?U:{};Y&&(Object.keys(J).length===0?I.dispatch(y({queryCacheKey:ee})):Y.status!==Nr.uninitialized&&I.dispatch(l(Y,ee)))}})}return C},uB=function(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,i=e.refetchQuery,u=e.internalState,d={},l=function(I,F){(r.internalActions.updateSubscriptionOptions.match(I)||r.internalActions.unsubscribeQueryResult.match(I))&&w(I.payload,F),(n.pending.match(I)||n.rejected.match(I)&&I.meta.condition)&&w(I.meta.arg,F),(n.fulfilled.match(I)||n.rejected.match(I)&&!I.meta.condition)&&y(I.meta.arg,F),r.util.resetApiState.match(I)&&P()};function y(I,F){var V=I.queryCacheKey,Z=F.getState()[t],U=Z.queries[V],N=u.currentSubscriptions[V];if(!(!U||U.status===Nr.uninitialized)){var j=O(N);if(Number.isFinite(j)){var Q=d[V];Q!=null&&Q.timeout&&(clearTimeout(Q.timeout),Q.timeout=void 0);var ee=Date.now()+j,Y=d[V]={nextPollTimestamp:ee,pollingInterval:j,timeout:setTimeout(function(){Y.timeout=void 0,F.dispatch(i(U,V))},j)}}}}function w(I,F){var V=I.queryCacheKey,Z=F.getState()[t],U=Z.queries[V],N=u.currentSubscriptions[V];if(!(!U||U.status===Nr.uninitialized)){var j=O(N);if(!Number.isFinite(j)){C(V);return}var Q=d[V],ee=Date.now()+j;(!Q||ee<Q.nextPollTimestamp)&&y({queryCacheKey:V},F)}}function C(I){var F=d[I];F!=null&&F.timeout&&clearTimeout(F.timeout),delete d[I]}function P(){for(var I=0,F=Object.keys(d);I<F.length;I++){var V=F[I];C(V)}}function O(I){I===void 0&&(I={});var F=Number.POSITIVE_INFINITY;for(var V in I)I[V].pollingInterval&&(F=Math.min(I[V].pollingInterval,F));return F}return l},cB=function(e){var t=e.reducerPath,n=e.context,r=e.api,i=e.refetchQuery,u=e.internalState,d=r.internalActions.removeQueryResult,l=function(w,C){mS.match(w)&&y(C,"refetchOnFocus"),gS.match(w)&&y(C,"refetchOnReconnect")};function y(w,C){var P=w.getState()[t],O=P.queries,I=u.currentSubscriptions;n.batch(function(){for(var F=0,V=Object.keys(I);F<V.length;F++){var Z=V[F],U=O[Z],N=I[Z];if(!(!N||!U)){var j=Object.values(N).some(function(Q){return Q[C]===!0})||Object.values(N).every(function(Q){return Q[C]===void 0})&&P.config[C];j&&(Object.keys(N).length===0?w.dispatch(d({queryCacheKey:Z})):U.status!==Nr.uninitialized&&w.dispatch(i(U,Z)))}}})}return l},YT=new Error("Promise never resolved before cacheEntryRemoved."),hB=function(e){var t=e.api,n=e.reducerPath,r=e.context,i=e.queryThunk,u=e.mutationThunk;e.internalState;var d=ob(i),l=ob(u),y=Lh(i,u),w={},C=function(I,F,V){var Z=P(I);if(i.pending.match(I)){var U=V[n].queries[Z],N=F.getState()[n].queries[Z];!U&&N&&O(I.meta.arg.endpointName,I.meta.arg.originalArgs,Z,F,I.meta.requestId)}else if(u.pending.match(I)){var N=F.getState()[n].mutations[Z];N&&O(I.meta.arg.endpointName,I.meta.arg.originalArgs,Z,F,I.meta.requestId)}else if(y(I)){var j=w[Z];j!=null&&j.valueResolved&&(j.valueResolved({data:I.payload,meta:I.meta.baseQueryMeta}),delete j.valueResolved)}else if(t.internalActions.removeQueryResult.match(I)||t.internalActions.removeMutationResult.match(I)){var j=w[Z];j&&(delete w[Z],j.cacheEntryRemoved())}else if(t.util.resetApiState.match(I))for(var Q=0,ee=Object.entries(w);Q<ee.length;Q++){var Y=ee[Q],J=Y[0],j=Y[1];delete w[J],j.cacheEntryRemoved()}};function P(I){return d(I)?I.meta.arg.queryCacheKey:l(I)?I.meta.requestId:t.internalActions.removeQueryResult.match(I)?I.payload.queryCacheKey:t.internalActions.removeMutationResult.match(I)?ym(I.payload):""}function O(I,F,V,Z,U){var N=r.endpointDefinitions[I],j=N==null?void 0:N.onCacheEntryAdded;if(j){var Q={},ee=new Promise(function(Se){Q.cacheEntryRemoved=Se}),Y=Promise.race([new Promise(function(Se){Q.valueResolved=Se}),ee.then(function(){throw YT})]);Y.catch(function(){}),w[V]=Q;var J=t.endpoints[I].select(N.type===xl.query?F:V),se=Z.dispatch(function(Se,De,He){return He}),ge=dl(ni({},Z),{getCacheEntry:function(){return J(Z.getState())},requestId:U,extra:se,updateCachedData:N.type===xl.query?function(Se){return Z.dispatch(t.util.updateQueryData(I,F,Se))}:void 0,cacheDataLoaded:Y,cacheEntryRemoved:ee}),he=j(F,ge);Promise.resolve(he).catch(function(Se){if(Se!==YT)throw Se})}}return C},fB=function(e){var t=e.api,n=e.context,r=e.queryThunk,i=e.mutationThunk,u=hS(r,i),d=gm(r,i),l=Lh(r,i),y={},w=function(C,P){var O,I,F;if(u(C)){var V=C.meta,Z=V.requestId,U=V.arg,N=U.endpointName,j=U.originalArgs,Q=n.endpointDefinitions[N],ee=Q==null?void 0:Q.onQueryStarted;if(ee){var Y={},J=new Promise(function(Je,Ge){Y.resolve=Je,Y.reject=Ge});J.catch(function(){}),y[Z]=Y;var se=t.endpoints[N].select(Q.type===xl.query?j:Z),ge=P.dispatch(function(Je,Ge,ut){return ut}),he=dl(ni({},P),{getCacheEntry:function(){return se(P.getState())},requestId:Z,extra:ge,updateCachedData:Q.type===xl.query?function(Je){return P.dispatch(t.util.updateQueryData(N,j,Je))}:void 0,queryFulfilled:J});ee(j,he)}}else if(l(C)){var Se=C.meta,Z=Se.requestId,De=Se.baseQueryMeta;(O=y[Z])==null||O.resolve({data:C.payload,meta:De}),delete y[Z]}else if(d(C)){var He=C.meta,Z=He.requestId,Be=He.rejectedWithValue,De=He.baseQueryMeta;(F=y[Z])==null||F.reject({error:(I=C.payload)!=null?I:C.error,isUnhandledError:!Be,meta:De}),delete y[Z]}};return w},dB=function(e){var t=e.api,n=e.context.apiUid,r=e.reducerPath;return function(i,u){var d,l;t.util.resetApiState.match(i)&&u.dispatch(t.internalActions.middlewareRegistered(n)),typeof process<"u"}},QT,pB=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(QT||(QT=Promise.resolve())).then(e).catch(function(t){return setTimeout(function(){throw t},0)})},mB=function(e){var t=e.api,n=e.queryThunk,r=e.internalState,i=t.reducerPath+"/subscriptions",u=null,d=!1,l=t.internalActions,y=l.updateSubscriptionOptions,w=l.unsubscribeQueryResult,C=function(P,O){var I,F,V,Z,U,N,j,Q,ee;if(y.match(O)){var Y=O.payload,J=Y.queryCacheKey,se=Y.requestId,ge=Y.options;return(I=P==null?void 0:P[J])!=null&&I[se]&&(P[J][se]=ge),!0}if(w.match(O)){var he=O.payload,J=he.queryCacheKey,se=he.requestId;return P[J]&&delete P[J][se],!0}if(t.internalActions.removeQueryResult.match(O))return delete P[O.payload.queryCacheKey],!0;if(n.pending.match(O)){var Se=O.meta,De=Se.arg,se=Se.requestId;if(De.subscribe){var He=(V=P[F=De.queryCacheKey])!=null?V:P[F]={};return He[se]=(U=(Z=De.subscriptionOptions)!=null?Z:He[se])!=null?U:{},!0}}if(n.rejected.match(O)){var Be=O.meta,Je=Be.condition,De=Be.arg,se=Be.requestId;if(Je&&De.subscribe){var He=(j=P[N=De.queryCacheKey])!=null?j:P[N]={};return He[se]=(ee=(Q=De.subscriptionOptions)!=null?Q:He[se])!=null?ee:{},!0}}return!1};return function(P,O){var I,F;if(u||(u=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.internalActions.internal_probeSubscription.match(P)){var V=P.payload,Z=V.queryCacheKey,U=V.requestId,N=!!((I=r.currentSubscriptions[Z])!=null&&I[U]);return[!1,N]}var j=C(r.currentSubscriptions,P);if(j){d||(pB(function(){var J=JSON.parse(JSON.stringify(r.currentSubscriptions)),se=AO(u,function(){return J}),ge=se[1];O.next(t.internalActions.subscriptionsUpdated(ge)),u=J,d=!1}),d=!0);var Q=!!((F=P.type)!=null&&F.startsWith(i)),ee=n.rejected.match(P)&&P.meta.condition&&!!P.meta.arg.subscribe,Y=!Q&&!ee;return[Y,!1]}return[!0,!1]}};function gB(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,i=e.context,u=i.apiUid,d={invalidateTags:Do(t+"/invalidateTags")},l=function(P){return!!P&&typeof P.type=="string"&&P.type.startsWith(t+"/")},y=[dB,sB,lB,uB,hB,fB],w=function(P){var O=!1,I={currentSubscriptions:{}},F=dl(ni({},e),{internalState:I,refetchQuery:C}),V=y.map(function(N){return N(F)}),Z=mB(F),U=cB(F);return function(N){return function(j){O||(O=!0,P.dispatch(r.internalActions.middlewareRegistered(u)));var Q=dl(ni({},P),{next:N}),ee=P.getState(),Y=Z(j,Q,ee),J=Y[0],se=Y[1],ge;if(J?ge=N(j):ge=se,P.getState()[t]&&(U(j,Q,ee),l(j)||i.hasRehydrationInfo(j)))for(var he=0,Se=V;he<Se.length;he++){var De=Se[he];De(j,Q,ee)}return ge}}};return{middleware:w,actions:d};function C(P,O,I){return I===void 0&&(I={}),n(ni({type:"query",endpointName:P.endpointName,originalArgs:P.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:O},I))}}function Uu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,by([e],t))}var JT=Symbol(),vB=function(){return{name:JT,init:function(e,t,n){var r=t.baseQuery,i=t.tagTypes,u=t.reducerPath,d=t.serializeQueryArgs,l=t.keepUnusedDataFor,y=t.refetchOnMountOrArgChange,w=t.refetchOnFocus,C=t.refetchOnReconnect;qF();var P=function(mt){return typeof process<"u",mt};Object.assign(e,{reducerPath:u,endpoints:{},internalActions:{onOnline:gS,onOffline:HO,onFocus:mS,onFocusLost:GO},util:{}});var O=tB({baseQuery:r,reducerPath:u,context:n,api:e,serializeQueryArgs:d}),I=O.queryThunk,F=O.mutationThunk,V=O.patchQueryData,Z=O.updateQueryData,U=O.upsertQueryData,N=O.prefetch,j=O.buildMatchThunkActions,Q=nB({context:n,queryThunk:I,mutationThunk:F,reducerPath:u,assertTagType:P,config:{refetchOnFocus:w,refetchOnReconnect:C,refetchOnMountOrArgChange:y,keepUnusedDataFor:l,reducerPath:u}}),ee=Q.reducer,Y=Q.actions;Uu(e.util,{patchQueryData:V,updateQueryData:Z,upsertQueryData:U,prefetch:N,resetApiState:Y.resetApiState}),Uu(e.internalActions,Y);var J=gB({reducerPath:u,context:n,queryThunk:I,mutationThunk:F,api:e,assertTagType:P}),se=J.middleware,ge=J.actions;Uu(e.util,ge),Uu(e,{reducer:ee,middleware:se});var he=rB({serializeQueryArgs:d,reducerPath:u}),Se=he.buildQuerySelector,De=he.buildMutationSelector,He=he.selectInvalidatedBy;Uu(e.util,{selectInvalidatedBy:He});var Be=eB({queryThunk:I,mutationThunk:F,api:e,serializeQueryArgs:d,context:n}),Je=Be.buildInitiateQuery,Ge=Be.buildInitiateMutation,ut=Be.getRunningMutationThunk,Pe=Be.getRunningMutationsThunk,We=Be.getRunningQueriesThunk,Me=Be.getRunningQueryThunk,Xe=Be.getRunningOperationPromises,et=Be.removalWarning;return Uu(e.util,{getRunningOperationPromises:Xe,getRunningOperationPromise:et,getRunningMutationThunk:ut,getRunningMutationsThunk:Pe,getRunningQueryThunk:Me,getRunningQueriesThunk:We}),{name:JT,injectEndpoint:function(mt,ct){var ht,pt,Et=e;(pt=(ht=Et.endpoints)[mt])!=null||(ht[mt]={}),ZO(ct)?Uu(Et.endpoints[mt],{name:mt,select:Se(mt,ct),initiate:Je(mt,ct)},j(I,mt)):QN(ct)&&Uu(Et.endpoints[mt],{name:mt,select:De(),initiate:Ge(mt)},j(F,mt))}}}}},yB=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},_B=Object.defineProperty,xB=Object.defineProperties,bB=Object.getOwnPropertyDescriptors,eC=Object.getOwnPropertySymbols,wB=Object.prototype.hasOwnProperty,SB=Object.prototype.propertyIsEnumerable,tC=function(e,t,n){return t in e?_B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Xl=function(e,t){for(var n in t||(t={}))wB.call(t,n)&&tC(e,n,t[n]);if(eC)for(var r=0,i=eC(t);r<i.length;r++){var n=i[r];SB.call(t,n)&&tC(e,n,t[n])}return e},wv=function(e,t){return xB(e,bB(t))};function nC(e,t,n,r){var i=ce.useMemo(function(){return{queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e}},[e,t,n,r]),u=ce.useRef(i);return ce.useEffect(function(){u.current.serialized!==i.serialized&&(u.current=i)},[i]),u.current.serialized===i.serialized?u.current.queryArgs:e}var Ox=Symbol();function Lx(e){var t=ce.useRef(e);return ce.useEffect(function(){fy(t.current,e)||(t.current=e)},[e]),fy(t.current,e)?t.current:e}var EB=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,function(r,i){return _d(i)?Object.keys(i).sort().reduce(function(u,d){return u[d]=i[d],u},{}):i})+")"},TB=typeof window<"u"&&window.document&&window.document.createElement?ce.useLayoutEffect:ce.useEffect,CB=function(e){return e},PB=function(e){return e.isUninitialized?wv(Xl({},e),{isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:Nr.pending}):e};function AB(e){var t=e.api,n=e.moduleOptions,r=n.batch,i=n.useDispatch,u=n.useSelector,d=n.useStore,l=n.unstable__sideEffectsInRender,y=e.serializeQueryArgs,w=e.context,C=l?function(V){return V()}:ce.useEffect;return{buildQueryHooks:I,buildMutationHook:F,usePrefetch:O};function P(V,Z,U){if(Z!=null&&Z.endpointName&&V.isUninitialized){var N=Z.endpointName,j=w.endpointDefinitions[N];y({queryArgs:Z.originalArgs,endpointDefinition:j,endpointName:N})===y({queryArgs:U,endpointDefinition:j,endpointName:N})&&(Z=void 0)}U===Xu&&(Z=void 0);var Q=V.isSuccess?V.data:Z==null?void 0:Z.data;Q===void 0&&(Q=V.data);var ee=Q!==void 0,Y=V.isLoading,J=!ee&&Y,se=V.isSuccess||Y&&ee;return wv(Xl({},V),{data:Q,currentData:V.data,isFetching:Y,isLoading:J,isSuccess:se})}function O(V,Z){var U=i(),N=Lx(Z);return ce.useCallback(function(j,Q){return U(t.util.prefetch(V,j,Xl(Xl({},N),Q)))},[V,U,N])}function I(V){var Z=function(j,Q){var ee=Q===void 0?{}:Q,Y=ee.refetchOnReconnect,J=ee.refetchOnFocus,se=ee.refetchOnMountOrArgChange,ge=ee.skip,he=ge===void 0?!1:ge,Se=ee.pollingInterval,De=Se===void 0?0:Se,He=t.endpoints[V].initiate,Be=i(),Je=nC(he?Xu:j,EB,w.endpointDefinitions[V],V),Ge=Lx({refetchOnReconnect:Y,refetchOnFocus:J,pollingInterval:De}),ut=ce.useRef(!1),Pe=ce.useRef(),We=Pe.current||{},Me=We.queryCacheKey,Xe=We.requestId,et=!1;if(Me&&Xe){var mt=Be(t.internalActions.internal_probeSubscription({queryCacheKey:Me,requestId:Xe}));et=!!mt}var ct=!et&&ut.current;return C(function(){ut.current=et}),C(function(){Pe.current=void 0},[ct]),C(function(){var ht,pt=Pe.current;if(typeof process<"u",Je===Xu){pt==null||pt.unsubscribe(),Pe.current=void 0;return}var Et=(ht=Pe.current)==null?void 0:ht.subscriptionOptions;if(!pt||pt.arg!==Je){pt==null||pt.unsubscribe();var an=Be(He(Je,{subscriptionOptions:Ge,forceRefetch:se}));Pe.current=an}else Ge!==Et&&pt.updateSubscriptionOptions(Ge)},[Be,He,se,Je,Ge,ct]),ce.useEffect(function(){return function(){var ht;(ht=Pe.current)==null||ht.unsubscribe(),Pe.current=void 0}},[]),ce.useMemo(function(){return{refetch:function(){var ht;if(!Pe.current)throw new Error("Cannot refetch a query that has not been started yet.");return(ht=Pe.current)==null?void 0:ht.refetch()}}},[])},U=function(j){var Q=j===void 0?{}:j,ee=Q.refetchOnReconnect,Y=Q.refetchOnFocus,J=Q.pollingInterval,se=J===void 0?0:J,ge=t.endpoints[V].initiate,he=i(),Se=ce.useState(Ox),De=Se[0],He=Se[1],Be=ce.useRef(),Je=Lx({refetchOnReconnect:ee,refetchOnFocus:Y,pollingInterval:se});C(function(){var Pe,We,Me=(Pe=Be.current)==null?void 0:Pe.subscriptionOptions;Je!==Me&&((We=Be.current)==null||We.updateSubscriptionOptions(Je))},[Je]);var Ge=ce.useRef(Je);C(function(){Ge.current=Je},[Je]);var ut=ce.useCallback(function(Pe,We){We===void 0&&(We=!1);var Me;return r(function(){var Xe;(Xe=Be.current)==null||Xe.unsubscribe(),Be.current=Me=he(ge(Pe,{subscriptionOptions:Ge.current,forceRefetch:!We})),He(Pe)}),Me},[he,ge]);return ce.useEffect(function(){return function(){var Pe;(Pe=Be==null?void 0:Be.current)==null||Pe.unsubscribe()}},[]),ce.useEffect(function(){De!==Ox&&!Be.current&&ut(De,!0)},[De,ut]),ce.useMemo(function(){return[ut,De]},[ut,De])},N=function(j,Q){var ee=Q===void 0?{}:Q,Y=ee.skip,J=Y===void 0?!1:Y,se=ee.selectFromResult,ge=t.endpoints[V].select,he=nC(J?Xu:j,y,w.endpointDefinitions[V],V),Se=ce.useRef(),De=ce.useMemo(function(){return zp([ge(he),function(ut,Pe){return Pe},function(ut){return he}],P)},[ge,he]),He=ce.useMemo(function(){return se?zp([De],se):De},[De,se]),Be=u(function(ut){return He(ut,Se.current)},fy),Je=d(),Ge=De(Je.getState(),Se.current);return TB(function(){Se.current=Ge},[Ge]),Be};return{useQueryState:N,useQuerySubscription:Z,useLazyQuerySubscription:U,useLazyQuery:function(j){var Q=U(j),ee=Q[0],Y=Q[1],J=N(Y,wv(Xl({},j),{skip:Y===Ox})),se=ce.useMemo(function(){return{lastArg:Y}},[Y]);return ce.useMemo(function(){return[ee,J,se]},[ee,J,se])},useQuery:function(j,Q){var ee=Z(j,Q),Y=N(j,Xl({selectFromResult:j===Xu||Q!=null&&Q.skip?void 0:PB},Q)),J=Y.data,se=Y.status,ge=Y.isLoading,he=Y.isSuccess,Se=Y.isError,De=Y.error;return ce.useDebugValue({data:J,status:se,isLoading:ge,isSuccess:he,isError:Se,error:De}),ce.useMemo(function(){return Xl(Xl({},Y),ee)},[Y,ee])}}}function F(V){return function(Z){var U=Z===void 0?{}:Z,N=U.selectFromResult,j=N===void 0?CB:N,Q=U.fixedCacheKey,ee=t.endpoints[V],Y=ee.select,J=ee.initiate,se=i(),ge=ce.useState(),he=ge[0],Se=ge[1];ce.useEffect(function(){return function(){he!=null&&he.arg.fixedCacheKey||he==null||he.reset()}},[he]);var De=ce.useCallback(function(pt){var Et=se(J(pt,{fixedCacheKey:Q}));return Se(Et),Et},[se,J,Q]),He=(he||{}).requestId,Be=ce.useMemo(function(){return zp([Y({fixedCacheKey:Q,requestId:he==null?void 0:he.requestId})],j)},[Y,he,j,Q]),Je=u(Be,fy),Ge=Q==null?he==null?void 0:he.arg.originalArgs:void 0,ut=ce.useCallback(function(){r(function(){he&&Se(void 0),Q&&se(t.internalActions.removeMutationResult({requestId:He,fixedCacheKey:Q}))})},[se,Q,he,He]),Pe=Je.endpointName,We=Je.data,Me=Je.status,Xe=Je.isLoading,et=Je.isSuccess,mt=Je.isError,ct=Je.error;ce.useDebugValue({endpointName:Pe,data:We,status:Me,isLoading:Xe,isSuccess:et,isError:mt,error:ct});var ht=ce.useMemo(function(){return wv(Xl({},Je),{originalArgs:Ge,reset:ut})},[Je,Ge,ut]);return ce.useMemo(function(){return[De,ht]},[De,ht])}}}var Ey;(function(e){e.query="query",e.mutation="mutation"})(Ey||(Ey={}));function IB(e){return e.type===Ey.query}function kB(e){return e.type===Ey.mutation}function Rx(e){return e.replace(e[0],e[0].toUpperCase())}function Rg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,yB([e],t))}var OB=Symbol(),LB=function(e){var t=e===void 0?{}:e,n=t.batch,r=n===void 0?Dm.unstable_batchedUpdates:n,i=t.useDispatch,u=i===void 0?BF:i,d=t.useSelector,l=d===void 0?SF:d,y=t.useStore,w=y===void 0?SO:y,C=t.unstable__sideEffectsInRender,P=C===void 0?!1:C;return{name:OB,init:function(O,I,F){var V=I.serializeQueryArgs,Z=O,U=AB({api:O,moduleOptions:{batch:r,useDispatch:u,useSelector:l,useStore:w,unstable__sideEffectsInRender:P},serializeQueryArgs:V,context:F}),N=U.buildQueryHooks,j=U.buildMutationHook,Q=U.usePrefetch;return Rg(Z,{usePrefetch:Q}),Rg(F,{batch:r}),{injectEndpoint:function(ee,Y){if(IB(Y)){var J=N(ee),se=J.useQuery,ge=J.useLazyQuery,he=J.useLazyQuerySubscription,Se=J.useQueryState,De=J.useQuerySubscription;Rg(Z.endpoints[ee],{useQuery:se,useLazyQuery:ge,useLazyQuerySubscription:he,useQueryState:Se,useQuerySubscription:De}),O["use"+Rx(ee)+"Query"]=se,O["useLazy"+Rx(ee)+"Query"]=ge}else if(kB(Y)){var He=j(ee);Rg(Z.endpoints[ee],{useMutation:He}),O["use"+Rx(ee)+"Mutation"]=He}}}}}},$W=iB(vB(),LB());function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function RB(e,t){if(_m(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_m(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YO(e){var t=RB(e,"string");return _m(t)==="symbol"?t:String(t)}function QO(e,t,n){return t=YO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MB(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var rC={};function ub(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&rC[t[0]]||(typeof t[0]=="string"&&(rC[t[0]]=new Date),MB.apply(void 0,t))}function iC(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{var r=function i(){setTimeout(function(){e.off("initialized",i)},0),n()};e.on("initialized",r)}})}function DB(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.languages[0],i=t.options?t.options.fallbackLng:!1,u=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var d=function(y,w){var C=t.services.backendConnector.state["".concat(y,"|").concat(w)];return C===-1||C===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!d(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||d(r,e)&&(!i||d(u,e)))}function zB(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return ub("i18n.languages were undefined or empty",t.languages),!0;var r=t.options.ignoreJSONStructure!==void 0;return r?t.hasLoadedNamespace(e,{precheck:function(u,d){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&u.services.backendConnector.backend&&u.isLanguageChangingTo&&!d(u.isLanguageChangingTo,e))return!1}}):DB(e,t,n)}var FB=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,NB={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},BB=function(t){return NB[t]},UB=function(t){return t.replace(FB,BB)};function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(r){QO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var cb={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:UB};function VB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};cb=aC(aC({},cb),e)}function $B(){return cb}var JO;function jB(e){JO=e}function qB(){return JO}function GB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YO(r.key),r)}}function HB(e,t,n){return t&&sC(e.prototype,t),n&&sC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var jW={type:"3rdParty",init:function(t){VB(t.options.react),jB(t)}},ZB=ce.createContext(),WB=function(){function e(){GB(this,e),this.usedNamespaces={}}return HB(e,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function KB(e){if(Array.isArray(e))return e}function XB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,u,d,l=[],y=!0,w=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;y=!1}else for(;!(y=(r=u.call(n)).done)&&(l.push(r.value),l.length!==t);y=!0);}catch(C){w=!0,i=C}finally{try{if(!y&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(w)throw i}}return l}}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YB(e,t){if(e){if(typeof e=="string")return lC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(e,t)}}function QB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JB(e,t){return KB(e)||XB(e,t)||YB(e,t)||QB()}function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(n),!0).forEach(function(r){QO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var e6=function(t,n){var r=ce.useRef();return ce.useEffect(function(){r.current=n?r.current:t},[t,n]),r.current};function qW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.i18n,r=ce.useContext(ZB)||{},i=r.i18n,u=r.defaultNS,d=n||i||qB();if(d&&!d.reportNamespaces&&(d.reportNamespaces=new WB),!d){ub("You will need to pass in an i18next instance by using initReactI18next");var l=function(ge){return Array.isArray(ge)?ge[ge.length-1]:ge},y=[l,{},!1];return y.t=l,y.i18n={},y.ready=!1,y}d.options.react&&d.options.react.wait!==void 0&&ub("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var w=Mx(Mx(Mx({},$B()),d.options.react),t),C=w.useSuspense,P=w.keyPrefix,O=e||u||d.options&&d.options.defaultNS;O=typeof O=="string"?[O]:O||["translation"],d.reportNamespaces.addUsedNamespaces&&d.reportNamespaces.addUsedNamespaces(O);var I=(d.isInitialized||d.initializedStoreOnce)&&O.every(function(se){return zB(se,d,w)});function F(){return d.getFixedT(null,w.nsMode==="fallback"?O:O[0],P)}var V=ce.useState(F),Z=JB(V,2),U=Z[0],N=Z[1],j=O.join(),Q=e6(j),ee=ce.useRef(!0);ce.useEffect(function(){var se=w.bindI18n,ge=w.bindI18nStore;ee.current=!0,!I&&!C&&iC(d,O,function(){ee.current&&N(F)}),I&&Q&&Q!==j&&ee.current&&N(F);function he(){ee.current&&N(F)}return se&&d&&d.on(se,he),ge&&d&&d.store.on(ge,he),function(){ee.current=!1,se&&d&&se.split(" ").forEach(function(Se){return d.off(Se,he)}),ge&&d&&ge.split(" ").forEach(function(Se){return d.store.off(Se,he)})}},[d,j]);var Y=ce.useRef(!0);ce.useEffect(function(){ee.current&&!Y.current&&N(F),Y.current=!1},[d,P]);var J=[U,d,I];if(J.t=U,J.i18n=d,J.ready=I,I||!I&&!C)return J;throw new Promise(function(se){iC(d,O,function(){se()})})}function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t6(e,t){if(Rs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eL(e){var t=t6(e,"string");return Rs(t)==="symbol"?t:String(t)}function cC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eL(r.key),r)}}function Sl(e,t,n){return t&&cC(e.prototype,t),n&&cC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hb(e,t){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hb(e,t)}function V_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hb(e,t)}function Vm(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pc(e)}function bl(e){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bl(e)}function Ic(e,t,n){return t=eL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n6(e){if(Array.isArray(e))return e}function r6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i6(e,t){if(e){if(typeof e=="string")return hC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hC(e,t)}}function o6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6(e){return n6(e)||r6(e)||i6(e)||o6()}function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(n),!0).forEach(function(r){Ic(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var s6={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},l6=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wl(this,e),this.init(t,n)}return Sl(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||s6,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,u){return u&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new e(this.logger,dC(dC({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}(),pl=new l6,Ec=function(){function e(){wl(this,e),this.observers={}}return Sl(e,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(u){i.observers[u]=i.observers[u]||[],i.observers[u].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];if(this.observers[n]){var d=[].concat(this.observers[n]);d.forEach(function(y){y.apply(void 0,i)})}if(this.observers["*"]){var l=[].concat(this.observers["*"]);l.forEach(function(y){y.apply(y,[n].concat(i))})}}}]),e}();function ap(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}function pC(e){return e==null?"":""+e}function u6(e,t,n){e.forEach(function(r){t[r]&&(n[r]=t[r])})}function vS(e,t,n){function r(l){return l&&l.indexOf("###")>-1?l.replace(/###/g,"."):l}function i(){return!e||typeof e=="string"}for(var u=typeof t!="string"?[].concat(t):t.split(".");u.length>1;){if(i())return{};var d=r(u.shift());!e[d]&&n&&(e[d]=new n),Object.prototype.hasOwnProperty.call(e,d)?e=e[d]:e={}}return i()?{}:{obj:e,k:r(u.shift())}}function mC(e,t,n){var r=vS(e,t,Object),i=r.obj,u=r.k;i[u]=n}function c6(e,t,n,r){var i=vS(e,t,Object),u=i.obj,d=i.k;u[d]=u[d]||[],r&&(u[d]=u[d].concat(n)),r||u[d].push(n)}function Ty(e,t){var n=vS(e,t),r=n.obj,i=n.k;if(r)return r[i]}function gC(e,t,n){var r=Ty(e,n);return r!==void 0?r:Ty(t,n)}function tL(e,t,n){for(var r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):tL(e[r],t[r],n):e[r]=t[r]);return e}function lf(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var h6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function f6(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return h6[t]}):e}var $_=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,d6=[" ",",","?","!",";"];function p6(e,t,n){t=t||"",n=n||"";var r=d6.filter(function(l){return t.indexOf(l)<0&&n.indexOf(l)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(l){return l==="?"?"\\?":l}).join("|"),")")),u=!i.test(e);if(!u){var d=e.indexOf(n);d>0&&!i.test(e.substring(0,d))&&(u=!0)}return u}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){Ic(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m6(e){var t=g6();return function(){var r=bl(e),i;if(t){var u=bl(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return Vm(this,i)}}function g6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nL(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,u=0;u<r.length;++u){if(!i||typeof i[r[u]]=="string"&&u+1<r.length)return;if(i[r[u]]===void 0){for(var d=2,l=r.slice(u,u+d).join(n),y=i[l];y===void 0&&r.length>u+d;)d++,l=r.slice(u,u+d).join(n),y=i[l];if(y===void 0)return;if(y===null)return null;if(t.endsWith(l)){if(typeof y=="string")return y;if(l&&typeof y[l]=="string")return y[l]}var w=r.slice(u+d).join(n);return w?nL(y,w,n):void 0}i=i[r[u]]}return i}}var v6=function(e){V_(n,e);var t=m6(n);function n(r){var i,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return wl(this,n),i=t.call(this),$_&&Ec.call(pc(i)),i.data=r||{},i.options=u,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Sl(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var u=this.options.ns.indexOf(i);u>-1&&this.options.ns.splice(u,1)}},{key:"getResource",value:function(i,u,d){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,w=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure,C=[i,u];d&&typeof d!="string"&&(C=C.concat(d)),d&&typeof d=="string"&&(C=C.concat(y?d.split(y):d)),i.indexOf(".")>-1&&(C=i.split("."));var P=Ty(this.data,C);return P||!w||typeof d!="string"?P:nL(this.data&&this.data[i]&&this.data[i][u],d,y)}},{key:"addResource",value:function(i,u,d,l){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},w=this.options.keySeparator;w===void 0&&(w=".");var C=[i,u];d&&(C=C.concat(w?d.split(w):d)),i.indexOf(".")>-1&&(C=i.split("."),l=u,u=C[1]),this.addNamespaces(u),mC(this.data,C,l),y.silent||this.emit("added",i,u,d,l)}},{key:"addResources",value:function(i,u,d){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var y in d)(typeof d[y]=="string"||Object.prototype.toString.apply(d[y])==="[object Array]")&&this.addResource(i,u,y,d[y],{silent:!0});l.silent||this.emit("added",i,u,d)}},{key:"addResourceBundle",value:function(i,u,d,l,y){var w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},C=[i,u];i.indexOf(".")>-1&&(C=i.split("."),l=d,d=u,u=C[1]),this.addNamespaces(u);var P=Ty(this.data,C)||{};l?tL(P,d,y):P=Mg(Mg({},P),d),mC(this.data,C,P),w.silent||this.emit("added",i,u,d)}},{key:"removeResourceBundle",value:function(i,u){this.hasResourceBundle(i,u)&&delete this.data[i][u],this.removeNamespaces(u),this.emit("removed",i,u)}},{key:"hasResourceBundle",value:function(i,u){return this.getResource(i,u)!==void 0}},{key:"getResourceBundle",value:function(i,u){return u||(u=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Mg(Mg({},{}),this.getResource(i,u)):this.getResource(i,u)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var u=this.getDataByLanguage(i),d=u&&Object.keys(u)||[];return!!d.find(function(l){return u[l]&&Object.keys(u[l]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Ec),rL={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,r,i,u){var d=this;return t.forEach(function(l){d.processors[l]&&(n=d.processors[l].process(n,r,i,u))}),n}};function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(r){Ic(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y6(e){var t=_6();return function(){var r=bl(e),i;if(t){var u=bl(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return Vm(this,i)}}function _6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _C={},xC=function(e){V_(n,e);var t=y6(n);function n(r){var i,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return wl(this,n),i=t.call(this),$_&&Ec.call(pc(i)),u6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,pc(i)),i.options=u,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=pl.create("translator"),i}return Sl(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var d=this.resolve(i,u);return d&&d.res!==void 0}},{key:"extractFromKey",value:function(i,u){var d=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");var l=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,y=u.ns||this.options.defaultNS||[],w=d&&i.indexOf(d)>-1,C=!this.options.userDefinedKeySeparator&&!u.keySeparator&&!this.options.userDefinedNsSeparator&&!u.nsSeparator&&!p6(i,d,l);if(w&&!C){var P=i.match(this.interpolator.nestingRegexp);if(P&&P.length>0)return{key:i,namespaces:y};var O=i.split(d);(d!==l||d===l&&this.options.ns.indexOf(O[0])>-1)&&(y=O.shift()),i=O.join(l)}return typeof y=="string"&&(y=[y]),{key:i,namespaces:y}}},{key:"translate",value:function(i,u,d){var l=this;if(Rs(u)!=="object"&&this.options.overloadTranslationOptionHandler&&(u=this.options.overloadTranslationOptionHandler(arguments)),u||(u={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var y=u.returnDetails!==void 0?u.returnDetails:this.options.returnDetails,w=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,C=this.extractFromKey(i[i.length-1],u),P=C.key,O=C.namespaces,I=O[O.length-1],F=u.lng||this.language,V=u.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(F&&F.toLowerCase()==="cimode"){if(V){var Z=u.nsSeparator||this.options.nsSeparator;return y?(U.res="".concat(I).concat(Z).concat(P),U):"".concat(I).concat(Z).concat(P)}return y?(U.res=P,U):P}var U=this.resolve(i,u),N=U&&U.res,j=U&&U.usedKey||P,Q=U&&U.exactUsedKey||P,ee=Object.prototype.toString.apply(N),Y=["[object Number]","[object Function]","[object RegExp]"],J=u.joinArrays!==void 0?u.joinArrays:this.options.joinArrays,se=!this.i18nFormat||this.i18nFormat.handleAsObject,ge=typeof N!="string"&&typeof N!="boolean"&&typeof N!="number";if(se&&N&&ge&&Y.indexOf(ee)<0&&!(typeof J=="string"&&ee==="[object Array]")){if(!u.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var he=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,N,Io(Io({},u),{},{ns:O})):"key '".concat(P," (").concat(this.language,")' returned an object instead of string.");return y?(U.res=he,U):he}if(w){var Se=ee==="[object Array]",De=Se?[]:{},He=Se?Q:j;for(var Be in N)if(Object.prototype.hasOwnProperty.call(N,Be)){var Je="".concat(He).concat(w).concat(Be);De[Be]=this.translate(Je,Io(Io({},u),{joinArrays:!1,ns:O})),De[Be]===Je&&(De[Be]=N[Be])}N=De}}else if(se&&typeof J=="string"&&ee==="[object Array]")N=N.join(J),N&&(N=this.extendTranslation(N,i,u,d));else{var Ge=!1,ut=!1,Pe=u.count!==void 0&&typeof u.count!="string",We=n.hasDefaultValue(u),Me=Pe?this.pluralResolver.getSuffix(F,u.count,u):"",Xe=u["defaultValue".concat(Me)]||u.defaultValue;!this.isValidLookup(N)&&We&&(Ge=!0,N=Xe),this.isValidLookup(N)||(ut=!0,N=P);var et=u.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,mt=et&&ut?void 0:N,ct=We&&Xe!==N&&this.options.updateMissing;if(ut||Ge||ct){if(this.logger.log(ct?"updateKey":"missingKey",F,I,P,ct?Xe:N),w){var ht=this.resolve(P,Io(Io({},u),{},{keySeparator:!1}));ht&&ht.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var pt=[],Et=this.languageUtils.getFallbackCodes(this.options.fallbackLng,u.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Et&&Et[0])for(var an=0;an<Et.length;an++)pt.push(Et[an]);else this.options.saveMissingTo==="all"?pt=this.languageUtils.toResolveHierarchy(u.lng||this.language):pt.push(u.lng||this.language);var Pn=function(rt,Kt,xn){var tn=We&&xn!==N?xn:mt;l.options.missingKeyHandler?l.options.missingKeyHandler(rt,I,Kt,tn,ct,u):l.backendConnector&&l.backendConnector.saveMissing&&l.backendConnector.saveMissing(rt,I,Kt,tn,ct,u),l.emit("missingKey",rt,I,Kt,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Pe?pt.forEach(function(Fe){l.pluralResolver.getSuffixes(Fe,u).forEach(function(rt){Pn([Fe],P+rt,u["defaultValue".concat(rt)]||Xe)})}):Pn(pt,P,Xe))}N=this.extendTranslation(N,i,u,U,d),ut&&N===P&&this.options.appendNamespaceToMissingKey&&(N="".concat(I,":").concat(P)),(ut||Ge)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?N=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(I,":").concat(P):P,Ge?N:void 0):N=this.options.parseMissingKeyHandler(N))}return y?(U.res=N,U):N}},{key:"extendTranslation",value:function(i,u,d,l,y){var w=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Io(Io({},this.options.interpolation.defaultVariables),d),l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!d.skipInterpolation){d.interpolation&&this.interpolator.init(Io(Io({},d),{interpolation:Io(Io({},this.options.interpolation),d.interpolation)}));var C=typeof i=="string"&&(d&&d.interpolation&&d.interpolation.skipOnVariables!==void 0?d.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),P;if(C){var O=i.match(this.interpolator.nestingRegexp);P=O&&O.length}var I=d.replace&&typeof d.replace!="string"?d.replace:d;if(this.options.interpolation.defaultVariables&&(I=Io(Io({},this.options.interpolation.defaultVariables),I)),i=this.interpolator.interpolate(i,I,d.lng||this.language,d),C){var F=i.match(this.interpolator.nestingRegexp),V=F&&F.length;P<V&&(d.nest=!1)}d.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var N=arguments.length,j=new Array(N),Q=0;Q<N;Q++)j[Q]=arguments[Q];return y&&y[0]===j[0]&&!d.context?(w.logger.warn("It seems you are nesting recursively key: ".concat(j[0]," in key: ").concat(u[0])),null):w.translate.apply(w,j.concat([u]))},d)),d.interpolation&&this.interpolator.reset()}var Z=d.postProcess||this.options.postProcess,U=typeof Z=="string"?[Z]:Z;return i!=null&&U&&U.length&&d.applyPostProcessor!==!1&&(i=rL.handle(U,i,u,this.options&&this.options.postProcessPassResolved?Io({i18nResolved:l},d):d,this)),i}},{key:"resolve",value:function(i){var u=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,y,w,C,P;return typeof i=="string"&&(i=[i]),i.forEach(function(O){if(!u.isValidLookup(l)){var I=u.extractFromKey(O,d),F=I.key;y=F;var V=I.namespaces;u.options.fallbackNS&&(V=V.concat(u.options.fallbackNS));var Z=d.count!==void 0&&typeof d.count!="string",U=Z&&!d.ordinal&&d.count===0&&u.pluralResolver.shouldUseIntlApi(),N=d.context!==void 0&&(typeof d.context=="string"||typeof d.context=="number")&&d.context!=="",j=d.lngs?d.lngs:u.languageUtils.toResolveHierarchy(d.lng||u.language,d.fallbackLng);V.forEach(function(Q){u.isValidLookup(l)||(P=Q,!_C["".concat(j[0],"-").concat(Q)]&&u.utils&&u.utils.hasLoadedNamespace&&!u.utils.hasLoadedNamespace(P)&&(_C["".concat(j[0],"-").concat(Q)]=!0,u.logger.warn('key "'.concat(y,'" for languages "').concat(j.join(", "),`" won't get resolved as namespace "`).concat(P,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(function(ee){if(!u.isValidLookup(l)){C=ee;var Y=[F];if(u.i18nFormat&&u.i18nFormat.addLookupKeys)u.i18nFormat.addLookupKeys(Y,F,ee,Q,d);else{var J;Z&&(J=u.pluralResolver.getSuffix(ee,d.count,d));var se="".concat(u.options.pluralSeparator,"zero");if(Z&&(Y.push(F+J),U&&Y.push(F+se)),N){var ge="".concat(F).concat(u.options.contextSeparator).concat(d.context);Y.push(ge),Z&&(Y.push(ge+J),U&&Y.push(ge+se))}}for(var he;he=Y.pop();)u.isValidLookup(l)||(w=he,l=u.getResource(ee,Q,he,d))}}))})}}),{res:l,usedKey:y,exactUsedKey:w,usedLng:C,usedNS:P}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,u,d){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,u,d,l):this.resourceStore.getResource(i,u,d,l)}}],[{key:"hasDefaultValue",value:function(i){var u="defaultValue";for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)&&u===d.substring(0,u.length)&&i[d]!==void 0)return!0;return!1}}]),n}(Ec);function Dx(e){return e.charAt(0).toUpperCase()+e.slice(1)}var bC=function(){function e(t){wl(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pl.create("languageUtils")}return Sl(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(u){return u.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Dx(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Dx(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Dx(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(u){if(!i){var d=r.formatLanguageCode(u);(!r.options.supportedLngs||r.isSupportedCode(d))&&(i=d)}}),!i&&this.options.supportedLngs&&n.forEach(function(u){if(!i){var d=r.getLanguagePartFromCode(u);if(r.isSupportedCode(d))return i=d;i=r.options.supportedLngs.find(function(l){if(l.indexOf(d)===0)return l})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,u=this.getFallbackCodes(r||this.options.fallbackLng||[],n),d=[],l=function(w){w&&(i.isSupportedCode(w)?d.push(w):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(w)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(n))):typeof n=="string"&&l(this.formatLanguageCode(n)),u.forEach(function(y){d.indexOf(y)<0&&l(i.formatLanguageCode(y))}),d}}]),e}(),x6=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],b6={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},w6=["v1","v2","v3"],wC={zero:0,one:1,two:2,few:3,many:4,other:5};function S6(){var e={};return x6.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:b6[t.fc]}})}),e}var E6=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wl(this,e),this.languageUtils=t,this.options=n,this.logger=pl.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=S6()}return Sl(e,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(u){return"".concat(r).concat(u)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.getRule(n,i);return u?this.shouldUseIntlApi()?u.resolvedOptions().pluralCategories.sort(function(d,l){return wC[d]-wC[l]}).map(function(d){return"".concat(r.options.prepend).concat(d)}):u.numbers.map(function(d){return r.getSuffix(n,d,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=this.getRule(n,i);return u?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(u.select(r)):this.getSuffixRetroCompatible(u,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,u=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),d=n.numbers[u];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(d===2?d="plural":d===1&&(d=""));var l=function(){return i.options.prepend&&d.toString()?i.options.prepend+d.toString():d.toString()};return this.options.compatibilityJSON==="v1"?d===1?"":typeof d=="number"?"_plural_".concat(d.toString()):l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?l():this.options.prepend&&u.toString()?this.options.prepend+u.toString():u.toString()}},{key:"shouldUseIntlApi",value:function(){return!w6.includes(this.options.compatibilityJSON)}}]),e}();function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(r){Ic(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var T6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wl(this,e),this.logger=pl.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return Sl(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:f6,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?lf(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?lf(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?lf(r.nestingPrefix):r.nestingPrefixEscaped||lf("$t("),this.nestingSuffix=r.nestingSuffix?lf(r.nestingSuffix):r.nestingSuffixEscaped||lf(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,u){var d=this,l,y,w,C=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function P(Z){return Z.replace(/\$/g,"$$$$")}var O=function(U){if(U.indexOf(d.formatSeparator)<0){var N=gC(r,C,U);return d.alwaysFormat?d.format(N,void 0,i,ws(ws(ws({},u),r),{},{interpolationkey:U})):N}var j=U.split(d.formatSeparator),Q=j.shift().trim(),ee=j.join(d.formatSeparator).trim();return d.format(gC(r,C,Q),ee,i,ws(ws(ws({},u),r),{},{interpolationkey:Q}))};this.resetRegExp();var I=u&&u.missingInterpolationHandler||this.options.missingInterpolationHandler,F=u&&u.interpolation&&u.interpolation.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,V=[{regex:this.regexpUnescape,safeValue:function(U){return P(U)}},{regex:this.regexp,safeValue:function(U){return d.escapeValue?P(d.escape(U)):P(U)}}];return V.forEach(function(Z){for(w=0;l=Z.regex.exec(n);){var U=l[1].trim();if(y=O(U),y===void 0)if(typeof I=="function"){var N=I(n,l,u);y=typeof N=="string"?N:""}else if(u&&u.hasOwnProperty(U))y="";else if(F){y=l[0];continue}else d.logger.warn("missed to pass in variable ".concat(U," for interpolating ").concat(n)),y="";else typeof y!="string"&&!d.useRawValueToEscape&&(y=pC(y));var j=Z.safeValue(y);if(n=n.replace(l[0],j),F?(Z.regex.lastIndex+=y.length,Z.regex.lastIndex-=l[0].length):Z.regex.lastIndex=0,w++,w>=d.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d,l,y;function w(I,F){var V=this.nestingOptionsSeparator;if(I.indexOf(V)<0)return I;var Z=I.split(new RegExp("".concat(V,"[ ]*{"))),U="{".concat(Z[1]);I=Z[0],U=this.interpolate(U,y);var N=U.match(/'/g),j=U.match(/"/g);(N&&N.length%2===0&&!j||j.length%2!==0)&&(U=U.replace(/'/g,'"'));try{y=JSON.parse(U),F&&(y=ws(ws({},F),y))}catch(Q){return this.logger.warn("failed parsing options string in nesting for key ".concat(I),Q),"".concat(I).concat(V).concat(U)}return delete y.defaultValue,I}for(;d=this.nestingRegexp.exec(n);){var C=[];y=ws({},u),y=y.replace&&typeof y.replace!="string"?y.replace:y,y.applyPostProcessor=!1,delete y.defaultValue;var P=!1;if(d[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(d[1])){var O=d[1].split(this.formatSeparator).map(function(I){return I.trim()});d[1]=O.shift(),C=O,P=!0}if(l=r(w.call(this,d[1].trim(),y),y),l&&d[0]===n&&typeof l!="string")return l;typeof l!="string"&&(l=pC(l)),l||(this.logger.warn("missed to resolve ".concat(d[1]," for nesting ").concat(n)),l=""),P&&(l=C.reduce(function(I,F){return i.format(I,F,u.lng,ws(ws({},u),{},{interpolationkey:d[1].trim()}))},l.trim())),n=n.replace(d[0],l),this.regexp.lastIndex=0}return n}}]),e}();function EC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(n),!0).forEach(function(r){Ic(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C6(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(t==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(t==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var u=i.split(";");u.forEach(function(d){if(d){var l=d.split(":"),y=a6(l),w=y[0],C=y.slice(1),P=C.join(":").trim().replace(/^'+|'+$/g,"");n[w.trim()]||(n[w.trim()]=P),P==="false"&&(n[w.trim()]=!1),P==="true"&&(n[w.trim()]=!0),isNaN(P)||(n[w.trim()]=parseInt(P,10))}})}}return{formatName:t,formatOptions:n}}function uf(e){var t={};return function(r,i,u){var d=i+JSON.stringify(u),l=t[d];return l||(l=e(i,u),t[d]=l),l(r)}}var P6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wl(this,e),this.logger=pl.create("formatter"),this.options=t,this.formats={number:uf(function(n,r){var i=new Intl.NumberFormat(n,r);return function(u){return i.format(u)}}),currency:uf(function(n,r){var i=new Intl.NumberFormat(n,Vu(Vu({},r),{},{style:"currency"}));return function(u){return i.format(u)}}),datetime:uf(function(n,r){var i=new Intl.DateTimeFormat(n,Vu({},r));return function(u){return i.format(u)}}),relativetime:uf(function(n,r){var i=new Intl.RelativeTimeFormat(n,Vu({},r));return function(u){return i.format(u,r.range||"day")}}),list:uf(function(n,r){var i=new Intl.ListFormat(n,Vu({},r));return function(u){return i.format(u)}})},this.init(t)}return Sl(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=uf(r)}},{key:"format",value:function(n,r,i,u){var d=this,l=r.split(this.formatSeparator),y=l.reduce(function(w,C){var P=C6(C),O=P.formatName,I=P.formatOptions;if(d.formats[O]){var F=w;try{var V=u&&u.formatParams&&u.formatParams[u.interpolationkey]||{},Z=V.locale||V.lng||u.locale||u.lng||i;F=d.formats[O](w,Z,Vu(Vu(Vu({},I),u),V))}catch(U){d.logger.warn(U)}return F}else d.logger.warn("there was no format function for ".concat(O));return w},n);return y}}]),e}();function TC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(n),!0).forEach(function(r){Ic(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A6(e){var t=I6();return function(){var r=bl(e),i;if(t){var u=bl(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return Vm(this,i)}}function I6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k6(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var O6=function(e){V_(n,e);var t=A6(n);function n(r,i,u){var d,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return wl(this,n),d=t.call(this),$_&&Ec.call(pc(d)),d.backend=r,d.store=i,d.services=u,d.languageUtils=u.languageUtils,d.options=l,d.logger=pl.create("backendConnector"),d.waitingReads=[],d.maxParallelReads=l.maxParallelReads||10,d.readingCalls=0,d.maxRetries=l.maxRetries>=0?l.maxRetries:5,d.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,d.state={},d.queue=[],d.backend&&d.backend.init&&d.backend.init(u,l.backend,l),d}return Sl(n,[{key:"queueLoad",value:function(i,u,d,l){var y=this,w={},C={},P={},O={};return i.forEach(function(I){var F=!0;u.forEach(function(V){var Z="".concat(I,"|").concat(V);!d.reload&&y.store.hasResourceBundle(I,V)?y.state[Z]=2:y.state[Z]<0||(y.state[Z]===1?C[Z]===void 0&&(C[Z]=!0):(y.state[Z]=1,F=!1,C[Z]===void 0&&(C[Z]=!0),w[Z]===void 0&&(w[Z]=!0),O[V]===void 0&&(O[V]=!0)))}),F||(P[I]=!0)}),(Object.keys(w).length||Object.keys(C).length)&&this.queue.push({pending:C,pendingCount:Object.keys(C).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(w),pending:Object.keys(C),toLoadLanguages:Object.keys(P),toLoadNamespaces:Object.keys(O)}}},{key:"loaded",value:function(i,u,d){var l=i.split("|"),y=l[0],w=l[1];u&&this.emit("failedLoading",y,w,u),d&&this.store.addResourceBundle(y,w,d),this.state[i]=u?-1:2;var C={};this.queue.forEach(function(P){c6(P.loaded,[y],w),k6(P,i),u&&P.errors.push(u),P.pendingCount===0&&!P.done&&(Object.keys(P.loaded).forEach(function(O){C[O]||(C[O]={});var I=P.loaded[O];I.length&&I.forEach(function(F){C[O][F]===void 0&&(C[O][F]=!0)})}),P.done=!0,P.errors.length?P.callback(P.errors):P.callback())}),this.emit("loaded",C),this.queue=this.queue.filter(function(P){return!P.done})}},{key:"read",value:function(i,u,d){var l=this,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,C=arguments.length>5?arguments[5]:void 0;if(!i.length)return C(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:u,fcName:d,tried:y,wait:w,callback:C});return}this.readingCalls++;var P=function(V,Z){if(l.readingCalls--,l.waitingReads.length>0){var U=l.waitingReads.shift();l.read(U.lng,U.ns,U.fcName,U.tried,U.wait,U.callback)}if(V&&Z&&y<l.maxRetries){setTimeout(function(){l.read.call(l,i,u,d,y+1,w*2,C)},w);return}C(V,Z)},O=this.backend[d].bind(this.backend);if(O.length===2){try{var I=O(i,u);I&&typeof I.then=="function"?I.then(function(F){return P(null,F)}).catch(P):P(null,I)}catch(F){P(F)}return}return O(i,u,P)}},{key:"prepareLoading",value:function(i,u){var d=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),y&&y();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof u=="string"&&(u=[u]);var w=this.queueLoad(i,u,l,y);if(!w.toLoad.length)return w.pending.length||y(),null;w.toLoad.forEach(function(C){d.loadOne(C)})}},{key:"load",value:function(i,u,d){this.prepareLoading(i,u,{},d)}},{key:"reload",value:function(i,u,d){this.prepareLoading(i,u,{reload:!0},d)}},{key:"loadOne",value:function(i){var u=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=i.split("|"),y=l[0],w=l[1];this.read(y,w,"read",void 0,void 0,function(C,P){C&&u.logger.warn("".concat(d,"loading namespace ").concat(w," for language ").concat(y," failed"),C),!C&&P&&u.logger.log("".concat(d,"loaded namespace ").concat(w," for language ").concat(y),P),u.loaded(i,C,P)})}},{key:"saveMissing",value:function(i,u,d,l,y){var w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},C=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(u)){this.logger.warn('did not save key "'.concat(d,'" as the namespace "').concat(u,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(d==null||d==="")){if(this.backend&&this.backend.create){var P=CC(CC({},w),{},{isUpdate:y}),O=this.backend.create.bind(this.backend);if(O.length<6)try{var I;O.length===5?I=O(i,u,d,l,P):I=O(i,u,d,l),I&&typeof I.then=="function"?I.then(function(F){return C(null,F)}).catch(C):C(null,I)}catch(F){C(F)}else O(i,u,d,l,C,P)}!i||!i[0]||this.store.addResource(i[0],u,d,l)}}}]),n}(Ec);function PC(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Rs(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Rs(t[2])==="object"||Rs(t[3])==="object"){var r=t[3]||t[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(t,n,r,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function AC(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(n),!0).forEach(function(r){Ic(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L6(e){var t=R6();return function(){var r=bl(e),i;if(t){var u=bl(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return Vm(this,i)}}function R6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dg(){}function M6(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(n){typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}var Cy=function(e){V_(n,e);var t=L6(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;if(wl(this,n),r=t.call(this),$_&&Ec.call(pc(r)),r.options=AC(i),r.services={},r.logger=pl,r.modules={external:[]},M6(pc(r)),u&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,u),Vm(r,pc(r));setTimeout(function(){r.init(i,u)},0)}return r}return Sl(n,[{key:"init",value:function(){var i=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0;typeof u=="function"&&(d=u,u={}),!u.defaultNS&&u.defaultNS!==!1&&u.ns&&(typeof u.ns=="string"?u.defaultNS=u.ns:u.ns.indexOf("translation")<0&&(u.defaultNS=u.ns[0]));var l=PC();this.options=il(il(il({},l),this.options),AC(u)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=il(il({},l.interpolation),this.options.interpolation)),u.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=u.keySeparator),u.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=u.nsSeparator);function y(U){return U?typeof U=="function"?new U:U:null}if(!this.options.isClone){this.modules.logger?pl.init(y(this.modules.logger),this.options):pl.init(null,this.options);var w;this.modules.formatter?w=this.modules.formatter:typeof Intl<"u"&&(w=P6);var C=new bC(this.options);this.store=new v6(this.options.resources,this.options);var P=this.services;P.logger=pl,P.resourceStore=this.store,P.languageUtils=C,P.pluralResolver=new E6(C,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),w&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(P.formatter=y(w),P.formatter.init(P,this.options),this.options.interpolation.format=P.formatter.format.bind(P.formatter)),P.interpolator=new T6(this.options),P.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},P.backendConnector=new O6(y(this.modules.backend),P.resourceStore,P,this.options),P.backendConnector.on("*",function(U){for(var N=arguments.length,j=new Array(N>1?N-1:0),Q=1;Q<N;Q++)j[Q-1]=arguments[Q];i.emit.apply(i,[U].concat(j))}),this.modules.languageDetector&&(P.languageDetector=y(this.modules.languageDetector),P.languageDetector.init&&P.languageDetector.init(P,this.options.detection,this.options)),this.modules.i18nFormat&&(P.i18nFormat=y(this.modules.i18nFormat),P.i18nFormat.init&&P.i18nFormat.init(this)),this.translator=new xC(this.services,this.options),this.translator.on("*",function(U){for(var N=arguments.length,j=new Array(N>1?N-1:0),Q=1;Q<N;Q++)j[Q-1]=arguments[Q];i.emit.apply(i,[U].concat(j))}),this.modules.external.forEach(function(U){U.init&&U.init(i)})}if(this.format=this.options.interpolation.format,d||(d=Dg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var O=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);O.length>0&&O[0]!=="dev"&&(this.options.lng=O[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var I=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];I.forEach(function(U){i[U]=function(){var N;return(N=i.store)[U].apply(N,arguments)}});var F=["addResource","addResources","addResourceBundle","removeResourceBundle"];F.forEach(function(U){i[U]=function(){var N;return(N=i.store)[U].apply(N,arguments),i}});var V=ap(),Z=function(){var N=function(Q,ee){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),V.resolve(ee),d(Q,ee)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return N(null,i.t.bind(i));i.changeLanguage(i.options.lng,N)};return this.options.resources||!this.options.initImmediate?Z():setTimeout(Z,0),V}},{key:"loadResources",value:function(i){var u=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dg,l=d,y=typeof i=="string"?i:this.language;if(typeof i=="function"&&(l=i),!this.options.resources||this.options.partialBundledLanguages){if(y&&y.toLowerCase()==="cimode")return l();var w=[],C=function(I){if(I){var F=u.services.languageUtils.toResolveHierarchy(I);F.forEach(function(V){w.indexOf(V)<0&&w.push(V)})}};if(y)C(y);else{var P=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);P.forEach(function(O){return C(O)})}this.options.preload&&this.options.preload.forEach(function(O){return C(O)}),this.services.backendConnector.load(w,this.options.ns,function(O){!O&&!u.resolvedLanguage&&u.language&&u.setResolvedLanguage(u.language),l(O)})}else l(null)}},{key:"reloadResources",value:function(i,u,d){var l=ap();return i||(i=this.languages),u||(u=this.options.ns),d||(d=Dg),this.services.backendConnector.reload(i,u,function(y){l.resolve(),d(y)}),l}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&rL.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var u=0;u<this.languages.length;u++){var d=this.languages[u];if(!(["cimode","dev"].indexOf(d)>-1)&&this.store.hasLanguageSomeTranslations(d)){this.resolvedLanguage=d;break}}}},{key:"changeLanguage",value:function(i,u){var d=this;this.isLanguageChangingTo=i;var l=ap();this.emit("languageChanging",i);var y=function(O){d.language=O,d.languages=d.services.languageUtils.toResolveHierarchy(O),d.resolvedLanguage=void 0,d.setResolvedLanguage(O)},w=function(O,I){I?(y(I),d.translator.changeLanguage(I),d.isLanguageChangingTo=void 0,d.emit("languageChanged",I),d.logger.log("languageChanged",I)):d.isLanguageChangingTo=void 0,l.resolve(function(){return d.t.apply(d,arguments)}),u&&u(O,function(){return d.t.apply(d,arguments)})},C=function(O){!i&&!O&&d.services.languageDetector&&(O=[]);var I=typeof O=="string"?O:d.services.languageUtils.getBestMatchFromCodes(O);I&&(d.language||y(I),d.translator.language||d.translator.changeLanguage(I),d.services.languageDetector&&d.services.languageDetector.cacheUserLanguage&&d.services.languageDetector.cacheUserLanguage(I)),d.loadResources(I,function(F){w(F,I)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?C(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(C):this.services.languageDetector.detect(C):C(i),l}},{key:"getFixedT",value:function(i,u,d){var l=this,y=function w(C,P){var O;if(Rs(P)!=="object"){for(var I=arguments.length,F=new Array(I>2?I-2:0),V=2;V<I;V++)F[V-2]=arguments[V];O=l.options.overloadTranslationOptionHandler([C,P].concat(F))}else O=il({},P);O.lng=O.lng||w.lng,O.lngs=O.lngs||w.lngs,O.ns=O.ns||w.ns,O.keyPrefix=O.keyPrefix||d||w.keyPrefix;var Z=l.options.keySeparator||".",U;return O.keyPrefix&&Array.isArray(C)?U=C.map(function(N){return"".concat(O.keyPrefix).concat(Z).concat(N)}):U=O.keyPrefix?"".concat(O.keyPrefix).concat(Z).concat(C):C,l.t(U,O)};return typeof i=="string"?y.lng=i:y.lngs=i,y.ns=u,y.keyPrefix=d,y}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var u=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var l=this.resolvedLanguage||this.languages[0],y=this.options?this.options.fallbackLng:!1,w=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;var C=function(I,F){var V=u.services.backendConnector.state["".concat(I,"|").concat(F)];return V===-1||V===2};if(d.precheck){var P=d.precheck(this,C);if(P!==void 0)return P}return!!(this.hasResourceBundle(l,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||C(l,i)&&(!y||C(w,i)))}},{key:"loadNamespaces",value:function(i,u){var d=this,l=ap();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(y){d.options.ns.indexOf(y)<0&&d.options.ns.push(y)}),this.loadResources(function(y){l.resolve(),u&&u(y)}),l):(u&&u(),Promise.resolve())}},{key:"loadLanguages",value:function(i,u){var d=ap();typeof i=="string"&&(i=[i]);var l=this.options.preload||[],y=i.filter(function(w){return l.indexOf(w)<0});return y.length?(this.options.preload=l.concat(y),this.loadResources(function(w){d.resolve(),u&&u(w)}),d):(u&&u(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var u=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],d=this.services&&this.services.languageUtils||new bC(PC());return u.indexOf(d.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dg,l=il(il(il({},this.options),u),{isClone:!0}),y=new n(l);(u.debug!==void 0||u.prefix!==void 0)&&(y.logger=y.logger.clone(u));var w=["store","services","language"];return w.forEach(function(C){y[C]=i[C]}),y.services=il({},this.services),y.services.utils={hasLoadedNamespace:y.hasLoadedNamespace.bind(y)},y.translator=new xC(y.services,y.options),y.translator.on("*",function(C){for(var P=arguments.length,O=new Array(P>1?P-1:0),I=1;I<P;I++)O[I-1]=arguments[I];y.emit.apply(y,[C].concat(O))}),y.init(l,d),y.translator.options=y.options,y.translator.backendConnector.services.utils={hasLoadedNamespace:y.hasLoadedNamespace.bind(y)},y}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Ec);Ic(Cy,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Cy(e,t)});var No=Cy.createInstance();No.createInstance=Cy.createInstance;No.createInstance;No.dir;No.init;No.loadResources;No.reloadResources;No.use;No.changeLanguage;No.getFixedT;No.t;No.exists;No.setDefaultNamespace;No.hasLoadedNamespace;No.loadNamespaces;No.loadLanguages;var iL={},Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.callbackQueueName=z6;Fs.scriptPath=F6;Fs.trackerConstructorName=N6;Fs.trackerInstanceName=B6;Fs.trackerVersionName=U6;Fs.accountListName=void 0;var D6="yandex_metrika_accounts";Fs.accountListName=D6;function yS(){throw new Error("invalid Ya.Metrika version")}function z6(e){if(e==="1")return"yandex_metrika_callbacks";if(e==="2")return"yandex_metrika_callbacks2";yS()}function F6(e){if(e==="1")return"https://mc.yandex.ru/metrika/watch.js";if(e==="2")return"https://mc.yandex.ru/metrika/tag.js";yS()}function N6(e){if(e==="1")return"Metrika";if(e==="2")return"Metrika2";yS()}function B6(e){return"yaCounter".concat(e)}function U6(e){return"yaCounterVersion".concat(e)}var j_={},oL={exports:{}},V6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$6=V6,j6=$6;function aL(){}function sL(){}sL.resetWarningCache=aL;var q6=function(){function e(r,i,u,d,l,y){if(y!==j6){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sL,resetWarningCache:aL};return n.PropTypes=n,n};oL.exports=q6();var q_=oL.exports;const cf=md(q_);var lL={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=Fs;function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"1",d=(0,t.callbackQueueName)(u);window[t.accountListName]=window[t.accountListName]||[],window[t.accountListName]=window[t.accountListName].concat(r),window[d]=window[d]||[],window[d].push(function(){r.forEach(function(l){var y={id:l};try{window[(0,t.trackerInstanceName)(l)]=new Ya[(0,t.trackerConstructorName)(u)](Object.assign(y,i))}catch(w){console.warn(w)}})}),r.forEach(function(l){window[(0,t.trackerVersionName)(l)]=u})}})(lL);Object.defineProperty(j_,"__esModule",{value:!0});j_.YMInitializer=void 0;var kC=Z6(ce),hf=uL(q_),G6=uL(lL),H6=Fs;function uL(e){return e&&e.__esModule?e:{default:e}}function cL(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return cL=function(){return e},e}function Z6(e){if(e&&e.__esModule)return e;if(e===null||Np(e)!=="object"&&typeof e!="function")return{default:e};var t=cL();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=r?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function Np(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Np=function(n){return typeof n}:Np=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Np(e)}function W6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K6(e,t,n){return t&&OC(e.prototype,t),n&&OC(e,n),e}function X6(e,t){return t&&(Np(t)==="object"||typeof t=="function")?t:Y6(e)}function Y6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fb(e)}function Q6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&db(e,t)}function db(e,t){return db=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},db(e,t)}var G_=function(e){Q6(t,e);function t(){return W6(this,t),X6(this,fb(t).apply(this,arguments))}return K6(t,[{key:"componentDidMount",value:function(){(0,G6.default)(this.props.accounts,this.props.options,this.props.version);var r=document.createElement("script"),i=this.props.attrs;r.type="text/javascript",r.async=!0,r.src=(0,H6.scriptPath)(this.props.version),Object.keys(i).map(function(u){r.__proto__.hasOwnProperty(u)&&r.setAttribute(u,i[u])}),this.insertPoint.insertBefore(r,null)}},{key:"render",value:function(){var r=this,i=function(d){r.insertPoint=d};return kC.default.createElement(this.props.containerElement,{ref:i},this.props.children)}}]),t}(kC.Component);j_.YMInitializer=G_;G_.displayName="YMInitializer";G_.propTypes={accounts:hf.default.arrayOf(hf.default.number).isRequired,containerElement:hf.default.string,options:hf.default.object,attrs:hf.default.object,version:hf.default.oneOf(["1","2"])};G_.defaultProps={containerElement:"div",options:{},attrs:{},version:"1"};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withId=l,e.withFilter=y,Object.defineProperty(e,"YMInitializer",{enumerable:!0,get:function(){return n.YMInitializer}}),e.default=void 0;var t=Fs,n=j_;function r(C,P){try{for(var O,I=arguments.length,F=new Array(I>2?I-2:0),V=2;V<I;V++)F[V-2]=arguments[V];(O=window[(0,t.trackerInstanceName)(C)])[P].apply(O,F)}catch(Z){console.warn(Z)}}function i(){return typeof window<"u"?window[t.accountListName]:[]}function u(C){return function(){for(var P=arguments.length,O=new Array(P),I=0;I<P;I++)O[I]=arguments[I];C.forEach(function(F){var V=window[(0,t.trackerVersionName)(F)],Z=window[(0,t.callbackQueueName)(V)];Z?Z.push(function(){return r.apply(void 0,[F].concat(O))}):r.apply(void 0,[F].concat(O))})}}function d(){return u(i()).apply(void 0,arguments)}function l(C){return y(function(P){return C===P})}function y(C){return u(i().filter(C))}var w=d;e.default=w})(iL);const GW=md(iL);function gr(e){console.warn("[react-ga]",e)}function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}var J6=["to","target"];function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(r){_S(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eU(e,t){if(e==null)return{};var n=tU(e,t),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)r=u[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rU(e,t,n){return t&&MC(e.prototype,t),n&&MC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(e,t)}function oU(e){var t=sU();return function(){var r=Py(e),i;if(t){var u=Py(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return aU(this,i)}}function aU(e,t){if(t&&(pb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hL(e)}function hL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Py(e)}function _S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DC="_blank",lU=1,Ah=function(e){iU(n,e);var t=oU(n);function n(){var r;nU(this,n);for(var i=arguments.length,u=new Array(i),d=0;d<i;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),_S(hL(r),"handleClick",function(l){var y=r.props,w=y.target,C=y.eventLabel,P=y.to,O=y.onClick,I=y.trackerNames,F={label:C},V=w!==DC,Z=!(l.ctrlKey||l.shiftKey||l.metaKey||l.button===lU);V&&Z?(l.preventDefault(),n.trackLink(F,function(){window.location.href=P},I)):n.trackLink(F,function(){},I),O&&O(l)}),r}return rU(n,[{key:"render",value:function(){var i=this.props,u=i.to,d=i.target,l=eU(i,J6),y=RC(RC({},l),{},{target:d,href:u,onClick:this.handleClick});return d===DC&&(y.rel="".concat(y.rel?y.rel:""," noopener noreferrer").trim()),delete y.eventLabel,delete y.trackerNames,Er.createElement("a",y)}}]),n}(ce.Component);_S(Ah,"trackLink",function(){gr("ga tracking not enabled")});Ah.propTypes={eventLabel:cf.string.isRequired,target:cf.string,to:cf.string,onClick:cf.func,trackerNames:cf.arrayOf(cf.string)};Ah.defaultProps={target:null,to:null,onClick:null,trackerNames:null};function uU(e){return typeof e=="string"&&e.indexOf("@")!==-1}var cU="REDACTED (Potential Email Address)";function hU(e){return uU(e)?(gr("This arg looks like an email address, redacting."),cU):e}function H_(e){return e&&e.toString().replace(/^\s+|\s+$/g,"")}var fU=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function dU(e){return H_(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,n,r){return n>0&&n+t.length!==r.length&&t.search(fU)>-1&&r.charAt(n-2)!==":"&&(r.charAt(n+t.length)!=="-"||r.charAt(n-1)==="-")&&r.charAt(n-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})}function pU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e||"";return t&&(r=dU(e)),n&&(r=hU(r)),r}function mU(e){return e.substring(0,1)==="/"?e.substring(1):e}var zC=!1;function gU(e){if(!zC){zC=!0;var t="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?t=e.gaAddress:e&&e.debug&&(t="https://www.google-analytics.com/analytics_debug.js");var n=e&&e.onerror;(function(r,i,u,d,l,y,w){r.GoogleAnalyticsObject=l,r[l]=r[l]||function(){(r[l].q=r[l].q||[]).push(arguments)},r[l].l=1*new Date,y=i.createElement(u),w=i.getElementsByTagName(u)[0],y.async=1,y.src=d,y.onerror=n,w.parentNode.insertBefore(y,w)})(window,document,"script",t,"ga")}}function Ii(e){console.info("[react-ga]",e)}var zx=[];const Ay={calls:zx,ga:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];zx.push([].concat(n))},resetCalls:function(){zx.length=0}};var vU=["category","action","label","value","nonInteraction","transport"];function yU(e,t){if(e==null)return{};var n=_U(e,t),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)r=u[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _U(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){bU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function wU(e){return CU(e)||TU(e)||EU(e)||SU()}function SU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EU(e,t){if(e){if(typeof e=="string")return gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(e,t)}}function TU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CU(e){if(Array.isArray(e))return gb(e)}function gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fL=typeof window>"u"||typeof document>"u",Ps=!1,dL=!0,pL=!1,mL=!0,gL=!0,qf=function(){var t;return pL?Ay.ga.apply(Ay,arguments):fL?!1:window.ga?(t=window).ga.apply(t,arguments):gr("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually")};function mc(e){return pU(e,dL,gL)}function Z_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];if(typeof qf=="function"){if(typeof i!="string"){gr("ga command must be a string");return}(mL||!Array.isArray(e))&&qf.apply(void 0,n),Array.isArray(e)&&e.forEach(function(u){qf.apply(void 0,wU(["".concat(u,".").concat(i)].concat(n.slice(1))))})}}function NC(e,t){if(!e){gr("gaTrackingID is required in initialize()");return}t&&(t.debug&&t.debug===!0&&(Ps=!0),t.titleCase===!1&&(dL=!1),t.redactEmail===!1&&(gL=!1),t.useExistingGa)||(t&&t.gaOptions?qf("create",e,t.gaOptions):qf("create",e,"auto"))}function vL(e,t){return Array.isArray(e)?e.forEach(function(n){if(xm(n)!=="object"){gr("All configs must be an object");return}NC(n.trackingId,n)}):NC(e,t),!0}function yL(e,t){if(t&&t.testMode===!0)pL=!0;else{if(fL)return;(!t||t.standardImplementation!==!0)&&gU(t)}mL=t&&typeof t.alwaysSendToDefaultTracker=="boolean"?t.alwaysSendToDefaultTracker:!0,vL(e,t)}function Lo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(qf.apply(void 0,t),Ps&&(Ii("called ga('arguments');"),Ii("with arguments: ".concat(JSON.stringify(t))))),window.ga}function _L(e,t){if(!e){gr("`fieldsObject` is required in .set()");return}if(xm(e)!=="object"){gr("Expected `fieldsObject` arg to be an Object");return}Object.keys(e).length===0&&gr("empty `fieldsObject` given to .set()"),Z_(t,"set",e),Ps&&(Ii("called ga('set', fieldsObject);"),Ii("with fieldsObject: ".concat(JSON.stringify(e))))}function bd(e,t){Z_(t,"send",e),Ps&&(Ii("called ga('send', fieldObject);"),Ii("with fieldObject: ".concat(JSON.stringify(e))),Ii("with trackers: ".concat(JSON.stringify(t))))}function xL(e,t,n){if(!e){gr("path is required in .pageview()");return}var r=H_(e);if(r===""){gr("path cannot be an empty string in .pageview()");return}var i={};if(n&&(i.title=n),typeof Lo=="function"&&(Z_(t,"send",xU({hitType:"pageview",page:r},i)),Ps)){Ii("called ga('send', 'pageview', path);");var u="";n&&(u=" and title: ".concat(n)),Ii("with path: ".concat(r).concat(u))}}function bL(e,t){if(!e){gr("modalName is required in .modalview(modalName)");return}var n=mU(H_(e));if(n===""){gr("modalName cannot be an empty string or a single / in .modalview()");return}if(typeof Lo=="function"){var r="/modal/".concat(n);Z_(t,"send","pageview",r),Ps&&(Ii("called ga('send', 'pageview', path);"),Ii("with path: ".concat(r)))}}function wL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(typeof Lo=="function"){if(!t||!n||typeof r!="number"){gr("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number");return}var d={hitType:"timing",timingCategory:mc(t),timingVar:mc(n),timingValue:r};i&&(d.timingLabel=mc(i)),bd(d,u)}}function SL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,u=e.nonInteraction,d=e.transport,l=yU(e,vU),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(typeof Lo=="function"){if(!t||!n){gr("args.category AND args.action are required in event()");return}var w={hitType:"event",eventCategory:mc(t),eventAction:mc(n)};r&&(w.eventLabel=mc(r)),typeof i<"u"&&(typeof i!="number"?gr("Expected `args.value` arg to be a Number."):w.eventValue=i),typeof u<"u"&&(typeof u!="boolean"?gr("`args.nonInteraction` must be a boolean."):w.nonInteraction=u),typeof d<"u"&&(typeof d!="string"?gr("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(d)===-1&&gr("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),w.transport=d)),Object.keys(l).filter(function(C){return C.substr(0,9)==="dimension"}).forEach(function(C){w[C]=l[C]}),Object.keys(l).filter(function(C){return C.substr(0,6)==="metric"}).forEach(function(C){w[C]=l[C]}),bd(w,y)}}function EL(e,t){var n=e.description,r=e.fatal;if(typeof Lo=="function"){var i={hitType:"exception"};n&&(i.exDescription=mc(n)),typeof r<"u"&&(typeof r!="boolean"?gr("`args.fatal` must be a boolean."):i.exFatal=r),bd(i,t)}}var TL={require:function(t,n,r){if(typeof Lo=="function"){if(!t){gr("`name` is required in .require()");return}var i=H_(t);if(i===""){gr("`name` cannot be an empty string in .require()");return}var u=r?"".concat(r,".require"):"require";if(n){if(xm(n)!=="object"){gr("Expected `options` arg to be an Object");return}Object.keys(n).length===0&&gr("Empty `options` given to .require()"),Lo(u,i,n),Ps&&Ii("called ga('require', '".concat(i,"', ").concat(JSON.stringify(n)))}else Lo(u,i),Ps&&Ii("called ga('require', '".concat(i,"');"))}},execute:function(t,n){for(var r,i,u=arguments.length,d=new Array(u>2?u-2:0),l=2;l<u;l++)d[l-2]=arguments[l];if(d.length===1?r=d[0]:(i=d[0],r=d[1]),typeof Lo=="function")if(typeof t!="string")gr("Expected `pluginName` arg to be a String.");else if(typeof n!="string")gr("Expected `action` arg to be a String.");else{var y="".concat(t,":").concat(n);r=r||null,i&&r?(Lo(y,i,r),Ps&&(Ii("called ga('".concat(y,"');")),Ii('actionType: "'.concat(i,'" with payload: ').concat(JSON.stringify(r))))):r?(Lo(y,r),Ps&&(Ii("called ga('".concat(y,"');")),Ii("with payload: ".concat(JSON.stringify(r))))):(Lo(y),Ps&&Ii("called ga('".concat(y,"');")))}}};function xS(e,t,n){if(typeof t!="function"){gr("hitCallback function is required");return}if(typeof Lo=="function"){if(!e||!e.label){gr("args.label is required in outboundLink()");return}var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:mc(e.label)},i=!1,u=function(){i=!0,t()},d=setTimeout(u,250),l=function(){clearTimeout(d),i||t()};r.hitCallback=l,bd(r,n)}else setTimeout(t,0)}var PU=Ay;const AU={initialize:yL,ga:Lo,set:_L,send:bd,pageview:xL,modalview:bL,timing:wL,event:SL,exception:EL,plugin:TL,outboundLink:xS,testModeAPI:Ay},IU=Object.freeze(Object.defineProperty({__proto__:null,addTrackers:vL,default:AU,event:SL,exception:EL,ga:Lo,initialize:yL,modalview:bL,outboundLink:xS,pageview:xL,plugin:TL,send:bd,set:_L,testModeAPI:PU,timing:wL},Symbol.toStringTag,{value:"Module"}));function BC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(n),!0).forEach(function(r){kU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ah.origTrackLink=Ah.trackLink;Ah.trackLink=xS;var OU=Ah;const HW=UC(UC({},IU),{},{OutboundLink:OU});/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bm.apply(this,arguments)}var nc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nc||(nc={}));const VC="popstate";function LU(e){e===void 0&&(e={});function t(r,i){let{pathname:u,search:d,hash:l}=r.location;return vb("",{pathname:u,search:d,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Iy(i)}return DU(t,n,null,e)}function vi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MU(){return Math.random().toString(36).substr(2,8)}function $C(e,t){return{usr:e.state,key:e.key,idx:t}}function vb(e,t,n,r){return n===void 0&&(n=null),bm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wd(t):t,{state:n,key:t&&t.key||r||MU()})}function Iy(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function DU(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:u=!1}=r,d=i.history,l=nc.Pop,y=null,w=C();w==null&&(w=0,d.replaceState(bm({},d.state,{idx:w}),""));function C(){return(d.state||{idx:null}).idx}function P(){let Z=nc.Pop,U=C();if(U!=null){let N=U-w;l=Z,w=U,y&&y({action:l,location:V.location,delta:N})}else RU(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function O(Z,U){l=nc.Push;let N=vb(V.location,Z,U);n&&n(N,Z),w=C()+1;let j=$C(N,w),Q=V.createHref(N);try{d.pushState(j,"",Q)}catch{i.location.assign(Q)}u&&y&&y({action:l,location:V.location,delta:1})}function I(Z,U){l=nc.Replace;let N=vb(V.location,Z,U);n&&n(N,Z),w=C();let j=$C(N,w),Q=V.createHref(N);d.replaceState(j,"",Q),u&&y&&y({action:l,location:V.location,delta:0})}function F(Z){let U=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof Z=="string"?Z:Iy(Z);return vi(U,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,U)}let V={get action(){return l},get location(){return e(i,d)},listen(Z){if(y)throw new Error("A history only accepts one active listener");return i.addEventListener(VC,P),y=Z,()=>{i.removeEventListener(VC,P),y=null}},createHref(Z){return t(i,Z)},createURL:F,encodeLocation(Z){let U=F(Z);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:O,replace:I,go(Z){return d.go(Z)}};return V}var jC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jC||(jC={}));function zU(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?wd(t):t,i=AL(r.pathname||"/",n);if(i==null)return null;let u=CL(e);FU(u);let d=null;for(let l=0;d==null&&l<u.length;++l)d=HU(u[l],KU(i));return d}function CL(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(u,d,l)=>{let y={relativePath:l===void 0?u.path||"":l,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};y.relativePath.startsWith("/")&&(vi(y.relativePath.startsWith(r),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(r.length));let w=gc([r,y.relativePath]),C=n.concat(y);u.children&&u.children.length>0&&(vi(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),CL(u.children,t,C,w)),!(u.path==null&&!u.index)&&t.push({path:w,score:qU(w,u.index),routesMeta:C})};return e.forEach((u,d)=>{var l;if(u.path===""||!((l=u.path)!=null&&l.includes("?")))i(u,d);else for(let y of PL(u.path))i(u,d,y)}),t}function PL(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return i?[u,""]:[u];let d=PL(r.join("/")),l=[];return l.push(...d.map(y=>y===""?u:[u,y].join("/"))),i&&l.push(...d),l.map(y=>e.startsWith("/")&&y===""?"/":y)}function FU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:GU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NU=/^:\w+$/,BU=3,UU=2,VU=1,$U=10,jU=-2,qC=e=>e==="*";function qU(e,t){let n=e.split("/"),r=n.length;return n.some(qC)&&(r+=jU),t&&(r+=UU),n.filter(i=>!qC(i)).reduce((i,u)=>i+(NU.test(u)?BU:u===""?VU:$U),r)}function GU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function HU(e,t){let{routesMeta:n}=e,r={},i="/",u=[];for(let d=0;d<n.length;++d){let l=n[d],y=d===n.length-1,w=i==="/"?t:t.slice(i.length)||"/",C=ZU({path:l.relativePath,caseSensitive:l.caseSensitive,end:y},w);if(!C)return null;Object.assign(r,C.params);let P=l.route;u.push({params:r,pathname:gc([i,C.pathname]),pathnameBase:JU(gc([i,C.pathnameBase])),route:P}),C.pathnameBase!=="/"&&(i=gc([i,C.pathnameBase]))}return u}function ZU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=WU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let u=i[0],d=u.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((w,C,P)=>{if(C==="*"){let O=l[P]||"";d=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}return w[C]=XU(l[P]||"",C),w},{}),pathname:u,pathnameBase:d,pattern:e}}function WU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),bS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(d,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function KU(e){try{return decodeURI(e)}catch(t){return bS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function XU(e,t){try{return decodeURIComponent(e)}catch(n){return bS(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function AL(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?wd(e):e;return{pathname:n?n.startsWith("/")?n:QU(n,t):t,search:eV(r),hash:tV(i)}}function QU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fx(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kL(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=wd(e):(i=bm({},e),vi(!i.pathname||!i.pathname.includes("?"),Fx("?","pathname","search",i)),vi(!i.pathname||!i.pathname.includes("#"),Fx("#","pathname","hash",i)),vi(!i.search||!i.search.includes("#"),Fx("#","search","hash",i)));let u=e===""||i.pathname==="",d=u?"/":i.pathname,l;if(r||d==null)l=n;else{let P=t.length-1;if(d.startsWith("..")){let O=d.split("/");for(;O[0]==="..";)O.shift(),P-=1;i.pathname=O.join("/")}l=P>=0?t[P]:"/"}let y=YU(i,l),w=d&&d!=="/"&&d.endsWith("/"),C=(u||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(w||C)&&(y.pathname+="/"),y}const gc=e=>e.join("/").replace(/\/\/+/g,"/"),JU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class nV{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function rV(e){return e instanceof nV}const OL=["post","put","patch","delete"];new Set(OL);const iV=["get",...OL];new Set(iV);/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(this,arguments)}function oV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const aV=typeof Object.is=="function"?Object.is:oV,{useState:sV,useEffect:lV,useLayoutEffect:uV,useDebugValue:cV}=Kp;function hV(e,t,n){const r=t(),[{inst:i},u]=sV({inst:{value:r,getSnapshot:t}});return uV(()=>{i.value=r,i.getSnapshot=t,Nx(i)&&u({inst:i})},[e,r,t]),lV(()=>(Nx(i)&&u({inst:i}),e(()=>{Nx(i)&&u({inst:i})})),[e]),cV(r),r}function Nx(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!aV(n,r)}catch{return!0}}function fV(e,t,n){return t()}const dV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pV=!dV,mV=pV?fV:hV;"useSyncExternalStore"in Kp&&(e=>e.useSyncExternalStore)(Kp);const LL=ce.createContext(null),RL=ce.createContext(null),W_=ce.createContext(null),K_=ce.createContext(null),Sd=ce.createContext({outlet:null,matches:[]}),ML=ce.createContext(null);function gV(e,t){let{relative:n}=t===void 0?{}:t;$m()||vi(!1);let{basename:r,navigator:i}=ce.useContext(W_),{hash:u,pathname:d,search:l}=zL(e,{relative:n}),y=d;return r!=="/"&&(y=d==="/"?r:gc([r,d])),i.createHref({pathname:y,search:l,hash:u})}function $m(){return ce.useContext(K_)!=null}function jm(){return $m()||vi(!1),ce.useContext(K_).location}function DL(){$m()||vi(!1);let{basename:e,navigator:t}=ce.useContext(W_),{matches:n}=ce.useContext(Sd),{pathname:r}=jm(),i=JSON.stringify(IL(n).map(l=>l.pathnameBase)),u=ce.useRef(!1);return ce.useEffect(()=>{u.current=!0}),ce.useCallback(function(l,y){if(y===void 0&&(y={}),!u.current)return;if(typeof l=="number"){t.go(l);return}let w=kL(l,JSON.parse(i),r,y.relative==="path");e!=="/"&&(w.pathname=w.pathname==="/"?e:gc([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,i,r])}function zL(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=ce.useContext(Sd),{pathname:i}=jm(),u=JSON.stringify(IL(r).map(d=>d.pathnameBase));return ce.useMemo(()=>kL(e,JSON.parse(u),i,n==="path"),[e,u,i,n])}function vV(e,t){$m()||vi(!1);let{navigator:n}=ce.useContext(W_),r=ce.useContext(RL),{matches:i}=ce.useContext(Sd),u=i[i.length-1],d=u?u.params:{};u&&u.pathname;let l=u?u.pathnameBase:"/";u&&u.route;let y=jm(),w;if(t){var C;let V=typeof t=="string"?wd(t):t;l==="/"||(C=V.pathname)!=null&&C.startsWith(l)||vi(!1),w=V}else w=y;let P=w.pathname||"/",O=l==="/"?P:P.slice(l.length)||"/",I=zU(e,{pathname:O}),F=bV(I&&I.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:gc([l,n.encodeLocation?n.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?l:gc([l,n.encodeLocation?n.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),i,r||void 0);return t&&F?ce.createElement(K_.Provider,{value:{location:yb({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:nc.Pop}},F):F}function yV(){let e=TV(),t=rV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unhandled Thrown Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},t),n?ce.createElement("pre",{style:i},n):null,ce.createElement("p",null,"💿 Hey developer 👋"),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:u},"errorElement")," props on ",ce.createElement("code",{style:u},"<Route>")))}class _V extends ce.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?ce.createElement(Sd.Provider,{value:this.props.routeContext},ce.createElement(ML.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xV(e){let{routeContext:t,match:n,children:r}=e,i=ce.useContext(LL);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ce.createElement(Sd.Provider,{value:t},r)}function bV(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let u=r.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id]));u>=0||vi(!1),r=r.slice(0,Math.min(r.length,u+1))}return r.reduceRight((u,d,l)=>{let y=d.route.id?i==null?void 0:i[d.route.id]:null,w=n?d.route.errorElement||ce.createElement(yV,null):null,C=t.concat(r.slice(0,l+1)),P=()=>ce.createElement(xV,{match:d,routeContext:{outlet:u,matches:C}},y?w:d.route.element!==void 0?d.route.element:u);return n&&(d.route.errorElement||l===0)?ce.createElement(_V,{location:n.location,component:w,error:y,children:P(),routeContext:{outlet:null,matches:C}}):P()},null)}var GC;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(GC||(GC={}));var ky;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(ky||(ky={}));function wV(e){let t=ce.useContext(RL);return t||vi(!1),t}function SV(e){let t=ce.useContext(Sd);return t||vi(!1),t}function EV(e){let t=SV(),n=t.matches[t.matches.length-1];return n.route.id||vi(!1),n.route.id}function TV(){var e;let t=ce.useContext(ML),n=wV(ky.UseRouteError),r=EV(ky.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function CV(e){vi(!1)}function PV(e){let{basename:t="/",children:n=null,location:r,navigationType:i=nc.Pop,navigator:u,static:d=!1}=e;$m()&&vi(!1);let l=t.replace(/^\/*/,"/"),y=ce.useMemo(()=>({basename:l,navigator:u,static:d}),[l,u,d]);typeof r=="string"&&(r=wd(r));let{pathname:w="/",search:C="",hash:P="",state:O=null,key:I="default"}=r,F=ce.useMemo(()=>{let V=AL(w,l);return V==null?null:{pathname:V,search:C,hash:P,state:O,key:I}},[l,w,C,P,O,I]);return F==null?null:ce.createElement(W_.Provider,{value:y},ce.createElement(K_.Provider,{children:n,value:{location:F,navigationType:i}}))}function ZW(e){let{children:t,location:n}=e,r=ce.useContext(LL),i=r&&!t?r.router.routes:_b(t);return vV(i,n)}var HC;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(HC||(HC={}));new Promise(()=>{});function _b(e,t){t===void 0&&(t=[]);let n=[];return ce.Children.forEach(e,(r,i)=>{if(!ce.isValidElement(r))return;if(r.type===ce.Fragment){n.push.apply(n,_b(r.props.children,t));return}r.type!==CV&&vi(!1),!r.props.index||!r.props.children||vi(!1);let u=[...t,i],d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(d.children=_b(r.props.children,u)),n.push(d)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(this,arguments)}function AV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function IV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kV(e,t){return e.button===0&&(!t||t==="_self")&&!IV(e)}function bb(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function OV(e,t){let n=bb(e);for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}const LV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function WW(e){let{basename:t,children:n,window:r}=e,i=ce.useRef();i.current==null&&(i.current=LU({window:r,v5Compat:!0}));let u=i.current,[d,l]=ce.useState({action:u.action,location:u.location});return ce.useLayoutEffect(()=>u.listen(l),[u]),ce.createElement(PV,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:u})}const KW=ce.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:u,replace:d,state:l,target:y,to:w,preventScrollReset:C}=t,P=AV(t,LV),O=gV(w,{relative:i}),I=RV(w,{replace:d,state:l,target:y,preventScrollReset:C,relative:i});function F(V){r&&r(V),V.defaultPrevented||I(V)}return ce.createElement("a",xb({},P,{href:O,onClick:u?r:F,ref:n,target:y}))});var ZC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ZC||(ZC={}));var WC;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(WC||(WC={}));function RV(e,t){let{target:n,replace:r,state:i,preventScrollReset:u,relative:d}=t===void 0?{}:t,l=DL(),y=jm(),w=zL(e,{relative:d});return ce.useCallback(C=>{if(kV(C,n)){C.preventDefault();let P=r!==void 0?r:Iy(y)===Iy(w);l(e,{replace:P,state:i,preventScrollReset:u,relative:d})}},[y,l,w,r,i,n,e,u,d])}function XW(e){let t=ce.useRef(bb(e)),n=jm(),r=ce.useMemo(()=>OV(n.search,t.current),[n.search]),i=DL(),u=ce.useCallback((d,l)=>{const y=bb(typeof d=="function"?d(r):d);i("?"+y,l)},[i,r]);return[r,u]}var MV=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],d;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(l){d={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return u},DV=function(e){var t=e.split(/ ?; ?/);return t.reduce(function(n,r){var i=MV(r.split(/ ?: ?/),2),u=i[0],d=i[1];return u&&d&&(n[u.replace(/-(\w)/g,function(l,y){return y.toUpperCase()})]=Number.isNaN(Number(d))?d:Number(d)),n},{})};function zV(e){e===void 0&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}var FV=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],KC={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},Oy=globalThis&&globalThis.__assign||function(){return Oy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Oy.apply(this,arguments)},FL=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],d;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(l){d={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return u},NL=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))};function NV(e,t){var n={key:t};if(e instanceof Element){var r=e.getAttribute("class");r&&(n.className=r),NL([],FL(e.attributes),!1).forEach(function(i){switch(i.name){case"class":break;case"style":n[i.name]=DV(i.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[KC[i.name]||i.name]=!0;break;default:n[KC[i.name]||i.name]=i.value}})}return n}function BV(e,t,n){var r=NL([],FL(e),!1).map(function(i,u){return wS(i,Oy(Oy({},n),{index:u,level:t+1}))}).filter(Boolean);return r.length?r:null}function UV(e){return/[a-z]+[A-Z]+[a-z]+/.test(e)?e:e.toLowerCase()}function wS(e,t){var n;if(t===void 0&&(t={}),!e||!(e instanceof Node))return null;var r=t.actions,i=r===void 0?[]:r,u=t.index,d=u===void 0?0:u,l=t.level,y=l===void 0?0:l,w=t.randomKey,C=e,P="".concat(y,"-").concat(d),O=[];if(w&&y===0&&(P="".concat(zV(),"-").concat(P)),Array.isArray(i)&&i.forEach(function(V){V.condition(C,P,y)&&(typeof V.pre=="function"&&(C=V.pre(C,P,y),C instanceof Node||(C=e)),typeof V.post=="function"&&O.push(V.post(C,P,y)))}),O.length)return O;switch(C.nodeType){case 1:return ce.createElement(UV(C.nodeName),NV(C,P),BV(C.childNodes,y,t));case 3:{var I=((n=C.nodeValue)===null||n===void 0?void 0:n.toString())||"";if(/^\s+$/.test(I)&&!/[\u00A0\u202F]/.test(I))return null;if(!C.parentNode)return I;var F=C.parentNode.nodeName.toLowerCase();return FV.includes(F)?(/\S/.test(I)&&console.warn("A textNode is not allowed inside '".concat(F,`'. Your text "`).concat(I,'" will be ignored')),null):I}case 8:return null;default:return null}}function VV(e,t){if(t===void 0&&(t={}),!e||typeof e!="string")return null;var n=t.nodeOnly,r=n===void 0?!1:n,i=t.selector,u=i===void 0?"body > *":i,d=t.type,l=d===void 0?"text/html":d;try{var y=new DOMParser,w=y.parseFromString(e,l),C=w.querySelector(u);if(!(C instanceof Node))throw new TypeError("Error parsing input");return r?C:wS(C,t)}catch{}return null}function XC(e,t){return t===void 0&&(t={}),typeof e=="string"?VV(e,t):e instanceof Node?wS(e,t):null}var BL={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(BL);var $V=BL.exports,ko={FAILED:"failed",LOADED:"loaded",LOADING:"loading",PENDING:"pending",READY:"ready",UNSUPPORTED:"unsupported"};function Bx(){return $V.canUseDOM}function jV(){return qV()&&typeof window<"u"&&window!==null}function qV(){if(!document)return!1;var e=document.createElement("div");e.innerHTML="<svg />";var t=e.firstChild;return!!t&&t.namespaceURI==="http://www.w3.org/2000/svg"}function GV(e){return e[Math.floor(Math.random()*e.length)]}function HV(e){for(var t="abcdefghijklmnopqrstuvwxyz",n="1234567890",r="".concat(t).concat(t.toUpperCase()).concat(n),i="",u=0;u<e;u++)i+=GV(r);return i}function ZV(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(t.includes(i)||(r[i]=e[i]));return r}var WV=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wb=globalThis&&globalThis.__assign||function(){return wb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},wb.apply(this,arguments)},YC=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],d;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(l){d={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return u},KV=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))},$u=Object.create(null),XV=function(e){WV(t,e);function t(n){var r=e.call(this,n)||this;return Object.defineProperty(r,"isInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"isActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"hash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"handleLoad",{enumerable:!0,configurable:!0,writable:!0,value:function(i){r.isActive&&r.setState({content:i,status:ko.LOADED},r.getElement)}}),Object.defineProperty(r,"handleError",{enumerable:!0,configurable:!0,writable:!0,value:function(i){var u=r.props.onError,d=i.message==="Browser does not support SVG"?ko.UNSUPPORTED:ko.FAILED;r.isActive&&r.setState({status:d},function(){typeof u=="function"&&u(i)})}}),Object.defineProperty(r,"request",{enumerable:!0,configurable:!0,writable:!0,value:function(){var i=r.props,u=i.cacheRequests,d=i.fetchOptions,l=i.src;try{return u&&($u[l]={content:"",status:ko.LOADING}),fetch(l,d).then(function(y){var w=y.headers.get("content-type"),C=YC((w||"").split(/ ?; ?/),1),P=C[0];if(y.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some(function(O){return P.includes(O)}))throw new Error("Content type isn't valid: ".concat(P));return y.text()}).then(function(y){var w=r.props.src;if(l!==w){$u[l].status===ko.LOADING&&delete $u[l];return}if(r.handleLoad(y),u){var C=$u[l];C&&(C.content=y,C.status=ko.LOADED)}}).catch(function(y){if(r.handleError(y),u){var w=$u[l];w&&delete $u[l]}})}catch(y){return r.handleError(new Error(y.message))}}}),r.state={content:"",element:null,hasCache:!!n.cacheRequests&&!!$u[n.src],status:ko.PENDING},r.hash=n.uniqueHash||HV(8),r}return Object.defineProperty(t.prototype,"componentDidMount",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isActive=!0,!(!Bx()||this.isInitialized)){var n=this.state.status,r=this.props.src;try{if(n===ko.PENDING){if(!jV())throw new Error("Browser does not support SVG");if(!r)throw new Error("Missing src");this.load()}}catch(i){this.handleError(i)}this.isInitialized=!0}}}),Object.defineProperty(t.prototype,"componentDidUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(Bx()){var i=this.state,u=i.hasCache,d=i.status,l=this.props,y=l.onLoad,w=l.src;if(r.status!==ko.READY&&d===ko.READY&&y&&y(w,u),n.src!==w){if(!w){this.handleError(new Error("Missing src"));return}this.load()}}}}),Object.defineProperty(t.prototype,"componentWillUnmount",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isActive=!1}}),Object.defineProperty(t.prototype,"getNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.props,r=n.description,i=n.title;try{var u=this.processSVG(),d=XC(u,{nodeOnly:!0});if(!d||!(d instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");var l=this.updateSVGAttributes(d);if(r){var y=l.querySelector("desc");y&&y.parentNode&&y.parentNode.removeChild(y);var w=document.createElement("desc");w.innerHTML=r,l.prepend(w)}if(i){var C=l.querySelector("title");C&&C.parentNode&&C.parentNode.removeChild(C);var P=document.createElement("title");P.innerHTML=i,l.prepend(P)}return l}catch(O){return this.handleError(O)}}}),Object.defineProperty(t.prototype,"getElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){try{var n=this.getNode(),r=XC(n);if(!r||!ce.isValidElement(r))throw new Error("Could not convert the src to a React element");this.setState({element:r,status:ko.READY})}catch(i){this.handleError(new Error(i.message))}}}),Object.defineProperty(t.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;this.isActive&&this.setState({content:"",element:null,status:ko.LOADING},function(){var r=n.props,i=r.cacheRequests,u=r.src,d=i&&$u[u];if(d&&d.status===ko.LOADED){n.handleLoad(d.content);return}var l=u.match(/data:image\/svg[^,]*?(;base64)?,(.*)/),y;if(l?y=l[1]?window.atob(l[2]):decodeURIComponent(l[2]):u.includes("<svg")&&(y=u),y){n.handleLoad(y);return}n.request()})}}),Object.defineProperty(t.prototype,"updateSVGAttributes",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this,i=this.props,u=i.baseURL,d=u===void 0?"":u,l=i.uniquifyIDs,y=["id","href","xlink:href","xlink:role","xlink:arcrole"],w=["href","xlink:href"],C=function(P,O){return w.includes(P)&&(O?!O.includes("#"):!1)};return l&&KV([],YC(n.children),!1).map(function(P){if(P.attributes&&P.attributes.length){var O=Object.values(P.attributes).map(function(I){var F=I,V=I.value.match(/url\((.*?)\)/);return V&&V[1]&&(F.value=I.value.replace(V[0],"url(".concat(d).concat(V[1],"__").concat(r.hash,")"))),F});y.forEach(function(I){var F=O.find(function(V){return V.name===I});F&&!C(I,F.value)&&(F.value="".concat(F.value,"__").concat(r.hash))})}return P.children.length?r.updateSVGAttributes(P):P}),n}}),Object.defineProperty(t.prototype,"processSVG",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.state.content,r=this.props.preProcessor;return r?r(n):n}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.state,r=n.element,i=n.status,u=this.props,d=u.children,l=d===void 0?null:d,y=u.innerRef,w=u.loader,C=w===void 0?null:w,P=ZV(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return Bx()?r?ce.cloneElement(r,wb({ref:y},P)):[ko.UNSUPPORTED,ko.FAILED].includes(i)?l:C:C}}),Object.defineProperty(t,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{cacheRequests:!0,uniquifyIDs:!1}}),t}(ce.PureComponent);const YW=XV;var po=function(){return po=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},po.apply(this,arguments)};function wm(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))}var Lr="-ms-",Bp="-moz-",tr="-webkit-",UL="comm",X_="rule",SS="decl",YV="@import",VL="@keyframes",QV="@layer",JV=Math.abs,ES=String.fromCharCode,Sb=Object.assign;function e$(e,t){return Ai(e,0)^45?(((t<<2^Ai(e,0))<<2^Ai(e,1))<<2^Ai(e,2))<<2^Ai(e,3):0}function $L(e){return e.trim()}function Ql(e,t){return(e=t.exec(e))?e[0]:e}function En(e,t,n){return e.replace(t,n)}function Sv(e,t){return e.indexOf(t)}function Ai(e,t){return e.charCodeAt(t)|0}function od(e,t,n){return e.slice(t,n)}function ll(e){return e.length}function jL(e){return e.length}function bp(e,t){return t.push(e),e}function t$(e,t){return e.map(t).join("")}function QC(e,t){return e.filter(function(n){return!Ql(n,t)})}var Y_=1,ad=1,qL=0,es=0,li=0,Ed="";function Q_(e,t,n,r,i,u,d,l){return{value:e,root:t,parent:n,type:r,props:i,children:u,line:Y_,column:ad,length:d,return:"",siblings:l}}function qu(e,t){return Sb(Q_("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ff(e){for(;e.root;)e=qu(e.root,{children:[e]});bp(e,e.siblings)}function n$(){return li}function r$(){return li=es>0?Ai(Ed,--es):0,ad--,li===10&&(ad=1,Y_--),li}function Ms(){return li=es<qL?Ai(Ed,es++):0,ad++,li===10&&(ad=1,Y_++),li}function _h(){return Ai(Ed,es)}function Ev(){return es}function J_(e,t){return od(Ed,e,t)}function Eb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function i$(e){return Y_=ad=1,qL=ll(Ed=e),es=0,[]}function o$(e){return Ed="",e}function Ux(e){return $L(J_(es-1,Tb(e===91?e+2:e===40?e+1:e)))}function a$(e){for(;(li=_h())&&li<33;)Ms();return Eb(e)>2||Eb(li)>3?"":" "}function s$(e,t){for(;--t&&Ms()&&!(li<48||li>102||li>57&&li<65||li>70&&li<97););return J_(e,Ev()+(t<6&&_h()==32&&Ms()==32))}function Tb(e){for(;Ms();)switch(li){case e:return es;case 34:case 39:e!==34&&e!==39&&Tb(li);break;case 40:e===41&&Tb(e);break;case 92:Ms();break}return es}function l$(e,t){for(;Ms()&&e+li!==47+10;)if(e+li===42+42&&_h()===47)break;return"/*"+J_(t,es-1)+"*"+ES(e===47?e:Ms())}function u$(e){for(;!Eb(_h());)Ms();return J_(e,es)}function c$(e){return o$(Tv("",null,null,null,[""],e=i$(e),0,[0],e))}function Tv(e,t,n,r,i,u,d,l,y){for(var w=0,C=0,P=d,O=0,I=0,F=0,V=1,Z=1,U=1,N=0,j="",Q=i,ee=u,Y=r,J=j;Z;)switch(F=N,N=Ms()){case 40:if(F!=108&&Ai(J,P-1)==58){Sv(J+=En(Ux(N),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:J+=Ux(N);break;case 9:case 10:case 13:case 32:J+=a$(F);break;case 92:J+=s$(Ev()-1,7);continue;case 47:switch(_h()){case 42:case 47:bp(h$(l$(Ms(),Ev()),t,n,y),y);break;default:J+="/"}break;case 123*V:l[w++]=ll(J)*U;case 125*V:case 59:case 0:switch(N){case 0:case 125:Z=0;case 59+C:U==-1&&(J=En(J,/\f/g,"")),I>0&&ll(J)-P&&bp(I>32?eP(J+";",r,n,P-1,y):eP(En(J," ","")+";",r,n,P-2,y),y);break;case 59:J+=";";default:if(bp(Y=JC(J,t,n,w,C,i,l,j,Q=[],ee=[],P,u),u),N===123)if(C===0)Tv(J,t,Y,Y,Q,u,P,l,ee);else switch(O===99&&Ai(J,3)===110?100:O){case 100:case 108:case 109:case 115:Tv(e,Y,Y,r&&bp(JC(e,Y,Y,0,0,i,l,j,i,Q=[],P,ee),ee),i,ee,P,l,r?Q:ee);break;default:Tv(J,Y,Y,Y,[""],ee,0,l,ee)}}w=C=I=0,V=U=1,j=J="",P=d;break;case 58:P=1+ll(J),I=F;default:if(V<1){if(N==123)--V;else if(N==125&&V++==0&&r$()==125)continue}switch(J+=ES(N),N*V){case 38:U=C>0?1:(J+="\f",-1);break;case 44:l[w++]=(ll(J)-1)*U,U=1;break;case 64:_h()===45&&(J+=Ux(Ms())),O=_h(),C=P=ll(j=J+=u$(Ev())),N++;break;case 45:F===45&&ll(J)==2&&(V=0)}}return u}function JC(e,t,n,r,i,u,d,l,y,w,C,P){for(var O=i-1,I=i===0?u:[""],F=jL(I),V=0,Z=0,U=0;V<r;++V)for(var N=0,j=od(e,O+1,O=JV(Z=d[V])),Q=e;N<F;++N)(Q=$L(Z>0?I[N]+" "+j:En(j,/&\f/g,I[N])))&&(y[U++]=Q);return Q_(e,t,n,i===0?X_:l,y,w,C,P)}function h$(e,t,n,r){return Q_(e,t,n,UL,ES(n$()),od(e,2,-2),0,r)}function eP(e,t,n,r,i){return Q_(e,t,n,SS,od(e,0,r),od(e,r+1,-1),r,i)}function GL(e,t,n){switch(e$(e,t)){case 5103:return tr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tr+e+e;case 4789:return Bp+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tr+e+Bp+e+Lr+e+e;case 5936:switch(Ai(e,t+11)){case 114:return tr+e+Lr+En(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tr+e+Lr+En(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tr+e+Lr+En(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return tr+e+Lr+e+e;case 6165:return tr+e+Lr+"flex-"+e+e;case 5187:return tr+e+En(e,/(\w+).+(:[^]+)/,tr+"box-$1$2"+Lr+"flex-$1$2")+e;case 5443:return tr+e+Lr+"flex-item-"+En(e,/flex-|-self/g,"")+(Ql(e,/flex-|baseline/)?"":Lr+"grid-row-"+En(e,/flex-|-self/g,""))+e;case 4675:return tr+e+Lr+"flex-line-pack"+En(e,/align-content|flex-|-self/g,"")+e;case 5548:return tr+e+Lr+En(e,"shrink","negative")+e;case 5292:return tr+e+Lr+En(e,"basis","preferred-size")+e;case 6060:return tr+"box-"+En(e,"-grow","")+tr+e+Lr+En(e,"grow","positive")+e;case 4554:return tr+En(e,/([^-])(transform)/g,"$1"+tr+"$2")+e;case 6187:return En(En(En(e,/(zoom-|grab)/,tr+"$1"),/(image-set)/,tr+"$1"),e,"")+e;case 5495:case 3959:return En(e,/(image-set\([^]*)/,tr+"$1$`$1");case 4968:return En(En(e,/(.+:)(flex-)?(.*)/,tr+"box-pack:$3"+Lr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tr+e+e;case 4200:if(!Ql(e,/flex-|baseline/))return Lr+"grid-column-align"+od(e,t)+e;break;case 2592:case 3360:return Lr+En(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Ql(r.props,/grid-\w+-end/)})?~Sv(e+(n=n[t].value),"span")?e:Lr+En(e,"-start","")+e+Lr+"grid-row-span:"+(~Sv(n,"span")?Ql(n,/\d+/):+Ql(n,/\d+/)-+Ql(e,/\d+/))+";":Lr+En(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Ql(r.props,/grid-\w+-start/)})?e:Lr+En(En(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return En(e,/(.+)-inline(.+)/,tr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ll(e)-1-t>6)switch(Ai(e,t+1)){case 109:if(Ai(e,t+4)!==45)break;case 102:return En(e,/(.+:)(.+)-([^]+)/,"$1"+tr+"$2-$3$1"+Bp+(Ai(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Sv(e,"stretch")?GL(En(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return En(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,u,d,l,y,w){return Lr+i+":"+u+w+(d?Lr+i+"-span:"+(l?y:+y-+u)+w:"")+e});case 4949:if(Ai(e,t+6)===121)return En(e,":",":"+tr)+e;break;case 6444:switch(Ai(e,Ai(e,14)===45?18:11)){case 120:return En(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tr+(Ai(e,14)===45?"inline-":"")+"box$3$1"+tr+"$2$3$1"+Lr+"$2box$3")+e;case 100:return En(e,":",":"+Lr)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return En(e,"scroll-","scroll-snap-")+e}return e}function Ly(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function f$(e,t,n,r){switch(e.type){case QV:if(e.children.length)break;case YV:case SS:return e.return=e.return||e.value;case UL:return"";case VL:return e.return=e.value+"{"+Ly(e.children,r)+"}";case X_:if(!ll(e.value=e.props.join(",")))return""}return ll(n=Ly(e.children,r))?e.return=e.value+"{"+n+"}":""}function d$(e){var t=jL(e);return function(n,r,i,u){for(var d="",l=0;l<t;l++)d+=e[l](n,r,i,u)||"";return d}}function p$(e){return function(t){t.root||(t=t.return)&&e(t)}}function m$(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case SS:e.return=GL(e.value,e.length,n);return;case VL:return Ly([qu(e,{value:En(e.value,"@","@"+tr)})],r);case X_:if(e.length)return t$(n=e.props,function(i){switch(Ql(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ff(qu(e,{props:[En(i,/:(read-\w+)/,":"+Bp+"$1")]})),ff(qu(e,{props:[i]})),Sb(e,{props:QC(n,r)});break;case"::placeholder":ff(qu(e,{props:[En(i,/:(plac\w+)/,":"+tr+"input-$1")]})),ff(qu(e,{props:[En(i,/:(plac\w+)/,":"+Bp+"$1")]})),ff(qu(e,{props:[En(i,/:(plac\w+)/,Lr+"input-$1")]})),ff(qu(e,{props:[i]})),Sb(e,{props:QC(n,r)});break}return""})}}var HL={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sd=typeof process<"u"&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}!==void 0&&({TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_SC_ATTR||{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.SC_ATTR)||"data-styled",TS=typeof window<"u"&&"HTMLElement"in window,g$=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}!==void 0&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_SC_DISABLE_SPEEDY!==""?{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}!==void 0&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.SC_DISABLE_SPEEDY!==void 0&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.SC_DISABLE_SPEEDY!==""&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.SC_DISABLE_SPEEDY!=="false"&&{TERM_PROGRAM:"vscode",PROJECT_CWD:"/Users/andrewboev/Desktop/bus-schedule",INIT_CWD:"/Users/andrewboev/Desktop/bus-schedule",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/",TERM_PROGRAM_VERSION:"1.84.2",ZDOTDIR:"/Users/andrewboev",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",ZSH:"/Users/andrewboev/.oh-my-zsh",MAPTILER_KEY_1:"xgf7RCMwGc7HsqNOdgrL",USER:"andrewboev",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",MAPTILER_KEY_3:"ZPOt8XoYzE6gobWmPty3",MAPTILER_KEY_2:"IVrMfgDb2cvbrsDHFwcl",COMMAND_MODE:"unix2003",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.jt5mtnUoi4/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/yarn",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools",npm_package_json:"/Users/andrewboev/Desktop/bus-schedule/package.json",_:"/usr/local/bin/yarn",USER_ZDOTDIR:"/Users/andrewboev",__CFBundleIdentifier:"com.microsoft.VSCode",PWD:"/Users/andrewboev/Desktop/bus-schedule",npm_lifecycle_event:"build",npm_package_name:"bus-schedule",LANG:"en_US.UTF-8",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"1",HOME:"/Users/andrewboev",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LESS:"-R",LOGNAME:"andrewboev",BERRY_BIN_FOLDER:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f",VSCODE_GIT_IPC_HANDLE:"/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/vscode-git-e8339808b8.sock",npm_config_user_agent:"yarn/3.4.1 npm/? node/v19.0.0 darwin x64",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/private/var/folders/qh/zrc7rrld6y9dydxg9qhtqnnh0000gn/T/xfs-6eb16d4f/node",COLORTERM:"truecolor",NODE_ENV:"production"}.SC_DISABLE_SPEEDY),v$={},e0=Object.freeze([]),ld=Object.freeze({});function ZL(e,t,n){return n===void 0&&(n=ld),e.theme!==n.theme&&e.theme||t||n.theme}var WL=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),y$=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_$=/(^-|-$)/g;function tP(e){return e.replace(y$,"-").replace(_$,"")}var x$=/(a)(d)/gi,nP=function(e){return String.fromCharCode(e+(e>25?39:97))};function Cb(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=nP(t%52)+n;return(nP(t%52)+n).replace(x$,"$1-$2")}var Vx,Rf=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},KL=function(e){return Rf(5381,e)};function XL(e){return Cb(KL(e)>>>0)}function b$(e){return e.displayName||e.name||"Component"}function $x(e){return typeof e=="string"&&!0}var YL=typeof Symbol=="function"&&Symbol.for,QL=YL?Symbol.for("react.memo"):60115,w$=YL?Symbol.for("react.forward_ref"):60112,S$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},E$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},T$=((Vx={})[w$]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vx[QL]=JL,Vx);function rP(e){return("type"in(t=e)&&t.type.$$typeof)===QL?JL:"$$typeof"in e?T$[e.$$typeof]:S$;var t}var C$=Object.defineProperty,P$=Object.getOwnPropertyNames,iP=Object.getOwnPropertySymbols,A$=Object.getOwnPropertyDescriptor,I$=Object.getPrototypeOf,oP=Object.prototype;function eR(e,t,n){if(typeof t!="string"){if(oP){var r=I$(t);r&&r!==oP&&eR(e,r,n)}var i=P$(t);iP&&(i=i.concat(iP(t)));for(var u=rP(e),d=rP(t),l=0;l<i.length;++l){var y=i[l];if(!(y in E$||n&&n[y]||d&&y in d||u&&y in u)){var w=A$(t,y);try{C$(e,y,w)}catch{}}}}return e}function ud(e){return typeof e=="function"}function CS(e){return typeof e=="object"&&"styledComponentId"in e}function ph(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Pb(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Sm(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Ab(e,t,n){if(n===void 0&&(n=!1),!n&&!Sm(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Ab(e[r],t[r]);else if(Sm(t))for(var r in t)e[r]=Ab(e[r],t[r]);return e}function PS(e,t){Object.defineProperty(e,"toString",{value:t})}function qm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var k$=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,u=i;t>=u;)if((u<<=1)<0)throw qm(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(r),this.length=u;for(var d=i;d<u;d++)this.groupSizes[d]=0}for(var l=this.indexOfGroup(t+1),y=(d=0,n.length);d<y;d++)this.tag.insertRule(l,n[d])&&(this.groupSizes[t]++,l++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var u=r;u<i;u++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),u=i+r,d=i;d<u;d++)n+="".concat(this.tag.getRule(d)).concat(`/*!sc*/
`);return n},e}(),Cv=new Map,Ry=new Map,jx=1,zg=function(e){if(Cv.has(e))return Cv.get(e);for(;Ry.has(jx);)jx++;var t=jx++;return Cv.set(e,t),Ry.set(t,e),t},O$=function(e,t){Cv.set(e,t),Ry.set(t,e)},L$="style[".concat(sd,"][").concat("data-styled-version",'="').concat("6.0.4",'"]'),R$=new RegExp("^".concat(sd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),M$=function(e,t,n){for(var r,i=n.split(","),u=0,d=i.length;u<d;u++)(r=i[u])&&e.registerName(t,r)},D$=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],u=0,d=r.length;u<d;u++){var l=r[u].trim();if(l){var y=l.match(R$);if(y){var w=0|parseInt(y[1],10),C=y[2];w!==0&&(O$(C,w),M$(e,C,y[3]),e.getTag().insertRules(w,i)),i.length=0}else i.push(l)}}};function z$(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var tR=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(l){var y=Array.from(l.querySelectorAll("style[".concat(sd,"]")));return y[y.length-1]}(n),u=i!==void 0?i.nextSibling:null;r.setAttribute(sd,"active"),r.setAttribute("data-styled-version","6.0.4");var d=z$();return d&&r.setAttribute("nonce",d),n.insertBefore(r,u),r},F$=function(){function e(t){this.element=tR(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,u=r.length;i<u;i++){var d=r[i];if(d.ownerNode===n)return d}throw qm(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),N$=function(){function e(t){this.element=tR(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),B$=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),aP=TS,U$={isServer:!TS,useCSSOMInjection:!g$},My=function(){function e(t,n,r){t===void 0&&(t=ld),n===void 0&&(n={});var i=this;this.options=po(po({},U$),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&TS&&aP&&(aP=!1,function(u){for(var d=document.querySelectorAll(L$),l=0,y=d.length;l<y;l++){var w=d[l];w&&w.getAttribute(sd)!=="active"&&(D$(u,w),w.parentNode&&w.parentNode.removeChild(w))}}(this)),PS(this,function(){return function(u){for(var d=u.getTag(),l=d.length,y="",w=function(P){var O=function(U){return Ry.get(U)}(P);if(O===void 0)return"continue";var I=u.names.get(O),F=d.getGroup(P);if(I===void 0||F.length===0)return"continue";var V="".concat(sd,".g").concat(P,'[id="').concat(O,'"]'),Z="";I!==void 0&&I.forEach(function(U){U.length>0&&(Z+="".concat(U,","))}),y+="".concat(F).concat(V,'{content:"').concat(Z,'"}').concat(`/*!sc*/
`)},C=0;C<l;C++)w(C);return y}(i)})}return e.registerId=function(t){return zg(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(po(po({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new B$(i):r?new F$(i):new N$(i)}(this.options),new k$(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(zg(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(zg(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(zg(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),V$=/&/g,$$=/^\s*\/\/.*$/gm;function nR(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=nR(n.children,t)),n})}function j$(e){var t,n,r,i=e===void 0?ld:e,u=i.options,d=u===void 0?ld:u,l=i.plugins,y=l===void 0?e0:l,w=function(O,I,F){return F===n||F.startsWith(n)&&F.endsWith(n)&&F.replaceAll(n,"").length>0?".".concat(t):O},C=y.slice();C.push(function(O){O.type===X_&&O.value.includes("&")&&(O.props[0]=O.props[0].replace(V$,n).replace(r,w))}),d.prefix&&C.push(m$),C.push(f$);var P=function(O,I,F,V){I===void 0&&(I=""),F===void 0&&(F=""),V===void 0&&(V="&"),t=V,n=I,r=new RegExp("\\".concat(n,"\\b"),"g");var Z=O.replace($$,""),U=c$(F||I?"".concat(F," ").concat(I," { ").concat(Z," }"):Z);d.namespace&&(U=nR(U,d.namespace));var N=[];return Ly(U,d$(C.concat(p$(function(j){return N.push(j)})))),N};return P.hash=y.length?y.reduce(function(O,I){return I.name||qm(15),Rf(O,I.name)},5381).toString():"",P}var q$=new My,Ib=j$(),rR=Er.createContext({shouldForwardProp:void 0,styleSheet:q$,stylis:Ib});rR.Consumer;Er.createContext(void 0);function kb(){return ce.useContext(rR)}var G$=function(){function e(t,n){var r=this;this.inject=function(i,u){u===void 0&&(u=Ib);var d=r.name+u.hash;i.hasNameForId(r.id,d)||i.insertRules(r.id,d,u(r.rules,d,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,PS(this,function(){throw qm(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Ib),this.name+t.hash},e}(),H$=function(e){return e>="A"&&e<="Z"};function sP(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;H$(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var iR=function(e){return e==null||e===!1||e===""},oR=function(e){var t,n,r=[];for(var i in e){var u=e[i];e.hasOwnProperty(i)&&!iR(u)&&(Array.isArray(u)&&u.isCss||ud(u)?r.push("".concat(sP(i),":"),u,";"):Sm(u)?r.push.apply(r,wm(wm(["".concat(i," {")],oR(u),!1),["}"],!1)):r.push("".concat(sP(i),": ").concat((t=i,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in HL||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function vc(e,t,n,r){if(iR(e))return[];if(CS(e))return[".".concat(e.styledComponentId)];if(ud(e)){if(!ud(u=e)||u.prototype&&u.prototype.isReactComponent||!t)return[e];var i=e(t);return vc(i,t,n,r)}var u;return e instanceof G$?n?(e.inject(n,r),[e.getName(r)]):[e]:Sm(e)?oR(e):Array.isArray(e)?Array.prototype.concat.apply(e0,e.map(function(d){return vc(d,t,n,r)})):[e.toString()]}function aR(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ud(n)&&!CS(n))return!1}return!0}var Z$=KL("6.0.4"),W$=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&aR(t),this.componentId=n,this.baseHash=Rf(Z$,n),this.baseStyle=r,My.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ph(i,this.staticRulesId);else{var u=Pb(vc(this.rules,t,n,r)),d=Cb(Rf(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,d)){var l=r(u,".".concat(d),void 0,this.componentId);n.insertRules(this.componentId,d,l)}i=ph(i,d),this.staticRulesId=d}else{for(var y=Rf(this.baseHash,r.hash),w="",C=0;C<this.rules.length;C++){var P=this.rules[C];if(typeof P=="string")w+=P;else if(P){var O=Pb(vc(P,t,n,r));y=Rf(y,O),w+=O}}if(w){var I=Cb(y>>>0);n.hasNameForId(this.componentId,I)||n.insertRules(this.componentId,I,r(w,".".concat(I),void 0,this.componentId)),i=ph(i,I)}}return i},e}(),AS=Er.createContext(void 0);AS.Consumer;var qx={};function K$(e,t,n){var r=CS(e),i=e,u=!$x(e),d=t.attrs,l=d===void 0?e0:d,y=t.componentId,w=y===void 0?function(j,Q){var ee=typeof j!="string"?"sc":tP(j);qx[ee]=(qx[ee]||0)+1;var Y="".concat(ee,"-").concat(XL("6.0.4"+ee+qx[ee]));return Q?"".concat(Q,"-").concat(Y):Y}(t.displayName,t.parentComponentId):y,C=t.displayName;C===void 0&&function(j){return $x(j)?"styled.".concat(j):"Styled(".concat(b$(j),")")}(e);var P=t.displayName&&t.componentId?"".concat(tP(t.displayName),"-").concat(t.componentId):t.componentId||w,O=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,I=t.shouldForwardProp;if(r&&i.shouldForwardProp){var F=i.shouldForwardProp;if(t.shouldForwardProp){var V=t.shouldForwardProp;I=function(j,Q){return F(j,Q)&&V(j,Q)}}else I=F}var Z=new W$(n,P,r?i.componentStyle:void 0);function U(j,Q){return function(ee,Y,J){var se=ee.attrs,ge=ee.componentStyle,he=ee.defaultProps,Se=ee.foldedComponentIds,De=ee.styledComponentId,He=ee.target,Be=Er.useContext(AS),Je=kb(),Ge=ee.shouldForwardProp||Je.shouldForwardProp,ut=function(mt,ct,ht){for(var pt,Et=po(po({},ct),{className:void 0,theme:ht}),an=0;an<mt.length;an+=1){var Pn=ud(pt=mt[an])?pt(Et):pt;for(var Fe in Pn)Et[Fe]=Fe==="className"?ph(Et[Fe],Pn[Fe]):Fe==="style"?po(po({},Et[Fe]),Pn[Fe]):Pn[Fe]}return ct.className&&(Et.className=ph(Et.className,ct.className)),Et}(se,Y,ZL(Y,Be,he)||ld),Pe=ut.as||He,We={};for(var Me in ut)ut[Me]===void 0||Me[0]==="$"||Me==="as"||Me==="theme"||(Me==="forwardedAs"?We.as=ut.forwardedAs:Ge&&!Ge(Me,Pe)||(We[Me]=ut[Me]));var Xe=function(mt,ct){var ht=kb(),pt=mt.generateAndInjectStyles(ct,ht.styleSheet,ht.stylis);return pt}(ge,ut),et=ph(Se,De);return Xe&&(et+=" "+Xe),ut.className&&(et+=" "+ut.className),We[$x(Pe)&&!WL.has(Pe)?"class":"className"]=et,We.ref=J,ce.createElement(Pe,We)}(N,j,Q)}var N=Er.forwardRef(U);return N.attrs=O,N.componentStyle=Z,N.shouldForwardProp=I,N.foldedComponentIds=r?ph(i.foldedComponentIds,i.styledComponentId):"",N.styledComponentId=P,N.target=r?i.target:e,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=r?function(Q){for(var ee=[],Y=1;Y<arguments.length;Y++)ee[Y-1]=arguments[Y];for(var J=0,se=ee;J<se.length;J++)Ab(Q,se[J],!0);return Q}({},i.defaultProps,j):j}}),PS(N,function(){return".".concat(N.styledComponentId)}),u&&eR(N,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function lP(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var uP=function(e){return Object.assign(e,{isCss:!0})};function sR(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ud(e)||Sm(e)){var r=e;return uP(vc(lP(e0,wm([r],t,!0))))}var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?vc(i):uP(vc(lP(i,t)))}function Ob(e,t,n){if(n===void 0&&(n=ld),!t)throw qm(1,t);var r=function(i){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];return e(t,n,sR.apply(void 0,wm([i],u,!1)))};return r.attrs=function(i){return Ob(e,t,po(po({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Ob(e,t,po(po({},n),i))},r}var lR=function(e){return Ob(K$,e)},X$=lR;WL.forEach(function(e){X$[e]=lR(e)});var Y$=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=aR(t),My.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var u=i(Pb(vc(this.rules,n,r,i)),""),d=this.componentId+t;r.insertRules(d,d,u)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&My.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,i)},e}();function QW(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=sR.apply(void 0,wm([e],t,!1)),i="sc-global-".concat(XL(JSON.stringify(r))),u=new Y$(r,i),d=function(y){var w=kb(),C=Er.useContext(AS),P=Er.useRef(w.styleSheet.allocateGSInstance(i)).current;return w.styleSheet.server&&l(P,y,w.styleSheet,C,w.stylis),(Er.useInsertionEffect||Er.useLayoutEffect)(function(){if(!w.styleSheet.server)return l(P,y,w.styleSheet,C,w.stylis),function(){return u.removeStyles(P,w.styleSheet)}},[P,y,w.styleSheet,C,w.stylis]),null};function l(y,w,C,P,O){if(u.isStatic)u.renderStyles(y,v$,C,O);else{var I=po(po({},w),{theme:ZL(w,P,d.defaultProps)});u.renderStyles(y,I,C,O)}}return Er.memo(d)}var Q$=J$()?ce.useLayoutEffect:ce.useEffect;function J$(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function e8(){var e=ce.useState(Object.create(null)),t=e[1];return ce.useCallback(function(){t(Object.create(null))},[])}var t8=function(t){var n=t.children,r=t.type,i=r===void 0?"reach-portal":r,u=ce.useRef(null),d=ce.useRef(null),l=e8();return Q$(function(){if(u.current){var y=u.current.ownerDocument;return d.current=y==null?void 0:y.createElement(i),y.body.appendChild(d.current),l(),function(){d.current&&d.current.ownerDocument&&d.current.ownerDocument.body.removeChild(d.current)}}},[i,l]),d.current?Dm.createPortal(n,d.current):ce.createElement("span",{ref:u})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kt=function(){return kt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},kt.apply(this,arguments)};function IS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function $n(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],d;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(l){d={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return u}function Pr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))}var yr;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(yr||(yr={}));var Tc;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(Tc||(Tc={}));var Lb=yr.Start,kS=yr.Stop,cd=yr.Raise,hd=yr.Send,uR=yr.Cancel,n8=yr.NullEvent,OS=yr.Assign;yr.After;yr.DoneState;var cR=yr.Log,r8=yr.Init,Rb=yr.Invoke;yr.ErrorExecution;var cP=yr.ErrorPlatform,i8=yr.ErrorCustom,hR=yr.Update,o8=yr.Choose,a8=yr.Pure,fR=".",hP={},Mb="xstate.guard",s8="",Fg;function LS(e,t,n){n===void 0&&(n=fR);var r=Up(e,n),i=Up(t,n);return rr(i)?rr(r)?i===r:!1:rr(r)?r in i:Object.keys(r).every(function(u){return u in i?LS(r[u],i[u]):!1})}function dR(e){try{return rr(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Db(e,t){try{return Td(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function l8(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function Up(e,t){if(l8(e))return e.value;if(Td(e))return Dy(e);if(typeof e!="string")return e;var n=Db(e,t);return Dy(n)}function Dy(e){if(e.length===1)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function wp(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var u=r[i];n[u]=t(e[u],u,e,i)}return n}function fP(e,t,n){var r,i,u={};try{for(var d=$n(Object.keys(e)),l=d.next();!l.done;l=d.next()){var y=l.value,w=e[y];n(w)&&(u[y]=t(w,y,e))}}catch(C){r={error:C}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return u}var u8=function(e){return function(t){var n,r,i=t;try{for(var u=$n(e),d=u.next();!d.done;d=u.next()){var l=d.value;i=i[l]}}catch(y){n={error:y}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return i}};function c8(e,t){return function(n){var r,i,u=n;try{for(var d=$n(e),l=d.next();!l.done;l=d.next()){var y=l.value;u=u[t][y]}}catch(w){r={error:w}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return u}}function Pv(e){if(!e)return[[]];if(rr(e))return[[e]];var t=$r(Object.keys(e).map(function(n){var r=e[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:Pv(e[n]).map(function(i){return[n].concat(i)})}));return t}function $r(e){var t;return(t=[]).concat.apply(t,Pr([],jn(e),!1))}function pR(e){return Td(e)?e:[e]}function Es(e){return e===void 0?[]:pR(e)}function zy(e,t,n){var r,i;if(vr(e))return e(t,n.data);var u={};try{for(var d=$n(Object.keys(e)),l=d.next();!l.done;l=d.next()){var y=l.value,w=e[y];vr(w)?u[y]=w(t,n.data):u[y]=w}}catch(C){r={error:C}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return u}function h8(e){return/^(done|error)\./.test(e)}function dP(e){return!!(e instanceof Promise||e!==null&&(vr(e)||typeof e=="object")&&vr(e.then))}function f8(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function d8(e,t){var n,r,i=jn([[],[]],2),u=i[0],d=i[1];try{for(var l=$n(e),y=l.next();!y.done;y=l.next()){var w=y.value;t(w)?u.push(w):d.push(w)}}catch(C){n={error:C}}finally{try{y&&!y.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return[u,d]}function mR(e,t){return wp(e.states,function(n,r){if(n){var i=(rr(t)?void 0:t[r])||(n?n.current:void 0);if(i)return{current:i,states:mR(n,i)}}})}function p8(e,t){return{current:t,states:mR(e,t)}}function pP(e,t,n,r){var i=e&&n.reduce(function(u,d){var l,y,w=d.assignment,C={state:r,action:d,_event:t},P={};if(vr(w))P=w(u,t.data,C);else try{for(var O=$n(Object.keys(w)),I=O.next();!I.done;I=O.next()){var F=I.value,V=w[F];P[F]=vr(V)?V(u,t.data,C):V}}catch(Z){l={error:Z}}finally{try{I&&!I.done&&(y=O.return)&&y.call(O)}finally{if(l)throw l.error}}return Object.assign({},u,P)},e);return i}var m8=function(){};function Td(e){return Array.isArray(e)}function vr(e){return typeof e=="function"}function rr(e){return typeof e=="string"}function gR(e,t){if(e)return rr(e)?{type:Mb,name:e,predicate:t?t[e]:void 0}:vr(e)?{type:Mb,name:e.name,predicate:e}:e}function g8(e){try{return"subscribe"in e&&vr(e.subscribe)}catch{return!1}}var Yu=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Fg={},Fg[Yu]=function(){return this},Fg[Symbol.observable]=function(){return this};function fd(e){return!!e&&"__xstatenode"in e}function v8(e){return!!e&&typeof e.send=="function"}function RS(e,t){return rr(e)||typeof e=="number"?kt({type:e},t):e}function qi(e,t){if(!rr(e)&&"$$type"in e&&e.$$type==="scxml")return e;var n=RS(e);return kt({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function df(e,t){var n=pR(t).map(function(r){return typeof r>"u"||typeof r=="string"||fd(r)?{target:r,event:e}:kt(kt({},r),{event:e})});return n}function y8(e){if(!(e===void 0||e===s8))return Es(e)}function vR(e,t,n,r,i){var u=e.options.guards,d={state:i,cond:t,_event:r};if(t.type===Mb)return((u==null?void 0:u[t.name])||t.predicate)(n,r.data,d);var l=u==null?void 0:u[t.type];if(!l)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return l(n,r.data,d)}function yR(e){return typeof e=="string"?{type:e}:e}function Av(e,t,n){var r=function(){},i=typeof e=="object",u=i?e:null;return{next:((i?e.next:e)||r).bind(u),error:((i?e.error:t)||r).bind(u),complete:((i?e.complete:n)||r).bind(u)}}function Ng(e,t){return"".concat(e,":invocation[").concat(t,"]")}var Gf=qi({type:r8});function zb(e,t){return t&&t[e]||void 0}function Em(e,t){var n;if(rr(e)||typeof e=="number"){var r=zb(e,t);vr(r)?n={type:e,exec:r}:r?n=r:n={type:e,exec:void 0}}else if(vr(e))n={type:e.name||e.toString(),exec:e};else{var r=zb(e.type,t);if(vr(r))n=kt(kt({},e),{exec:r});else if(r){var i=r.type||e.type;n=kt(kt(kt({},r),e),{type:i})}else n=e}return n}var Qu=function(e,t){if(!e)return[];var n=Td(e)?e:[e];return n.map(function(r){return Em(r,t)})};function MS(e){var t=Em(e);return kt(kt({id:rr(e)?e:t.id},t),{type:t.type})}function _8(e){return rr(e)?{type:cd,event:e}:_R(e,{to:Tc.Internal})}function x8(e){return{type:cd,_event:qi(e.event)}}function _R(e,t){return{to:t?t.to:void 0,type:hd,event:vr(e)?e:RS(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:vr(e)?e.name:dR(e)}}function b8(e,t,n,r){var i={_event:n},u=qi(vr(e.event)?e.event(t,n.data,i):e.event),d;if(rr(e.delay)){var l=r&&r[e.delay];d=vr(l)?l(t,n.data,i):l}else d=vr(e.delay)?e.delay(t,n.data,i):e.delay;var y=vr(e.to)?e.to(t,n.data,i):e.to;return kt(kt({},e),{to:y,_event:u,event:u.data,delay:d})}var w8=function(e,t,n){return kt(kt({},e),{value:rr(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},S8=function(e){return{type:uR,sendId:e}};function E8(e){var t=MS(e);return{type:yr.Start,activity:t,exec:void 0}}function T8(e){var t=vr(e)?e:MS(e);return{type:yr.Stop,activity:t,exec:void 0}}function C8(e,t,n){var r=vr(e.activity)?e.activity(t,n.data):e.activity,i=typeof r=="string"?{id:r}:r,u={type:yr.Stop,activity:i};return u}var P8=function(e){return{type:OS,assignment:e}};function A8(e,t){var n=t?"#".concat(t):"";return"".concat(yr.After,"(").concat(e,")").concat(n)}function Bg(e,t){var n="".concat(yr.DoneState,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function Iv(e,t){var n="".concat(yr.DoneInvoke,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function Sp(e,t){var n="".concat(yr.ErrorPlatform,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}var I8=function(e){var t,n,r=[];try{for(var i=$n(e),u=i.next();!u.done;u=i.next())for(var d=u.value,l=0;l<d.length;){if(d[l].type===OS){r.push(d[l]),d.splice(l,1);continue}l++}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function Fy(e,t,n,r,i,u,d){d===void 0&&(d=!1);var l=d?[]:I8(i),y=l.length?pP(n,r,l,t):n,w=d?[n]:void 0,C=[];function P(F){var V;switch(F.type){case cd:return x8(F);case hd:var Z=b8(F,y,r,e.options.delays);return u&&Z.to!==Tc.Internal&&C.push(Z),Z;case cR:{var U=w8(F,y,r);return u==null||u(U,y,r),U}case o8:{var N=F,j=(V=N.conds.find(function(He){var Be=gR(He.cond,e.options.guards);return!Be||vR(e,Be,y,r,u?void 0:t)}))===null||V===void 0?void 0:V.actions;if(!j)return[];var Q=jn(Fy(e,t,y,r,[Qu(Es(j),e.options.actions)],u,d),2),ee=Q[0],Y=Q[1];return y=Y,w==null||w.push(y),ee}case a8:{var j=F.get(y,r.data);if(!j)return[];var J=jn(Fy(e,t,y,r,[Qu(Es(j),e.options.actions)],u,d),2),se=J[0],ge=J[1];return y=ge,w==null||w.push(y),se}case kS:{var U=C8(F,y,r);return u==null||u(U,n,r),U}case OS:{y=pP(y,r,[F],u?void 0:t),w==null||w.push(y);break}default:var he=Em(F,e.options.actions),Se=he.exec;if(u)u(he,y,r);else if(Se&&w){var De=w.length-1;he=kt(kt({},he),{exec:function(He){for(var Be=[],Je=1;Je<arguments.length;Je++)Be[Je-1]=arguments[Je];Se.apply(void 0,Pr([w[De]],jn(Be),!1))}})}return he}}function O(F){var V,Z,U=[];try{for(var N=$n(F),j=N.next();!j.done;j=N.next()){var Q=j.value,ee=P(Q);ee&&(U=U.concat(ee))}}catch(Y){V={error:Y}}finally{try{j&&!j.done&&(Z=N.return)&&Z.call(N)}finally{if(V)throw V.error}}return C.forEach(function(Y){u(Y,y,r)}),C.length=0,U}var I=$r(i.map(O));return[I,y]}var mP=[],_f=function(e,t){mP.push(e);var n=t(e);return mP.pop(),n};function xR(e){var t;return t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},t[Yu]=function(){return this},t}function k8(e,t,n,r){var i,u=yR(e.src),d=(i=t==null?void 0:t.options.services)===null||i===void 0?void 0:i[u.type],l=e.data?zy(e.data,n,r):void 0,y=d?bR(d,e.id,l):xR(e.id);return y.meta=e,y}function bR(e,t,n){var r=xR(t);if(r.deferred=!0,fd(e)){var i=r.state=_f(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return i}}return r}function O8(e){try{return typeof e.send=="function"}catch{return!1}}function L8(e){return O8(e)&&"id"in e}function R8(e){var t;return kt((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},t[Yu]=function(){return this},t),e)}var Ny=function(e){return e.type==="atomic"||e.type==="final"};function wR(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function Tm(e){return wR(e).filter(function(t){return t.type!=="history"})}function SR(e){var t=[e];return Ny(e)?t:t.concat($r(Tm(e).map(SR)))}function Ep(e,t){var n,r,i,u,d,l,y,w,C=new Set(e),P=Fb(C),O=new Set(t);try{for(var I=$n(O),F=I.next();!F.done;F=I.next())for(var V=F.value,Z=V.parent;Z&&!O.has(Z);)O.add(Z),Z=Z.parent}catch(ge){n={error:ge}}finally{try{F&&!F.done&&(r=I.return)&&r.call(I)}finally{if(n)throw n.error}}var U=Fb(O);try{for(var N=$n(O),j=N.next();!j.done;j=N.next()){var V=j.value;if(V.type==="compound"&&(!U.get(V)||!U.get(V).length))P.get(V)?P.get(V).forEach(function(he){return O.add(he)}):V.initialStateNodes.forEach(function(he){return O.add(he)});else if(V.type==="parallel")try{for(var Q=(d=void 0,$n(Tm(V))),ee=Q.next();!ee.done;ee=Q.next()){var Y=ee.value;O.has(Y)||(O.add(Y),P.get(Y)?P.get(Y).forEach(function(he){return O.add(he)}):Y.initialStateNodes.forEach(function(he){return O.add(he)}))}}catch(he){d={error:he}}finally{try{ee&&!ee.done&&(l=Q.return)&&l.call(Q)}finally{if(d)throw d.error}}}}catch(ge){i={error:ge}}finally{try{j&&!j.done&&(u=N.return)&&u.call(N)}finally{if(i)throw i.error}}try{for(var J=$n(O),se=J.next();!se.done;se=J.next())for(var V=se.value,Z=V.parent;Z&&!O.has(Z);)O.add(Z),Z=Z.parent}catch(ge){y={error:ge}}finally{try{se&&!se.done&&(w=J.return)&&w.call(J)}finally{if(y)throw y.error}}return O}function ER(e,t){var n=t.get(e);if(!n)return{};if(e.type==="compound"){var r=n[0];if(r){if(Ny(r))return r.key}else return{}}var i={};return n.forEach(function(u){i[u.key]=ER(u,t)}),i}function Fb(e){var t,n,r=new Map;try{for(var i=$n(e),u=i.next();!u.done;u=i.next()){var d=u.value;r.has(d)||r.set(d,[]),d.parent&&(r.has(d.parent)||r.set(d.parent,[]),r.get(d.parent).push(d))}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function M8(e,t){var n=Ep([e],t);return ER(e,Fb(n))}function xf(e,t){return Array.isArray(e)?e.some(function(n){return n===t}):e instanceof Set?e.has(t):!1}function D8(e){return Pr([],jn(new Set($r(Pr([],jn(e.map(function(t){return t.ownEvents})),!1)))),!1)}function kv(e,t){return t.type==="compound"?Tm(t).some(function(n){return n.type==="final"&&xf(e,n)}):t.type==="parallel"?Tm(t).every(function(n){return kv(e,n)}):!1}function z8(e){return e===void 0&&(e=[]),e.reduce(function(t,n){return n.meta!==void 0&&(t[n.id]=n.meta),t},{})}function gP(e){return new Set($r(e.map(function(t){return t.tags})))}function TR(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(rr(e)||rr(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(i){return TR(e[i],t[i])})}function F8(e){return typeof e!="object"||e===null?!1:"value"in e&&"_event"in e}function N8(e,t){var n=e.exec,r=kt(kt({},e),{exec:n!==void 0?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return r}var Ha=function(){function e(t){var n=this,r;this.actions=[],this.activities=hP,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||hP,this.meta=z8(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(r=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&r!==void 0?r:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return D8(n.configuration)}})}return e.from=function(t,n){if(t instanceof e)return t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var r=Gf;return new e({value:t,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Gf;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(t,n){var r=this;if(t===void 0&&(t=this.value),n===void 0&&(n="."),rr(t))return[t];var i=Object.keys(t);return i.concat.apply(i,Pr([],jn(i.map(function(u){return r.toStrings(t[u],n).map(function(d){return u+n+d})})),!1))},e.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;var n=t.tags;t.machine;var r=IS(t,["configuration","transitions","tags","machine"]);return kt(kt({},r),{tags:Array.from(n)})},e.prototype.matches=function(t){return LS(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var n;m8(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,t);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},e}(),B8={deferEvents:!1},vP=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=kt(kt({},B8),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},e}(),Gx=new Map,U8=0,Ug={bookId:function(){return"x:".concat(U8++)},register:function(e,t){return Gx.set(e,t),e},get:function(e){return Gx.get(e)},free:function(e){Gx.delete(e)}};function DS(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function V8(){var e=DS();if(e&&"__xstate__"in e)return e.__xstate__}function $8(e){if(DS()){var t=V8();t&&t.register(e)}}function j8(e,t){t===void 0&&(t={});var n=e.initialState,r=new Set,i=[],u=!1,d=function(){if(!u){for(u=!0;i.length>0;){var w=i.shift();n=e.transition(n,w,y),r.forEach(function(C){return C.next(n)})}u=!1}},l=R8({id:t.id,send:function(w){i.push(w),d()},getSnapshot:function(){return n},subscribe:function(w,C,P){var O=Av(w,C,P);return r.add(O),O.next(n),{unsubscribe:function(){r.delete(O)}}}}),y={parent:t.parent,self:l,id:t.id||"anonymous",observers:r};return n=e.start?e.start(y):n,l}var q8={sync:!1,autoForward:!1},$i;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})($i||($i={}));var G8=function(){function e(t,n){n===void 0&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=$i.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(C,P){if(Td(C))return r.batch(C),r.state;var O=qi(RS(C,P));if(r.status===$i.Stopped)return r.state;if(r.status!==$i.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(O.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(O.data)));return r.scheduler.schedule(function(){r.forward(O);var I=r._nextState(O);r.update(I,O)}),r._state},this.sendTo=function(C,P,O){var I=r.parent&&(P===Tc.Parent||r.parent.id===P),F=I?r.parent:rr(P)?r.children.get(P)||Ug.get(P):v8(P)?P:void 0;if(!F){if(!I)throw new Error("Unable to send event to child '".concat(P,"' from service '").concat(r.id,"'."));return}if("machine"in F){if(r.status!==$i.Stopped||r.parent!==F||r.state.done){var V=kt(kt({},C),{name:C.name===i8?"".concat(Sp(r.id)):C.name,origin:r.sessionId});!O&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([F,V]):F.send(V)}}else!O&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([F,C.data]):F.send(C.data)},this._exec=function(C,P,O,I){I===void 0&&(I=r.machine.options.actions);var F=C.exec||zb(C.type,I),V=vr(F)?F:F?F.exec:C.exec;if(V)try{return V(P,O.data,r.machine.config.predictableActionArguments?{action:C,_event:O}:{action:C,state:r.state,_event:O})}catch(De){throw r.parent&&r.parent.send({type:"xstate.error",data:De}),De}switch(C.type){case hd:var Z=C;if(typeof Z.delay=="number"){r.defer(Z);return}else Z.to?r.sendTo(Z._event,Z.to,O===Gf):r.send(Z._event);break;case uR:r.cancel(C.sendId);break;case Lb:{if(r.status!==$i.Running)return;var U=C.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[U.id||U.type])break;if(U.type===yr.Invoke){var N=yR(U.src),j=r.machine.options.services?r.machine.options.services[N.type]:void 0,Q=U.id,ee=U.data,Y="autoForward"in U?U.autoForward:!!U.forward;if(!j)return;var J=ee?zy(ee,P,O):void 0;if(typeof j=="string")return;var se=vr(j)?j(P,O.data,{data:J,src:N,meta:U.meta}):j;if(!se)return;var ge=void 0;fd(se)&&(se=J?se.withContext(J):se,ge={autoForward:Y}),r.spawn(se,Q,ge)}else r.spawnActivity(U);break}case kS:{r.stopChild(C.activity.id);break}case cR:var he=C.label,Se=C.value;he?r.logger(he,Se):r.logger(Se);break}};var i=kt(kt({},e.defaultOptions),n),u=i.clock,d=i.logger,l=i.parent,y=i.id,w=y!==void 0?y:t.id;this.id=w,this.logger=d,this.clock=u,this.parent=l,this.options=i,this.scheduler=new vP({deferEvents:this.options.deferEvents}),this.sessionId=Ug.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:_f(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,n){var r,i;try{for(var u=$n(t.actions),d=u.next();!d.done;d=u.next()){var l=d.value;this.exec(l,t,n)}}catch(y){r={error:y}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},e.prototype.update=function(t,n){var r,i,u,d,l,y,w,C,P=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||n===Gf)&&this.options.execute)this.execute(this.state);else for(var O=void 0;O=this._outgoingQueue.shift();)O[0].send(O[1]);if(this.children.forEach(function(ge){P.state.children[ge.id]=ge}),this.devTools&&this.devTools.send(n.data,t),t.event)try{for(var I=$n(this.eventListeners),F=I.next();!F.done;F=I.next()){var V=F.value;V(t.event)}}catch(ge){r={error:ge}}finally{try{F&&!F.done&&(i=I.return)&&i.call(I)}finally{if(r)throw r.error}}try{for(var Z=$n(this.listeners),U=Z.next();!U.done;U=Z.next()){var V=U.value;V(t,t.event)}}catch(ge){u={error:ge}}finally{try{U&&!U.done&&(d=Z.return)&&d.call(Z)}finally{if(u)throw u.error}}try{for(var N=$n(this.contextListeners),j=N.next();!j.done;j=N.next()){var Q=j.value;Q(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(ge){l={error:ge}}finally{try{j&&!j.done&&(y=N.return)&&y.call(N)}finally{if(l)throw l.error}}if(this.state.done){var ee=t.configuration.find(function(ge){return ge.type==="final"&&ge.parent===P.machine}),Y=ee&&ee.doneData?zy(ee.doneData,t.context,n):void 0;try{for(var J=$n(this.doneListeners),se=J.next();!se.done;se=J.next()){var V=se.value;V(Iv(this.id,Y))}}catch(ge){w={error:ge}}finally{try{se&&!se.done&&(C=J.return)&&C.call(J)}finally{if(w)throw w.error}}this._stop(),this._stopChildren()}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===$i.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,n,r){var i=this,u=Av(t,n,r);this.listeners.add(u.next),this.status!==$i.NotStarted&&u.next(this.state);var d=function(){i.doneListeners.delete(d),i.stopListeners.delete(d),u.complete()};return this.status===$i.Stopped?u.complete():(this.onDone(d),this.onStop(d)),{unsubscribe:function(){i.listeners.delete(u.next),i.doneListeners.delete(d),i.stopListeners.delete(d)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var n=this;if(this.status===$i.Running)return this;this.machine._init(),Ug.register(this.sessionId,this),this.initialized=!0,this.status=$i.Running;var r=t===void 0?this.initialState:_f(this,function(){return F8(t)?n.machine.resolveState(t):n.machine.resolveState(Ha.from(t,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Gf)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(t){vr(t.stop)&&t.stop()}),this.children.clear()},e.prototype._stop=function(){var t,n,r,i,u,d,l,y,w,C;try{for(var P=$n(this.listeners),O=P.next();!O.done;O=P.next()){var I=O.value;this.listeners.delete(I)}}catch(J){t={error:J}}finally{try{O&&!O.done&&(n=P.return)&&n.call(P)}finally{if(t)throw t.error}}try{for(var F=$n(this.stopListeners),V=F.next();!V.done;V=F.next()){var I=V.value;I(),this.stopListeners.delete(I)}}catch(J){r={error:J}}finally{try{V&&!V.done&&(i=F.return)&&i.call(F)}finally{if(r)throw r.error}}try{for(var Z=$n(this.contextListeners),U=Z.next();!U.done;U=Z.next()){var I=U.value;this.contextListeners.delete(I)}}catch(J){u={error:J}}finally{try{U&&!U.done&&(d=Z.return)&&d.call(Z)}finally{if(u)throw u.error}}try{for(var N=$n(this.doneListeners),j=N.next();!j.done;j=N.next()){var I=j.value;this.doneListeners.delete(I)}}catch(J){l={error:J}}finally{try{j&&!j.done&&(y=N.return)&&y.call(N)}finally{if(l)throw l.error}}if(!this.initialized)return this;this.initialized=!1,this.status=$i.Stopped,this._initialState=void 0;try{for(var Q=$n(Object.keys(this.delayedEventsMap)),ee=Q.next();!ee.done;ee=Q.next()){var Y=ee.value;this.clock.clearTimeout(this.delayedEventsMap[Y])}}catch(J){w={error:J}}finally{try{ee&&!ee.done&&(C=Q.return)&&C.call(Q)}finally{if(w)throw w.error}}this.scheduler.clear(),this.scheduler=new vP({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var t=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r=qi({type:"xstate.stop"}),i=_f(t,function(){var u=$r(Pr([],jn(t.state.configuration),!1).sort(function(C,P){return P.order-C.order}).map(function(C){return Qu(C.onExit,t.machine.options.actions)})),d=jn(Fy(t.machine,t.state,t.state.context,r,[u],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),l=d[0],y=d[1],w=new Ha({value:t.state.value,context:y,_event:r,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:l.filter(function(C){return C.type!==cd&&(C.type!==hd||!!C.to&&C.to!==Tc.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return w.changed=!0,w});t.update(i,r),t._stopChildren(),Ug.free(t.sessionId)}),this},e.prototype.batch=function(t){var n=this;if(!(this.status===$i.NotStarted&&this.options.deferEvents)){if(this.status!==$i.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(t.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,u,d=n.state,l=!1,y=[],w=function(I){var F=qi(I);n.forward(F),d=_f(n,function(){return n.machine.transition(d,F,void 0,r||void 0)}),y.push.apply(y,Pr([],jn(n.machine.config.predictableActionArguments?d.actions:d.actions.map(function(V){return N8(V,d)})),!1)),l=l||!!d.changed};try{for(var C=$n(t),P=C.next();!P.done;P=C.next()){var O=P.value;w(O)}}catch(I){i={error:I}}finally{try{P&&!P.done&&(u=C.return)&&u.call(C)}finally{if(i)throw i.error}}d.changed=l,d.actions=y,n.update(d,qi(t[t.length-1]))})}},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype._nextState=function(t,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=qi(t);if(i.name.indexOf(cP)===0&&!this.state.nextEvents.some(function(d){return d.indexOf(cP)===0}))throw i.data.data;var u=_f(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return u},e.prototype.nextState=function(t){return this._nextState(t,!1)},e.prototype.forward=function(t){var n,r;try{for(var i=$n(this.forwardTo),u=i.next();!u.done;u=i.next()){var d=u.value,l=this.children.get(d);if(!l)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(d,"'."));l.send(t)}}catch(y){n={error:y}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.defer=function(t){var n=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?n.sendTo(t._event,t.to,!0):n.send(t._event)},t.delay)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(t,n.context,n._event,r)},e.prototype.removeChild=function(t){var n;this.children.delete(t),this.forwardTo.delete(t),(n=this.state)===null||n===void 0||delete n.children[t]},e.prototype.stopChild=function(t){var n=this.children.get(t);n&&(this.removeChild(t),vr(n.stop)&&n.stop())},e.prototype.spawn=function(t,n,r){if(this.status!==$i.Running)return bR(t,n);if(dP(t))return this.spawnPromise(Promise.resolve(t),n);if(vr(t))return this.spawnCallback(t,n);if(L8(t))return this.spawnActor(t,n);if(g8(t))return this.spawnObservable(t,n);if(fd(t))return this.spawnMachine(t,kt(kt({},r),{id:n}));if(f8(t))return this.spawnBehavior(t,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;n===void 0&&(n={});var i=new e(t,kt(kt({},this.options),{parent:this,id:n.id||t.id})),u=kt(kt({},q8),n);u.sync&&i.onTransition(function(l){r.send(hR,{state:l,id:i.id})});var d=i;return this.children.set(i.id,d),u.autoForward&&this.forwardTo.add(i.id),i.onDone(function(l){r.removeChild(i.id),r.send(qi(l,{origin:i.id}))}).start(),d},e.prototype.spawnBehavior=function(t,n){var r=j8(t,{id:n,parent:this});return this.children.set(n,r),r},e.prototype.spawnPromise=function(t,n){var r,i=this,u=!1,d;t.then(function(y){u||(d=y,i.removeChild(n),i.send(qi(Iv(n,y),{origin:n})))},function(y){if(!u){i.removeChild(n);var w=Sp(n,y);try{i.send(qi(w,{origin:n}))}catch{i.devTools&&i.devTools.send(w,i.state),i.machine.strict&&i.stop()}}});var l=(r={id:n,send:function(){},subscribe:function(y,w,C){var P=Av(y,w,C),O=!1;return t.then(function(I){O||(P.next(I),!O&&P.complete())},function(I){O||P.error(I)}),{unsubscribe:function(){return O=!0}}},stop:function(){u=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return d}},r[Yu]=function(){return this},r);return this.children.set(n,l),l},e.prototype.spawnCallback=function(t,n){var r,i=this,u=!1,d=new Set,l=new Set,y,w=function(O){y=O,l.forEach(function(I){return I(O)}),!u&&i.send(qi(O,{origin:n}))},C;try{C=t(w,function(O){d.add(O)})}catch(O){this.send(Sp(n,O))}if(dP(C))return this.spawnPromise(C,n);var P=(r={id:n,send:function(O){return d.forEach(function(I){return I(O)})},subscribe:function(O){var I=Av(O);return l.add(I.next),{unsubscribe:function(){l.delete(I.next)}}},stop:function(){u=!0,vr(C)&&C()},toJSON:function(){return{id:n}},getSnapshot:function(){return y}},r[Yu]=function(){return this},r);return this.children.set(n,P),P},e.prototype.spawnObservable=function(t,n){var r,i=this,u,d=t.subscribe(function(y){u=y,i.send(qi(y,{origin:n}))},function(y){i.removeChild(n),i.send(qi(Sp(n,y),{origin:n}))},function(){i.removeChild(n),i.send(qi(Iv(n),{origin:n}))}),l=(r={id:n,send:function(){},subscribe:function(y,w,C){return t.subscribe(y,w,C)},stop:function(){return d.unsubscribe()},getSnapshot:function(){return u},toJSON:function(){return{id:n}}},r[Yu]=function(){return this},r);return this.children.set(n,l),l},e.prototype.spawnActor=function(t,n){return this.children.set(n,t),t},e.prototype.spawnActivity=function(t){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(n){var r=n(this.state.context,t);this.spawnEffect(t.id,r)}},e.prototype.spawnEffect=function(t,n){var r;this.children.set(t,(r={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},r[Yu]=function(){return this},r))},e.prototype.attachDev=function(){var t=DS();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(kt(kt({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:kt({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}$8(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Yu]=function(){return this},e.prototype.getSnapshot=function(){return this.status===$i.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,n){return setTimeout(t,n)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},e.interpret=CR,e}();function CR(e,t){var n=new G8(e,t);return n}function H8(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function Vg(e){return kt(kt({type:Rb},e),{toJSON:function(){e.onDone,e.onError;var t=IS(e,["onDone","onError"]);return kt(kt({},t),{type:Rb,src:H8(e.src)})}})}var $g="",Nb="#",Hx="*",pf={},mf=function(e){return e[0]===Nb},Z8=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},W8=function(){function e(t,n,r,i){r===void 0&&(r="context"in t?t.context:void 0);var u=this,d;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Z8(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:fR),this.id=this.config.id||Pr([this.machine.key],jn(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(d=this.config.schema)!==null&&d!==void 0?d:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?wp(this.config.states,function(w,C){var P,O=new e(w,{},void 0,{parent:u,key:C});return Object.assign(u.idMap,kt((P={},P[O.id]=O,P),O.idMap)),O}):pf;var l=0;function y(w){var C,P;w.order=l++;try{for(var O=$n(wR(w)),I=O.next();!I.done;I=O.next()){var F=I.value;y(F)}}catch(V){C={error:V}}finally{try{I&&!I.done&&(P=O.return)&&P.call(O)}finally{if(C)throw C.error}}}y(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(w){var C=w.event;return C===$g}):$g in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Es(this.config.entry||this.config.onEntry).map(function(w){return Em(w)}),this.onExit=Es(this.config.exit||this.config.onExit).map(function(w){return Em(w)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Es(this.config.invoke).map(function(w,C){var P,O;if(fd(w)){var I=Ng(u.id,C);return u.machine.options.services=kt((P={},P[I]=w,P),u.machine.options.services),Vg({src:I,id:I})}else if(rr(w.src)){var I=w.id||Ng(u.id,C);return Vg(kt(kt({},w),{id:I,src:w.src}))}else if(fd(w.src)||vr(w.src)){var I=w.id||Ng(u.id,C);return u.machine.options.services=kt((O={},O[I]=w.src,O),u.machine.options.services),Vg(kt(kt({id:I},w),{src:I}))}else{var F=w.src;return Vg(kt(kt({id:Ng(u.id,C)},w),{src:F}))}}),this.activities=Es(this.config.activities).concat(this.invoke).map(function(w){return MS(w)}),this.transition=this.transition.bind(this),this.tags=Es(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||SR(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,u=r.activities,d=r.guards,l=r.services,y=r.delays;return new e(this.config,{actions:kt(kt({},i),t.actions),activities:kt(kt({},u),t.activities),guards:kt(kt({},d),t.guards),services:kt(kt({},l),t.services),delays:kt(kt({},y),t.delays)},n??this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return vr(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:wp(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var n=t===$g,r=this.transitions.filter(function(i){var u=i.eventType===t;return n?u:u||i.eventType===Hx});return this.__cache.candidates[t]=r,r},e.prototype.getDelayedTransitions=function(){var t=this,n=this.config.after;if(!n)return[];var r=function(u,d){var l=vr(u)?"".concat(t.id,":delay[").concat(d,"]"):u,y=A8(l,t.id);return t.onEntry.push(_R(y,{delay:u})),t.onExit.push(S8(y)),y},i=Td(n)?n.map(function(u,d){var l=r(u.delay,d);return kt(kt({},u),{event:l})}):$r(Object.keys(n).map(function(u,d){var l=n[u],y=rr(l)?{target:l}:l,w=isNaN(+u)?u:+u,C=r(w,d);return Es(y).map(function(P){return kt(kt({},P),{event:C,delay:w})})}));return i.map(function(u){var d=u.delay;return kt(kt({},t.formatTransition(u)),{delay:d})})},e.prototype.getStateNodes=function(t){var n,r=this;if(!t)return[];var i=t instanceof Ha?t.value:Up(t,this.delimiter);if(rr(i)){var u=this.getStateNode(i).initial;return u!==void 0?this.getStateNodes((n={},n[i]=u,n)):[this,this.states[i]]}var d=Object.keys(i),l=[this];return l.push.apply(l,Pr([],jn($r(d.map(function(y){return r.getStateNode(y).getStateNodes(i[y])}))),!1)),l},e.prototype.handles=function(t){var n=dR(t);return this.events.includes(n)},e.prototype.resolveState=function(t){var n=t instanceof Ha?t:Ha.create(t),r=Array.from(Ep([],this.getStateNodes(n.value)));return new Ha(kt(kt({},n),{value:this.resolve(n.value),configuration:r,done:kv(r,this),tags:gP(r),machine:this.machine}))},e.prototype.transitionLeafNode=function(t,n,r){var i=this.getStateNode(t),u=i.next(n,r);return!u||!u.transitions.length?this.next(n,r):u},e.prototype.transitionCompoundNode=function(t,n,r){var i=Object.keys(t),u=this.getStateNode(i[0]),d=u._transition(t[i[0]],n,r);return!d||!d.transitions.length?this.next(n,r):d},e.prototype.transitionParallelNode=function(t,n,r){var i,u,d={};try{for(var l=$n(Object.keys(t)),y=l.next();!y.done;y=l.next()){var w=y.value,C=t[w];if(C){var P=this.getStateNode(w),O=P._transition(C,n,r);O&&(d[w]=O)}}}catch(N){i={error:N}}finally{try{y&&!y.done&&(u=l.return)&&u.call(l)}finally{if(i)throw i.error}}var I=Object.keys(d).map(function(N){return d[N]}),F=$r(I.map(function(N){return N.transitions})),V=I.some(function(N){return N.transitions.length>0});if(!V)return this.next(n,r);var Z=$r(I.map(function(N){return N.entrySet})),U=$r(Object.keys(d).map(function(N){return d[N].configuration}));return{transitions:F,entrySet:Z,exitSet:$r(I.map(function(N){return N.exitSet})),configuration:U,source:n,actions:$r(Object.keys(d).map(function(N){return d[N].actions}))}},e.prototype._transition=function(t,n,r){return rr(t)?this.transitionLeafNode(t,n,r):Object.keys(t).length===1?this.transitionCompoundNode(t,n,r):this.transitionParallelNode(t,n,r)},e.prototype.getTransitionData=function(t,n){return this._transition(t.value,t,qi(n))},e.prototype.next=function(t,n){var r,i,u=this,d=n.name,l=[],y=[],w;try{for(var C=$n(this.getCandidates(d)),P=C.next();!P.done;P=C.next()){var O=P.value,I=O.cond,F=O.in,V=t.context,Z=F?rr(F)&&mf(F)?t.matches(Up(this.getStateNodeById(F).path,this.delimiter)):LS(Up(F,this.delimiter),u8(this.path.slice(0,-2))(t.value)):!0,U=!1;try{U=!I||vR(this.machine,I,V,n,t)}catch(ee){throw new Error("Unable to evaluate guard '".concat(I.name||I.type,"' in transition for event '").concat(d,"' in state node '").concat(this.id,`':
`).concat(ee.message))}if(U&&Z){O.target!==void 0&&(y=O.target),l.push.apply(l,Pr([],jn(O.actions),!1)),w=O;break}}}catch(ee){r={error:ee}}finally{try{P&&!P.done&&(i=C.return)&&i.call(C)}finally{if(r)throw r.error}}if(w){if(!y.length)return{transitions:[w],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:l};var N=$r(y.map(function(ee){return u.getRelativeStateNodes(ee,t.historyValue)})),j=!!w.internal,Q=[];return j||y.forEach(function(ee){Q.push.apply(Q,Pr([],jn(u.getExternalReentryNodes(ee)),!1))}),{transitions:[w],entrySet:Q,exitSet:j?[]:[this],configuration:N,source:t,actions:l}}},e.prototype.getExternalReentryNodes=function(t){for(var n=[],r=jn(t.order>this.order?[t,this]:[this,t],2),i=r[0],u=r[1];i&&i!==u;)n.push(i),i=i.parent;return i!==u?[]:(n.push(u),n)},e.prototype.getActions=function(t,n,r,i,u,d,l){var y,w,C,P,O=this,I=Ep([],d?this.getStateNodes(d.value):[this]);try{for(var F=$n(t),V=F.next();!V.done;V=F.next()){var Z=V.value;(!xf(I,Z)||xf(r.entrySet,Z.parent)&&!xf(r.entrySet,Z))&&r.entrySet.push(Z)}}catch(he){y={error:he}}finally{try{V&&!V.done&&(w=F.return)&&w.call(F)}finally{if(y)throw y.error}}try{for(var U=$n(I),N=U.next();!N.done;N=U.next()){var Z=N.value;(!xf(t,Z)||xf(r.exitSet,Z.parent))&&r.exitSet.push(Z)}}catch(he){C={error:he}}finally{try{N&&!N.done&&(P=U.return)&&P.call(U)}finally{if(C)throw C.error}}var j=$r(r.entrySet.map(function(he){var Se=[];if(he.type!=="final")return Se;var De=he.parent;if(!De.parent)return Se;Se.push(Bg(he.id,he.doneData),Bg(De.id,he.doneData?zy(he.doneData,i,u):void 0));var He=De.parent;return He.type==="parallel"&&Tm(He).every(function(Be){return kv(r.configuration,Be)})&&Se.push(Bg(He.id)),Se}));r.exitSet.sort(function(he,Se){return Se.order-he.order}),r.entrySet.sort(function(he,Se){return he.order-Se.order});var Q=new Set(r.entrySet),ee=new Set(r.exitSet),Y=Array.from(Q).map(function(he){var Se=he.onEntry,De=he.activities.map(function(He){return E8(He)});return Qu(l?Pr(Pr([],jn(Se),!1),jn(De),!1):Pr(Pr([],jn(De),!1),jn(Se),!1),O.machine.options.actions)}).concat([j.map(_8)]),J=Array.from(ee).map(function(he){return Qu(Pr(Pr([],jn(he.onExit),!1),jn(he.activities.map(function(Se){return T8(Se)})),!1),O.machine.options.actions)}),se=J.concat([Qu(r.actions,this.machine.options.actions)]).concat(Y);if(n){var ge=Qu($r(Pr([],jn(t),!1).sort(function(he,Se){return Se.order-he.order}).map(function(he){return he.onExit})),this.machine.options.actions).filter(function(he){return he.type!==cd&&(he.type!==hd||!!he.to&&he.to!==Tc.Internal)});return se.concat([ge])}return se},e.prototype.transition=function(t,n,r,i){t===void 0&&(t=this.initialState);var u=qi(n),d;if(t instanceof Ha)d=r===void 0?t:this.resolveState(Ha.from(t,r));else{var l=rr(t)?this.resolve(Dy(this.getResolvedPath(t))):this.resolve(t),y=r??this.machine.context;d=this.resolveState(Ha.from(l,y))}if(this.strict&&!this.events.includes(u.name)&&!h8(u.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(u.name,"'"));var w=this._transition(d.value,d,u)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:d,actions:[]},C=Ep([],this.getStateNodes(d.value)),P=w.configuration.length?Ep(C,w.configuration):C;return w.configuration=Pr([],jn(P),!1),this.resolveTransition(w,d,d.context,i,u)},e.prototype.resolveRaisedTransition=function(t,n,r,i){var u,d=t.actions;return t=this.transition(t,n,void 0,i),t._event=r,t.event=r.data,(u=t.actions).unshift.apply(u,Pr([],jn(d),!1)),t},e.prototype.resolveTransition=function(t,n,r,i,u){var d,l,y,w,C=this;u===void 0&&(u=Gf);var P=t.configuration,O=!n||t.transitions.length>0,I=O?t.configuration:n?n.configuration:[],F=kv(I,this),V=O?M8(this.machine,P):void 0,Z=n?n.historyValue?n.historyValue:t.source?this.machine.historyValue(n.value):void 0:void 0,U=this.getActions(new Set(I),F,t,r,u,n,i),N=n?kt({},n.activities):{};try{for(var j=$n(U),Q=j.next();!Q.done;Q=j.next()){var ee=Q.value;try{for(var Y=(y=void 0,$n(ee)),J=Y.next();!J.done;J=Y.next()){var se=J.value;se.type===Lb?N[se.activity.id||se.activity.type]=se:se.type===kS&&(N[se.activity.id||se.activity.type]=!1)}}catch(ct){y={error:ct}}finally{try{J&&!J.done&&(w=Y.return)&&w.call(Y)}finally{if(y)throw y.error}}}}catch(ct){d={error:ct}}finally{try{Q&&!Q.done&&(l=j.return)&&l.call(j)}finally{if(d)throw d.error}}var ge=jn(Fy(this,n,r,u,U,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),he=ge[0],Se=ge[1],De=jn(d8(he,function(ct){return ct.type===cd||ct.type===hd&&ct.to===Tc.Internal}),2),He=De[0],Be=De[1],Je=he.filter(function(ct){var ht;return ct.type===Lb&&((ht=ct.activity)===null||ht===void 0?void 0:ht.type)===Rb}),Ge=Je.reduce(function(ct,ht){return ct[ht.activity.id]=k8(ht.activity,C.machine,Se,u),ct},n?kt({},n.children):{}),ut=new Ha({value:V||n.value,context:Se,_event:u,_sessionid:n?n._sessionid:null,historyValue:V?Z?p8(Z,V):void 0:n?n.historyValue:void 0,history:!V||t.source?n:void 0,actions:V?Be:[],activities:V?N:n?n.activities:{},events:[],configuration:I,transitions:t.transitions,children:Ge,done:F,tags:gP(I),machine:this}),Pe=r!==Se;ut.changed=u.name===hR||Pe;var We=ut.history;We&&delete We.history;var Me=!F&&(this._transient||P.some(function(ct){return ct._transient}));if(!O&&(!Me||u.name===$g))return ut;var Xe=ut;if(!F)for(Me&&(Xe=this.resolveRaisedTransition(Xe,{type:n8},u,i));He.length;){var et=He.shift();Xe=this.resolveRaisedTransition(Xe,et._event,u,i)}var mt=Xe.changed||(We?!!Xe.actions.length||Pe||typeof We.value!=typeof Xe.value||!TR(Xe.value,We.value):void 0);return Xe.changed=mt,Xe.history=We,Xe},e.prototype.getStateNode=function(t){if(mf(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[t];if(!n)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return n},e.prototype.getStateNodeById=function(t){var n=mf(t)?t.slice(Nb.length):t;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&mf(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var n=Db(t,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},e.prototype.resolve=function(t){var n,r=this;if(!t)return this.initialStateValue||pf;switch(this.type){case"parallel":return wp(this.initialStateValue,function(u,d){return u?r.getStateNode(d).resolve(t[d]||u):pf});case"compound":if(rr(t)){var i=this.getStateNode(t);return i.type==="parallel"||i.type==="compound"?(n={},n[t]=i.initialStateValue,n):t}return Object.keys(t).length?wp(t,function(u,d){return u?r.getStateNode(d).resolve(u):pf}):this.initialStateValue||{};default:return t||pf}},e.prototype.getResolvedPath=function(t){if(mf(t)){var n=this.machine.idMap[t.slice(Nb.length)];if(!n)throw new Error("Unable to find state node '".concat(t,"'"));return n.path}return Db(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=fP(this.states,function(r){return r.initialStateValue||pf},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=Ny(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,n){this._init();var r=this.getStateNodes(t);return this.resolveTransition({configuration:r,entrySet:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var n=this.config;rr(n.target)?t=mf(n.target)?Dy(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:t=n.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,n,r){return r===void 0&&(r=!0),r?t.type==="history"?t.resolveHistory(n):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(Ny(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=Pv(this.initialStateValue);return $r(n.map(function(r){return t.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var n=jn(t),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var u=this.getStateNode(r);if(u.type==="history")return u.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},e.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:fP(this.states,function(n,r){if(!t)return n.historyValue();var i=rr(t)?void 0:t[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},e.prototype.resolveHistory=function(t){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!t){var i=this.target;return i?$r(Pv(i).map(function(d){return r.getFromRelativePath(d)})):r.initialStateNodes}var u=c8(r.path,"states")(t).current;return rr(u)?[r.getStateNode(u)]:$r(Pv(u).map(function(d){return n.history==="deep"?r.getFromRelativePath(d):[r.states[d[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,n=$r(Object.keys(this.states).map(function(r){return t.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,n,r,i;if(this.__cache.events)return this.__cache.events;var u=this.states,d=new Set(this.ownEvents);if(u)try{for(var l=$n(Object.keys(u)),y=l.next();!y.done;y=l.next()){var w=y.value,C=u[w];if(C.states)try{for(var P=(r=void 0,$n(C.events)),O=P.next();!O.done;O=P.next()){var I=O.value;d.add("".concat(I))}}catch(F){r={error:F}}finally{try{O&&!O.done&&(i=P.return)&&i.call(P)}finally{if(r)throw r.error}}}}catch(F){t={error:F}}finally{try{y&&!y.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(d)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var n=this;if(t!==void 0)return t.map(function(r){if(!rr(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var u=i?n.key+r:r;if(n.parent)try{var d=n.parent.getStateNodeByPath(u);return d}catch(l){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(l.message))}else return n.getStateNodeByPath(u)})},e.prototype.formatTransition=function(t){var n=this,r=y8(t.target),i="internal"in t?t.internal:r?r.some(function(y){return rr(y)&&y[0]===n.delimiter}):!0,u=this.machine.options.guards,d=this.resolveTarget(r),l=kt(kt({},t),{actions:Qu(Es(t.actions)),cond:gR(t.cond,u),target:d,source:this,internal:i,eventType:t.event,toJSON:function(){return kt(kt({},l),{target:l.target?l.target.map(function(y){return"#".concat(y.id)}):void 0,source:"#".concat(n.id)})}});return l},e.prototype.formatTransitions=function(){var t,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var u=this.config.on,d=Hx,l=u[d],y=l===void 0?[]:l,w=IS(u,[typeof d=="symbol"?d:d+""]);i=$r(Object.keys(w).map(function(N){var j=df(N,w[N]);return j}).concat(df(Hx,y)))}var C=this.config.always?df("",this.config.always):[],P=this.config.onDone?df(String(Bg(this.id)),this.config.onDone):[],O=$r(this.invoke.map(function(N){var j=[];return N.onDone&&j.push.apply(j,Pr([],jn(df(String(Iv(N.id)),N.onDone)),!1)),N.onError&&j.push.apply(j,Pr([],jn(df(String(Sp(N.id)),N.onError)),!1)),j})),I=this.after,F=$r(Pr(Pr(Pr(Pr([],jn(P),!1),jn(O),!1),jn(i),!1),jn(C),!1).map(function(N){return Es(N).map(function(j){return r.formatTransition(j)})}));try{for(var V=$n(I),Z=V.next();!Z.done;Z=V.next()){var U=Z.value;F.push(U)}}catch(N){t={error:N}}finally{try{Z&&!Z.done&&(n=V.return)&&n.call(V)}finally{if(t)throw t.error}}return F},e}();function K8(e,t,n){return n===void 0&&(n=e.context),new W8(e,t,n)}var X8=P8,Bb;(function(e){e[e.Effect=1]="Effect",e[e.LayoutEffect=2]="LayoutEffect"})(Bb||(Bb={}));var yc=ce.useLayoutEffect;function yP(e){var t=ce.useRef();return t.current||(t.current={v:e()}),t.current.v}var Y8=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],d;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(l){d={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return u},Q8=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function J8(e,t){var n,r,i=Y8([[],[]],2),u=i[0],d=i[1];try{for(var l=Q8(e),y=l.next();!y.done;y=l.next()){var w=y.value;t(w)?u.push(w):d.push(w)}}catch(C){n={error:C}}finally{try{y&&!y.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return[u,d]}var sp=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],d;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(l){d={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return u},_P=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))};function xP(e,t){var n=e.exec,r=n(t.context,t._event.data,{action:e,state:t,_event:t._event});r()}function ej(e){var t=ce.useRef([]),n=ce.useRef([]);yc(function(){var r=e.subscribe(function(i){var u,d;if(i.actions.length){var l=i.actions.filter(function(P){return typeof P.exec=="function"&&"__effect"in P.exec}),y=sp(J8(l,function(P){return P.exec.__effect===Bb.Effect}),2),w=y[0],C=y[1];(u=t.current).push.apply(u,_P([],sp(w.map(function(P){return[P,i]})),!1)),(d=n.current).push.apply(d,_P([],sp(C.map(function(P){return[P,i]})),!1))}});return function(){r.unsubscribe()}},[]),yc(function(){for(;n.current.length;){var r=sp(n.current.shift(),2),i=r[0],u=r[1];xP(i,u)}}),ce.useEffect(function(){for(;t.current.length;){var r=sp(t.current.shift(),2),i=r[0],u=r[1];xP(i,u)}})}var Vp=globalThis&&globalThis.__assign||function(){return Vp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Vp.apply(this,arguments)},tj=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};globalThis&&globalThis.__read;function nj(e,t,n){if(typeof e=="object")return e;var r=function(){};return{next:e,error:t||r,complete:n||r}}function rj(e,t,n){t===void 0&&(t={});var r=yP(function(){return typeof e=="function"?e():e}),i=t.context,u=t.guards,d=t.actions,l=t.activities,y=t.services,w=t.delays,C=t.state,P=tj(t,["context","guards","actions","activities","services","delays","state"]),O=yP(function(){var I={context:i,guards:u,actions:d,activities:l,services:y,delays:w},F=r.withConfig(I,function(){return Vp(Vp({},r.context),i)});return CR(F,Vp({deferEvents:!0},P))});return yc(function(){var I;return n&&(I=O.subscribe(nj(n))),function(){I==null||I.unsubscribe()}},[n]),yc(function(){return O.start(C?Ha.create(C):void 0),function(){O.stop()}},[]),yc(function(){Object.assign(O.machine.options.actions,d),Object.assign(O.machine.options.guards,u),Object.assign(O.machine.options.activities,l),Object.assign(O.machine.options.services,y),Object.assign(O.machine.options.delays,w)},[d,u,l,y,w]),ej(O),O}var ij=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,u=[],d;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(l){d={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return u};globalThis&&globalThis.__spreadArray;function oj(e,t){t===void 0&&(t={});var n=ce.useCallback(function(l){var y=l.changed===void 0&&Object.keys(l.children).length;(l.changed||y)&&d(l)},[]),r=rj(e,t,n),i=ij(ce.useState(function(){var l=r.machine.initialState;return t.state?Ha.create(t.state):l}),2),u=i[0],d=i[1];return[u,r.send,r]}const Mn={arr:Array.isArray,obj:e=>Object.prototype.toString.call(e)==="[object Object]",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0,nul:e=>e===null,set:e=>e instanceof Set,map:e=>e instanceof Map,equ(e,t){if(typeof e!=typeof t)return!1;if(Mn.str(e)||Mn.num(e))return e===t;if(Mn.obj(e)&&Mn.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;let n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return Mn.und(n)?e===t:!0}};function aj(e,t){return t===void 0&&(t=!0),n=>(Mn.arr(n)?n:Object.keys(n)).reduce((r,i)=>{const u=t?i[0].toLowerCase()+i.substring(1):i;return r[u]=e(u),r},e)}function sj(){const e=ce.useState(!1),t=e[1];return ce.useCallback(()=>t(r=>!r),[])}function oh(e,t){return Mn.und(e)||Mn.nul(e)?t:e}function jg(e){return Mn.und(e)?[]:Mn.arr(e)?e:[e]}function Mf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mn.fun(e)?e(...n):e}function lj(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,yh(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function Zx(e){const t=lj(e);if(Mn.und(t))return Dt({to:t},e);const n=Object.keys(e).reduce((r,i)=>Mn.und(t[i])?Dt({},r,{[i]:e[i]}):r,{});return Dt({to:t},n)}function uj(e,t){return t&&(Mn.fun(t)?t(e):Mn.obj(t)&&(t.current=e)),e}class As{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(t){this.children.length===0&&this.attach(),this.children.push(t)}removeChild(t){const n=this.children.indexOf(t);this.children.splice(n,1),this.children.length===0&&this.detach()}}class Ub extends As{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(t=>t instanceof As&&t.addChild(this)),this.detach=()=>this.payload.forEach(t=>t instanceof As&&t.removeChild(this))}}class PR extends As{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(t=>t instanceof As&&t.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(t=>t instanceof As&&t.removeChild(this))}getValue(t){t===void 0&&(t=!1);const n={};for(const r in this.payload){const i=this.payload[r];t&&!(i instanceof As)||(n[r]=i instanceof As?i[t?"getAnimatedValue":"getValue"]():i)}return n}getAnimatedValue(){return this.getValue(!0)}}let zS;function cj(e,t){zS={fn:e,transform:t}}let AR;function hj(e){AR=e}let IR=e=>typeof window<"u"?window.requestAnimationFrame(e):-1,By;function fj(e){By=e}let kR=()=>Date.now(),dj=e=>e.current,OR;function pj(e){OR=e}class mj extends PR{constructor(t,n){super(),this.update=void 0,this.payload=t.style?Dt({},t,{style:OR(t.style)}):t,this.update=n,this.attach()}}const gj=e=>Mn.fun(e)&&!(e.prototype instanceof Er.Component),vj=e=>ce.forwardRef((n,r)=>{const i=sj(),u=ce.useRef(!0),d=ce.useRef(null),l=ce.useRef(null),y=ce.useCallback(O=>{const I=d.current,F=()=>{let V=!1;l.current&&(V=zS.fn(l.current,d.current.getAnimatedValue())),(!l.current||V===!1)&&i()};d.current=new mj(O,F),I&&I.detach()},[]);ce.useEffect(()=>()=>{u.current=!1,d.current&&d.current.detach()},[]),ce.useImperativeHandle(r,()=>dj(l)),y(n);const w=d.current.getValue();w.scrollTop,w.scrollLeft;const C=yh(w,["scrollTop","scrollLeft"]),P=gj(e)?void 0:O=>l.current=uj(O,r);return Er.createElement(e,Dt({},C,{ref:P}))});let $p=!1;const xh=new Set,LR=()=>{if(!$p)return!1;let e=kR();for(let t of xh){let n=!1;for(let r=0;r<t.configs.length;r++){let i=t.configs[r],u,d;for(let l=0;l<i.animatedValues.length;l++){let y=i.animatedValues[l];if(y.done)continue;let w=i.fromValues[l],C=i.toValues[l],P=y.lastPosition,O=C instanceof As,I=Array.isArray(i.initialVelocity)?i.initialVelocity[l]:i.initialVelocity;if(O&&(C=C.getValue()),i.immediate){y.setValue(C),y.done=!0;continue}if(typeof w=="string"||typeof C=="string"){y.setValue(C),y.done=!0;continue}if(i.duration!==void 0)P=w+i.easing((e-y.startTime)/i.duration)*(C-w),u=e>=y.startTime+i.duration;else if(i.decay)P=w+I/(1-.998)*(1-Math.exp(-(1-.998)*(e-y.startTime))),u=Math.abs(y.lastPosition-P)<.1,u&&(C=P);else{d=y.lastTime!==void 0?y.lastTime:e,I=y.lastVelocity!==void 0?y.lastVelocity:i.initialVelocity,e>d+64&&(d=e);let F=Math.floor(e-d);for(let N=0;N<F;++N){let j=-i.tension*(P-C),Q=-i.friction*I,ee=(j+Q)/i.mass;I=I+ee*1/1e3,P=P+I*1/1e3}let V=i.clamp&&i.tension!==0?w<C?P>C:P<C:!1,Z=Math.abs(I)<=i.precision,U=i.tension!==0?Math.abs(C-P)<=i.precision:!0;u=V||Z&&U,y.lastVelocity=I,y.lastTime=e}O&&!i.toValues[l].done&&(u=!1),u?(y.value!==C&&(P=C),y.done=!0):n=!0,y.setValue(P),y.lastPosition=P}t.props.onFrame&&(t.values[i.name]=i.interpolation.getValue())}t.props.onFrame&&t.props.onFrame(t.values),n||(xh.delete(t),t.stop(!0))}return xh.size?IR(LR):$p=!1,$p},yj=e=>{xh.has(e)||xh.add(e),$p||($p=!0,IR(LR))},_j=e=>{xh.has(e)&&xh.delete(e)};function Uy(e,t,n){if(typeof e=="function")return e;if(Array.isArray(e))return Uy({range:e,output:t,extrapolate:n});if(By&&typeof e.output[0]=="string")return By(e);const r=e,i=r.output,u=r.range||[0,1],d=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",y=r.easing||(w=>w);return w=>{const C=bj(w,u);return xj(w,u[C],u[C+1],i[C],i[C+1],y,d,l,r.map)}}function xj(e,t,n,r,i,u,d,l,y){let w=y?y(e):e;if(w<t){if(d==="identity")return w;d==="clamp"&&(w=t)}if(w>n){if(l==="identity")return w;l==="clamp"&&(w=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?w=-w:n===1/0?w=w-t:w=(w-t)/(n-t),w=u(w),r===-1/0?w=-w:i===1/0?w=w+r:w=w*(i-r)+r,w)}function bj(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}class dd extends Ub{constructor(t,n,r,i){super(),this.calc=void 0,this.payload=t instanceof Ub&&!(t instanceof dd)?t.getPayload():Array.isArray(t)?t:[t],this.calc=Uy(n,r,i)}getValue(){return this.calc(...this.payload.map(t=>t.getValue()))}updateConfig(t,n,r){this.calc=Uy(t,n,r)}interpolate(t,n,r){return new dd(this,t,n,r)}}const gf=(e,t,n)=>e&&new dd(e,t,n),wj={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};function RR(e,t){"update"in e?t.add(e):e.getChildren().forEach(n=>RR(n,t))}class Vb extends As{constructor(t){var n;super(),n=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(r,i){i===void 0&&(i=!0),n.value=r,i&&n.flush()},this.value=t,this.startPosition=t,this.lastPosition=t}flush(){this.animatedStyles.size===0&&RR(this,this.animatedStyles),this.animatedStyles.forEach(t=>t.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(t,n,r){return new dd(this,t,n,r)}}class Sj extends Ub{constructor(t){super(),this.payload=t.map(n=>new Vb(n))}setValue(t,n){n===void 0&&(n=!0),Array.isArray(t)?t.length===this.payload.length&&t.forEach((r,i)=>this.payload[i].setValue(r,n)):this.payload.forEach(r=>r.setValue(t,n))}getValue(){return this.payload.map(t=>t.getValue())}interpolate(t,n){return new dd(this,t,n)}}let Ej=0,Tj=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=Ej++}update(t){if(!t)return this;const n=Zx(t),r=n.delay,i=r===void 0?0:r,u=n.to,d=yh(n,["delay","to"]);if(Mn.arr(u)||Mn.fun(u))this.queue.push(Dt({},d,{delay:i,to:u}));else if(u){let l={};Object.entries(u).forEach(y=>{let w=y[0],C=y[1];const P=Dt({to:{[w]:C},delay:Mf(i,w)},d),O=l[P.delay]&&l[P.delay].to;l[P.delay]=Dt({},l[P.delay],P,{to:Dt({},O,P.to)})}),this.queue=Object.values(l)}return this.queue=this.queue.sort((l,y)=>l.delay-y.delay),this.diff(d),this}start(t){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(i=>{let u=i.from,d=u===void 0?{}:u,l=i.to,y=l===void 0?{}:l;Mn.obj(d)&&(this.merged=Dt({},d,this.merged)),Mn.obj(y)&&(this.merged=Dt({},this.merged,y))});const n=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((i,u)=>{let d=i.delay,l=yh(i,["delay"]);const y=C=>{u===r.length-1&&n===this.guid&&C&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),t&&t()};let w=Mn.arr(l.to)||Mn.fun(l.to);d?setTimeout(()=>{n===this.guid&&(w?this.runAsync(l,y):this.diff(l).start(y))},d):w?this.runAsync(l,y):this.diff(l).start(y)})}else Mn.fun(t)&&this.listeners.push(t),this.props.onStart&&this.props.onStart(),yj(this);return this}stop(t){return this.listeners.forEach(n=>n(t)),this.listeners=[],this}pause(t){return this.stop(!0),t&&_j(this),this}runAsync(t,n){var r=this;t.delay;let i=yh(t,["delay"]);const u=this.local;let d=Promise.resolve(void 0);if(Mn.arr(i.to))for(let l=0;l<i.to.length;l++){const y=l,w=Dt({},i,Zx(i.to[y]));Mn.arr(w.config)&&(w.config=w.config[y]),d=d.then(()=>{if(u===this.guid)return new Promise(C=>this.diff(w).start(C))})}else if(Mn.fun(i.to)){let l=0,y;d=d.then(()=>i.to(w=>{const C=Dt({},i,Zx(w));if(Mn.arr(C.config)&&(C.config=C.config[l]),l++,u===this.guid)return y=new Promise(P=>this.diff(C).start(P))},function(w){return w===void 0&&(w=!0),r.stop(w)}).then(()=>y))}d.then(n)}diff(t){this.props=Dt({},this.props,t);let n=this.props,r=n.from,i=r===void 0?{}:r,u=n.to,d=u===void 0?{}:u,l=n.config,y=l===void 0?{}:l,w=n.reverse,C=n.attach,P=n.reset,O=n.immediate;if(w){var I=[d,i];i=I[0],d=I[1]}this.merged=Dt({},i,this.merged,d),this.hasChanged=!1;let F=C&&C(this);if(this.animations=Object.entries(this.merged).reduce((V,Z)=>{let U=Z[0],N=Z[1],j=V[U]||{};const Q=Mn.num(N),ee=Mn.str(N)&&!N.startsWith("#")&&!/\d/.test(N)&&!AR[N],Y=Mn.arr(N),J=!Q&&!Y&&!ee;let se=Mn.und(i[U])?N:i[U],ge=Q||Y||ee?N:1,he=Mf(y,U);F&&(ge=F.animations[U].parent);let Se=j.parent,De=j.interpolation,He=jg(F?ge.getPayload():ge),Be,Je=N;J&&(Je=By({range:[0,1],output:[N,N]})(1));let Ge=De&&De.getValue();const Pe=!Mn.und(Se)&&j.animatedValues.some(et=>!et.done),We=!Mn.equ(Je,Ge),Me=!Mn.equ(Je,j.previous),Xe=!Mn.equ(he,j.config);if(P||Me&&We||Xe){if(Q||ee)Se=De=j.parent||new Vb(se);else if(Y)Se=De=j.parent||new Sj(se);else if(J){let et=j.interpolation&&j.interpolation.calc(j.parent.value);et=et!==void 0&&!P?et:se,j.parent?(Se=j.parent,Se.setValue(0,!1)):Se=new Vb(0);const mt={output:[et,N]};j.interpolation?(De=j.interpolation,j.interpolation.updateConfig(mt)):De=Se.interpolate(mt)}return He=jg(F?ge.getPayload():ge),Be=jg(Se.getPayload()),P&&!J&&Se.setValue(se,!1),this.hasChanged=!0,Be.forEach(et=>{et.startPosition=et.value,et.lastPosition=et.value,et.lastVelocity=Pe?et.lastVelocity:void 0,et.lastTime=Pe?et.lastTime:void 0,et.startTime=kR(),et.done=!1,et.animatedStyles.clear()}),Mf(O,U)&&Se.setValue(J?ge:N,!1),Dt({},V,{[U]:Dt({},j,{name:U,parent:Se,interpolation:De,animatedValues:Be,toValues:He,previous:Je,config:he,fromValues:jg(Se.getValue()),immediate:Mf(O,U),initialVelocity:oh(he.velocity,0),clamp:oh(he.clamp,!1),precision:oh(he.precision,.01),tension:oh(he.tension,170),friction:oh(he.friction,26),mass:oh(he.mass,1),duration:he.duration,easing:oh(he.easing,et=>et),decay:he.decay})})}else return We?V:(J&&(Se.setValue(1,!1),De.updateConfig({output:[Je,Je]})),Se.done=!0,this.hasChanged=!0,Dt({},V,{[U]:Dt({},V[U],{previous:Je})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let V in this.animations)this.interpolations[V]=this.animations[V].interpolation,this.values[V]=this.animations[V].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}};const Cj=(e,t)=>{const n=ce.useRef(!1),r=ce.useRef(),i=Mn.fun(t),u=ce.useMemo(()=>{r.current&&(r.current.map(P=>P.destroy()),r.current=void 0);let C;return[new Array(e).fill().map((P,O)=>{const I=new Tj,F=i?Mf(t,O,I):t[O];return O===0&&(C=F.ref),I.update(F),C||I.start(),I}),C]},[e]),d=u[0],l=u[1];r.current=d,ce.useImperativeHandle(l,()=>({start:()=>Promise.all(r.current.map(C=>new Promise(P=>C.start(P)))),stop:C=>r.current.forEach(P=>P.stop(C)),get controllers(){return r.current}}));const y=ce.useMemo(()=>C=>r.current.map((P,O)=>{P.update(i?Mf(C,O,P):C[O]),l||P.start()}),[e]);ce.useEffect(()=>{n.current?i||y(t):l||r.current.forEach(C=>C.start())}),ce.useEffect(()=>(n.current=!0,()=>r.current.forEach(C=>C.destroy())),[]);const w=r.current.map(C=>C.getValues());return i?[w,y,C=>r.current.forEach(P=>P.pause(C))]:w},Pj=e=>{const t=Mn.fun(e),n=Cj(1,t?e:[e]),r=n[0],i=n[1],u=n[2];return t?[r[0],i,u]:r};class Aj extends PR{constructor(t){t===void 0&&(t={}),super(),t.transform&&!(t.transform instanceof As)&&(t=zS.transform(t)),this.payload=t}}const Vy={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ks="[-+]?\\d*\\.?\\d+",$y=ks+"%";function t0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const Ij=new RegExp("rgb"+t0(ks,ks,ks)),kj=new RegExp("rgba"+t0(ks,ks,ks,ks)),Oj=new RegExp("hsl"+t0(ks,$y,$y)),Lj=new RegExp("hsla"+t0(ks,$y,$y,ks)),Rj=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Mj=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Dj=/^#([0-9a-fA-F]{6})$/,zj=/^#([0-9a-fA-F]{8})$/;function Fj(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Dj.exec(e))?parseInt(t[1]+"ff",16)>>>0:Vy.hasOwnProperty(e)?Vy[e]:(t=Ij.exec(e))?(vf(t[1])<<24|vf(t[2])<<16|vf(t[3])<<8|255)>>>0:(t=kj.exec(e))?(vf(t[1])<<24|vf(t[2])<<16|vf(t[3])<<8|SP(t[4]))>>>0:(t=Rj.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=zj.exec(e))?parseInt(t[1],16)>>>0:(t=Mj.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Oj.exec(e))?(bP(wP(t[1]),qg(t[2]),qg(t[3]))|255)>>>0:(t=Lj.exec(e))?(bP(wP(t[1]),qg(t[2]),qg(t[3]))|SP(t[4]))>>>0:null}function Wx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bP(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,u=Wx(i,r,e+1/3),d=Wx(i,r,e),l=Wx(i,r,e-1/3);return Math.round(u*255)<<24|Math.round(d*255)<<16|Math.round(l*255)<<8}function vf(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function wP(e){return(parseFloat(e)%360+360)%360/360}function SP(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function qg(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function EP(e){let t=Fj(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,u=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${u})`}const Gg=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Nj=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Bj=new RegExp(`(${Object.keys(Vy).join("|")})`,"g"),Uj=e=>{const t=e.output.map(i=>i.replace(Nj,EP)).map(i=>i.replace(Bj,EP)),n=t[0].match(Gg).map(()=>[]);t.forEach(i=>{i.match(Gg).forEach((u,d)=>n[d].push(+u))});const r=t[0].match(Gg).map((i,u)=>Uy(Dt({},e,{output:n[u]})));return i=>{let u=0;return t[0].replace(Gg,()=>r[u++](i)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(d,l,y,w,C)=>`rgba(${Math.round(l)}, ${Math.round(y)}, ${Math.round(w)}, ${C})`)}};let jp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Vj=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),$j=["Webkit","Ms","Moz","O"];jp=Object.keys(jp).reduce((e,t)=>($j.forEach(n=>e[Vj(n,t)]=e[t]),e),jp);function jj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":!n&&typeof t=="number"&&t!==0&&!(jp.hasOwnProperty(e)&&jp[e])?t+"px":(""+t).trim()}const TP={};pj(e=>new Aj(e));fj(Uj);hj(Vy);cj((e,t)=>{if(e.nodeType&&e.setAttribute!==void 0){const i=t.style,u=t.children,d=t.scrollTop,l=t.scrollLeft,y=yh(t,["style","children","scrollTop","scrollLeft"]),w=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter";d!==void 0&&(e.scrollTop=d),l!==void 0&&(e.scrollLeft=l),u!==void 0&&(e.textContent=u);for(let C in i)if(i.hasOwnProperty(C)){var n=C.indexOf("--")===0,r=jj(C,i[C],n);C==="float"&&(C="cssFloat"),n?e.style.setProperty(C,r):e.style[C]=r}for(let C in y){const P=w?C:TP[C]||(TP[C]=C.replace(/([A-Z])/g,O=>"-"+O.toLowerCase()));typeof e.getAttribute(P)<"u"&&e.setAttribute(P,y[C])}return}else return!1},e=>e);const qj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Gj=aj(vj,!1),Hj=Gj(qj);function CP(e,t){return e.map(function(n,r){return n+t[r]})}function MR(e,t){return e.map(function(n,r){return n-t[r]})}function $b(e){return Math.hypot.apply(Math,e)}function Zj(e,t,n){var r=$b(t),i=r===0?0:1/r,u=n===0?0:1/n,d=u*r,l=t.map(function(C){return u*C}),y=t.map(function(C){return i*C}),w=$b(e);return{velocities:l,velocity:d,distance:w,direction:y}}function jb(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function Wj(e,t,n){return Math.max(t,Math.min(e,n))}function Kj(e,t){return Math.pow(e,t*5)}function PP(e,t,n){return t===0||Math.abs(t)===1/0?Kj(e,n):e*t*n/(t+n*e)}function qp(e,t,n,r){return r===void 0&&(r=.15),r===0?Wj(e,t,n):e<t?-PP(t-e,n-t,r)+t:e>n?+PP(e-n,n-t,r)+n:e}function AP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xj(e,t,n){return t&&AP(e.prototype,t),n&&AP(e,n),e}function Ro(){return Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(this,arguments)}function DR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Yj(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,u;for(u=0;u<r.length;u++)i=r[u],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Hg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qj(e,t){if(e){if(typeof e=="string")return IP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(e,t)}}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n0(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=Qj(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}function zR(){}function FR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?zR:t.length===1?t[0]:function(){for(var r,i=n0(t),u;!(u=i()).done;){var d=u.value;r=d.apply(this,arguments)||r}return r}}function Ju(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function Zg(e){if(typeof e=="function"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}else return e}function FS(e,t){e===void 0&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var u=i[r],d=u[0],l=u[1];switch(typeof l){case"function":n[d]=l.call(n,e[d],d,e);break;case"object":n[d]=FS(e[d],l);break;case"boolean":l&&(n[d]=e[d]);break}}return n}var Jj=180,e9=.15,t9=.5,n9=60,r9={threshold:function(t){return t===void 0&&(t=0),Ju(t)},rubberband:function(t){switch(t===void 0&&(t=0),t){case!0:return Ju(e9);case!1:return Ju(0);default:return Ju(t)}},enabled:function(t){return t===void 0&&(t=!0),t},triggerAllEvents:function(t){return t===void 0&&(t=!1),t},initial:function(t){return t===void 0&&(t=0),typeof t=="function"?t:Ju(t)}},NR=Ro({},r9,{axis:!0,lockDirection:function(t){return t===void 0&&(t=!1),t},bounds:function(t){if(t===void 0&&(t={}),typeof t=="function")return function(P){return NR.bounds(t(P))};var n=t,r=n.left,i=r===void 0?-1/0:r,u=n.right,d=u===void 0?1/0:u,l=n.top,y=l===void 0?-1/0:l,w=n.bottom,C=w===void 0?1/0:w;return[[i,d],[y,C]]}}),i9=typeof window<"u"&&window.document&&window.document.createElement,o9={enabled:function(t){return t===void 0&&(t=!0),t},domTarget:!0,window:function(e){function t(n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return e===void 0&&(e=i9?window:void 0),e}),eventOptions:function(t){var n=t===void 0?{}:t,r=n.passive,i=r===void 0?!0:r,u=n.capture,d=u===void 0?!1:u;return{passive:i,capture:d}}},a9=Ro({},NR,{threshold:function(t,n,r){var i=r.filterTaps,u=i===void 0?!1:i,d=r.lockDirection,l=d===void 0?!1:d,y=r.axis,w=y===void 0?void 0:y,C=Ju(t,u?3:l||w?1:0);return this.filterTaps=u||C[0]+C[1]>0,C},swipeVelocity:function(t){return t===void 0&&(t=t9),Ju(t)},swipeDistance:function(t){return t===void 0&&(t=n9),Ju(t)},delay:function(t){switch(t===void 0&&(t=0),t){case!0:return Jj;case!1:return 0;default:return t}}});function s9(e){return e===void 0&&(e={}),FS(e,o9)}function l9(e){return e===void 0&&(e={}),FS(e,a9)}function u9(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,u=Yj(e,["domTarget","eventOptions","window","enabled"]),d=s9({domTarget:t,eventOptions:n,window:r,enabled:i});return d.drag=l9(u),d}function lp(e){return Ro({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:zR,canceled:!1,memo:void 0,args:void 0},e)}function BR(){var e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},t=lp({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),n=lp({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=lp({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=lp({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),u=lp({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:n,wheel:r,move:i,scroll:u}}var ch=new Map,c9=function(){function e(n,r){var i=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(u,d){var l;d===void 0&&(d=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var y=arguments.length,w=new Array(y>2?y-2:0),C=2;C<y;C++)w[C-2]=arguments[C];i.controller.timeouts[i.stateKey]=(l=window).setTimeout.apply(l,[u,d].concat(w))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(u){if(u===void 0&&(u=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!u&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var d=i.state.active,l=i.state._active;i.state.active=l,i.state.first=l&&!d,i.state.last=d&&!l,i.controller.state.shared[i.ingKey]=l}var y=Ro({},i.controller.state.shared,i.state,i.mapStateValues(i.state)),w=i.handler(y);return i.state.memo=w!==void 0?w:i.state.memo,i.state._active||i.clean(),y}}var t=e.prototype;return t.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},t.updateGestureState=function(r){Object.assign(this.state,r)},t.checkIntentionality=function(r,i){return{_intentional:r,_blocked:!1}},t.getMovement=function(r){var i=this.config,u=i.initial,d=i.bounds,l=i.rubberband,y=i.threshold,w=this.state,C=w._bounds,P=w._initial,O=w._active,I=w._intentional,F=w.lastOffset,V=w.movement,Z=this.getInternalMovement(r,this.state),U=I[0]===!1?kP(Z[0],y[0]):I[0],N=I[1]===!1?kP(Z[1],y[1]):I[1],j=this.checkIntentionality([U,N],Z);if(j._blocked)return Ro({},j,{_movement:Z,delta:[0,0]});var Q=j._intentional,ee=Z,Y,J;if(Q[0]!==!1&&I[0]===!1&&(J=Zg(u,this.state),Y=Zg(d,this.state),P[0]=J[0],C[0]=Y[0]),Q[1]!==!1&&I[1]===!1){var se,ge;J=(se=J)!=null?se:Zg(u,this.state),Y=(ge=Y)!=null?ge:Zg(d,this.state),P[1]=J[1],C[1]=Y[1]}var he=[Q[0]!==!1?Z[0]-Q[0]:P[0],Q[1]!==!1?Z[1]-Q[1]:P[1]],Se=CP(he,F),De=O?l:[0,0];return he=OP(C,CP(he,P),De),Ro({},j,{intentional:Q[0]!==!1||Q[1]!==!1,_initial:P,_movement:ee,movement:he,values:r,offset:OP(C,Se,De),delta:MR(he,V)})},t.clean=function(){this.clearTimeout()},Xj(e,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),e}();function kP(e,t){return Math.abs(e)>=t?jb(e)*t:!1}function OP(e,t,n){var r=t[0],i=t[1],u=n[0],d=n[1],l=e[0],y=l[0],w=l[1],C=e[1],P=C[0],O=C[1];return[qp(r,y,w,u),qp(i,P,O,d)]}function Kx(e,t,n){var r=e.state,i=e.args,u=t.timeStamp,d=t.type,l=r.values,y=n?0:u-r.startTime;return{_lastEventType:d,event:t,timeStamp:u,elapsedTime:y,args:i,previous:l}}function h9(e,t,n){var r=e.state.offset,i=n.timeStamp;return Ro({},BR()[e.stateKey],{_active:!0,values:t,initial:t,offset:r,lastOffset:r,startTime:i})}function f9(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return e.call.apply(e,[this,Ro({},t,{event:n})].concat(i))}}var d9=function(t){var n=this;this.classes=t,this.bind=function(){for(var r={},i=arguments.length,u=new Array(i),d=0;d<i;d++)u[d]=arguments[d];for(var l=n0(n.classes),y;!(y=l()).done;){var w=y.value;new w(n,u).addBindings(r)}for(var C=0,P=Object.entries(n.nativeRefs);C<P.length;C++){var O=P[C],I=O[0],F=O[1];qb(r,I,f9(F,Ro({},n.state.shared,{args:u})))}return n.config.domTarget?v9(n,r):y9(n,r)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=VR(n.config),i=n.config.eventOptions;r&&Gm(r,UR(n.domListeners),i),Object.values(n.timeouts).forEach(clearTimeout),p9(n)},this.state=BR(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function p9(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(n){for(var u in i){var d=i[u];Gm(n,d,r)}e.windowListeners={}}}function m9(e,t){var n=e.config,r=e.windowListeners;n.window&&(Gm(n.window,r[t],n.eventOptions),delete r[t])}function g9(e,t,n){var r=e.config,i=e.windowListeners;n===void 0&&(n=[]),r.window&&(Gm(r.window,i[t],r.eventOptions),$R(r.window,i[t]=n,r.eventOptions))}function v9(e,t){var n=e.config,r=e.domListeners,i=VR(n);if(!i)throw new Error("domTarget must be defined");var u=n.eventOptions;Gm(i,UR(r),u);for(var d=0,l=Object.entries(t);d<l.length;d++){var y=l[d],w=y[0],C=y[1],P=w.slice(2).toLowerCase();r.push([P,FR.apply(void 0,C)])}$R(i,r,u)}function y9(e,t){for(var n=e.config,r={},i=n.eventOptions.capture?"Capture":"",u=0,d=Object.entries(t);u<d.length;u++){var l=d[u],y=l[0],w=l[1],C=Array.isArray(w)?w:[w],P=y+i;r[P]=FR.apply(void 0,C)}return r}function UR(e){return e===void 0&&(e=[]),e.splice(0,e.length)}function VR(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function qb(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function $R(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={});for(var r=n0(t),i;!(i=r()).done;){var u=i.value,d=u[0],l=u[1];e.addEventListener(d,l,n)}}function Gm(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={});for(var r=n0(t),i;!(i=r()).done;){var u=i.value,d=u[0],l=u[1];e.removeEventListener(d,l,n)}}function _9(e,t,n){n===void 0&&(n={});var r=b9(e),i=Er.useMemo(function(){return new d9(r)},[]);return i.config=t,i.handlers=e,i.nativeRefs=n,Er.useEffect(i.effect,[]),i.config.domTarget?x9:i.bind}function x9(){}function b9(e){var t=new Set;return e.drag&&t.add(ch.get("drag")),e.wheel&&t.add(ch.get("wheel")),e.scroll&&t.add(ch.get("scroll")),e.move&&t.add(ch.get("move")),e.pinch&&t.add(ch.get("pinch")),e.hover&&t.add(ch.get("hover")),t}var w9=function(e){DR(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.getInternalMovement=function(i,u){return MR(i,u.initial)},n.checkIntentionality=function(i,u){if(i[0]===!1&&i[1]===!1)return{_intentional:i,axis:this.state.axis};var d=u.map(Math.abs),l=d[0],y=d[1],w=this.state.axis||(l>y?"x":l<y?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:i,_blocked:!1,axis:w}:w?this.config.axis&&w!==this.config.axis?{_intentional:i,_blocked:!0,axis:w}:(i[w==="x"?1:0]=!1,{_intentional:i,_blocked:!1,axis:w}):{_intentional:[!1,!1],_blocked:!1,axis:w}},n.getKinematics=function(i,u){var d=this.getMovement(i);if(!d._blocked){var l=u.timeStamp-this.state.timeStamp;Object.assign(d,Zj(d.movement,d.delta,l))}return d},n.mapStateValues=function(i){return{xy:i.values,vxvy:i.velocities}},t}(c9);function jR(e){if("touches"in e){var t=e.targetTouches,n=e.changedTouches;return t.length>0?t:n}return null}function LP(e){var t="buttons"in e?e.buttons:0,n=jR(e),r=n&&n.length||0,i=r>0||t>0,u=e.shiftKey,d=e.altKey,l=e.metaKey,y=e.ctrlKey;return{touches:r,down:i,buttons:t,shiftKey:u,altKey:d,metaKey:l,ctrlKey:y}}function RP(e){var t=jR(e),n=t?t[0]:e,r=n.clientX,i=n.clientY;return[r,i]}var S9=3,E9=220,T9=function(e){DR(t,e);function t(){var r;return r=e.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.onDragStart=function(i){!r.enabled||r.state._active||(g9(r.controller,r.stateKey,[["pointermove",r.onDragChange],["pointerup",r.onDragEnd],["pointercancel",r.onDragEnd]]),r.updateGestureState({_pointerId:i.pointerId}),r.config.delay>0?(r.state._delayedEvent=!0,"persist"in i&&typeof i.persist=="function"&&i.persist(),r.setTimeout(r.startDrag.bind(Hg(r)),r.config.delay,i)):r.startDrag(i))},r.onDragChange=function(i){if(!r.state.canceled&&i.pointerId===r.state._pointerId){if(!r.state._active){r.state._delayedEvent&&(r.clearTimeout(),r.startDrag(i));return}var u=LP(i);if(!u.down){r.onDragEnd(i);return}r.updateSharedState(u);var d=RP(i),l=r.getKinematics(d,i),y=Kx(Hg(r),i),w=r.state._isTap,C=$b(l._movement);w&&C>=S9&&(w=!1),r.updateGestureState(Ro({},y,l,{_isTap:w})),r.fireGestureHandler()}},r.onDragEnd=function(i){if(i.pointerId===r.state._pointerId){r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0});var u=r.state._isTap,d=r.state.velocities,l=d[0],y=d[1],w=r.state.movement,C=w[0],P=w[1],O=r.state._intentional,I=O[0],F=O[1],V=r.config.swipeVelocity,Z=V[0],U=V[1],N=r.config.swipeDistance,j=N[0],Q=N[1],ee=Ro({},Kx(Hg(r),i),r.getMovement(r.state.values)),Y=[0,0];ee.elapsedTime<E9&&(I!==!1&&Math.abs(l)>Z&&Math.abs(C)>j&&(Y[0]=jb(l)),F!==!1&&Math.abs(y)>U&&Math.abs(P)>Q&&(Y[1]=jb(y))),r.updateGestureState(Ro({},ee,{tap:u,swipe:Y})),r.fireGestureHandler(u===!0)}},r.clean=function(){e.prototype.clean.call(Hg(r)),r.state._delayedEvent=!1,m9(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0}),r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return r.fireGestureHandler()}))},r.onClick=function(i){r.state._isTap||i.stopPropagation()},r}var n=t.prototype;return n.startDrag=function(i){var u=RP(i);this.updateSharedState(LP(i)),this.updateGestureState(Ro({},h9(this,u,i),Kx(this,i,!0),{_pointerId:i.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(u)),this.fireGestureHandler()},n.addBindings=function(i){if(qb(i,"onPointerDown",this.onDragStart),this.config.filterTaps){var u=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";qb(i,u,this.onClick)}},t}(w9);function C9(e,t){var n,r=[],i,u=!1;function d(){for(var l=arguments.length,y=new Array(l),w=0;w<l;w++)y[w]=arguments[w];return u&&n===this&&t(y,r)||(i=e.apply(this,y),u=!0,n=this,r=y),i}return d}function Ov(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ov(e[r],t[r]))return!1;return!0}var u;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(u=e.entries();!(r=u.next()).done;)if(!t.has(r.value[0]))return!1;for(u=e.entries();!(r=u.next()).done;)if(!Ov(r.value[1],t.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(u=e.entries();!(r=u.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!(i[r]==="_owner"&&e.$$typeof)&&!Ov(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}function P9(e,t){try{return Ov(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function A9(e,t){t===void 0&&(t={}),ch.set("drag",T9);var n=ce.useRef();return n.current||(n.current=C9(u9,P9)),_9({drag:e},n.current(t))}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var qR=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],jy=qR.join(","),GR=typeof Element>"u",Ih=GR?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Gb=!GR&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},HR=function(t,n,r){var i=Array.prototype.slice.apply(t.querySelectorAll(jy));return n&&Ih.call(t,jy)&&i.unshift(t),i=i.filter(r),i},ZR=function e(t,n,r){for(var i=[],u=Array.from(t);u.length;){var d=u.shift();if(d.tagName==="SLOT"){var l=d.assignedElements(),y=l.length?l:d.children,w=e(y,!0,r);r.flatten?i.push.apply(i,w):i.push({scope:d,candidates:w})}else{var C=Ih.call(d,jy);C&&r.filter(d)&&(n||!t.includes(d))&&i.push(d);var P=d.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(d),O=!r.shadowRootFilter||r.shadowRootFilter(d);if(P&&O){var I=e(P===!0?d.children:P.children,!0,r);r.flatten?i.push.apply(i,I):i.push({scope:d,candidates:I})}else u.unshift.apply(u,d.children)}}return i},WR=function(t,n){return t.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t.isContentEditable)&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},I9=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},KR=function(t){return t.tagName==="INPUT"},k9=function(t){return KR(t)&&t.type==="hidden"},O9=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},L9=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},R9=function(t){if(!t.name)return!0;var n=t.form||Gb(t),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var u=L9(i,t.form);return!u||u===t},M9=function(t){return KR(t)&&t.type==="radio"},D9=function(t){return M9(t)&&!R9(t)},MP=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},z9=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=Ih.call(t,"details>summary:first-of-type"),d=u?t.parentElement:t;if(Ih.call(d,"details:not([open]) *"))return!0;var l=Gb(t).host,y=(l==null?void 0:l.ownerDocument.contains(l))||t.ownerDocument.contains(t);if(!r||r==="full"){if(typeof i=="function"){for(var w=t;t;){var C=t.parentElement,P=Gb(t);if(C&&!C.shadowRoot&&i(C)===!0)return MP(t);t.assignedSlot?t=t.assignedSlot:!C&&P!==t.ownerDocument?t=P.host:t=C}t=w}if(y)return!t.getClientRects().length}else if(r==="non-zero-area")return MP(t);return!1},F9=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Ih.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},qy=function(t,n){return!(n.disabled||k9(n)||z9(n,t)||O9(n)||F9(n))},Hb=function(t,n){return!(D9(n)||WR(n)<0||!qy(t,n))},N9=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},B9=function e(t){var n=[],r=[];return t.forEach(function(i,u){var d=!!i.scope,l=d?i.scope:i,y=WR(l,d),w=d?e(i.candidates):l;y===0?d?n.push.apply(n,w):n.push(l):r.push({documentOrder:u,tabIndex:y,item:i,isScope:d,content:w})}),r.sort(I9).reduce(function(i,u){return u.isScope?i.push.apply(i,u.content):i.push(u.content),i},[]).concat(n)},U9=function(t,n){n=n||{};var r;return n.getShadowRoot?r=ZR([t],n.includeContainer,{filter:Hb.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:N9}):r=HR(t,n.includeContainer,Hb.bind(null,n)),B9(r)},V9=function(t,n){n=n||{};var r;return n.getShadowRoot?r=ZR([t],n.includeContainer,{filter:qy.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=HR(t,n.includeContainer,qy.bind(null,n)),r},Wg=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Ih.call(t,jy)===!1?!1:Hb(n,t)},$9=qR.concat("iframe").join(","),Xx=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Ih.call(t,$9)===!1?!1:qy(n,t)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){j9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FP=function(){var e=[];return{activateTrap:function(n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}}}(),q9=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},G9=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},H9=function(t){return t.key==="Tab"||t.keyCode===9},NP=function(t){return setTimeout(t,0)},BP=function(t,n){var r=-1;return t.every(function(i,u){return n(i)?(r=u,!1):!0}),r},up=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},Kg=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},Z9=function(t,n){var r=(n==null?void 0:n.document)||document,i=zP({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),u={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},d,l=function(Y,J,se){return Y&&Y[J]!==void 0?Y[J]:i[se||J]},y=function(Y){return u.containerGroups.findIndex(function(J){var se=J.container,ge=J.tabbableNodes;return se.contains(Y)||ge.find(function(he){return he===Y})})},w=function(Y){var J=i[Y];if(typeof J=="function"){for(var se=arguments.length,ge=new Array(se>1?se-1:0),he=1;he<se;he++)ge[he-1]=arguments[he];J=J.apply(void 0,ge)}if(J===!0&&(J=void 0),!J){if(J===void 0||J===!1)return J;throw new Error("`".concat(Y,"` was specified but was not a node, or did not return a node"))}var Se=J;if(typeof J=="string"&&(Se=r.querySelector(J),!Se))throw new Error("`".concat(Y,"` as selector refers to no known node"));return Se},C=function(){var Y=w("initialFocus");if(Y===!1)return!1;if(Y===void 0)if(y(r.activeElement)>=0)Y=r.activeElement;else{var J=u.tabbableGroups[0],se=J&&J.firstTabbableNode;Y=se||w("fallbackFocus")}if(!Y)throw new Error("Your focus-trap needs to have at least one focusable element");return Y},P=function(){if(u.containerGroups=u.containers.map(function(Y){var J=U9(Y,i.tabbableOptions),se=V9(Y,i.tabbableOptions);return{container:Y,tabbableNodes:J,focusableNodes:se,firstTabbableNode:J.length>0?J[0]:null,lastTabbableNode:J.length>0?J[J.length-1]:null,nextTabbableNode:function(he){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,De=se.findIndex(function(He){return He===he});if(!(De<0))return Se?se.slice(De+1).find(function(He){return Wg(He,i.tabbableOptions)}):se.slice(0,De).reverse().find(function(He){return Wg(He,i.tabbableOptions)})}}}),u.tabbableGroups=u.containerGroups.filter(function(Y){return Y.tabbableNodes.length>0}),u.tabbableGroups.length<=0&&!w("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},O=function ee(Y){if(Y!==!1&&Y!==r.activeElement){if(!Y||!Y.focus){ee(C());return}Y.focus({preventScroll:!!i.preventScroll}),u.mostRecentlyFocusedNode=Y,q9(Y)&&Y.select()}},I=function(Y){var J=w("setReturnFocus",Y);return J||(J===!1?!1:Y)},F=function(Y){var J=Kg(Y);if(!(y(J)>=0)){if(up(i.clickOutsideDeactivates,Y)){d.deactivate({returnFocus:i.returnFocusOnDeactivate&&!Xx(J,i.tabbableOptions)});return}up(i.allowOutsideClick,Y)||Y.preventDefault()}},V=function(Y){var J=Kg(Y),se=y(J)>=0;se||J instanceof Document?se&&(u.mostRecentlyFocusedNode=J):(Y.stopImmediatePropagation(),O(u.mostRecentlyFocusedNode||C()))},Z=function(Y){var J=Kg(Y);P();var se=null;if(u.tabbableGroups.length>0){var ge=y(J),he=ge>=0?u.containerGroups[ge]:void 0;if(ge<0)Y.shiftKey?se=u.tabbableGroups[u.tabbableGroups.length-1].lastTabbableNode:se=u.tabbableGroups[0].firstTabbableNode;else if(Y.shiftKey){var Se=BP(u.tabbableGroups,function(ut){var Pe=ut.firstTabbableNode;return J===Pe});if(Se<0&&(he.container===J||Xx(J,i.tabbableOptions)&&!Wg(J,i.tabbableOptions)&&!he.nextTabbableNode(J,!1))&&(Se=ge),Se>=0){var De=Se===0?u.tabbableGroups.length-1:Se-1,He=u.tabbableGroups[De];se=He.lastTabbableNode}}else{var Be=BP(u.tabbableGroups,function(ut){var Pe=ut.lastTabbableNode;return J===Pe});if(Be<0&&(he.container===J||Xx(J,i.tabbableOptions)&&!Wg(J,i.tabbableOptions)&&!he.nextTabbableNode(J))&&(Be=ge),Be>=0){var Je=Be===u.tabbableGroups.length-1?0:Be+1,Ge=u.tabbableGroups[Je];se=Ge.firstTabbableNode}}}else se=w("fallbackFocus");se&&(Y.preventDefault(),O(se))},U=function(Y){if(G9(Y)&&up(i.escapeDeactivates,Y)!==!1){Y.preventDefault(),d.deactivate();return}if(H9(Y)){Z(Y);return}},N=function(Y){var J=Kg(Y);y(J)>=0||up(i.clickOutsideDeactivates,Y)||up(i.allowOutsideClick,Y)||(Y.preventDefault(),Y.stopImmediatePropagation())},j=function(){if(u.active)return FP.activateTrap(d),u.delayInitialFocusTimer=i.delayInitialFocus?NP(function(){O(C())}):O(C()),r.addEventListener("focusin",V,!0),r.addEventListener("mousedown",F,{capture:!0,passive:!1}),r.addEventListener("touchstart",F,{capture:!0,passive:!1}),r.addEventListener("click",N,{capture:!0,passive:!1}),r.addEventListener("keydown",U,{capture:!0,passive:!1}),d},Q=function(){if(u.active)return r.removeEventListener("focusin",V,!0),r.removeEventListener("mousedown",F,!0),r.removeEventListener("touchstart",F,!0),r.removeEventListener("click",N,!0),r.removeEventListener("keydown",U,!0),d};return d={get active(){return u.active},get paused(){return u.paused},activate:function(Y){if(u.active)return this;var J=l(Y,"onActivate"),se=l(Y,"onPostActivate"),ge=l(Y,"checkCanFocusTrap");ge||P(),u.active=!0,u.paused=!1,u.nodeFocusedBeforeActivation=r.activeElement,J&&J();var he=function(){ge&&P(),j(),se&&se()};return ge?(ge(u.containers.concat()).then(he,he),this):(he(),this)},deactivate:function(Y){if(!u.active)return this;var J=zP({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},Y);clearTimeout(u.delayInitialFocusTimer),u.delayInitialFocusTimer=void 0,Q(),u.active=!1,u.paused=!1,FP.deactivateTrap(d);var se=l(J,"onDeactivate"),ge=l(J,"onPostDeactivate"),he=l(J,"checkCanReturnFocus"),Se=l(J,"returnFocus","returnFocusOnDeactivate");se&&se();var De=function(){NP(function(){Se&&O(I(u.nodeFocusedBeforeActivation)),ge&&ge()})};return Se&&he?(he(I(u.nodeFocusedBeforeActivation)).then(De,De),this):(De(),this)},pause:function(){return u.paused||!u.active?this:(u.paused=!0,Q(),this)},unpause:function(){return!u.paused||!u.active?this:(u.paused=!1,P(),j(),this)},updateContainerElements:function(Y){var J=[].concat(Y).filter(Boolean);return u.containers=J.map(function(se){return typeof se=="string"?r.querySelector(se):se}),u.active&&P(),this}},d.updateContainerElements(t),d};function W9(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var NS=!1;if(typeof window<"u"){var UP={get passive(){NS=!0}};window.addEventListener("testPassive",null,UP),window.removeEventListener("testPassive",null,UP)}var XR=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),rc=[],Gy=!1,YR=-1,Gp=void 0,Hp=void 0,QR=function(t){return rc.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(t))})},Hy=function(t){var n=t||window.event;return QR(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},K9=function(t){if(Hp===void 0){var n=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;n&&r>0&&(Hp=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}Gp===void 0&&(Gp=document.body.style.overflow,document.body.style.overflow="hidden")},X9=function(){Hp!==void 0&&(document.body.style.paddingRight=Hp,Hp=void 0),Gp!==void 0&&(document.body.style.overflow=Gp,Gp=void 0)},Y9=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},Q9=function(t,n){var r=t.targetTouches[0].clientY-YR;return QR(t.target)?!1:n&&n.scrollTop===0&&r>0||Y9(n)&&r<0?Hy(t):(t.stopPropagation(),!0)},J9=function(t,n){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!rc.some(function(i){return i.targetElement===t})){var r={targetElement:t,options:n||{}};rc=[].concat(W9(rc),[r]),XR?(t.ontouchstart=function(i){i.targetTouches.length===1&&(YR=i.targetTouches[0].clientY)},t.ontouchmove=function(i){i.targetTouches.length===1&&Q9(i,t)},Gy||(document.addEventListener("touchmove",Hy,NS?{passive:!1}:void 0),Gy=!0)):K9(n)}},e7=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}rc=rc.filter(function(n){return n.targetElement!==t}),XR?(t.ontouchstart=null,t.ontouchmove=null,Gy&&rc.length===0&&(document.removeEventListener("touchmove",Hy,NS?{passive:!1}:void 0),Gy=!1)):rc.length||X9()},bh=[],t7=function(){return bh.some(function(e){return e.activeTargets.length>0})},n7=function(){return bh.some(function(e){return e.skippedTargets.length>0})},VP="ResizeObserver loop completed with undelivered notifications.",r7=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:VP}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=VP),window.dispatchEvent(e)},Cm;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Cm||(Cm={}));var wh=function(e){return Object.freeze(e)},i7=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,wh(this)}return e}(),JR=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,wh(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,u=t.right,d=t.bottom,l=t.left,y=t.width,w=t.height;return{x:n,y:r,top:i,right:u,bottom:d,left:l,width:y,height:w}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),BS=function(e){return e instanceof SVGElement&&"getBBox"in e},eM=function(e){if(BS(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,u=i.offsetWidth,d=i.offsetHeight;return!(u||d||e.getClientRects().length)},$P=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},o7=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Zp=typeof window<"u"?window:{},Xg=new WeakMap,jP=/auto|scroll/,a7=/^tb|vertical/,s7=/msie|trident/i.test(Zp.navigator&&Zp.navigator.userAgent),ol=function(e){return parseFloat(e||"0")},Hf=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new i7((n?t:e)||0,(n?e:t)||0)},qP=wh({devicePixelContentBoxSize:Hf(),borderBoxSize:Hf(),contentBoxSize:Hf(),contentRect:new JR(0,0,0,0)}),tM=function(e,t){if(t===void 0&&(t=!1),Xg.has(e)&&!t)return Xg.get(e);if(eM(e))return Xg.set(e,qP),qP;var n=getComputedStyle(e),r=BS(e)&&e.ownerSVGElement&&e.getBBox(),i=!s7&&n.boxSizing==="border-box",u=a7.test(n.writingMode||""),d=!r&&jP.test(n.overflowY||""),l=!r&&jP.test(n.overflowX||""),y=r?0:ol(n.paddingTop),w=r?0:ol(n.paddingRight),C=r?0:ol(n.paddingBottom),P=r?0:ol(n.paddingLeft),O=r?0:ol(n.borderTopWidth),I=r?0:ol(n.borderRightWidth),F=r?0:ol(n.borderBottomWidth),V=r?0:ol(n.borderLeftWidth),Z=P+w,U=y+C,N=V+I,j=O+F,Q=l?e.offsetHeight-j-e.clientHeight:0,ee=d?e.offsetWidth-N-e.clientWidth:0,Y=i?Z+N:0,J=i?U+j:0,se=r?r.width:ol(n.width)-Y-ee,ge=r?r.height:ol(n.height)-J-Q,he=se+Z+ee+N,Se=ge+U+Q+j,De=wh({devicePixelContentBoxSize:Hf(Math.round(se*devicePixelRatio),Math.round(ge*devicePixelRatio),u),borderBoxSize:Hf(he,Se,u),contentBoxSize:Hf(se,ge,u),contentRect:new JR(P,y,se,ge)});return Xg.set(e,De),De},nM=function(e,t,n){var r=tM(e,n),i=r.borderBoxSize,u=r.contentBoxSize,d=r.devicePixelContentBoxSize;switch(t){case Cm.DEVICE_PIXEL_CONTENT_BOX:return d;case Cm.BORDER_BOX:return i;default:return u}},l7=function(){function e(t){var n=tM(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=wh([n.borderBoxSize]),this.contentBoxSize=wh([n.contentBoxSize]),this.devicePixelContentBoxSize=wh([n.devicePixelContentBoxSize])}return e}(),rM=function(e){if(eM(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},u7=function(){var e=1/0,t=[];bh.forEach(function(d){if(d.activeTargets.length!==0){var l=[];d.activeTargets.forEach(function(w){var C=new l7(w.target),P=rM(w.target);l.push(C),w.lastReportedSize=nM(w.target,w.observedBox),P<e&&(e=P)}),t.push(function(){d.callback.call(d.observer,l,d.observer)}),d.activeTargets.splice(0,d.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},GP=function(e){bh.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(rM(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},c7=function(){var e=0;for(GP(e);t7();)e=u7(),GP(e);return n7()&&r7(),e>0},Yx,iM=[],h7=function(){return iM.splice(0).forEach(function(e){return e()})},f7=function(e){if(!Yx){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return h7()}).observe(n,r),Yx=function(){n.textContent="".concat(t?t--:t++)}}iM.push(e),Yx()},d7=function(e){f7(function(){requestAnimationFrame(e)})},Lv=0,p7=function(){return!!Lv},m7=250,g7={attributes:!0,characterData:!0,childList:!0,subtree:!0},HP=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ZP=function(e){return e===void 0&&(e=0),Date.now()+e},Qx=!1,v7=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=m7),!Qx){Qx=!0;var r=ZP(t);d7(function(){var i=!1;try{i=c7()}finally{if(Qx=!1,t=r-ZP(),!p7())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,g7)};document.body?n():Zp.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),HP.forEach(function(n){return Zp.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),HP.forEach(function(n){return Zp.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),Zb=new v7,WP=function(e){!Lv&&e>0&&Zb.start(),Lv+=e,!Lv&&Zb.stop()},y7=function(e){return!BS(e)&&!o7(e)&&getComputedStyle(e).display==="inline"},_7=function(){function e(t,n){this.target=t,this.observedBox=n||Cm.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=nM(this.target,this.observedBox,!0);return y7(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),x7=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Yg=new WeakMap,KP=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Qg=function(){function e(){}return e.connect=function(t,n){var r=new x7(t,n);Yg.set(t,r)},e.observe=function(t,n,r){var i=Yg.get(t),u=i.observationTargets.length===0;KP(i.observationTargets,n)<0&&(u&&bh.push(i),i.observationTargets.push(new _7(n,r&&r.box)),WP(1),Zb.schedule())},e.unobserve=function(t,n){var r=Yg.get(t),i=KP(r.observationTargets,n),u=r.observationTargets.length===1;i>=0&&(u&&bh.splice(bh.indexOf(r),1),r.observationTargets.splice(i,1),WP(-1))},e.disconnect=function(t){var n=this,r=Yg.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),b7=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Qg.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$P(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Qg.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$P(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Qg.unobserve(this,t)},e.prototype.disconnect=function(){Qg.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function co(){return co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(this,arguments)}function Rv(e,t){if(e==null)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)t.indexOf(n=u[r])>=0||(i[n]=e[n]);return i}var Wp=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;function cp(e,t,n){return t=(t=+t)==t?t:0,n=(n=+n)==n?n:0,(e=+e)==e&&(e=(e=e<=n?e:n)>=t?e:t),e}function Jg(e){var t=Math.round(e);if(Number.isNaN(e))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return t}var w7={box:"border-box"};function Jx(e,t){var n=t.label,r=t.enabled,i=t.resizeSourceRef,u=ce.useState(0),d=u[0],l=u[1];ce.useDebugValue(n+": "+d);var y=ce.useCallback(function(w){l(w[0].borderBoxSize[0].blockSize),i.current="element"},[i]);return Wp(function(){if(e.current&&r){var w=new b7(y);return w.observe(e.current,w7),function(){w.disconnect()}}},[e,y,r]),r?d:0}function so(e){return e===void 0&&(e=1e3),new Promise(function(t){return setTimeout(t,e)})}var XP={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},YP={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},S7=K8({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:co({},XP,YP)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:co({},XP,YP)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:co({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[X8({y:function(e,t){return t.payload.y},velocity:function(e,t){return t.payload.velocity},snapSource:function(e,t){var n=t.payload.source;return n===void 0?"custom":n}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(e,t){},onSnapCancel:function(e,t){},onResizeCancel:function(e,t){},onCloseCancel:function(e,t){},onOpenEnd:function(e,t){},onSnapEnd:function(e,t){},onRezizeEnd:function(e,t){}},services:{onSnapStart:function(){try{return Promise.resolve(so()).then(function(){})}catch(e){return Promise.reject(e)}},onOpenStart:function(){try{return Promise.resolve(so()).then(function(){})}catch(e){return Promise.reject(e)}},onCloseStart:function(){try{return Promise.resolve(so()).then(function(){})}catch(e){return Promise.reject(e)}},onResizeStart:function(){try{return Promise.resolve(so()).then(function(){})}catch(e){return Promise.reject(e)}},onSnapEnd:function(){try{return Promise.resolve(so()).then(function(){})}catch(e){return Promise.reject(e)}},onOpenEnd:function(){try{return Promise.resolve(so()).then(function(){})}catch(e){return Promise.reject(e)}},onCloseEnd:function(){try{return Promise.resolve(so()).then(function(){})}catch(e){return Promise.reject(e)}},onResizeEnd:function(){try{return Promise.resolve(so()).then(function(){})}catch(e){return Promise.reject(e)}},renderVisuallyHidden:function(e,t){try{return Promise.resolve(so()).then(function(){})}catch(n){return Promise.reject(n)}},activate:function(e,t){try{return Promise.resolve(so()).then(function(){})}catch(n){return Promise.reject(n)}},deactivate:function(e,t){try{return Promise.resolve(so()).then(function(){})}catch(n){return Promise.reject(n)}},openSmoothly:function(e,t){try{return Promise.resolve(so()).then(function(){})}catch(n){return Promise.reject(n)}},openImmediately:function(e,t){try{return Promise.resolve(so()).then(function(){})}catch(n){return Promise.reject(n)}},snapSmoothly:function(e,t){try{return Promise.resolve(so()).then(function(){})}catch(n){return Promise.reject(n)}},resizeSmoothly:function(e,t){try{return Promise.resolve(so()).then(function(){})}catch(n){return Promise.reject(n)}},closeSmoothly:function(e,t){try{return Promise.resolve(so()).then(function(){})}catch(n){return Promise.reject(n)}}},guards:{initiallyClosed:function(e){return e.initialState==="CLOSED"},initiallyOpen:function(e){return e.initialState==="OPEN"}}}),E7=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],T7=["velocity"],C7=["onRest","config"],oM=wj.default,P7=oM.tension,ev=oM.friction,A7=Er.forwardRef(function(e,t){var n=e.children,r=e.sibling,i=e.className,u=e.footer,d=e.header,l=e.open,y=e.initialState,w=e.lastSnapRef,C=e.initialFocusRef,P=e.onDismiss,O=e.maxHeight,I=e.defaultSnap,F=I===void 0?k7:I,V=e.snapPoints,Z=V===void 0?O7:V,U=e.blocking,N=U===void 0||U,j=e.scrollLocking,Q=j===void 0||j,ee=e.style,Y=e.onSpringStart,J=e.onSpringCancel,se=e.onSpringEnd,ge=e.reserveScrollBarGap,he=ge===void 0?N:ge,Se=e.expandOnContentDrag,De=Se!==void 0&&Se,He=Rv(e,E7),Be=function(){var ot=ce.useState(!1),Wt=ot[0],At=ot[1],un=ce.useState({}),An=un[0],cn=un[1],Vt=ce.useCallback(function(In){return cn(function(Sn){var Ht;return co({},Sn,((Ht={})[In]=!1,Ht))}),function(){cn(function(Sn){var Ht;return co({},Sn,((Ht={})[In]=!0,Ht))})}},[]);return ce.useEffect(function(){var In=Object.values(An);In.length!==0&&In.every(Boolean)&&At(!0)},[An]),{ready:Wt,registerReady:Vt}}(),Je=Be.ready,Ge=Be.registerReady,ut=ce.useRef(!1),Pe=ce.useRef(Y),We=ce.useRef(J),Me=ce.useRef(se);ce.useEffect(function(){Pe.current=Y,We.current=J,Me.current=se},[J,Y,se]);var Xe,et,mt=Pj(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),ct=mt[0],ht=mt[1],pt=ce.useRef(null),Et=ce.useRef(null),an=ce.useRef(null),Pn=ce.useRef(null),Fe=ce.useRef(null),rt=ce.useRef(null),Kt=ce.useRef(0),xn=ce.useRef(),tn=ce.useRef(!1),Zn=(Xe=ce.useMemo(function(){return typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),et=ce.useRef(Xe==null?void 0:Xe.matches),ce.useDebugValue(et.current?"reduce":"no-preference"),ce.useEffect(function(){var ot=function(Wt){et.current=Wt.matches};return Xe==null||Xe.addListener(ot),function(){return Xe==null?void 0:Xe.removeListener(ot)}},[Xe]),et),Wn=function(ot){var Wt=ot.targetRef,At=ot.enabled,un=ot.reserveScrollBarGap,An=ce.useRef({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return ce.useDebugValue(At?"Enabled":"Disabled"),ce.useEffect(function(){if(!At)return An.current.deactivate(),void(An.current={activate:function(){},deactivate:function(){}});var cn=Wt.current,Vt=!1;An.current={activate:function(){Vt||(Vt=!0,J9(cn,{allowTouchMove:function(In){return In.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:un}))},deactivate:function(){Vt&&(Vt=!1,e7(cn))}}},[At,Wt,un]),An}({targetRef:Et,enabled:Je&&Q,reserveScrollBarGap:he}),Ur=function(ot){var Wt=ot.targetRef,At=ot.enabled,un=ce.useRef({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return ce.useDebugValue(At?"Enabled":"Disabled"),ce.useEffect(function(){if(!At)return un.current.deactivate(),void(un.current={activate:function(){},deactivate:function(){}});var An=Wt.current,cn=!1,Vt=[],In=[];un.current={activate:function(){if(!cn){cn=!0;var Sn=An.parentNode;document.querySelectorAll("body > *").forEach(function(Ht){if(Ht!==Sn){var Yt=Ht.getAttribute("aria-hidden");Yt!==null&&Yt!=="false"||(Vt.push(Yt),In.push(Ht),Ht.setAttribute("aria-hidden","true"))}})}},deactivate:function(){cn&&(cn=!1,In.forEach(function(Sn,Ht){var Yt=Vt[Ht];Yt===null?Sn.removeAttribute("aria-hidden"):Sn.setAttribute("aria-hidden",Yt)}),Vt=[],In=[])}}},[Wt,At]),un}({targetRef:pt,enabled:Je&&N}),ir=function(ot){var Wt=ot.targetRef,At=ot.fallbackRef,un=ot.initialFocusRef,An=ot.enabled,cn=ce.useRef({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return ce.useDebugValue(An?"Enabled":"Disabled"),ce.useEffect(function(){if(!An)return cn.current.deactivate(),void(cn.current={activate:function(){},deactivate:function(){}});var Vt=At.current,In=Z9(Wt.current,{onActivate:void 0,initialFocus:un?function(){return(un==null?void 0:un.current)||Vt}:void 0,fallbackFocus:Vt,escapeDeactivates:!1,clickOutsideDeactivates:!1}),Sn=!1;cn.current={activate:function(){try{return Sn?Promise.resolve():(Sn=!0,Promise.resolve(In.activate()).then(function(){return Promise.resolve(new Promise(function(Ht){return setTimeout(function(){return Ht(void 0)},0)})).then(function(){})}))}catch(Ht){return Promise.reject(Ht)}},deactivate:function(){Sn&&(Sn=!1,In.deactivate())}}},[An,At,un,Wt]),cn}({targetRef:pt,fallbackRef:rt,initialFocusRef:C||void 0,enabled:Je&&N&&C!==!1}),dt=function(ot){var Wt=ot.getSnapPoints,At=ot.heightRef,un=ot.lastSnapRef,An=ot.ready,cn=function(le){var W=le.contentRef,te=le.controlledMaxHeight,ue=le.footerEnabled,me=le.footerRef,xe=le.headerEnabled,ve=le.headerRef,Ce=le.registerReady,Ee=le.resizeSourceRef,Oe=ce.useMemo(function(){return Ce("contentHeight")},[Ce]),$e=function(zt,ln,On){var rn=ce.useMemo(function(){return ln("maxHeight")},[ln]),dn=ce.useState(function(){return Jg(zt)||typeof window<"u"?window.innerHeight:0}),Ln=dn[0],ar=dn[1],Mr=Ln>0,fr=ce.useRef(0);return ce.useDebugValue(zt?"controlled":"auto"),ce.useEffect(function(){Mr&&rn()},[Mr,rn]),Wp(function(){if(zt)return ar(Jg(zt)),void(On.current="maxheightprop");var ra=function(){fr.current||(fr.current=requestAnimationFrame(function(){ar(window.innerHeight),On.current="window",fr.current=0}))};return window.addEventListener("resize",ra),ar(window.innerHeight),On.current="window",rn(),function(){window.removeEventListener("resize",ra),cancelAnimationFrame(fr.current)}},[zt,rn,On]),Ln}(te,Ce,Ee),tt=Jx(ve,{label:"headerHeight",enabled:xe,resizeSourceRef:Ee}),Ze=Jx(W,{label:"contentHeight",enabled:!0,resizeSourceRef:Ee}),Ot=Jx(me,{label:"footerHeight",enabled:ue,resizeSourceRef:Ee}),Ut=Math.min($e-tt-Ot,Ze)+tt+Ot;ce.useDebugValue("minHeight: "+Ut);var Pt=Ze>0;return ce.useEffect(function(){Pt&&Oe()},[Pt,Oe]),{maxHeight:$e,minHeight:Ut,headerHeight:tt,footerHeight:Ot}}({contentRef:ot.contentRef,controlledMaxHeight:ot.controlledMaxHeight,footerEnabled:ot.footerEnabled,footerRef:ot.footerRef,headerEnabled:ot.headerEnabled,headerRef:ot.headerRef,registerReady:ot.registerReady,resizeSourceRef:ot.resizeSourceRef}),Vt=cn.maxHeight,In=cn.minHeight,Sn=cn.headerHeight,Ht=cn.footerHeight,Yt=function(le,W){var te=[].concat(le).map(Jg).reduce(function(ve,Ce){return ve.add(cp(Ce,0,W)),ve},new Set),ue=Array.from(te),me=Math.min.apply(Math,ue);if(Number.isNaN(me))throw new TypeError("minSnap is NaN");var xe=Math.max.apply(Math,ue);if(Number.isNaN(xe))throw new TypeError("maxSnap is NaN");return{snapPoints:ue,minSnap:me,maxSnap:xe}}(An?Wt({height:At.current,footerHeight:Ht,headerHeight:Sn,minHeight:In,maxHeight:Vt}):[0],Vt),Hn=Yt.snapPoints,Tr=Yt.minSnap,kr=Yt.maxSnap;return ce.useDebugValue("minSnap: "+Tr+", maxSnap:"+kr),{minSnap:Tr,maxSnap:kr,findSnap:function(le){var W=Jg(typeof le=="function"?le({footerHeight:Ht,headerHeight:Sn,height:At.current,minHeight:In,maxHeight:Vt,snapPoints:Hn,lastSnap:un.current}):le);return Hn.reduce(function(te,ue){return Math.abs(ue-W)<Math.abs(te-W)?ue:te},Tr)},maxHeight:Vt}}({contentRef:an,controlledMaxHeight:O,footerEnabled:!!u,footerRef:Fe,getSnapPoints:Z,headerEnabled:d!==!1,headerRef:Pn,heightRef:Kt,lastSnapRef:w,ready:Je,registerReady:Ge,resizeSourceRef:xn}),Zt=dt.minSnap,qt=dt.maxSnap,hr=dt.maxHeight,Kn=dt.findSnap,Ct=ce.useRef(hr),Ir=ce.useRef(Zt),fn=ce.useRef(qt),Li=ce.useRef(Kn),or=ce.useRef(0);Wp(function(){Ct.current=hr,fn.current=qt,Ir.current=Zt,Li.current=Kn,or.current=Kn(F)},[Kn,F,hr,qt,Zt]);var zn=ce.useCallback(function(ot){var Wt=ot.onRest,At=ot.config,un=(At=At===void 0?{}:At).velocity,An=un===void 0?1:un,cn=Rv(At,T7),Vt=Rv(ot,C7);return new Promise(function(In){return ht(co({},Vt,{config:co({velocity:An},cn,{mass:1,tension:P7,friction:Math.max(ev,ev+(ev-ev*An))}),onRest:function(){var Sn=[].slice.call(arguments);In.apply(void 0,Sn),Wt==null||Wt.apply(void 0,Sn)}}))})},[ht]),wn=oj(S7,{devTools:!1,actions:{onOpenCancel:ce.useCallback(function(){return We.current==null?void 0:We.current({type:"OPEN"})},[]),onSnapCancel:ce.useCallback(function(ot){return We.current==null?void 0:We.current({type:"SNAP",source:ot.snapSource})},[]),onCloseCancel:ce.useCallback(function(){return We.current==null?void 0:We.current({type:"CLOSE"})},[]),onResizeCancel:ce.useCallback(function(){return We.current==null?void 0:We.current({type:"RESIZE",source:xn.current})},[]),onOpenEnd:ce.useCallback(function(){return Me.current==null?void 0:Me.current({type:"OPEN"})},[]),onSnapEnd:ce.useCallback(function(ot,Wt){return Me.current==null?void 0:Me.current({type:"SNAP",source:ot.snapSource})},[]),onResizeEnd:ce.useCallback(function(){return Me.current==null?void 0:Me.current({type:"RESIZE",source:xn.current})},[])},context:{initialState:y},services:{onSnapStart:ce.useCallback(function(ot,Wt){try{return Promise.resolve(Pe.current==null?void 0:Pe.current({type:"SNAP",source:Wt.payload.source||"custom"}))}catch(At){return Promise.reject(At)}},[]),onOpenStart:ce.useCallback(function(){try{return Promise.resolve(Pe.current==null?void 0:Pe.current({type:"OPEN"}))}catch(ot){return Promise.reject(ot)}},[]),onCloseStart:ce.useCallback(function(){try{return Promise.resolve(Pe.current==null?void 0:Pe.current({type:"CLOSE"}))}catch(ot){return Promise.reject(ot)}},[]),onResizeStart:ce.useCallback(function(){try{return Promise.resolve(Pe.current==null?void 0:Pe.current({type:"RESIZE",source:xn.current}))}catch(ot){return Promise.reject(ot)}},[]),onSnapEnd:ce.useCallback(function(ot,Wt){try{return Promise.resolve(Me.current==null?void 0:Me.current({type:"SNAP",source:ot.snapSource}))}catch(At){return Promise.reject(At)}},[]),onOpenEnd:ce.useCallback(function(){try{return Promise.resolve(Me.current==null?void 0:Me.current({type:"OPEN"}))}catch(ot){return Promise.reject(ot)}},[]),onCloseEnd:ce.useCallback(function(){try{return Promise.resolve(Me.current==null?void 0:Me.current({type:"CLOSE"}))}catch(ot){return Promise.reject(ot)}},[]),onResizeEnd:ce.useCallback(function(){try{return Promise.resolve(Me.current==null?void 0:Me.current({type:"RESIZE",source:xn.current}))}catch(ot){return Promise.reject(ot)}},[]),renderVisuallyHidden:ce.useCallback(function(ot,Wt){try{return Promise.resolve(zn({y:or.current,ready:0,maxHeight:Ct.current,maxSnap:fn.current,minSnap:or.current,immediate:!0})).then(function(){})}catch(At){return Promise.reject(At)}},[zn]),activate:ce.useCallback(function(ot,Wt){try{return ut.current=!0,Promise.resolve(Promise.all([Wn.current.activate(),ir.current.activate(),Ur.current.activate()])).then(function(){})}catch(At){return Promise.reject(At)}},[Ur,ir,Wn]),deactivate:ce.useCallback(function(){try{return Wn.current.deactivate(),ir.current.deactivate(),Ur.current.deactivate(),ut.current=!1,Promise.resolve()}catch(ot){return Promise.reject(ot)}},[Ur,ir,Wn]),openImmediately:ce.useCallback(function(){try{return Kt.current=or.current,Promise.resolve(zn({y:or.current,ready:1,maxHeight:Ct.current,maxSnap:fn.current,minSnap:or.current,immediate:!0})).then(function(){})}catch(ot){return Promise.reject(ot)}},[zn]),openSmoothly:ce.useCallback(function(){try{return Promise.resolve(zn({y:0,ready:1,maxHeight:Ct.current,maxSnap:fn.current,minSnap:or.current,immediate:!0})).then(function(){return Kt.current=or.current,Promise.resolve(zn({y:or.current,ready:1,maxHeight:Ct.current,maxSnap:fn.current,minSnap:or.current,immediate:Zn.current})).then(function(){})})}catch(ot){return Promise.reject(ot)}},[zn,Zn]),snapSmoothly:ce.useCallback(function(ot,Wt){try{var At=Li.current(ot.y);return Kt.current=At,w.current=At,Promise.resolve(zn({y:At,ready:1,maxHeight:Ct.current,maxSnap:fn.current,minSnap:Ir.current,immediate:Zn.current,config:{velocity:ot.velocity}})).then(function(){})}catch(un){return Promise.reject(un)}},[zn,w,Zn]),resizeSmoothly:ce.useCallback(function(){try{var ot=Li.current(Kt.current);return Kt.current=ot,w.current=ot,Promise.resolve(zn({y:ot,ready:1,maxHeight:Ct.current,maxSnap:fn.current,minSnap:Ir.current,immediate:xn.current!=="element"||Zn.current})).then(function(){})}catch(Wt){return Promise.reject(Wt)}},[zn,w,Zn]),closeSmoothly:ce.useCallback(function(ot,Wt){try{return zn({minSnap:Kt.current,immediate:!0}),Kt.current=0,Promise.resolve(zn({y:0,maxHeight:Ct.current,maxSnap:fn.current,immediate:Zn.current})).then(function(){return Promise.resolve(zn({ready:0,immediate:!0})).then(function(){})})}catch(At){return Promise.reject(At)}},[zn,Zn])}}),na=wn[0],ii=wn[1];ce.useEffect(function(){Je&&ii(l?"OPEN":"CLOSE")},[l,ii,Je]),Wp(function(){(hr||qt||Zt)&&ii("RESIZE")},[hr,qt,Zt,ii]),ce.useEffect(function(){return function(){Wn.current.deactivate(),ir.current.deactivate(),Ur.current.deactivate()}},[Ur,ir,Wn]),ce.useImperativeHandle(t,function(){return{snapTo:function(ot,Wt){var At=Wt===void 0?{}:Wt,un=At.velocity,An=un===void 0?1:un,cn=At.source,Vt=cn===void 0?"custom":cn;ii("SNAP",{payload:{y:Li.current(ot),velocity:An,source:Vt}})},get height(){return Kt.current}}},[ii]),ce.useEffect(function(){var ot=Et.current,Wt=function(un){tn.current&&un.preventDefault()},At=function(un){ot.scrollTop<0&&(requestAnimationFrame(function(){ot.style.overflow="hidden",ot.scrollTop=0,ot.style.removeProperty("overflow")}),un.preventDefault())};return De&&(ot.addEventListener("scroll",Wt),ot.addEventListener("touchmove",Wt),ot.addEventListener("touchstart",At)),function(){ot.removeEventListener("scroll",Wt),ot.removeEventListener("touchmove",Wt),ot.removeEventListener("touchstart",At)}},[De,Et]);var Xi=A9(function(ot){var Wt=ot.args,At=(Wt=Wt===void 0?[]:Wt)[0],un=(At=At===void 0?{}:At).closeOnTap,An=un!==void 0&&un,cn=At.isContentDragging,Vt=cn!==void 0&&cn,In=ot.cancel,Sn=ot.direction[1],Ht=ot.down,Yt=ot.first,Hn=ot.last,Tr=ot.memo,kr=Tr===void 0?ct.y.getValue():Tr,le=ot.tap,W=ot.velocity,te=-1*ot.movement[1];if(!ut.current)return In(),kr;if(P&&An&&le)return In(),setTimeout(function(){return P()},0),kr;if(le)return kr;var ue=kr+te,me=te*W,xe=Math.max(Ir.current,Math.min(fn.current,ue+2*me));if(!Ht&&P&&Sn>0&&ue+me<Ir.current/2)return In(),P(),kr;var ve=Ht?P||Ir.current!==fn.current?qp(ue,P?0:Ir.current,fn.current,.55):ue<Ir.current?qp(ue,Ir.current,2*fn.current,.55):qp(ue,Ir.current/2,fn.current,.55):xe;return De&&Vt?(ve>=fn.current&&(ve=fn.current),kr===fn.current&&Et.current.scrollTop>0&&(ve=fn.current),tn.current=ve<fn.current):tn.current=!1,Yt&&ii("DRAG"),Hn?(ii("SNAP",{payload:{y:ve,velocity:W>.05?W:1,source:"dragging"}}),kr):(ht({y:ve,ready:1,maxHeight:Ct.current,maxSnap:fn.current,minSnap:Ir.current,immediate:!0,config:{velocity:W}}),kr)},{filterTaps:!0});if(Number.isNaN(fn.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(Ir.current))throw new TypeError("minSnapRef is NaN!!");var sn=function(ot){var Wt,At=ot.spring,un=gf([At.y,At.maxHeight],function(Ht,Yt){return Math.round(cp(Yt-Ht,0,16))+"px"}),An=gf([At.y,At.minSnap,At.maxSnap],function(Ht,Yt,Hn){return cp(Ht,Yt,Hn)+"px"}),cn=gf([At.y,At.minSnap,At.maxSnap],function(Ht,Yt,Hn){return Ht<Yt?Yt-Ht+"px":Ht>Hn?Hn-Ht+"px":"0px"}),Vt=gf([At.y,At.maxSnap],function(Ht,Yt){return Ht>=Yt?Math.ceil(Ht-Yt):0}),In=gf([At.y,At.minSnap],function(Ht,Yt){if(!Yt)return 0;var Hn=Math.max(Yt/2-45,0);return cp((Ht-Hn)*(1/(Math.min(Yt/2+45,Yt)-Hn)+0),0,1)}),Sn=gf([At.y,At.minSnap],function(Ht,Yt){return Yt?cp(Ht/Yt,0,1):0});return(Wt={})["--rsbs-content-opacity"]=In,Wt["--rsbs-backdrop-opacity"]=Sn,Wt["--rsbs-antigap-scale-y"]=Vt,Wt["--rsbs-overlay-translate-y"]=cn,Wt["--rsbs-overlay-rounded"]=un,Wt["--rsbs-overlay-h"]=An,Wt}({spring:ct});return Er.createElement(Hj.div,co({},He,{"data-rsbs-root":!0,"data-rsbs-state":I7.find(na.matches),"data-rsbs-is-blocking":N,"data-rsbs-is-dismissable":!!P,"data-rsbs-has-header":!!d,"data-rsbs-has-footer":!!u,className:i,ref:pt,style:co({},sn,ee,{opacity:ct.ready})}),r,N&&Er.createElement("div",co({key:"backdrop","data-rsbs-backdrop":!0},Xi({closeOnTap:!0}))),Er.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:rt,onKeyDown:function(ot){ot.key==="Escape"&&(ot.stopPropagation(),P&&P())}},d!==!1&&Er.createElement("div",co({key:"header","data-rsbs-header":!0,ref:Pn},Xi()),d),Er.createElement("div",co({key:"scroll","data-rsbs-scroll":!0,ref:Et},De?Xi({isContentDragging:!0}):{}),Er.createElement("div",{"data-rsbs-content":!0,ref:an},n)),u&&Er.createElement("div",co({key:"footer",ref:Fe,"data-rsbs-footer":!0},Xi()),u)))}),I7=["closed","opening","open","closing","dragging","snapping","resizing"];function k7(e){var t=e.lastSnap;return t??Math.min.apply(Math,e.snapPoints)}function O7(e){return e.minHeight}var L7=["onSpringStart","onSpringEnd","skipInitialTransition"],eK=ce.forwardRef(function(e,t){var n=e.onSpringStart,r=e.onSpringEnd,i=e.skipInitialTransition,u=Rv(e,L7),d=ce.useState(!1),l=d[0],y=d[1],w=ce.useRef(),C=ce.useRef(null),P=ce.useRef(i&&u.open?"OPEN":"CLOSED");Wp(function(){if(u.open)return cancelAnimationFrame(w.current),y(!0),function(){P.current="CLOSED"}},[u.open]);var O=ce.useCallback(function(F){return Promise.resolve(n==null?void 0:n(F)).then(function(){F.type==="OPEN"&&cancelAnimationFrame(w.current)})},[n]),I=ce.useCallback(function(F){return Promise.resolve(r==null?void 0:r(F)).then(function(){F.type==="CLOSE"&&(w.current=requestAnimationFrame(function(){return y(!1)}))})},[r]);return l?Er.createElement(t8,{"data-rsbs-portal":!0},Er.createElement(A7,co({},u,{lastSnapRef:C,ref:t,initialState:P.current,onSpringStart:O,onSpringEnd:I}))):null}),Wb={exports:{}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(XA,function(n){var r="1.9.3";function i(h){var g,T,R,q;for(T=1,R=arguments.length;T<R;T++){q=arguments[T];for(g in q)h[g]=q[g]}return h}var u=Object.create||function(){function h(){}return function(g){return h.prototype=g,new h}}();function d(h,g){var T=Array.prototype.slice;if(h.bind)return h.bind.apply(h,T.call(arguments,1));var R=T.call(arguments,2);return function(){return h.apply(g,R.length?R.concat(T.call(arguments)):arguments)}}var l=0;function y(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function w(h,g,T){var R,q,oe,Te;return Te=function(){R=!1,q&&(oe.apply(T,q),q=!1)},oe=function(){R?q=arguments:(h.apply(T,arguments),setTimeout(Te,g),R=!0)},oe}function C(h,g,T){var R=g[1],q=g[0],oe=R-q;return h===R&&T?h:((h-q)%oe+oe)%oe+q}function P(){return!1}function O(h,g){if(g===!1)return h;var T=Math.pow(10,g===void 0?6:g);return Math.round(h*T)/T}function I(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function F(h){return I(h).split(/\s+/)}function V(h,g){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?u(h.options):{});for(var T in g)h.options[T]=g[T];return h.options}function Z(h,g,T){var R=[];for(var q in h)R.push(encodeURIComponent(T?q.toUpperCase():q)+"="+encodeURIComponent(h[q]));return(!g||g.indexOf("?")===-1?"?":"&")+R.join("&")}var U=/\{ *([\w_ -]+) *\}/g;function N(h,g){return h.replace(U,function(T,R){var q=g[R];if(q===void 0)throw new Error("No value provided for variable "+T);return typeof q=="function"&&(q=q(g)),q})}var j=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function Q(h,g){for(var T=0;T<h.length;T++)if(h[T]===g)return T;return-1}var ee="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var J=0;function se(h){var g=+new Date,T=Math.max(0,16-(g-J));return J=g+T,window.setTimeout(h,T)}var ge=window.requestAnimationFrame||Y("RequestAnimationFrame")||se,he=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function Se(h,g,T){if(T&&ge===se)h.call(g);else return ge.call(window,d(h,g))}function De(h){h&&he.call(window,h)}var He={__proto__:null,extend:i,create:u,bind:d,get lastId(){return l},stamp:y,throttle:w,wrapNum:C,falseFn:P,formatNum:O,trim:I,splitWords:F,setOptions:V,getParamString:Z,template:N,isArray:j,indexOf:Q,emptyImageUrl:ee,requestFn:ge,cancelFn:he,requestAnimFrame:Se,cancelAnimFrame:De};function Be(){}Be.extend=function(h){var g=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},T=g.__super__=this.prototype,R=u(T);R.constructor=g,g.prototype=R;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(g[q]=this[q]);return h.statics&&i(g,h.statics),h.includes&&(Je(h.includes),i.apply(null,[R].concat(h.includes))),i(R,h),delete R.statics,delete R.includes,R.options&&(R.options=T.options?u(T.options):{},i(R.options,h.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){T.callInitHooks&&T.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,Te=R._initHooks.length;oe<Te;oe++)R._initHooks[oe].call(this)}},g},Be.include=function(h){var g=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=g,this.mergeOptions(h.options)),this},Be.mergeOptions=function(h){return i(this.prototype.options,h),this},Be.addInitHook=function(h){var g=Array.prototype.slice.call(arguments,1),T=typeof h=="function"?h:function(){this[h].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(T),this};function Je(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=j(h)?h:[h];for(var g=0;g<h.length;g++)h[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ge={on:function(h,g,T){if(typeof h=="object")for(var R in h)this._on(R,h[R],g);else{h=F(h);for(var q=0,oe=h.length;q<oe;q++)this._on(h[q],g,T)}return this},off:function(h,g,T){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var R in h)this._off(R,h[R],g);else{h=F(h);for(var q=arguments.length===1,oe=0,Te=h.length;oe<Te;oe++)q?this._off(h[oe]):this._off(h[oe],g,T)}return this},_on:function(h,g,T,R){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(h,g,T)===!1){T===this&&(T=void 0);var q={fn:g,ctx:T};R&&(q.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(q)}},_off:function(h,g,T){var R,q,oe;if(this._events&&(R=this._events[h],!!R)){if(arguments.length===1){if(this._firingCount)for(q=0,oe=R.length;q<oe;q++)R[q].fn=P;delete this._events[h];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var Te=this._listens(h,g,T);if(Te!==!1){var ze=R[Te];this._firingCount&&(ze.fn=P,this._events[h]=R=R.slice()),R.splice(Te,1)}}},fire:function(h,g,T){if(!this.listens(h,T))return this;var R=i({},g,{type:h,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var q=this._events[h];if(q){this._firingCount=this._firingCount+1||1;for(var oe=0,Te=q.length;oe<Te;oe++){var ze=q[oe],qe=ze.fn;ze.once&&this.off(h,qe,ze.ctx),qe.call(ze.ctx||this,R)}this._firingCount--}}return T&&this._propagateEvent(R),this},listens:function(h,g,T,R){typeof h!="string"&&console.warn('"string" type argument expected');var q=g;typeof g!="function"&&(R=!!g,q=void 0,T=void 0);var oe=this._events&&this._events[h];if(oe&&oe.length&&this._listens(h,q,T)!==!1)return!0;if(R){for(var Te in this._eventParents)if(this._eventParents[Te].listens(h,g,T,R))return!0}return!1},_listens:function(h,g,T){if(!this._events)return!1;var R=this._events[h]||[];if(!g)return!!R.length;T===this&&(T=void 0);for(var q=0,oe=R.length;q<oe;q++)if(R[q].fn===g&&R[q].ctx===T)return q;return!1},once:function(h,g,T){if(typeof h=="object")for(var R in h)this._on(R,h[R],g,!0);else{h=F(h);for(var q=0,oe=h.length;q<oe;q++)this._on(h[q],g,T,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[y(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[y(h)],this},_propagateEvent:function(h){for(var g in this._eventParents)this._eventParents[g].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};Ge.addEventListener=Ge.on,Ge.removeEventListener=Ge.clearAllEventListeners=Ge.off,Ge.addOneTimeEventListener=Ge.once,Ge.fireEvent=Ge.fire,Ge.hasEventListeners=Ge.listens;var ut=Be.extend(Ge);function Pe(h,g,T){this.x=T?Math.round(h):h,this.y=T?Math.round(g):g}var We=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};Pe.prototype={clone:function(){return new Pe(this.x,this.y)},add:function(h){return this.clone()._add(Me(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(Me(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new Pe(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new Pe(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=We(this.x),this.y=We(this.y),this},distanceTo:function(h){h=Me(h);var g=h.x-this.x,T=h.y-this.y;return Math.sqrt(g*g+T*T)},equals:function(h){return h=Me(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=Me(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function Me(h,g,T){return h instanceof Pe?h:j(h)?new Pe(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new Pe(h.x,h.y):new Pe(h,g,T)}function Xe(h,g){if(h)for(var T=g?[h,g]:h,R=0,q=T.length;R<q;R++)this.extend(T[R])}Xe.prototype={extend:function(h){var g,T;if(!h)return this;if(h instanceof Pe||typeof h[0]=="number"||"x"in h)g=T=Me(h);else if(h=et(h),g=h.min,T=h.max,!g||!T)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=T.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(T.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(T.y,this.max.y)),this},getCenter:function(h){return Me((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return Me(this.min.x,this.max.y)},getTopRight:function(){return Me(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var g,T;return typeof h[0]=="number"||h instanceof Pe?h=Me(h):h=et(h),h instanceof Xe?(g=h.min,T=h.max):g=T=h,g.x>=this.min.x&&T.x<=this.max.x&&g.y>=this.min.y&&T.y<=this.max.y},intersects:function(h){h=et(h);var g=this.min,T=this.max,R=h.min,q=h.max,oe=q.x>=g.x&&R.x<=T.x,Te=q.y>=g.y&&R.y<=T.y;return oe&&Te},overlaps:function(h){h=et(h);var g=this.min,T=this.max,R=h.min,q=h.max,oe=q.x>g.x&&R.x<T.x,Te=q.y>g.y&&R.y<T.y;return oe&&Te},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var g=this.min,T=this.max,R=Math.abs(g.x-T.x)*h,q=Math.abs(g.y-T.y)*h;return et(Me(g.x-R,g.y-q),Me(T.x+R,T.y+q))},equals:function(h){return h?(h=et(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function et(h,g){return!h||h instanceof Xe?h:new Xe(h,g)}function mt(h,g){if(h)for(var T=g?[h,g]:h,R=0,q=T.length;R<q;R++)this.extend(T[R])}mt.prototype={extend:function(h){var g=this._southWest,T=this._northEast,R,q;if(h instanceof ht)R=h,q=h;else if(h instanceof mt){if(R=h._southWest,q=h._northEast,!R||!q)return this}else return h?this.extend(pt(h)||ct(h)):this;return!g&&!T?(this._southWest=new ht(R.lat,R.lng),this._northEast=new ht(q.lat,q.lng)):(g.lat=Math.min(R.lat,g.lat),g.lng=Math.min(R.lng,g.lng),T.lat=Math.max(q.lat,T.lat),T.lng=Math.max(q.lng,T.lng)),this},pad:function(h){var g=this._southWest,T=this._northEast,R=Math.abs(g.lat-T.lat)*h,q=Math.abs(g.lng-T.lng)*h;return new mt(new ht(g.lat-R,g.lng-q),new ht(T.lat+R,T.lng+q))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ht||"lat"in h?h=pt(h):h=ct(h);var g=this._southWest,T=this._northEast,R,q;return h instanceof mt?(R=h.getSouthWest(),q=h.getNorthEast()):R=q=h,R.lat>=g.lat&&q.lat<=T.lat&&R.lng>=g.lng&&q.lng<=T.lng},intersects:function(h){h=ct(h);var g=this._southWest,T=this._northEast,R=h.getSouthWest(),q=h.getNorthEast(),oe=q.lat>=g.lat&&R.lat<=T.lat,Te=q.lng>=g.lng&&R.lng<=T.lng;return oe&&Te},overlaps:function(h){h=ct(h);var g=this._southWest,T=this._northEast,R=h.getSouthWest(),q=h.getNorthEast(),oe=q.lat>g.lat&&R.lat<T.lat,Te=q.lng>g.lng&&R.lng<T.lng;return oe&&Te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,g){return h?(h=ct(h),this._southWest.equals(h.getSouthWest(),g)&&this._northEast.equals(h.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ct(h,g){return h instanceof mt?h:new mt(h,g)}function ht(h,g,T){if(isNaN(h)||isNaN(g))throw new Error("Invalid LatLng object: ("+h+", "+g+")");this.lat=+h,this.lng=+g,T!==void 0&&(this.alt=+T)}ht.prototype={equals:function(h,g){if(!h)return!1;h=pt(h);var T=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return T<=(g===void 0?1e-9:g)},toString:function(h){return"LatLng("+O(this.lat,h)+", "+O(this.lng,h)+")"},distanceTo:function(h){return an.distance(this,pt(h))},wrap:function(){return an.wrapLatLng(this)},toBounds:function(h){var g=180*h/40075017,T=g/Math.cos(Math.PI/180*this.lat);return ct([this.lat-g,this.lng-T],[this.lat+g,this.lng+T])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function pt(h,g,T){return h instanceof ht?h:j(h)&&typeof h[0]!="object"?h.length===3?new ht(h[0],h[1],h[2]):h.length===2?new ht(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ht(h.lat,"lng"in h?h.lng:h.lon,h.alt):g===void 0?null:new ht(h,g,T)}var Et={latLngToPoint:function(h,g){var T=this.projection.project(h),R=this.scale(g);return this.transformation._transform(T,R)},pointToLatLng:function(h,g){var T=this.scale(g),R=this.transformation.untransform(h,T);return this.projection.unproject(R)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var g=this.projection.bounds,T=this.scale(h),R=this.transformation.transform(g.min,T),q=this.transformation.transform(g.max,T);return new Xe(R,q)},infinite:!1,wrapLatLng:function(h){var g=this.wrapLng?C(h.lng,this.wrapLng,!0):h.lng,T=this.wrapLat?C(h.lat,this.wrapLat,!0):h.lat,R=h.alt;return new ht(T,g,R)},wrapLatLngBounds:function(h){var g=h.getCenter(),T=this.wrapLatLng(g),R=g.lat-T.lat,q=g.lng-T.lng;if(R===0&&q===0)return h;var oe=h.getSouthWest(),Te=h.getNorthEast(),ze=new ht(oe.lat-R,oe.lng-q),qe=new ht(Te.lat-R,Te.lng-q);return new mt(ze,qe)}},an=i({},Et,{wrapLng:[-180,180],R:6371e3,distance:function(h,g){var T=Math.PI/180,R=h.lat*T,q=g.lat*T,oe=Math.sin((g.lat-h.lat)*T/2),Te=Math.sin((g.lng-h.lng)*T/2),ze=oe*oe+Math.cos(R)*Math.cos(q)*Te*Te,qe=2*Math.atan2(Math.sqrt(ze),Math.sqrt(1-ze));return this.R*qe}}),Pn=6378137,Fe={R:Pn,MAX_LATITUDE:85.0511287798,project:function(h){var g=Math.PI/180,T=this.MAX_LATITUDE,R=Math.max(Math.min(T,h.lat),-T),q=Math.sin(R*g);return new Pe(this.R*h.lng*g,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(h){var g=180/Math.PI;return new ht((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*g,h.x*g/this.R)},bounds:function(){var h=Pn*Math.PI;return new Xe([-h,-h],[h,h])}()};function rt(h,g,T,R){if(j(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=g,this._c=T,this._d=R}rt.prototype={transform:function(h,g){return this._transform(h.clone(),g)},_transform:function(h,g){return g=g||1,h.x=g*(this._a*h.x+this._b),h.y=g*(this._c*h.y+this._d),h},untransform:function(h,g){return g=g||1,new Pe((h.x/g-this._b)/this._a,(h.y/g-this._d)/this._c)}};function Kt(h,g,T,R){return new rt(h,g,T,R)}var xn=i({},an,{code:"EPSG:3857",projection:Fe,transformation:function(){var h=.5/(Math.PI*Fe.R);return Kt(h,.5,-h,.5)}()}),tn=i({},xn,{code:"EPSG:900913"});function Zn(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function Wn(h,g){var T="",R,q,oe,Te,ze,qe;for(R=0,oe=h.length;R<oe;R++){for(ze=h[R],q=0,Te=ze.length;q<Te;q++)qe=ze[q],T+=(q?"L":"M")+qe.x+" "+qe.y;T+=g?ve.svg?"z":"x":""}return T||"M0 0"}var Ur=document.documentElement.style,ir="ActiveXObject"in window,dt=ir&&!document.addEventListener,Zt="msLaunchUri"in navigator&&!("documentMode"in document),qt=xe("webkit"),hr=xe("android"),Kn=xe("android 2")||xe("android 3"),Ct=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ir=hr&&xe("Google")&&Ct<537&&!("AudioNode"in window),fn=!!window.opera,Li=!Zt&&xe("chrome"),or=xe("gecko")&&!qt&&!fn&&!ir,zn=!Li&&xe("safari"),wn=xe("phantom"),na="OTransition"in Ur,ii=navigator.platform.indexOf("Win")===0,Xi=ir&&"transition"in Ur,sn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Kn,ot="MozPerspective"in Ur,Wt=!window.L_DISABLE_3D&&(Xi||sn||ot)&&!na&&!wn,At=typeof orientation<"u"||xe("mobile"),un=At&&qt,An=At&&sn,cn=!window.PointerEvent&&window.MSPointerEvent,Vt=!!(window.PointerEvent||cn),In="ontouchstart"in window||!!window.TouchEvent,Sn=!window.L_NO_TOUCH&&(In||Vt),Ht=At&&fn,Yt=At&&or,Hn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tr=function(){var h=!1;try{var g=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",P,g),window.removeEventListener("testPassiveEventSupport",P,g)}catch{}return h}(),kr=function(){return!!document.createElement("canvas").getContext}(),le=!!(document.createElementNS&&Zn("svg").createSVGRect),W=!!le&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),te=!le&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var g=h.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),ue=navigator.platform.indexOf("Mac")===0,me=navigator.platform.indexOf("Linux")===0;function xe(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var ve={ie:ir,ielt9:dt,edge:Zt,webkit:qt,android:hr,android23:Kn,androidStock:Ir,opera:fn,chrome:Li,gecko:or,safari:zn,phantom:wn,opera12:na,win:ii,ie3d:Xi,webkit3d:sn,gecko3d:ot,any3d:Wt,mobile:At,mobileWebkit:un,mobileWebkit3d:An,msPointer:cn,pointer:Vt,touch:Sn,touchNative:In,mobileOpera:Ht,mobileGecko:Yt,retina:Hn,passiveEvents:Tr,canvas:kr,svg:le,vml:te,inlineSvg:W,mac:ue,linux:me},Ce=ve.msPointer?"MSPointerDown":"pointerdown",Ee=ve.msPointer?"MSPointerMove":"pointermove",Oe=ve.msPointer?"MSPointerUp":"pointerup",$e=ve.msPointer?"MSPointerCancel":"pointercancel",tt={touchstart:Ce,touchmove:Ee,touchend:Oe,touchcancel:$e},Ze={touchstart:ar,touchmove:Ln,touchend:Ln,touchcancel:Ln},Ot={},Ut=!1;function Pt(h,g,T){return g==="touchstart"&&dn(),Ze[g]?(T=Ze[g].bind(this,T),h.addEventListener(tt[g],T,!1),T):(console.warn("wrong event specified:",g),P)}function zt(h,g,T){if(!tt[g]){console.warn("wrong event specified:",g);return}h.removeEventListener(tt[g],T,!1)}function ln(h){Ot[h.pointerId]=h}function On(h){Ot[h.pointerId]&&(Ot[h.pointerId]=h)}function rn(h){delete Ot[h.pointerId]}function dn(){Ut||(document.addEventListener(Ce,ln,!0),document.addEventListener(Ee,On,!0),document.addEventListener(Oe,rn,!0),document.addEventListener($e,rn,!0),Ut=!0)}function Ln(h,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var T in Ot)g.touches.push(Ot[T]);g.changedTouches=[g],h(g)}}function ar(h,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Jr(g),Ln(h,g)}function Mr(h){var g={},T,R;for(R in h)T=h[R],g[R]=T&&T.bind?T.bind(h):T;return h=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var fr=200;function ra(h,g){h.addEventListener("dblclick",g);var T=0,R;function q(oe){if(oe.detail!==1){R=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var Te=Lc(oe);if(!(Te.some(function(qe){return qe instanceof HTMLLabelElement&&qe.attributes.for})&&!Te.some(function(qe){return qe instanceof HTMLInputElement||qe instanceof HTMLSelectElement}))){var ze=Date.now();ze-T<=fr?(R++,R===2&&g(Mr(oe))):R=1,T=ze}}}return h.addEventListener("click",q),{dblclick:g,simDblclick:q}}function Mh(h,g){h.removeEventListener("dblclick",g.dblclick),h.removeEventListener("click",g.simDblclick)}var fu=is(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),go=is(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),El=go==="webkitTransition"||go==="OTransition"?go+"End":"transitionend";function ns(h){return typeof h=="string"?document.getElementById(h):h}function Yi(h,g){var T=h.style[g]||h.currentStyle&&h.currentStyle[g];if((!T||T==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(h,null);T=R?R[g]:null}return T==="auto"?null:T}function Cn(h,g,T){var R=document.createElement(h);return R.className=g||"",T&&T.appendChild(R),R}function sr(h){var g=h.parentNode;g&&g.removeChild(h)}function ia(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function La(h){var g=h.parentNode;g&&g.lastChild!==h&&g.appendChild(h)}function oa(h){var g=h.parentNode;g&&g.firstChild!==h&&g.insertBefore(h,g.firstChild)}function rs(h,g){if(h.classList!==void 0)return h.classList.contains(g);var T=Tl(h);return T.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(T)}function Nt(h,g){if(h.classList!==void 0)for(var T=F(g),R=0,q=T.length;R<q;R++)h.classList.add(T[R]);else if(!rs(h,g)){var oe=Tl(h);du(h,(oe?oe+" ":"")+g)}}function Xn(h,g){h.classList!==void 0?h.classList.remove(g):du(h,I((" "+Tl(h)+" ").replace(" "+g+" "," ")))}function du(h,g){h.className.baseVal===void 0?h.className=g:h.className.baseVal=g}function Tl(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function Ri(h,g){"opacity"in h.style?h.style.opacity=g:"filter"in h.style&&Qi(h,g)}function Qi(h,g){var T=!1,R="DXImageTransform.Microsoft.Alpha";try{T=h.filters.item(R)}catch{if(g===1)return}g=Math.round(g*100),T?(T.Enabled=g!==100,T.Opacity=g):h.style.filter+=" progid:"+R+"(opacity="+g+")"}function is(h){for(var g=document.documentElement.style,T=0;T<h.length;T++)if(h[T]in g)return h[T];return!1}function aa(h,g,T){var R=g||new Pe(0,0);h.style[fu]=(ve.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(T?" scale("+T+")":"")}function dr(h,g){h._leaflet_pos=g,ve.any3d?aa(h,g):(h.style.left=g.x+"px",h.style.top=g.y+"px")}function bn(h){return h._leaflet_pos||new Pe(0,0)}var os,sa,Cl;if("onselectstart"in document)os=function(){nn(window,"selectstart",Jr)},sa=function(){qn(window,"selectstart",Jr)};else{var as=is(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);os=function(){if(as){var h=document.documentElement.style;Cl=h[as],h[as]="none"}},sa=function(){as&&(document.documentElement.style[as]=Cl,Cl=void 0)}}function Pl(){nn(window,"dragstart",Jr)}function Oc(){qn(window,"dragstart",Jr)}var la,Ra;function pu(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(oi(),la=h,Ra=h.style.outline,h.style.outline="none",nn(window,"keydown",oi))}function oi(){la&&(la.style.outline=Ra,la=void 0,Ra=void 0,qn(window,"keydown",oi))}function mu(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Ns(h){var g=h.getBoundingClientRect();return{x:g.width/h.offsetWidth||1,y:g.height/h.offsetHeight||1,boundingClientRect:g}}var Al={__proto__:null,TRANSFORM:fu,TRANSITION:go,TRANSITION_END:El,get:ns,getStyle:Yi,create:Cn,remove:sr,empty:ia,toFront:La,toBack:oa,hasClass:rs,addClass:Nt,removeClass:Xn,setClass:du,getClass:Tl,setOpacity:Ri,testProp:is,setTransform:aa,setPosition:dr,getPosition:bn,get disableTextSelection(){return os},get enableTextSelection(){return sa},disableImageDrag:Pl,enableImageDrag:Oc,preventOutline:pu,restoreOutline:oi,getSizedParentNode:mu,getScale:Ns};function nn(h,g,T,R){if(g&&typeof g=="object")for(var q in g)Us(h,q,g[q],T);else{g=F(g);for(var oe=0,Te=g.length;oe<Te;oe++)Us(h,g[oe],T,R)}return this}var Ji="_leaflet_events";function qn(h,g,T,R){if(arguments.length===1)Bs(h),delete h[Ji];else if(g&&typeof g=="object")for(var q in g)gu(h,q,g[q],T);else if(g=F(g),arguments.length===2)Bs(h,function(ze){return Q(g,ze)!==-1});else for(var oe=0,Te=g.length;oe<Te;oe++)gu(h,g[oe],T,R);return this}function Bs(h,g){for(var T in h[Ji]){var R=T.split(/\d/)[0];(!g||g(R))&&gu(h,R,null,null,T)}}var Il={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Us(h,g,T,R){var q=g+y(T)+(R?"_"+y(R):"");if(h[Ji]&&h[Ji][q])return this;var oe=function(ze){return T.call(R||h,ze||window.event)},Te=oe;!ve.touchNative&&ve.pointer&&g.indexOf("touch")===0?oe=Pt(h,g,oe):ve.touch&&g==="dblclick"?oe=ra(h,oe):"addEventListener"in h?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?h.addEventListener(Il[g]||g,oe,ve.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(oe=function(ze){ze=ze||window.event,Vs(h,ze)&&Te(ze)},h.addEventListener(Il[g],oe,!1)):h.addEventListener(g,Te,!1):h.attachEvent("on"+g,oe),h[Ji]=h[Ji]||{},h[Ji][q]=oe}function gu(h,g,T,R,q){q=q||g+y(T)+(R?"_"+y(R):"");var oe=h[Ji]&&h[Ji][q];if(!oe)return this;!ve.touchNative&&ve.pointer&&g.indexOf("touch")===0?zt(h,g,oe):ve.touch&&g==="dblclick"?Mh(h,oe):"removeEventListener"in h?h.removeEventListener(Il[g]||g,oe,!1):h.detachEvent("on"+g,oe),h[Ji][q]=null}function ua(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function ca(h){return Us(h,"wheel",ua),this}function kl(h){return nn(h,"mousedown touchstart dblclick contextmenu",ua),h._leaflet_disable_click=!0,this}function Jr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Ma(h){return Jr(h),ua(h),this}function Lc(h){if(h.composedPath)return h.composedPath();for(var g=[],T=h.target;T;)g.push(T),T=T.parentNode;return g}function Dh(h,g){if(!g)return new Pe(h.clientX,h.clientY);var T=Ns(g),R=T.boundingClientRect;return new Pe((h.clientX-R.left)/T.x-g.clientLeft,(h.clientY-R.top)/T.y-g.clientTop)}var Id=ve.linux&&ve.chrome?window.devicePixelRatio:ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vu(h){return ve.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/Id:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Vs(h,g){var T=g.relatedTarget;if(!T)return!0;try{for(;T&&T!==h;)T=T.parentNode}catch{return!1}return T!==h}var Rc={__proto__:null,on:nn,off:qn,stopPropagation:ua,disableScrollPropagation:ca,disableClickPropagation:kl,preventDefault:Jr,stop:Ma,getPropagationPath:Lc,getMousePosition:Dh,getWheelDelta:vu,isExternalTarget:Vs,addListener:nn,removeListener:qn},yu=ut.extend({run:function(h,g,T,R){this.stop(),this._el=h,this._inProgress=!0,this._duration=T||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=bn(h),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Se(this._animate,this),this._step()},_step:function(h){var g=+new Date-this._startTime,T=this._duration*1e3;g<T?this._runFrame(this._easeOut(g/T),h):(this._runFrame(1),this._complete())},_runFrame:function(h,g){var T=this._startPos.add(this._offset.multiplyBy(h));g&&T._round(),dr(this._el,T),this.fire("step")},_complete:function(){De(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),pn=ut.extend({options:{crs:xn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,g){g=V(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(pt(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=go&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),nn(this._proxy,El,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,g,T){if(g=g===void 0?this._zoom:this._limitZoom(g),h=this._limitCenter(pt(h),g,this.options.maxBounds),T=T||{},this._stop(),this._loaded&&!T.reset&&T!==!0){T.animate!==void 0&&(T.zoom=i({animate:T.animate},T.zoom),T.pan=i({animate:T.animate,duration:T.duration},T.pan));var R=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,g,T.zoom):this._tryAnimatedPan(h,T.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(h,g,T.pan&&T.pan.noMoveStart),this},setZoom:function(h,g){return this._loaded?this.setView(this.getCenter(),h,{zoom:g}):(this._zoom=h,this)},zoomIn:function(h,g){return h=h||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,g)},zoomOut:function(h,g){return h=h||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,g)},setZoomAround:function(h,g,T){var R=this.getZoomScale(g),q=this.getSize().divideBy(2),oe=h instanceof Pe?h:this.latLngToContainerPoint(h),Te=oe.subtract(q).multiplyBy(1-1/R),ze=this.containerPointToLatLng(q.add(Te));return this.setView(ze,g,{zoom:T})},_getBoundsCenterZoom:function(h,g){g=g||{},h=h.getBounds?h.getBounds():ct(h);var T=Me(g.paddingTopLeft||g.padding||[0,0]),R=Me(g.paddingBottomRight||g.padding||[0,0]),q=this.getBoundsZoom(h,!1,T.add(R));if(q=typeof g.maxZoom=="number"?Math.min(g.maxZoom,q):q,q===1/0)return{center:h.getCenter(),zoom:q};var oe=R.subtract(T).divideBy(2),Te=this.project(h.getSouthWest(),q),ze=this.project(h.getNorthEast(),q),qe=this.unproject(Te.add(ze).divideBy(2).add(oe),q);return{center:qe,zoom:q}},fitBounds:function(h,g){if(h=ct(h),!h.isValid())throw new Error("Bounds are not valid.");var T=this._getBoundsCenterZoom(h,g);return this.setView(T.center,T.zoom,g)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,g){return this.setView(h,this._zoom,{pan:g})},panBy:function(h,g){if(h=Me(h).round(),g=g||{},!h.x&&!h.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var T=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,T,g.duration||.25,g.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,g,T){if(T=T||{},T.animate===!1||!ve.any3d)return this.setView(h,g,T);this._stop();var R=this.project(this.getCenter()),q=this.project(h),oe=this.getSize(),Te=this._zoom;h=pt(h),g=g===void 0?Te:g;var ze=Math.max(oe.x,oe.y),qe=ze*this.getZoomScale(Te,g),at=q.distanceTo(R)||1,Tt=1.42,Qt=Tt*Tt;function vn(Cr){var vs=Cr?-1:1,Qc=Cr?qe:ze,Zh=qe*qe-ze*ze+vs*Qt*Qt*at*at,Jc=2*Qc*Qt*at,Qs=Zh/Jc,Lu=Math.sqrt(Qs*Qs+1)-Qs,Ru=Lu<1e-9?-18:Math.log(Lu);return Ru}function di(Cr){return(Math.exp(Cr)-Math.exp(-Cr))/2}function qo(Cr){return(Math.exp(Cr)+Math.exp(-Cr))/2}function Ys(Cr){return di(Cr)/qo(Cr)}var Go=vn(0);function Vl(Cr){return ze*(qo(Go)/qo(Go+Tt*Cr))}function Xc(Cr){return ze*(qo(Go)*Ys(Go+Tt*Cr)-di(Go))/Qt}function Iu(Cr){return 1-Math.pow(1-Cr,1.5)}var Yc=Date.now(),ma=(vn(1)-Go)/Tt,ku=T.duration?1e3*T.duration:1e3*ma*.8;function Ou(){var Cr=(Date.now()-Yc)/ku,vs=Iu(Cr)*ma;Cr<=1?(this._flyToFrame=Se(Ou,this),this._move(this.unproject(R.add(q.subtract(R).multiplyBy(Xc(vs)/at)),Te),this.getScaleZoom(ze/Vl(vs),Te),{flyTo:!0})):this._move(h,g)._moveEnd(!0)}return this._moveStart(!0,T.noMoveStart),Ou.call(this),this},flyToBounds:function(h,g){var T=this._getBoundsCenterZoom(h,g);return this.flyTo(T.center,T.zoom,g)},setMaxBounds:function(h){return h=ct(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var g=this.options.minZoom;return this.options.minZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var g=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,g){this._enforcingBounds=!0;var T=this.getCenter(),R=this._limitCenter(T,this._zoom,ct(h));return T.equals(R)||this.panTo(R,g),this._enforcingBounds=!1,this},panInside:function(h,g){g=g||{};var T=Me(g.paddingTopLeft||g.padding||[0,0]),R=Me(g.paddingBottomRight||g.padding||[0,0]),q=this.project(this.getCenter()),oe=this.project(h),Te=this.getPixelBounds(),ze=et([Te.min.add(T),Te.max.subtract(R)]),qe=ze.getSize();if(!ze.contains(oe)){this._enforcingBounds=!0;var at=oe.subtract(ze.getCenter()),Tt=ze.extend(oe).getSize().subtract(qe);q.x+=at.x<0?-Tt.x:Tt.x,q.y+=at.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(q),g),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var T=this.getSize(),R=g.divideBy(2).round(),q=T.divideBy(2).round(),oe=R.subtract(q);return!oe.x&&!oe.y?this:(h.animate&&h.pan?this.panBy(oe):(h.pan&&this._rawPanBy(oe),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:T}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=d(this._handleGeolocationResponse,this),T=d(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,T,h):navigator.geolocation.getCurrentPosition(g,T,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var g=h.code,T=h.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+T+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var g=h.coords.latitude,T=h.coords.longitude,R=new ht(g,T),q=R.toBounds(h.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var Te=this.getBoundsZoom(q);this.setView(R,oe.maxZoom?Math.min(Te,oe.maxZoom):Te)}var ze={latlng:R,bounds:q,timestamp:h.timestamp};for(var qe in h.coords)typeof h.coords[qe]=="number"&&(ze[qe]=h.coords[qe]);this.fire("locationfound",ze)}},addHandler:function(h,g){if(!g)return this;var T=this[h]=new g(this);return this._handlers.push(T),this.options[h]&&T.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),sr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(De(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)sr(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,g){var T="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),R=Cn("div",T,g||this._mapPane);return h&&(this._panes[h]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),g=this.unproject(h.getBottomLeft()),T=this.unproject(h.getTopRight());return new mt(g,T)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,g,T){h=ct(h),T=Me(T||[0,0]);var R=this.getZoom()||0,q=this.getMinZoom(),oe=this.getMaxZoom(),Te=h.getNorthWest(),ze=h.getSouthEast(),qe=this.getSize().subtract(T),at=et(this.project(ze,R),this.project(Te,R)).getSize(),Tt=ve.any3d?this.options.zoomSnap:1,Qt=qe.x/at.x,vn=qe.y/at.y,di=g?Math.max(Qt,vn):Math.min(Qt,vn);return R=this.getScaleZoom(di,R),Tt&&(R=Math.round(R/(Tt/100))*(Tt/100),R=g?Math.ceil(R/Tt)*Tt:Math.floor(R/Tt)*Tt),Math.max(q,Math.min(oe,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,g){var T=this._getTopLeftPoint(h,g);return new Xe(T,T.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,g){var T=this.options.crs;return g=g===void 0?this._zoom:g,T.scale(h)/T.scale(g)},getScaleZoom:function(h,g){var T=this.options.crs;g=g===void 0?this._zoom:g;var R=T.zoom(h*T.scale(g));return isNaN(R)?1/0:R},project:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(pt(h),g)},unproject:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(Me(h),g)},layerPointToLatLng:function(h){var g=Me(h).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(h){var g=this.project(pt(h))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(pt(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(ct(h))},distance:function(h,g){return this.options.crs.distance(pt(h),pt(g))},containerPointToLayerPoint:function(h){return Me(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return Me(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var g=this.containerPointToLayerPoint(Me(h));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pt(h)))},mouseEventToContainerPoint:function(h){return Dh(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var g=this._container=ns(h);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");nn(g,"scroll",this._onScroll,this),this._containerId=y(g)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,Nt(h,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Yi(h,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dr(this._mapPane,new Pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(h.markerPane,"leaflet-zoom-hide"),Nt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,g,T){dr(this._mapPane,new Pe(0,0));var R=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var q=this._zoom!==g;this._moveStart(q,T)._move(h,g)._moveEnd(q),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(h,g){return h&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(h,g,T,R){g===void 0&&(g=this._zoom);var q=this._zoom!==g;return this._zoom=g,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),R?T&&T.pinch&&this.fire("zoom",T):((q||T&&T.pinch)&&this.fire("zoom",T),this.fire("move",T)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return De(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){dr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[y(this._container)]=this;var g=h?qn:nn;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){De(this._resizeRequest),this._resizeRequest=Se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,g){for(var T=[],R,q=g==="mouseout"||g==="mouseover",oe=h.target||h.srcElement,Te=!1;oe;){if(R=this._targets[y(oe)],R&&(g==="click"||g==="preclick")&&this._draggableMoved(R)){Te=!0;break}if(R&&R.listens(g,!0)&&(q&&!Vs(oe,h)||(T.push(R),q))||oe===this._container)break;oe=oe.parentNode}return!T.length&&!Te&&!q&&this.listens(g,!0)&&(T=[this]),T},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var g=h.target||h.srcElement;if(!(!this._loaded||g._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(g))){var T=h.type;T==="mousedown"&&pu(g),this._fireDOMEvent(h,T)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,g,T){if(h.type==="click"){var R=i({},h);R.type="preclick",this._fireDOMEvent(R,R.type,T)}var q=this._findEventTargets(h,g);if(T){for(var oe=[],Te=0;Te<T.length;Te++)T[Te].listens(g,!0)&&oe.push(T[Te]);q=oe.concat(q)}if(q.length){g==="contextmenu"&&Jr(h);var ze=q[0],qe={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var at=ze.getLatLng&&(!ze._radius||ze._radius<=10);qe.containerPoint=at?this.latLngToContainerPoint(ze.getLatLng()):this.mouseEventToContainerPoint(h),qe.layerPoint=this.containerPointToLayerPoint(qe.containerPoint),qe.latlng=at?ze.getLatLng():this.layerPointToLatLng(qe.layerPoint)}for(Te=0;Te<q.length;Te++)if(q[Te].fire(g,qe,!0),qe.originalEvent._stopped||q[Te].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,g=this._handlers.length;h<g;h++)this._handlers[h].disable()},whenReady:function(h,g){return this._loaded?h.call(g||this,{target:this}):this.on("load",h,g),this},_getMapPanePos:function(){return bn(this._mapPane)||new Pe(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,g){var T=h&&g!==void 0?this._getNewPixelOrigin(h,g):this.getPixelOrigin();return T.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,g){var T=this.getSize()._divideBy(2);return this.project(h,g)._subtract(T)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,g,T){var R=this._getNewPixelOrigin(T,g);return this.project(h,g)._subtract(R)},_latLngBoundsToNewLayerBounds:function(h,g,T){var R=this._getNewPixelOrigin(T,g);return et([this.project(h.getSouthWest(),g)._subtract(R),this.project(h.getNorthWest(),g)._subtract(R),this.project(h.getSouthEast(),g)._subtract(R),this.project(h.getNorthEast(),g)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,g,T){if(!T)return h;var R=this.project(h,g),q=this.getSize().divideBy(2),oe=new Xe(R.subtract(q),R.add(q)),Te=this._getBoundsOffset(oe,T,g);return Math.abs(Te.x)<=1&&Math.abs(Te.y)<=1?h:this.unproject(R.add(Te),g)},_limitOffset:function(h,g){if(!g)return h;var T=this.getPixelBounds(),R=new Xe(T.min.add(h),T.max.add(h));return h.add(this._getBoundsOffset(R,g))},_getBoundsOffset:function(h,g,T){var R=et(this.project(g.getNorthEast(),T),this.project(g.getSouthWest(),T)),q=R.min.subtract(h.min),oe=R.max.subtract(h.max),Te=this._rebound(q.x,-oe.x),ze=this._rebound(q.y,-oe.y);return new Pe(Te,ze)},_rebound:function(h,g){return h+g>0?Math.round(h-g)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(g))},_limitZoom:function(h){var g=this.getMinZoom(),T=this.getMaxZoom(),R=ve.any3d?this.options.zoomSnap:1;return R&&(h=Math.round(h/R)*R),Math.max(g,Math.min(T,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,g){var T=this._getCenterOffset(h)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(T)?!1:(this.panBy(T,g),!0)},_createAnimProxy:function(){var h=this._proxy=Cn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(g){var T=fu,R=this._proxy.style[T];aa(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),R===this._proxy.style[T]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){sr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),g=this.getZoom();aa(this._proxy,this.project(h,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,g,T){if(this._animatingZoom)return!0;if(T=T||{},!this._zoomAnimated||T.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(g),q=this._getCenterOffset(h)._divideBy(1-1/R);return T.animate!==!0&&!this.getSize().contains(q)?!1:(Se(function(){this._moveStart(!0,!1)._animateZoom(h,g,!0)},this),!0)},_animateZoom:function(h,g,T,R){this._mapPane&&(T&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=g,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:g,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rn(h,g){return new pn(h,g)}var eo=Be.extend({options:{position:"topright"},initialize:function(h){V(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var g=this._map;return g&&g.removeControl(this),this.options.position=h,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var g=this._container=this.onAdd(h),T=this.getPosition(),R=h._controlCorners[T];return Nt(g,"leaflet-control"),T.indexOf("bottom")!==-1?R.insertBefore(g,R.firstChild):R.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(sr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),ss=function(h){return new eo(h)};pn.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},g="leaflet-",T=this._controlContainer=Cn("div",g+"control-container",this._container);function R(q,oe){var Te=g+q+" "+g+oe;h[q+oe]=Cn("div",Te,T)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)sr(this._controlCorners[h]);sr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Da=eo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,g,T,R){return T<R?-1:R<T?1:0}},initialize:function(h,g,T){V(this,T),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var R in h)this._addLayer(h[R],R);for(R in g)this._addLayer(g[R],R,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return eo.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,g){return this._addLayer(h,g),this._map?this._update():this},addOverlay:function(h,g){return this._addLayer(h,g,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var g=this._getLayer(y(h));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Xn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",g=this._container=Cn("div",h),T=this.options.collapsed;g.setAttribute("aria-haspopup",!0),kl(g),ca(g);var R=this._section=Cn("section",h+"-list");T&&(this._map.on("click",this.collapse,this),nn(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=Cn("a",h+"-toggle",g);q.href="#",q.title="Layers",q.setAttribute("role","button"),nn(q,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){Jr(oe),this._expandSafely()}},this),T||this.expand(),this._baseLayersList=Cn("div",h+"-base",R),this._separator=Cn("div",h+"-separator",R),this._overlaysList=Cn("div",h+"-overlays",R),g.appendChild(R)},_getLayer:function(h){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&y(this._layers[g].layer)===h)return this._layers[g]},_addLayer:function(h,g,T){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:g,overlay:T}),this.options.sortLayers&&this._layers.sort(d(function(R,q){return this.options.sortFunction(R.layer,q.layer,R.name,q.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ia(this._baseLayersList),ia(this._overlaysList),this._layerControlInputs=[];var h,g,T,R,q=0;for(T=0;T<this._layers.length;T++)R=this._layers[T],this._addItem(R),g=g||R.overlay,h=h||!R.overlay,q+=R.overlay?0:1;return this.options.hideSingleBase&&(h=h&&q>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=g&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var g=this._getLayer(y(h.target)),T=g.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;T&&this._map.fire(T,g)},_createRadioElement:function(h,g){var T='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(g?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=T,R.firstChild},_addItem:function(h){var g=document.createElement("label"),T=this._map.hasLayer(h.layer),R;h.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=T):R=this._createRadioElement("leaflet-base-layers_"+y(this),T),this._layerControlInputs.push(R),R.layerId=y(h.layer),nn(R,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+h.name;var oe=document.createElement("span");g.appendChild(oe),oe.appendChild(R),oe.appendChild(q);var Te=h.overlay?this._overlaysList:this._baseLayersList;return Te.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){var h=this._layerControlInputs,g,T,R=[],q=[];this._handlingClick=!0;for(var oe=h.length-1;oe>=0;oe--)g=h[oe],T=this._getLayer(g.layerId).layer,g.checked?R.push(T):g.checked||q.push(T);for(oe=0;oe<q.length;oe++)this._map.hasLayer(q[oe])&&this._map.removeLayer(q[oe]);for(oe=0;oe<R.length;oe++)this._map.hasLayer(R[oe])||this._map.addLayer(R[oe]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,g,T,R=this._map.getZoom(),q=h.length-1;q>=0;q--)g=h[q],T=this._getLayer(g.layerId).layer,g.disabled=T.options.minZoom!==void 0&&R<T.options.minZoom||T.options.maxZoom!==void 0&&R>T.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;nn(h,"click",Jr),this.expand(),setTimeout(function(){qn(h,"click",Jr)})}}),zh=function(h,g,T){return new Da(h,g,T)},za=eo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var g="leaflet-control-zoom",T=Cn("div",g+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,g+"-in",T,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,g+"-out",T,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),T},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,g,T,R,q){var oe=Cn("a",T,R);return oe.innerHTML=h,oe.href="#",oe.title=g,oe.setAttribute("role","button"),oe.setAttribute("aria-label",g),kl(oe),nn(oe,"click",Ma),nn(oe,"click",q,this),nn(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var h=this._map,g="leaflet-disabled";Xn(this._zoomInButton,g),Xn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Nt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Nt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});pn.mergeOptions({zoomControl:!0}),pn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new za,this.addControl(this.zoomControl))});var $s=function(h){return new za(h)},Mc=eo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var g="leaflet-control-scale",T=Cn("div",g),R=this.options;return this._addScales(R,g+"-line",T),h.on(R.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),T},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,g,T){h.metric&&(this._mScale=Cn("div",g,T)),h.imperial&&(this._iScale=Cn("div",g,T))},_update:function(){var h=this._map,g=h.getSize().y/2,T=h.distance(h.containerPointToLatLng([0,g]),h.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(T)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var g=this._getRoundNum(h),T=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,T,g/h)},_updateImperial:function(h){var g=h*3.2808399,T,R,q;g>5280?(T=g/5280,R=this._getRoundNum(T),this._updateScale(this._iScale,R+" mi",R/T)):(q=this._getRoundNum(g),this._updateScale(this._iScale,q+" ft",q/g))},_updateScale:function(h,g,T){h.style.width=Math.round(this.options.maxWidth*T)+"px",h.innerHTML=g},_getRoundNum:function(h){var g=Math.pow(10,(Math.floor(h)+"").length-1),T=h/g;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:1,g*T}}),Dc=function(h){return new Mc(h)},Fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',js=eo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?Fn+" ":"")+"Leaflet</a>"},initialize:function(h){V(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Cn("div","leaflet-control-attribution"),kl(this._container);for(var g in h._layers)h._layers[g].getAttribution&&this.addAttribution(h._layers[g].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var g in this._attributions)this._attributions[g]&&h.push(g);var T=[];this.options.prefix&&T.push(this.options.prefix),h.length&&T.push(h.join(", ")),this._container.innerHTML=T.join(' <span aria-hidden="true">|</span> ')}}});pn.mergeOptions({attributionControl:!0}),pn.addInitHook(function(){this.options.attributionControl&&new js().addTo(this)});var kd=function(h){return new js(h)};eo.Layers=Da,eo.Zoom=za,eo.Scale=Mc,eo.Attribution=js,ss.layers=zh,ss.zoom=$s,ss.scale=Dc,ss.attribution=kd;var vo=Be.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vo.addTo=function(h,g){return h.addHandler(g,this),this};var Ol={Events:Ge},Fh=ve.touch?"touchstart mousedown":"mousedown",Fa=ut.extend({options:{clickTolerance:3},initialize:function(h,g,T,R){V(this,R),this._element=h,this._dragStartTarget=g||h,this._preventOutline=T},enable:function(){this._enabled||(nn(this._dragStartTarget,Fh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fa._dragging===this&&this.finishDrag(!0),qn(this._dragStartTarget,Fh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!rs(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){Fa._dragging===this&&this.finishDrag();return}if(!(Fa._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(Fa._dragging=this,this._preventOutline&&pu(this._element),Pl(),os(),!this._moving)){this.fire("down");var g=h.touches?h.touches[0]:h,T=mu(this._element);this._startPoint=new Pe(g.clientX,g.clientY),this._startPos=bn(this._element),this._parentScale=Ns(T);var R=h.type==="mousedown";nn(document,R?"mousemove":"touchmove",this._onMove,this),nn(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var g=h.touches&&h.touches.length===1?h.touches[0]:h,T=new Pe(g.clientX,g.clientY)._subtract(this._startPoint);!T.x&&!T.y||Math.abs(T.x)+Math.abs(T.y)<this.options.clickTolerance||(T.x/=this._parentScale.x,T.y/=this._parentScale.y,Jr(h),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(T),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),dr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Xn(document.body,"leaflet-dragging"),this._lastTarget&&(Xn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),qn(document,"mousemove touchmove",this._onMove,this),qn(document,"mouseup touchend touchcancel",this._onUp,this),Oc(),sa(),this._moved&&this._moving&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Fa._dragging=!1}});function zc(h,g){if(!g||!h.length)return h.slice();var T=g*g;return h=Nc(h,T),h=_u(h,T),h}function Nh(h,g,T){return Math.sqrt(Gs(h,g,T,!0))}function Fc(h,g,T){return Gs(h,g,T)}function _u(h,g){var T=h.length,R=typeof Uint8Array!=void 0+""?Uint8Array:Array,q=new R(T);q[0]=q[T-1]=1,qs(h,q,g,0,T-1);var oe,Te=[];for(oe=0;oe<T;oe++)q[oe]&&Te.push(h[oe]);return Te}function qs(h,g,T,R,q){var oe=0,Te,ze,qe;for(ze=R+1;ze<=q-1;ze++)qe=Gs(h[ze],h[R],h[q],!0),qe>oe&&(Te=ze,oe=qe);oe>T&&(g[Te]=1,qs(h,g,T,R,Te),qs(h,g,T,Te,q))}function Nc(h,g){for(var T=[h[0]],R=1,q=0,oe=h.length;R<oe;R++)to(h[R],h[q])>g&&(T.push(h[R]),q=R);return q<oe-1&&T.push(h[oe-1]),T}var xu;function Bc(h,g,T,R,q){var oe=R?xu:Bo(h,T),Te=Bo(g,T),ze,qe,at;for(xu=Te;;){if(!(oe|Te))return[h,g];if(oe&Te)return!1;ze=oe||Te,qe=ls(h,g,ze,T,q),at=Bo(qe,T),ze===oe?(h=qe,oe=at):(g=qe,Te=at)}}function ls(h,g,T,R,q){var oe=g.x-h.x,Te=g.y-h.y,ze=R.min,qe=R.max,at,Tt;return T&8?(at=h.x+oe*(qe.y-h.y)/Te,Tt=qe.y):T&4?(at=h.x+oe*(ze.y-h.y)/Te,Tt=ze.y):T&2?(at=qe.x,Tt=h.y+Te*(qe.x-h.x)/oe):T&1&&(at=ze.x,Tt=h.y+Te*(ze.x-h.x)/oe),new Pe(at,Tt,q)}function Bo(h,g){var T=0;return h.x<g.min.x?T|=1:h.x>g.max.x&&(T|=2),h.y<g.min.y?T|=4:h.y>g.max.y&&(T|=8),T}function to(h,g){var T=g.x-h.x,R=g.y-h.y;return T*T+R*R}function Gs(h,g,T,R){var q=g.x,oe=g.y,Te=T.x-q,ze=T.y-oe,qe=Te*Te+ze*ze,at;return qe>0&&(at=((h.x-q)*Te+(h.y-oe)*ze)/qe,at>1?(q=T.x,oe=T.y):at>0&&(q+=Te*at,oe+=ze*at)),Te=h.x-q,ze=h.y-oe,R?Te*Te+ze*ze:new Pe(q,oe)}function yi(h){return!j(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Uc(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yi(h)}function us(h,g){var T,R,q,oe,Te,ze,qe,at;if(!h||h.length===0)throw new Error("latlngs not passed");yi(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Tt=[];for(var Qt in h)Tt.push(g.project(pt(h[Qt])));var vn=Tt.length;for(T=0,R=0;T<vn-1;T++)R+=Tt[T].distanceTo(Tt[T+1])/2;if(R===0)at=Tt[0];else for(T=0,oe=0;T<vn-1;T++)if(Te=Tt[T],ze=Tt[T+1],q=Te.distanceTo(ze),oe+=q,oe>R){qe=(oe-R)/q,at=[ze.x-qe*(ze.x-Te.x),ze.y-qe*(ze.y-Te.y)];break}return g.unproject(Me(at))}var bu={__proto__:null,simplify:zc,pointToSegmentDistance:Nh,closestPointOnSegment:Fc,clipSegment:Bc,_getEdgeIntersection:ls,_getBitCode:Bo,_sqClosestPointOnSegment:Gs,isFlat:yi,_flat:Uc,polylineCenter:us};function Ll(h,g,T){var R,q=[1,4,2,8],oe,Te,ze,qe,at,Tt,Qt,vn;for(oe=0,Tt=h.length;oe<Tt;oe++)h[oe]._code=Bo(h[oe],g);for(ze=0;ze<4;ze++){for(Qt=q[ze],R=[],oe=0,Tt=h.length,Te=Tt-1;oe<Tt;Te=oe++)qe=h[oe],at=h[Te],qe._code&Qt?at._code&Qt||(vn=ls(at,qe,Qt,g,T),vn._code=Bo(vn,g),R.push(vn)):(at._code&Qt&&(vn=ls(at,qe,Qt,g,T),vn._code=Bo(vn,g),R.push(vn)),R.push(qe));h=R}return h}function Bh(h,g){var T,R,q,oe,Te,ze,qe,at,Tt;if(!h||h.length===0)throw new Error("latlngs not passed");yi(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Qt=[];for(var vn in h)Qt.push(g.project(pt(h[vn])));var di=Qt.length;for(ze=qe=at=0,T=0,R=di-1;T<di;R=T++)q=Qt[T],oe=Qt[R],Te=q.y*oe.x-oe.y*q.x,qe+=(q.x+oe.x)*Te,at+=(q.y+oe.y)*Te,ze+=Te*3;return ze===0?Tt=Qt[0]:Tt=[qe/ze,at/ze],g.unproject(Me(Tt))}var Vc={__proto__:null,clipPolygon:Ll,polygonCenter:Bh},$c={project:function(h){return new Pe(h.lng,h.lat)},unproject:function(h){return new ht(h.y,h.x)},bounds:new Xe([-180,-90],[180,90])},pr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Xe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var g=Math.PI/180,T=this.R,R=h.lat*g,q=this.R_MINOR/T,oe=Math.sqrt(1-q*q),Te=oe*Math.sin(R),ze=Math.tan(Math.PI/4-R/2)/Math.pow((1-Te)/(1+Te),oe/2);return R=-T*Math.log(Math.max(ze,1e-10)),new Pe(h.lng*g*T,R)},unproject:function(h){for(var g=180/Math.PI,T=this.R,R=this.R_MINOR/T,q=Math.sqrt(1-R*R),oe=Math.exp(-h.y/T),Te=Math.PI/2-2*Math.atan(oe),ze=0,qe=.1,at;ze<15&&Math.abs(qe)>1e-7;ze++)at=q*Math.sin(Te),at=Math.pow((1-at)/(1+at),q/2),qe=Math.PI/2-2*Math.atan(oe*at)-Te,Te+=qe;return new ht(Te*g,h.x*g/T)}},wu={__proto__:null,LonLat:$c,Mercator:pr,SphericalMercator:Fe},mn=i({},an,{code:"EPSG:3395",projection:pr,transformation:function(){var h=.5/(Math.PI*pr.R);return Kt(h,.5,-h,.5)}()}),Rl=i({},an,{code:"EPSG:4326",projection:$c,transformation:Kt(1/180,1,-1/180,.5)}),lr=i({},Et,{projection:$c,transformation:Kt(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,g){var T=g.lng-h.lng,R=g.lat-h.lat;return Math.sqrt(T*T+R*R)},infinite:!0});Et.Earth=an,Et.EPSG3395=mn,Et.EPSG3857=xn,Et.EPSG900913=tn,Et.EPSG4326=Rl,Et.Simple=lr;var gn=ut.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[y(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[y(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var g=h.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var T=this.getEvents();g.on(T,this),this.once("remove",function(){g.off(T,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});pn.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var g=y(h);return this._layers[g]?this:(this._layers[g]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var g=y(h);return this._layers[g]?(this._loaded&&h.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return y(h)in this._layers},eachLayer:function(h,g){for(var T in this._layers)h.call(g,this._layers[T]);return this},_addLayers:function(h){h=h?j(h)?h:[h]:[];for(var g=0,T=h.length;g<T;g++)this.addLayer(h[g])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[y(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var g=y(h);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,g=-1/0,T=this._getZoomSpan();for(var R in this._zoomBoundLayers){var q=this._zoomBoundLayers[R].options;h=q.minZoom===void 0?h:Math.min(h,q.minZoom),g=q.maxZoom===void 0?g:Math.max(g,q.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=h===1/0?void 0:h,T!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yo=gn.extend({initialize:function(h,g){V(this,g),this._layers={};var T,R;if(h)for(T=0,R=h.length;T<R;T++)this.addLayer(h[T])},addLayer:function(h){var g=this.getLayerId(h);return this._layers[g]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var g=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(h){var g=typeof h=="number"?h:this.getLayerId(h);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var g=Array.prototype.slice.call(arguments,1),T,R;for(T in this._layers)R=this._layers[T],R[h]&&R[h].apply(R,g);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,g){for(var T in this._layers)h.call(g,this._layers[T]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return y(h)}}),jc=function(h,g){return new yo(h,g)},Uo=yo.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),yo.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),yo.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new mt;for(var g in this._layers){var T=this._layers[g];h.extend(T.getBounds?T.getBounds():T.getLatLng())}return h}}),Uh=function(h,g){return new Uo(h,g)},cs=Be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){V(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,g){var T=this._getIconUrl(h);if(!T){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(T,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(R,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(h,g){var T=this.options,R=T[g+"Size"];typeof R=="number"&&(R=[R,R]);var q=Me(R),oe=Me(g==="shadow"&&T.shadowAnchor||T.iconAnchor||q&&q.divideBy(2,!0));h.className="leaflet-marker-"+g+" "+(T.className||""),oe&&(h.style.marginLeft=-oe.x+"px",h.style.marginTop=-oe.y+"px"),q&&(h.style.width=q.x+"px",h.style.height=q.y+"px")},_createImg:function(h,g){return g=g||document.createElement("img"),g.src=h,g},_getIconUrl:function(h){return ve.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function Vh(h){return new cs(h)}var no=cs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof no.imagePath!="string"&&(no.imagePath=this._detectIconPath()),(this.options.imagePath||no.imagePath)+cs.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var g=function(T,R,q){var oe=R.exec(T);return oe&&oe[q]};return h=g(h,/^url\((['"])?(.+)\1\)$/,2),h&&g(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Cn("div","leaflet-default-icon-path",document.body),g=Yi(h,"background-image")||Yi(h,"backgroundImage");if(document.body.removeChild(h),g=this._stripUrl(g),g)return g;var T=document.querySelector('link[href$="leaflet.css"]');return T?T.href.substring(0,T.href.length-11-1):""}}),Su=vo.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new Fa(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var g=this._marker,T=g._map,R=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,oe=bn(g._icon),Te=T.getPixelBounds(),ze=T.getPixelOrigin(),qe=et(Te.min._subtract(ze).add(q),Te.max._subtract(ze).subtract(q));if(!qe.contains(oe)){var at=Me((Math.max(qe.max.x,oe.x)-qe.max.x)/(Te.max.x-qe.max.x)-(Math.min(qe.min.x,oe.x)-qe.min.x)/(Te.min.x-qe.min.x),(Math.max(qe.max.y,oe.y)-qe.max.y)/(Te.max.y-qe.max.y)-(Math.min(qe.min.y,oe.y)-qe.min.y)/(Te.min.y-qe.min.y)).multiplyBy(R);T.panBy(at,{animate:!1}),this._draggable._newPos._add(at),this._draggable._startPos._add(at),dr(g._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=Se(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(De(this._panRequest),this._panRequest=Se(this._adjustPan.bind(this,h)))},_onDrag:function(h){var g=this._marker,T=g._shadow,R=bn(g._icon),q=g._map.layerPointToLatLng(R);T&&dr(T,R),g._latlng=q,h.latlng=q,h.oldLatLng=this._oldLatLng,g.fire("move",h).fire("drag",h)},_onDragEnd:function(h){De(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Hs=gn.extend({options:{icon:new no,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,g){V(this,g),this._latlng=pt(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var g=this._latlng;return this._latlng=pt(h),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),T=h.icon.createIcon(this._icon),R=!1;T!==this._icon&&(this._icon&&this._removeIcon(),R=!0,h.title&&(T.title=h.title),T.tagName==="IMG"&&(T.alt=h.alt||"")),Nt(T,g),h.keyboard&&(T.tabIndex="0",T.setAttribute("role","button")),this._icon=T,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nn(T,"focus",this._panOnFocus,this);var q=h.icon.createShadow(this._shadow),oe=!1;q!==this._shadow&&(this._removeShadow(),oe=!0),q&&(Nt(q,g),q.alt=""),this._shadow=q,h.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&oe&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qn(this._icon,"focus",this._panOnFocus,this),sr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&sr(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&dr(this._icon,h),this._shadow&&dr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Su)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Su(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&Ri(this._icon,h),this._shadow&&Ri(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var g=this.options.icon.options,T=g.iconSize?Me(g.iconSize):Me(0,0),R=g.iconAnchor?Me(g.iconAnchor):Me(0,0);h.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:T.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qc(h,g){return new Hs(h,g)}var _o=gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return V(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ml=_o.extend({options:{fill:!0,radius:10},initialize:function(h,g){V(this,g),this._latlng=pt(h),this._radius=this.options.radius},setLatLng:function(h){var g=this._latlng;return this._latlng=pt(h),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var g=h&&h.radius||this._radius;return _o.prototype.setStyle.call(this,h),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,g=this._radiusY||h,T=this._clickTolerance(),R=[h+T,g+T];this._pxBounds=new Xe(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $h(h,g){return new Ml(h,g)}var hs=Ml.extend({initialize:function(h,g,T){if(typeof g=="number"&&(g=i({},T,{radius:g})),V(this,g),this._latlng=pt(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:_o.prototype.setStyle,_project:function(){var h=this._latlng.lng,g=this._latlng.lat,T=this._map,R=T.options.crs;if(R.distance===an.distance){var q=Math.PI/180,oe=this._mRadius/an.R/q,Te=T.project([g+oe,h]),ze=T.project([g-oe,h]),qe=Te.add(ze).divideBy(2),at=T.unproject(qe).lat,Tt=Math.acos((Math.cos(oe*q)-Math.sin(g*q)*Math.sin(at*q))/(Math.cos(g*q)*Math.cos(at*q)))/q;(isNaN(Tt)||Tt===0)&&(Tt=oe/Math.cos(Math.PI/180*g)),this._point=qe.subtract(T.getPixelOrigin()),this._radius=isNaN(Tt)?0:qe.x-T.project([at,h-Tt]).x,this._radiusY=qe.y-Te.y}else{var Qt=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=T.latLngToLayerPoint(this._latlng),this._radius=this._point.x-T.latLngToLayerPoint(Qt).x}this._updateBounds()}});function jh(h,g,T){return new hs(h,g,T)}var Hr=_o.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,g){V(this,g),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var g=1/0,T=null,R=Gs,q,oe,Te=0,ze=this._parts.length;Te<ze;Te++)for(var qe=this._parts[Te],at=1,Tt=qe.length;at<Tt;at++){q=qe[at-1],oe=qe[at];var Qt=R(h,q,oe,!0);Qt<g&&(g=Qt,T=R(h,q,oe))}return T&&(T.distance=Math.sqrt(g)),T},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return us(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,g){return g=g||this._defaultShape(),h=pt(h),g.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new mt,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return yi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var g=[],T=yi(h),R=0,q=h.length;R<q;R++)T?(g[R]=pt(h[R]),this._bounds.extend(g[R])):g[R]=this._convertLatLngs(h[R]);return g},_project:function(){var h=new Xe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),g=new Pe(h,h);this._rawPxBounds&&(this._pxBounds=new Xe([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(h,g,T){var R=h[0]instanceof ht,q=h.length,oe,Te;if(R){for(Te=[],oe=0;oe<q;oe++)Te[oe]=this._map.latLngToLayerPoint(h[oe]),T.extend(Te[oe]);g.push(Te)}else for(oe=0;oe<q;oe++)this._projectLatlngs(h[oe],g,T)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,T,R,q,oe,Te,ze,qe;for(T=0,q=0,oe=this._rings.length;T<oe;T++)for(qe=this._rings[T],R=0,Te=qe.length;R<Te-1;R++)ze=Bc(qe[R],qe[R+1],h,R,!0),ze&&(g[q]=g[q]||[],g[q].push(ze[0]),(ze[1]!==qe[R+1]||R===Te-2)&&(g[q].push(ze[1]),q++))}},_simplifyPoints:function(){for(var h=this._parts,g=this.options.smoothFactor,T=0,R=h.length;T<R;T++)h[T]=zc(h[T],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,g){var T,R,q,oe,Te,ze,qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(T=0,oe=this._parts.length;T<oe;T++)for(ze=this._parts[T],R=0,Te=ze.length,q=Te-1;R<Te;q=R++)if(!(!g&&R===0)&&Nh(h,ze[q],ze[R])<=qe)return!0;return!1}});function ha(h,g){return new Hr(h,g)}Hr._flat=Uc;var fs=Hr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var g=Hr.prototype._convertLatLngs.call(this,h),T=g.length;return T>=2&&g[0]instanceof ht&&g[0].equals(g[T-1])&&g.pop(),g},_setLatLngs:function(h){Hr.prototype._setLatLngs.call(this,h),yi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,g=this.options.weight,T=new Pe(g,g);if(h=new Xe(h.min.subtract(T),h.max.add(T)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,q=this._rings.length,oe;R<q;R++)oe=Ll(this._rings[R],h,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var g=!1,T,R,q,oe,Te,ze,qe,at;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(oe=0,qe=this._parts.length;oe<qe;oe++)for(T=this._parts[oe],Te=0,at=T.length,ze=at-1;Te<at;ze=Te++)R=T[Te],q=T[ze],R.y>h.y!=q.y>h.y&&h.x<(q.x-R.x)*(h.y-R.y)/(q.y-R.y)+R.x&&(g=!g);return g||Hr.prototype._containsPoint.call(this,h,!0)}});function fa(h,g){return new fs(h,g)}var _i=Uo.extend({initialize:function(h,g){V(this,g),this._layers={},h&&this.addData(h)},addData:function(h){var g=j(h)?h:h.features,T,R,q;if(g){for(T=0,R=g.length;T<R;T++)q=g[T],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var oe=this.options;if(oe.filter&&!oe.filter(h))return this;var Te=Dl(h,oe);return Te?(Te.feature=Ba(h),Te.defaultOptions=Te.options,this.resetStyle(Te),oe.onEachFeature&&oe.onEachFeature(h,Te),this.addLayer(Te)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(g){this._setLayerStyle(g,h)},this)},_setLayerStyle:function(h,g){h.setStyle&&(typeof g=="function"&&(g=g(h.feature)),h.setStyle(g))}});function Dl(h,g){var T=h.type==="Feature"?h.geometry:h,R=T?T.coordinates:null,q=[],oe=g&&g.pointToLayer,Te=g&&g.coordsToLatLng||Gc,ze,qe,at,Tt;if(!R&&!T)return null;switch(T.type){case"Point":return ze=Te(R),zl(oe,h,ze,g);case"MultiPoint":for(at=0,Tt=R.length;at<Tt;at++)ze=Te(R[at]),q.push(zl(oe,h,ze,g));return new Uo(q);case"LineString":case"MultiLineString":return qe=Zs(R,T.type==="LineString"?0:1,Te),new Hr(qe,g);case"Polygon":case"MultiPolygon":return qe=Zs(R,T.type==="Polygon"?1:2,Te),new fs(qe,g);case"GeometryCollection":for(at=0,Tt=T.geometries.length;at<Tt;at++){var Qt=Dl({geometry:T.geometries[at],type:"Feature",properties:h.properties},g);Qt&&q.push(Qt)}return new Uo(q);case"FeatureCollection":for(at=0,Tt=T.features.length;at<Tt;at++){var vn=Dl(T.features[at],g);vn&&q.push(vn)}return new Uo(q);default:throw new Error("Invalid GeoJSON object.")}}function zl(h,g,T,R){return h?h(g,T):new Hs(T,R&&R.markersInheritOptions&&R)}function Gc(h){return new ht(h[1],h[0],h[2])}function Zs(h,g,T){for(var R=[],q=0,oe=h.length,Te;q<oe;q++)Te=g?Zs(h[q],g-1,T):(T||Gc)(h[q]),R.push(Te);return R}function Na(h,g){return h=pt(h),h.alt!==void 0?[O(h.lng,g),O(h.lat,g),O(h.alt,g)]:[O(h.lng,g),O(h.lat,g)]}function xo(h,g,T,R){for(var q=[],oe=0,Te=h.length;oe<Te;oe++)q.push(g?xo(h[oe],yi(h[oe])?0:g-1,T,R):Na(h[oe],R));return!g&&T&&q.push(q[0].slice()),q}function bt(h,g){return h.feature?i({},h.feature,{geometry:g}):Ba(g)}function Ba(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var da={toGeoJSON:function(h){return bt(this,{type:"Point",coordinates:Na(this.getLatLng(),h)})}};Hs.include(da),hs.include(da),Ml.include(da),Hr.include({toGeoJSON:function(h){var g=!yi(this._latlngs),T=xo(this._latlngs,g?1:0,!1,h);return bt(this,{type:(g?"Multi":"")+"LineString",coordinates:T})}}),fs.include({toGeoJSON:function(h){var g=!yi(this._latlngs),T=g&&!yi(this._latlngs[0]),R=xo(this._latlngs,T?2:g?1:0,!0,h);return g||(R=[R]),bt(this,{type:(T?"Multi":"")+"Polygon",coordinates:R})}}),yo.include({toMultiPoint:function(h){var g=[];return this.eachLayer(function(T){g.push(T.toGeoJSON(h).geometry.coordinates)}),bt(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(h){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(h);var T=g==="GeometryCollection",R=[];return this.eachLayer(function(q){if(q.toGeoJSON){var oe=q.toGeoJSON(h);if(T)R.push(oe.geometry);else{var Te=Ba(oe);Te.type==="FeatureCollection"?R.push.apply(R,Te.features):R.push(Te)}}}),T?bt(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function Ua(h,g){return new _i(h,g)}var qh=Ua,yt=gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,g,T){this._url=h,this._bounds=ct(g),V(this,T)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){sr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&La(this._image),this},bringToBack:function(){return this._map&&oa(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=ct(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",g=this._image=h?this._url:Cn("img");if(Nt(g,"leaflet-image-layer"),this._zoomAnimated&&Nt(g,"leaflet-zoom-animated"),this.options.className&&Nt(g,this.options.className),g.onselectstart=P,g.onmousemove=P,g.onload=d(this.fire,this,"load"),g.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(h){var g=this._map.getZoomScale(h.zoom),T=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;aa(this._image,T,g)},_reset:function(){var h=this._image,g=new Xe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),T=g.getSize();dr(h,g.min),h.style.width=T.x+"px",h.style.height=T.y+"px"},_updateOpacity:function(){Ri(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Hc=function(h,g,T){return new yt(h,g,T)},Gh=yt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",g=this._image=h?this._url:Cn("video");if(Nt(g,"leaflet-image-layer"),this._zoomAnimated&&Nt(g,"leaflet-zoom-animated"),this.options.className&&Nt(g,this.options.className),g.onselectstart=P,g.onmousemove=P,g.onloadeddata=d(this.fire,this,"load"),h){for(var T=g.getElementsByTagName("source"),R=[],q=0;q<T.length;q++)R.push(T[q].src);this._url=T.length>0?R:[g.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var Te=Cn("source");Te.src=this._url[oe],g.appendChild(Te)}}});function Od(h,g,T){return new Gh(h,g,T)}var Eu=yt.extend({_initImage:function(){var h=this._image=this._url;Nt(h,"leaflet-image-layer"),this._zoomAnimated&&Nt(h,"leaflet-zoom-animated"),this.options.className&&Nt(h,this.options.className),h.onselectstart=P,h.onmousemove=P}});function Hh(h,g,T){return new Eu(h,g,T)}var xi=gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,g){h&&(h instanceof ht||j(h))?(this._latlng=pt(h),V(this,g)):(V(this,h),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&Ri(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&Ri(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(Ri(this._container,0),this._removeTimeout=setTimeout(d(sr,void 0,this._container),200)):sr(this._container),this.options.interactive&&(Xn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=pt(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&La(this._container),this},bringToBack:function(){return this._map&&oa(this._container),this},_prepareOpen:function(h){var g=this._source;if(!g._map)return!1;if(g instanceof Uo){g=null;var T=this._source._layers;for(var R in T)if(T[R]._map){g=T[R];break}if(!g)return!1;this._source=g}if(!h)if(g.getCenter)h=g.getCenter();else if(g.getLatLng)h=g.getLatLng();else if(g.getBounds)h=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")h.innerHTML=g;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),g=Me(this.options.offset),T=this._getAnchor();this._zoomAnimated?dr(this._container,h.add(T)):g=g.add(h).add(T);var R=this._containerBottom=-g.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=R+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});pn.include({_initOverlay:function(h,g,T,R){var q=g;return q instanceof h||(q=new h(R).setContent(g)),T&&q.setLatLng(T),q}}),gn.include({_initOverlay:function(h,g,T,R){var q=T;return q instanceof h?(V(q,R),q._source=this):(q=g&&!R?g:new h(R,this),q.setContent(T)),q}});var ds=xi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,xi.prototype.openOn.call(this,h)},onAdd:function(h){xi.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _o||this._source.on("preclick",ua))},onRemove:function(h){xi.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _o||this._source.off("preclick",ua))},getEvents:function(){var h=xi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",g=this._container=Cn("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),T=this._wrapper=Cn("div",h+"-content-wrapper",g);if(this._contentNode=Cn("div",h+"-content",T),kl(g),ca(this._contentNode),nn(g,"contextmenu",ua),this._tipContainer=Cn("div",h+"-tip-container",g),this._tip=Cn("div",h+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=Cn("a",h+"-close-button",g);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',nn(R,"click",function(q){Jr(q),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,g=h.style;g.width="",g.whiteSpace="nowrap";var T=h.offsetWidth;T=Math.min(T,this.options.maxWidth),T=Math.max(T,this.options.minWidth),g.width=T+1+"px",g.whiteSpace="",g.height="";var R=h.offsetHeight,q=this.options.maxHeight,oe="leaflet-popup-scrolled";q&&R>q?(g.height=q+"px",Nt(h,oe)):Xn(h,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),T=this._getAnchor();dr(this._container,g.add(T))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,g=parseInt(Yi(this._container,"marginBottom"),10)||0,T=this._container.offsetHeight+g,R=this._containerWidth,q=new Pe(this._containerLeft,-T-this._containerBottom);q._add(bn(this._container));var oe=h.layerPointToContainerPoint(q),Te=Me(this.options.autoPanPadding),ze=Me(this.options.autoPanPaddingTopLeft||Te),qe=Me(this.options.autoPanPaddingBottomRight||Te),at=h.getSize(),Tt=0,Qt=0;oe.x+R+qe.x>at.x&&(Tt=oe.x+R-at.x+qe.x),oe.x-Tt-ze.x<0&&(Tt=oe.x-ze.x),oe.y+T+qe.y>at.y&&(Qt=oe.y+T-at.y+qe.y),oe.y-Qt-ze.y<0&&(Qt=oe.y-ze.y),(Tt||Qt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Tt,Qt]))}},_getAnchor:function(){return Me(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ro=function(h,g){return new ds(h,g)};pn.mergeOptions({closePopupOnClick:!0}),pn.include({openPopup:function(h,g,T){return this._initOverlay(ds,h,g,T).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),gn.include({bindPopup:function(h,g){return this._popup=this._initOverlay(ds,this._popup,h,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Uo||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){Ma(h);var g=h.layer||h.target;if(this._popup._source===g&&!(g instanceof _o)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=g,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var pa=xi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){xi.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){xi.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=xi.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",g=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Cn("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var g,T,R=this._map,q=this._container,oe=R.latLngToContainerPoint(R.getCenter()),Te=R.layerPointToContainerPoint(h),ze=this.options.direction,qe=q.offsetWidth,at=q.offsetHeight,Tt=Me(this.options.offset),Qt=this._getAnchor();ze==="top"?(g=qe/2,T=at):ze==="bottom"?(g=qe/2,T=0):ze==="center"?(g=qe/2,T=at/2):ze==="right"?(g=0,T=at/2):ze==="left"?(g=qe,T=at/2):Te.x<oe.x?(ze="right",g=0,T=at/2):(ze="left",g=qe+(Tt.x+Qt.x)*2,T=at/2),h=h.subtract(Me(g,T,!0)).add(Tt).add(Qt),Xn(q,"leaflet-tooltip-right"),Xn(q,"leaflet-tooltip-left"),Xn(q,"leaflet-tooltip-top"),Xn(q,"leaflet-tooltip-bottom"),Nt(q,"leaflet-tooltip-"+ze),dr(q,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&Ri(this._container,h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(g)},_getAnchor:function(){return Me(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zc=function(h,g){return new pa(h,g)};pn.include({openTooltip:function(h,g,T){return this._initOverlay(pa,h,g,T).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),gn.include({bindTooltip:function(h,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pa,this._tooltip,h,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var g=h?"off":"on",T={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?T.add=this._openTooltip:(T.mouseover=this._openTooltip,T.mouseout=this.closeTooltip,T.click=this._openTooltip,this._map?this._addFocusListeners():T.add=this._addFocusListeners),this._tooltip.options.sticky&&(T.mousemove=this._moveTooltip),this[g](T),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Uo||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var g=h.getElement();g&&(nn(g,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),nn(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var g=h.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0))},_moveTooltip:function(h){var g=h.latlng,T,R;this._tooltip.options.sticky&&h.originalEvent&&(T=this._map.mouseEventToContainerPoint(h.originalEvent),R=this._map.containerPointToLayerPoint(T),g=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(g)}});var Tu=cs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var g=h&&h.tagName==="DIV"?h:document.createElement("div"),T=this.options;if(T.html instanceof Element?(ia(g),g.appendChild(T.html)):g.innerHTML=T.html!==!1?T.html:"",T.bgPos){var R=Me(T.bgPos);g.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function Wc(h){return new Tu(h)}cs.Default=no;var Zr=gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){V(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),sr(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(La(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(oa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof Pe?h:new Pe(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var g=this.getPane().children,T=-h(-1/0,1/0),R=0,q=g.length,oe;R<q;R++)oe=g[R].style.zIndex,g[R]!==this._container&&oe&&(T=h(T,+oe));isFinite(T)&&(this.options.zIndex=T+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){Ri(this._container,this.options.opacity);var h=+new Date,g=!1,T=!1;for(var R in this._tiles){var q=this._tiles[R];if(!(!q.current||!q.loaded)){var oe=Math.min(1,(h-q.loaded)/200);Ri(q.el,oe),oe<1?g=!0:(q.active?T=!0:this._onOpaqueTile(q),q.active=!0)}}T&&!this._noPrune&&this._pruneTiles(),g&&(De(this._fadeFrame),this._fadeFrame=Se(this._updateOpacity,this))}},_onOpaqueTile:P,_initContainer:function(){this._container||(this._container=Cn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,g=this.options.maxZoom;if(h!==void 0){for(var T in this._levels)T=Number(T),this._levels[T].el.children.length||T===h?(this._levels[T].el.style.zIndex=g-Math.abs(h-T),this._onUpdateLevel(T)):(sr(this._levels[T].el),this._removeTilesAtZoom(T),this._onRemoveLevel(T),delete this._levels[T]);var R=this._levels[h],q=this._map;return R||(R=this._levels[h]={},R.el=Cn("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=g,R.origin=q.project(q.unproject(q.getPixelOrigin()),h).round(),R.zoom=h,this._setZoomTransform(R,q.getCenter(),q.getZoom()),P(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:P,_onRemoveLevel:P,_onCreateLevel:P,_pruneTiles:function(){if(this._map){var h,g,T=this._map.getZoom();if(T>this.options.maxZoom||T<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)g=this._tiles[h],g.retain=g.current;for(h in this._tiles)if(g=this._tiles[h],g.current&&!g.active){var R=g.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var g in this._tiles)this._tiles[g].coords.z===h&&this._removeTile(g)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)sr(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,g,T,R){var q=Math.floor(h/2),oe=Math.floor(g/2),Te=T-1,ze=new Pe(+q,+oe);ze.z=+Te;var qe=this._tileCoordsToKey(ze),at=this._tiles[qe];return at&&at.active?(at.retain=!0,!0):(at&&at.loaded&&(at.retain=!0),Te>R?this._retainParent(q,oe,Te,R):!1)},_retainChildren:function(h,g,T,R){for(var q=2*h;q<2*h+2;q++)for(var oe=2*g;oe<2*g+2;oe++){var Te=new Pe(q,oe);Te.z=T+1;var ze=this._tileCoordsToKey(Te),qe=this._tiles[ze];if(qe&&qe.active){qe.retain=!0;continue}else qe&&qe.loaded&&(qe.retain=!0);T+1<R&&this._retainChildren(q,oe,T+1,R)}},_resetView:function(h){var g=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var g=this.options;return g.minNativeZoom!==void 0&&h<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<h?g.maxNativeZoom:h},_setView:function(h,g,T,R){var q=Math.round(g);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var oe=this.options.updateWhenZooming&&q!==this._tileZoom;(!R||oe)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(h),T||this._pruneTiles(),this._noPrune=!!T),this._setZoomTransforms(h,g)},_setZoomTransforms:function(h,g){for(var T in this._levels)this._setZoomTransform(this._levels[T],h,g)},_setZoomTransform:function(h,g,T){var R=this._map.getZoomScale(T,h.zoom),q=h.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(g,T)).round();ve.any3d?aa(h.el,q,R):dr(h.el,q)},_resetGrid:function(){var h=this._map,g=h.options.crs,T=this._tileSize=this.getTileSize(),R=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,g.wrapLng[0]],R).x/T.x),Math.ceil(h.project([0,g.wrapLng[1]],R).x/T.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([g.wrapLat[0],0],R).y/T.x),Math.ceil(h.project([g.wrapLat[1],0],R).y/T.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var g=this._map,T=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),R=g.getZoomScale(T,this._tileZoom),q=g.project(h,this._tileZoom).floor(),oe=g.getSize().divideBy(R*2);return new Xe(q.subtract(oe),q.add(oe))},_update:function(h){var g=this._map;if(g){var T=this._clampZoom(g.getZoom());if(h===void 0&&(h=g.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(h),q=this._pxBoundsToTileRange(R),oe=q.getCenter(),Te=[],ze=this.options.keepBuffer,qe=new Xe(q.getBottomLeft().subtract([ze,-ze]),q.getTopRight().add([ze,-ze]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var at in this._tiles){var Tt=this._tiles[at].coords;(Tt.z!==this._tileZoom||!qe.contains(new Pe(Tt.x,Tt.y)))&&(this._tiles[at].current=!1)}if(Math.abs(T-this._tileZoom)>1){this._setView(h,T);return}for(var Qt=q.min.y;Qt<=q.max.y;Qt++)for(var vn=q.min.x;vn<=q.max.x;vn++){var di=new Pe(vn,Qt);if(di.z=this._tileZoom,!!this._isValidTile(di)){var qo=this._tiles[this._tileCoordsToKey(di)];qo?qo.current=!0:Te.push(di)}}if(Te.sort(function(Go,Vl){return Go.distanceTo(oe)-Vl.distanceTo(oe)}),Te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ys=document.createDocumentFragment();for(vn=0;vn<Te.length;vn++)this._addTile(Te[vn],Ys);this._level.el.appendChild(Ys)}}}},_isValidTile:function(h){var g=this._map.options.crs;if(!g.infinite){var T=this._globalTileRange;if(!g.wrapLng&&(h.x<T.min.x||h.x>T.max.x)||!g.wrapLat&&(h.y<T.min.y||h.y>T.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(h);return ct(this.options.bounds).overlaps(R)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var g=this._map,T=this.getTileSize(),R=h.scaleBy(T),q=R.add(T),oe=g.unproject(R,h.z),Te=g.unproject(q,h.z);return[oe,Te]},_tileCoordsToBounds:function(h){var g=this._tileCoordsToNwSe(h),T=new mt(g[0],g[1]);return this.options.noWrap||(T=this._map.wrapLatLngBounds(T)),T},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var g=h.split(":"),T=new Pe(+g[0],+g[1]);return T.z=+g[2],T},_removeTile:function(h){var g=this._tiles[h];g&&(sr(g.el),delete this._tiles[h],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Nt(h,"leaflet-tile");var g=this.getTileSize();h.style.width=g.x+"px",h.style.height=g.y+"px",h.onselectstart=P,h.onmousemove=P,ve.ielt9&&this.options.opacity<1&&Ri(h,this.options.opacity)},_addTile:function(h,g){var T=this._getTilePos(h),R=this._tileCoordsToKey(h),q=this.createTile(this._wrapCoords(h),d(this._tileReady,this,h));this._initTile(q),this.createTile.length<2&&Se(d(this._tileReady,this,h,null,q)),dr(q,T),this._tiles[R]={el:q,coords:h,current:!0},g.appendChild(q),this.fire("tileloadstart",{tile:q,coords:h})},_tileReady:function(h,g,T){g&&this.fire("tileerror",{error:g,tile:T,coords:h});var R=this._tileCoordsToKey(h);T=this._tiles[R],T&&(T.loaded=+new Date,this._map._fadeAnimated?(Ri(T.el,0),De(this._fadeFrame),this._fadeFrame=Se(this._updateOpacity,this)):(T.active=!0,this._pruneTiles()),g||(Nt(T.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:T.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?Se(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var g=new Pe(this._wrapX?C(h.x,this._wrapX):h.x,this._wrapY?C(h.y,this._wrapY):h.y);return g.z=h.z,g},_pxBoundsToTileRange:function(h){var g=this.getTileSize();return new Xe(h.min.unscaleBy(g).floor(),h.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function Vo(h){return new Zr(h)}var ps=Zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,g){this._url=h,g=V(this,g),g.detectRetina&&ve.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,g){return this._url===h&&g===void 0&&(g=!0),this._url=h,g||this.redraw(),this},createTile:function(h,g){var T=document.createElement("img");return nn(T,"load",d(this._tileOnLoad,this,g,T)),nn(T,"error",d(this._tileOnError,this,g,T)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(T.referrerPolicy=this.options.referrerPolicy),T.alt="",T.src=this.getTileUrl(h),T},getTileUrl:function(h){var g={r:ve.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var T=this._globalTileRange.max.y-h.y;this.options.tms&&(g.y=T),g["-y"]=T}return N(this._url,i(g,this.options))},_tileOnLoad:function(h,g){ve.ielt9?setTimeout(d(h,this,null,g),0):h(null,g)},_tileOnError:function(h,g,T){var R=this.options.errorTileUrl;R&&g.getAttribute("src")!==R&&(g.src=R),h(T,g)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,g=this.options.maxZoom,T=this.options.zoomReverse,R=this.options.zoomOffset;return T&&(h=g-h),h+R},_getSubdomain:function(h){var g=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var h,g;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(g=this._tiles[h].el,g.onload=P,g.onerror=P,!g.complete)){g.src=ee;var T=this._tiles[h].coords;sr(g),delete this._tiles[h],this.fire("tileabort",{tile:g,coords:T})}},_removeTile:function(h){var g=this._tiles[h];if(g)return g.el.setAttribute("src",ee),Zr.prototype._removeTile.call(this,h)},_tileReady:function(h,g,T){if(!(!this._map||T&&T.getAttribute("src")===ee))return Zr.prototype._tileReady.call(this,h,g,T)}});function Ws(h,g){return new ps(h,g)}var Cu=ps.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,g){this._url=h;var T=i({},this.defaultWmsParams);for(var R in g)R in this.options||(T[R]=g[R]);g=V(this,g);var q=g.detectRetina&&ve.retina?2:1,oe=this.getTileSize();T.width=oe.x*q,T.height=oe.y*q,this.wmsParams=T},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,ps.prototype.onAdd.call(this,h)},getTileUrl:function(h){var g=this._tileCoordsToNwSe(h),T=this._crs,R=et(T.project(g[0]),T.project(g[1])),q=R.min,oe=R.max,Te=(this._wmsVersion>=1.3&&this._crs===Rl?[q.y,q.x,oe.y,oe.x]:[q.x,q.y,oe.x,oe.y]).join(","),ze=ps.prototype.getTileUrl.call(this,h);return ze+Z(this.wmsParams,ze,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Te},setParams:function(h,g){return i(this.wmsParams,h),g||this.redraw(),this}});function ms(h,g){return new Cu(h,g)}ps.WMS=Cu,Ws.wms=ms;var $o=gn.extend({options:{padding:.1},initialize:function(h){V(this,h),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,g){var T=this._map.getZoomScale(g,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,g),oe=R.multiplyBy(-T).add(q).subtract(this._map._getNewPixelOrigin(h,g));ve.any3d?aa(this._container,oe,T):dr(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,g=this._map.getSize(),T=this._map.containerPointToLayerPoint(g.multiplyBy(-h)).round();this._bounds=new Xe(T,T.add(g.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),hi=$o.extend({options:{tolerance:0},getEvents:function(){var h=$o.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$o.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");nn(h,"mousemove",this._onMouseMove,this),nn(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),nn(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){De(this._redrawRequest),delete this._ctx,sr(this._container),qn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var g in this._layers)h=this._layers[g],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$o.prototype._update.call(this);var h=this._bounds,g=this._container,T=h.getSize(),R=ve.retina?2:1;dr(g,h.min),g.width=R*T.x,g.height=R*T.y,g.style.width=T.x+"px",g.style.height=T.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){$o.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[y(h)]=h;var g=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var g=h._order,T=g.next,R=g.prev;T?T.prev=R:this._drawLast=R,R?R.next=T:this._drawFirst=T,delete h._order,delete this._layers[y(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var g=h.options.dashArray.split(/[, ]+/),T=[],R,q;for(q=0;q<g.length;q++){if(R=Number(g[q]),isNaN(R))return;T.push(R)}h.options._dashArray=T}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||Se(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var g=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Xe,this._redrawBounds.extend(h._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(h._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var g=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,g=this._redrawBounds;if(this._ctx.save(),g){var T=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,T.x,T.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)h=R.layer,(!g||h._pxBounds&&h._pxBounds.intersects(g))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,g){if(this._drawing){var T,R,q,oe,Te=h._parts,ze=Te.length,qe=this._ctx;if(ze){for(qe.beginPath(),T=0;T<ze;T++){for(R=0,q=Te[T].length;R<q;R++)oe=Te[T][R],qe[R?"lineTo":"moveTo"](oe.x,oe.y);g&&qe.closePath()}this._fillStroke(qe,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var g=h._point,T=this._ctx,R=Math.max(Math.round(h._radius),1),q=(Math.max(Math.round(h._radiusY),1)||R)/R;q!==1&&(T.save(),T.scale(1,q)),T.beginPath(),T.arc(g.x,g.y/q,R,0,Math.PI*2,!1),q!==1&&T.restore(),this._fillStroke(T,h)}},_fillStroke:function(h,g){var T=g.options;T.fill&&(h.globalAlpha=T.fillOpacity,h.fillStyle=T.fillColor||T.color,h.fill(T.fillRule||"evenodd")),T.stroke&&T.weight!==0&&(h.setLineDash&&h.setLineDash(g.options&&g.options._dashArray||[]),h.globalAlpha=T.opacity,h.lineWidth=T.weight,h.strokeStyle=T.color,h.lineCap=T.lineCap,h.lineJoin=T.lineJoin,h.stroke())},_onClick:function(h){for(var g=this._map.mouseEventToLayerPoint(h),T,R,q=this._drawFirst;q;q=q.next)T=q.layer,T.options.interactive&&T._containsPoint(g)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(T))&&(R=T);this._fireEvent(R?[R]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,g)}},_handleMouseOut:function(h){var g=this._hoveredLayer;g&&(Xn(this._container,"leaflet-interactive"),this._fireEvent([g],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,g){if(!this._mouseHoverThrottled){for(var T,R,q=this._drawFirst;q;q=q.next)T=q.layer,T.options.interactive&&T._containsPoint(g)&&(R=T);R!==this._hoveredLayer&&(this._handleMouseOut(h),R&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([R],h,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,g,T){this._map._fireDOMEvent(g,T||g.type,h)},_bringToFront:function(h){var g=h._order;if(g){var T=g.next,R=g.prev;if(T)T.prev=R;else return;R?R.next=T:T&&(this._drawFirst=T),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(h)}},_bringToBack:function(h){var g=h._order;if(g){var T=g.next,R=g.prev;if(R)R.next=T;else return;T?T.prev=R:R&&(this._drawLast=R),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(h)}}});function Yn(h){return ve.canvas?new hi(h):null}var jo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Pu={_initContainer:function(){this._container=Cn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($o.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var g=h._container=jo("shape");Nt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",h._path=jo("path"),g.appendChild(h._path),this._updateStyle(h),this._layers[y(h)]=h},_addPath:function(h){var g=h._container;this._container.appendChild(g),h.options.interactive&&h.addInteractiveTarget(g)},_removePath:function(h){var g=h._container;sr(g),h.removeInteractiveTarget(g),delete this._layers[y(h)]},_updateStyle:function(h){var g=h._stroke,T=h._fill,R=h.options,q=h._container;q.stroked=!!R.stroke,q.filled=!!R.fill,R.stroke?(g||(g=h._stroke=jo("stroke")),q.appendChild(g),g.weight=R.weight+"px",g.color=R.color,g.opacity=R.opacity,R.dashArray?g.dashStyle=j(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=R.lineCap.replace("butt","flat"),g.joinstyle=R.lineJoin):g&&(q.removeChild(g),h._stroke=null),R.fill?(T||(T=h._fill=jo("fill")),q.appendChild(T),T.color=R.fillColor||R.color,T.opacity=R.fillOpacity):T&&(q.removeChild(T),h._fill=null)},_updateCircle:function(h){var g=h._point.round(),T=Math.round(h._radius),R=Math.round(h._radiusY||T);this._setPath(h,h._empty()?"M0 0":"AL "+g.x+","+g.y+" "+T+","+R+" 0,"+65535*360)},_setPath:function(h,g){h._path.v=g},_bringToFront:function(h){La(h._container)},_bringToBack:function(h){oa(h._container)}},Ks=ve.vml?jo:Zn,Xs=$o.extend({_initContainer:function(){this._container=Ks("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ks("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){sr(this._container),qn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$o.prototype._update.call(this);var h=this._bounds,g=h.getSize(),T=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,T.setAttribute("width",g.x),T.setAttribute("height",g.y)),dr(T,h.min),T.setAttribute("viewBox",[h.min.x,h.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(h){var g=h._path=Ks("path");h.options.className&&Nt(g,h.options.className),h.options.interactive&&Nt(g,"leaflet-interactive"),this._updateStyle(h),this._layers[y(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){sr(h._path),h.removeInteractiveTarget(h._path),delete this._layers[y(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var g=h._path,T=h.options;g&&(T.stroke?(g.setAttribute("stroke",T.color),g.setAttribute("stroke-opacity",T.opacity),g.setAttribute("stroke-width",T.weight),g.setAttribute("stroke-linecap",T.lineCap),g.setAttribute("stroke-linejoin",T.lineJoin),T.dashArray?g.setAttribute("stroke-dasharray",T.dashArray):g.removeAttribute("stroke-dasharray"),T.dashOffset?g.setAttribute("stroke-dashoffset",T.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),T.fill?(g.setAttribute("fill",T.fillColor||T.color),g.setAttribute("fill-opacity",T.fillOpacity),g.setAttribute("fill-rule",T.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(h,g){this._setPath(h,Wn(h._parts,g))},_updateCircle:function(h){var g=h._point,T=Math.max(Math.round(h._radius),1),R=Math.max(Math.round(h._radiusY),1)||T,q="a"+T+","+R+" 0 1,0 ",oe=h._empty()?"M0 0":"M"+(g.x-T)+","+g.y+q+T*2+",0 "+q+-T*2+",0 ";this._setPath(h,oe)},_setPath:function(h,g){h._path.setAttribute("d",g)},_bringToFront:function(h){La(h._path)},_bringToBack:function(h){oa(h._path)}});ve.vml&&Xs.include(Pu);function Fl(h){return ve.svg||ve.vml?new Xs(h):null}pn.include({getRenderer:function(h){var g=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var g=this._paneRenderers[h];return g===void 0&&(g=this._createRenderer({pane:h}),this._paneRenderers[h]=g),g},_createRenderer:function(h){return this.options.preferCanvas&&Yn(h)||Fl(h)}});var Nl=fs.extend({initialize:function(h,g){fs.prototype.initialize.call(this,this._boundsToLatLngs(h),g)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=ct(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function bo(h,g){return new Nl(h,g)}Xs.create=Ks,Xs.pointsToPath=Wn,_i.geometryToLayer=Dl,_i.coordsToLatLng=Gc,_i.coordsToLatLngs=Zs,_i.latLngToCoords=Na,_i.latLngsToCoords=xo,_i.getFeature=bt,_i.asFeature=Ba,pn.mergeOptions({boxZoom:!0});var Bl=vo.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){nn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){sr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),os(),Pl(),this._startPoint=this._map.mouseEventToContainerPoint(h),nn(document,{contextmenu:Ma,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Cn("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var g=new Xe(this._point,this._startPoint),T=g.getSize();dr(this._box,g.min),this._box.style.width=T.x+"px",this._box.style.height=T.y+"px"},_finish:function(){this._moved&&(sr(this._box),Xn(this._container,"leaflet-crosshair")),sa(),Oc(),qn(document,{contextmenu:Ma,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var g=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pn.addInitHook("addHandler","boxZoom",Bl),pn.mergeOptions({doubleClickZoom:!0});var Mt=vo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var g=this._map,T=g.getZoom(),R=g.options.zoomDelta,q=h.originalEvent.shiftKey?T-R:T+R;g.options.doubleClickZoom==="center"?g.setZoom(q):g.setZoomAround(h.containerPoint,q)}});pn.addInitHook("addHandler","doubleClickZoom",Mt),pn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gt=vo.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new Fa(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xn(this._map._container,"leaflet-grab"),Xn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=ct(this._map.options.maxBounds);this._offsetLimit=et(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var g=this._lastTime=+new Date,T=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(T),this._times.push(g),this._prunePositions(g)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,g){return h-(h-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;h.x<g.min.x&&(h.x=this._viscousLimit(h.x,g.min.x)),h.y<g.min.y&&(h.y=this._viscousLimit(h.y,g.min.y)),h.x>g.max.x&&(h.x=this._viscousLimit(h.x,g.max.x)),h.y>g.max.y&&(h.y=this._viscousLimit(h.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,g=Math.round(h/2),T=this._initialWorldOffset,R=this._draggable._newPos.x,q=(R-g+T)%h+g-T,oe=(R+g+T)%h-g-T,Te=Math.abs(q+T)<Math.abs(oe+T)?q:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Te},_onDragEnd:function(h){var g=this._map,T=g.options,R=!T.inertia||h.noInertia||this._times.length<2;if(g.fire("dragend",h),R)g.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,Te=T.easeLinearity,ze=q.multiplyBy(Te/oe),qe=ze.distanceTo([0,0]),at=Math.min(T.inertiaMaxSpeed,qe),Tt=ze.multiplyBy(at/qe),Qt=at/(T.inertiaDeceleration*Te),vn=Tt.multiplyBy(-Qt/2).round();!vn.x&&!vn.y?g.fire("moveend"):(vn=g._limitOffset(vn,g.options.maxBounds),Se(function(){g.panBy(vn,{duration:Qt,easeLinearity:Te,noMoveStart:!0,animate:!0})}))}}});pn.addInitHook("addHandler","dragging",Gt),pn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gs=vo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),nn(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,g=document.documentElement,T=h.scrollTop||g.scrollTop,R=h.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(R,T)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var g=this._panKeys={},T=this.keyCodes,R,q;for(R=0,q=T.left.length;R<q;R++)g[T.left[R]]=[-1*h,0];for(R=0,q=T.right.length;R<q;R++)g[T.right[R]]=[h,0];for(R=0,q=T.down.length;R<q;R++)g[T.down[R]]=[0,h];for(R=0,q=T.up.length;R<q;R++)g[T.up[R]]=[0,-1*h]},_setZoomDelta:function(h){var g=this._zoomKeys={},T=this.keyCodes,R,q;for(R=0,q=T.zoomIn.length;R<q;R++)g[T.zoomIn[R]]=h;for(R=0,q=T.zoomOut.length;R<q;R++)g[T.zoomOut[R]]=-h},_addHooks:function(){nn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var g=h.keyCode,T=this._map,R;if(g in this._panKeys){if(!T._panAnim||!T._panAnim._inProgress)if(R=this._panKeys[g],h.shiftKey&&(R=Me(R).multiplyBy(3)),T.options.maxBounds&&(R=T._limitOffset(Me(R),T.options.maxBounds)),T.options.worldCopyJump){var q=T.wrapLatLng(T.unproject(T.project(T.getCenter()).add(R)));T.panTo(q)}else T.panBy(R)}else if(g in this._zoomKeys)T.setZoom(T.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&T._popup&&T._popup.options.closeOnEscapeKey)T.closePopup();else return;Ma(h)}}});pn.addInitHook("addHandler","keyboard",gs),pn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Au=vo.extend({addHooks:function(){nn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var g=vu(h),T=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var R=Math.max(T-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),R),Ma(h)},_performZoom:function(){var h=this._map,g=h.getZoom(),T=this._map.options.zoomSnap||0;h._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,oe=T?Math.ceil(q/T)*T:q,Te=h._limitZoom(g+(this._delta>0?oe:-oe))-g;this._delta=0,this._startTime=null,Te&&(h.options.scrollWheelZoom==="center"?h.setZoom(g+Te):h.setZoomAround(this._lastMousePos,g+Te))}});pn.addInitHook("addHandler","scrollWheelZoom",Au);var Kc=600;pn.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var fi=vo.extend({addHooks:function(){nn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var g=h.touches[0];this._startPos=this._newPos=new Pe(g.clientX,g.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(nn(document,"touchend",Jr),nn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),Kc),nn(document,"touchend touchcancel contextmenu",this._cancel,this),nn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){qn(document,"touchend",Jr),qn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),qn(document,"touchend touchcancel contextmenu",this._cancel,this),qn(document,"touchmove",this._onMove,this)},_onMove:function(h){var g=h.touches[0];this._newPos=new Pe(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,g){var T=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});T._simulated=!0,g.target.dispatchEvent(T)}});pn.addInitHook("addHandler","tapHold",fi),pn.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var Ul=vo.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),nn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xn(this._map._container,"leaflet-touch-zoom"),qn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var g=this._map;if(!(!h.touches||h.touches.length!==2||g._animatingZoom||this._zooming)){var T=g.mouseEventToContainerPoint(h.touches[0]),R=g.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(T.add(R)._divideBy(2))),this._startDist=T.distanceTo(R),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),nn(document,"touchmove",this._onTouchMove,this),nn(document,"touchend touchcancel",this._onTouchEnd,this),Jr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var g=this._map,T=g.mouseEventToContainerPoint(h.touches[0]),R=g.mouseEventToContainerPoint(h.touches[1]),q=T.distanceTo(R)/this._startDist;if(this._zoom=g.getScaleZoom(q,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&q<1||this._zoom>g.getMaxZoom()&&q>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var oe=T._add(R)._divideBy(2)._subtract(this._centerPoint);if(q===1&&oe.x===0&&oe.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),De(this._animRequest);var Te=d(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Se(Te,this,!0),Jr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,De(this._animRequest),qn(document,"touchmove",this._onTouchMove,this),qn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});pn.addInitHook("addHandler","touchZoom",Ul),pn.BoxZoom=Bl,pn.DoubleClickZoom=Mt,pn.Drag=Gt,pn.Keyboard=gs,pn.ScrollWheelZoom=Au,pn.TapHold=fi,pn.TouchZoom=Ul,n.Bounds=Xe,n.Browser=ve,n.CRS=Et,n.Canvas=hi,n.Circle=hs,n.CircleMarker=Ml,n.Class=Be,n.Control=eo,n.DivIcon=Tu,n.DivOverlay=xi,n.DomEvent=Rc,n.DomUtil=Al,n.Draggable=Fa,n.Evented=ut,n.FeatureGroup=Uo,n.GeoJSON=_i,n.GridLayer=Zr,n.Handler=vo,n.Icon=cs,n.ImageOverlay=yt,n.LatLng=ht,n.LatLngBounds=mt,n.Layer=gn,n.LayerGroup=yo,n.LineUtil=bu,n.Map=pn,n.Marker=Hs,n.Mixin=Ol,n.Path=_o,n.Point=Pe,n.PolyUtil=Vc,n.Polygon=fs,n.Polyline=Hr,n.Popup=ds,n.PosAnimation=yu,n.Projection=wu,n.Rectangle=Nl,n.Renderer=$o,n.SVG=Xs,n.SVGOverlay=Eu,n.TileLayer=ps,n.Tooltip=pa,n.Transformation=rt,n.Util=He,n.VideoOverlay=Gh,n.bind=d,n.bounds=et,n.canvas=Yn,n.circle=jh,n.circleMarker=$h,n.control=ss,n.divIcon=Wc,n.extend=i,n.featureGroup=Uh,n.geoJSON=Ua,n.geoJson=qh,n.gridLayer=Vo,n.icon=Vh,n.imageOverlay=Hc,n.latLng=pt,n.latLngBounds=ct,n.layerGroup=jc,n.map=Rn,n.marker=qc,n.point=Me,n.polygon=fa,n.polyline=ha,n.popup=ro,n.rectangle=bo,n.setOptions=V,n.stamp=y,n.svg=Fl,n.svgOverlay=Hh,n.tileLayer=Ws,n.tooltip=Zc,n.transformation=Kt,n.version=r,n.videoOverlay=Od;var wo=window.L;n.noConflict=function(){return window.L=wo,this},window.L=n})})(Wb,Wb.exports);var R7=Wb.exports;const tK=md(R7);function M7(e){if(Array.isArray(e))return e}function D7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,u=!1,d,l;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(y){u=!0,l=y}finally{try{!i&&n.return!=null&&n.return()}finally{if(u)throw l}}return r}}function Kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aM(e,t){if(e){if(typeof e=="string")return Kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(e,t)}}function z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iu(e,t){return M7(e)||D7(e,t)||aM(e,t)||z7()}function Cd(e,t){if(e==null)return{};var n=yh(e,t),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)r=u[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var F7=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function N7(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,u=e.defaultValue,d=u===void 0?null:u,l=e.inputValue,y=e.menuIsOpen,w=e.onChange,C=e.onInputChange,P=e.onMenuClose,O=e.onMenuOpen,I=e.value,F=Cd(e,F7),V=ce.useState(l!==void 0?l:n),Z=iu(V,2),U=Z[0],N=Z[1],j=ce.useState(y!==void 0?y:i),Q=iu(j,2),ee=Q[0],Y=Q[1],J=ce.useState(I!==void 0?I:d),se=iu(J,2),ge=se[0],he=se[1],Se=ce.useCallback(function(Pe,We){typeof w=="function"&&w(Pe,We),he(Pe)},[w]),De=ce.useCallback(function(Pe,We){var Me;typeof C=="function"&&(Me=C(Pe,We)),N(Me!==void 0?Me:Pe)},[C]),He=ce.useCallback(function(){typeof O=="function"&&O(),Y(!0)},[O]),Be=ce.useCallback(function(){typeof P=="function"&&P(),Y(!1)},[P]),Je=l!==void 0?l:U,Ge=y!==void 0?y:ee,ut=I!==void 0?I:ge;return on(on({},F),{},{inputValue:Je,menuIsOpen:Ge,onChange:Se,onInputChange:De,onMenuClose:Be,onMenuOpen:He,value:ut})}function B7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U7(e,t,n){return t&&QP(e.prototype,t),n&&QP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xb(e,t){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xb(e,t)}function V7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xb(e,t)}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zy(e)}function $7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wy(e){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wy(e)}function j7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q7(e,t){if(t&&(Wy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j7(e)}function G7(e){var t=$7();return function(){var r=Zy(e),i;if(t){var u=Zy(this).constructor;i=Reflect.construct(r,arguments,u)}else i=r.apply(this,arguments);return q7(this,i)}}function H7(e){if(Array.isArray(e))return Kb(e)}function Z7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sM(e){return H7(e)||Z7(e)||aM(e)||W7()}function K7(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function X7(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Y7=function(){function e(n){var r=this;this._insertTag=function(i){var u;r.tags.length===0?r.insertionPoint?u=r.insertionPoint.nextSibling:r.prepend?u=r.container.firstChild:u=r.before:u=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,u),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(X7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var u=K7(i);try{u.insertRule(r,u.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),lo="-ms-",Ky="-moz-",er="-webkit-",lM="comm",US="rule",VS="decl",Q7="@import",uM="@keyframes",J7=Math.abs,r0=String.fromCharCode,eq=Object.assign;function tq(e,t){return Hi(e,0)^45?(((t<<2^Hi(e,0))<<2^Hi(e,1))<<2^Hi(e,2))<<2^Hi(e,3):0}function cM(e){return e.trim()}function nq(e,t){return(e=t.exec(e))?e[0]:e}function nr(e,t,n){return e.replace(t,n)}function Yb(e,t){return e.indexOf(t)}function Hi(e,t){return e.charCodeAt(t)|0}function Pm(e,t,n){return e.slice(t,n)}function ul(e){return e.length}function $S(e){return e.length}function tv(e,t){return t.push(e),e}function rq(e,t){return e.map(t).join("")}var i0=1,pd=1,hM=0,ta=0,ui=0,Pd="";function o0(e,t,n,r,i,u,d){return{value:e,root:t,parent:n,type:r,props:i,children:u,line:i0,column:pd,length:d,return:""}}function hp(e,t){return eq(o0("",null,null,"",null,null,0),e,{length:-e.length},t)}function iq(){return ui}function oq(){return ui=ta>0?Hi(Pd,--ta):0,pd--,ui===10&&(pd=1,i0--),ui}function Ta(){return ui=ta<hM?Hi(Pd,ta++):0,pd++,ui===10&&(pd=1,i0++),ui}function _l(){return Hi(Pd,ta)}function Mv(){return ta}function Hm(e,t){return Pm(Pd,e,t)}function Am(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fM(e){return i0=pd=1,hM=ul(Pd=e),ta=0,[]}function dM(e){return Pd="",e}function Dv(e){return cM(Hm(ta-1,Qb(e===91?e+2:e===40?e+1:e)))}function aq(e){for(;(ui=_l())&&ui<33;)Ta();return Am(e)>2||Am(ui)>3?"":" "}function sq(e,t){for(;--t&&Ta()&&!(ui<48||ui>102||ui>57&&ui<65||ui>70&&ui<97););return Hm(e,Mv()+(t<6&&_l()==32&&Ta()==32))}function Qb(e){for(;Ta();)switch(ui){case e:return ta;case 34:case 39:e!==34&&e!==39&&Qb(ui);break;case 40:e===41&&Qb(e);break;case 92:Ta();break}return ta}function lq(e,t){for(;Ta()&&e+ui!==47+10;)if(e+ui===42+42&&_l()===47)break;return"/*"+Hm(t,ta-1)+"*"+r0(e===47?e:Ta())}function uq(e){for(;!Am(_l());)Ta();return Hm(e,ta)}function cq(e){return dM(zv("",null,null,null,[""],e=fM(e),0,[0],e))}function zv(e,t,n,r,i,u,d,l,y){for(var w=0,C=0,P=d,O=0,I=0,F=0,V=1,Z=1,U=1,N=0,j="",Q=i,ee=u,Y=r,J=j;Z;)switch(F=N,N=Ta()){case 40:if(F!=108&&Hi(J,P-1)==58){Yb(J+=nr(Dv(N),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:J+=Dv(N);break;case 9:case 10:case 13:case 32:J+=aq(F);break;case 92:J+=sq(Mv()-1,7);continue;case 47:switch(_l()){case 42:case 47:tv(hq(lq(Ta(),Mv()),t,n),y);break;default:J+="/"}break;case 123*V:l[w++]=ul(J)*U;case 125*V:case 59:case 0:switch(N){case 0:case 125:Z=0;case 59+C:I>0&&ul(J)-P&&tv(I>32?eA(J+";",r,n,P-1):eA(nr(J," ","")+";",r,n,P-2),y);break;case 59:J+=";";default:if(tv(Y=JP(J,t,n,w,C,i,l,j,Q=[],ee=[],P),u),N===123)if(C===0)zv(J,t,Y,Y,Q,u,P,l,ee);else switch(O===99&&Hi(J,3)===110?100:O){case 100:case 109:case 115:zv(e,Y,Y,r&&tv(JP(e,Y,Y,0,0,i,l,j,i,Q=[],P),ee),i,ee,P,l,r?Q:ee);break;default:zv(J,Y,Y,Y,[""],ee,0,l,ee)}}w=C=I=0,V=U=1,j=J="",P=d;break;case 58:P=1+ul(J),I=F;default:if(V<1){if(N==123)--V;else if(N==125&&V++==0&&oq()==125)continue}switch(J+=r0(N),N*V){case 38:U=C>0?1:(J+="\f",-1);break;case 44:l[w++]=(ul(J)-1)*U,U=1;break;case 64:_l()===45&&(J+=Dv(Ta())),O=_l(),C=P=ul(j=J+=uq(Mv())),N++;break;case 45:F===45&&ul(J)==2&&(V=0)}}return u}function JP(e,t,n,r,i,u,d,l,y,w,C){for(var P=i-1,O=i===0?u:[""],I=$S(O),F=0,V=0,Z=0;F<r;++F)for(var U=0,N=Pm(e,P+1,P=J7(V=d[F])),j=e;U<I;++U)(j=cM(V>0?O[U]+" "+N:nr(N,/&\f/g,O[U])))&&(y[Z++]=j);return o0(e,t,n,i===0?US:l,y,w,C)}function hq(e,t,n){return o0(e,t,n,lM,r0(iq()),Pm(e,2,-2),0)}function eA(e,t,n,r){return o0(e,t,n,VS,Pm(e,0,r),Pm(e,r+1,-1),r)}function Zf(e,t){for(var n="",r=$S(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function fq(e,t,n,r){switch(e.type){case Q7:case VS:return e.return=e.return||e.value;case lM:return"";case uM:return e.return=e.value+"{"+Zf(e.children,r)+"}";case US:e.value=e.props.join(",")}return ul(n=Zf(e.children,r))?e.return=e.value+"{"+n+"}":""}function dq(e){var t=$S(e);return function(n,r,i,u){for(var d="",l=0;l<t;l++)d+=e[l](n,r,i,u)||"";return d}}function pq(e){return function(t){t.root||(t=t.return)&&e(t)}}function mq(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var gq=function(t,n,r){for(var i=0,u=0;i=u,u=_l(),i===38&&u===12&&(n[r]=1),!Am(u);)Ta();return Hm(t,ta)},vq=function(t,n){var r=-1,i=44;do switch(Am(i)){case 0:i===38&&_l()===12&&(n[r]=1),t[r]+=gq(ta-1,n,r);break;case 2:t[r]+=Dv(i);break;case 4:if(i===44){t[++r]=_l()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=r0(i)}while(i=Ta());return t},yq=function(t,n){return dM(vq(fM(t),n))},tA=new WeakMap,_q=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!tA.get(r))&&!i){tA.set(t,!0);for(var u=[],d=yq(n,u),l=r.props,y=0,w=0;y<d.length;y++)for(var C=0;C<l.length;C++,w++)t.props[w]=u[y]?d[y].replace(/&\f/g,l[C]):l[C]+" "+d[y]}}},xq=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function pM(e,t){switch(tq(e,t)){case 5103:return er+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return er+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return er+e+Ky+e+lo+e+e;case 6828:case 4268:return er+e+lo+e+e;case 6165:return er+e+lo+"flex-"+e+e;case 5187:return er+e+nr(e,/(\w+).+(:[^]+)/,er+"box-$1$2"+lo+"flex-$1$2")+e;case 5443:return er+e+lo+"flex-item-"+nr(e,/flex-|-self/,"")+e;case 4675:return er+e+lo+"flex-line-pack"+nr(e,/align-content|flex-|-self/,"")+e;case 5548:return er+e+lo+nr(e,"shrink","negative")+e;case 5292:return er+e+lo+nr(e,"basis","preferred-size")+e;case 6060:return er+"box-"+nr(e,"-grow","")+er+e+lo+nr(e,"grow","positive")+e;case 4554:return er+nr(e,/([^-])(transform)/g,"$1"+er+"$2")+e;case 6187:return nr(nr(nr(e,/(zoom-|grab)/,er+"$1"),/(image-set)/,er+"$1"),e,"")+e;case 5495:case 3959:return nr(e,/(image-set\([^]*)/,er+"$1$`$1");case 4968:return nr(nr(e,/(.+:)(flex-)?(.*)/,er+"box-pack:$3"+lo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+er+e+e;case 4095:case 3583:case 4068:case 2532:return nr(e,/(.+)-inline(.+)/,er+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ul(e)-1-t>6)switch(Hi(e,t+1)){case 109:if(Hi(e,t+4)!==45)break;case 102:return nr(e,/(.+:)(.+)-([^]+)/,"$1"+er+"$2-$3$1"+Ky+(Hi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Yb(e,"stretch")?pM(nr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Hi(e,t+1)!==115)break;case 6444:switch(Hi(e,ul(e)-3-(~Yb(e,"!important")&&10))){case 107:return nr(e,":",":"+er)+e;case 101:return nr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+er+(Hi(e,14)===45?"inline-":"")+"box$3$1"+er+"$2$3$1"+lo+"$2box$3")+e}break;case 5936:switch(Hi(e,t+11)){case 114:return er+e+lo+nr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return er+e+lo+nr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return er+e+lo+nr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return er+e+lo+e+e}return e}var bq=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case VS:t.return=pM(t.value,t.length);break;case uM:return Zf([hp(t,{value:nr(t.value,"@","@"+er)})],i);case US:if(t.length)return rq(t.props,function(u){switch(nq(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zf([hp(t,{props:[nr(u,/:(read-\w+)/,":"+Ky+"$1")]})],i);case"::placeholder":return Zf([hp(t,{props:[nr(u,/:(plac\w+)/,":"+er+"input-$1")]}),hp(t,{props:[nr(u,/:(plac\w+)/,":"+Ky+"$1")]}),hp(t,{props:[nr(u,/:(plac\w+)/,lo+"input-$1")]})],i)}return""})}},wq=[bq],Sq=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(V){var Z=V.getAttribute("data-emotion");Z.indexOf(" ")!==-1&&(document.head.appendChild(V),V.setAttribute("data-s",""))})}var i=t.stylisPlugins||wq,u={},d,l=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(V){for(var Z=V.getAttribute("data-emotion").split(" "),U=1;U<Z.length;U++)u[Z[U]]=!0;l.push(V)});var y,w=[_q,xq];{var C,P=[fq,pq(function(V){C.insert(V)})],O=dq(w.concat(i,P)),I=function(Z){return Zf(cq(Z),O)};y=function(Z,U,N,j){C=N,I(Z?Z+"{"+U.styles+"}":U.styles),j&&(F.inserted[U.name]=!0)}}var F={key:n,sheet:new Y7({key:n,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:y};return F.sheet.hydrate(l),F},Eq=!0;function Tq(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var mM=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Eq===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Cq=function(t,n,r){mM(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var u=n;do t.insert(n===u?"."+i:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function Pq(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Aq=/[A-Z]|^ms/g,Iq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gM=function(t){return t.charCodeAt(1)===45},nA=function(t){return t!=null&&typeof t!="boolean"},e1=mq(function(e){return gM(e)?e:e.replace(Aq,"-$&").toLowerCase()}),rA=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Iq,function(r,i,u){return cl={name:i,styles:u,next:cl},i})}return HL[t]!==1&&!gM(t)&&typeof n=="number"&&n!==0?n+"px":n};function Im(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return cl={name:n.name,styles:n.styles,next:cl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)cl={name:r.name,styles:r.styles,next:cl},r=r.next;var i=n.styles+";";return i}return kq(e,t,n)}case"function":{if(e!==void 0){var u=cl,d=n(e);return cl=u,Im(e,t,d)}break}}if(t==null)return n;var l=t[n];return l!==void 0?l:n}function kq(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Im(e,t,n[i])+";";else for(var u in n){var d=n[u];if(typeof d!="object")t!=null&&t[d]!==void 0?r+=u+"{"+t[d]+"}":nA(d)&&(r+=e1(u)+":"+rA(u,d)+";");else if(Array.isArray(d)&&typeof d[0]=="string"&&(t==null||t[d[0]]===void 0))for(var l=0;l<d.length;l++)nA(d[l])&&(r+=e1(u)+":"+rA(u,d[l])+";");else{var y=Im(e,t,d);switch(u){case"animation":case"animationName":{r+=e1(u)+":"+y+";";break}default:r+=u+"{"+y+"}"}}}return r}var iA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cl,vM=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,u="";cl=void 0;var d=t[0];d==null||d.raw===void 0?(i=!1,u+=Im(r,n,d)):u+=d[0];for(var l=1;l<t.length;l++)u+=Im(r,n,t[l]),i&&(u+=d[l]);iA.lastIndex=0;for(var y="",w;(w=iA.exec(u))!==null;)y+="-"+w[1];var C=Pq(u)+y;return{name:C,styles:u,next:cl}},Oq=function(t){return t()},Lq=Kp["useInsertionEffect"]?Kp["useInsertionEffect"]:!1,Rq=Lq||Oq,jS={}.hasOwnProperty,yM=ce.createContext(typeof HTMLElement<"u"?Sq({key:"css"}):null);yM.Provider;var Mq=function(t){return ce.forwardRef(function(n,r){var i=ce.useContext(yM);return t(n,i,r)})},Dq=ce.createContext({}),Jb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zq=function(t,n){var r={};for(var i in n)jS.call(n,i)&&(r[i]=n[i]);return r[Jb]=t,r},Fq=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return mM(n,r,i),Rq(function(){return Cq(n,r,i)}),null},Nq=Mq(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[Jb],u=[r],d="";typeof e.className=="string"?d=Tq(t.registered,u,e.className):e.className!=null&&(d=e.className+" ");var l=vM(u,void 0,ce.useContext(Dq));d+=t.key+"-"+l.name;var y={};for(var w in e)jS.call(e,w)&&w!=="css"&&w!==Jb&&(y[w]=e[w]);return y.ref=n,y.className=d,ce.createElement(ce.Fragment,null,ce.createElement(Fq,{cache:t,serialized:l,isStringTag:typeof i=="string"}),ce.createElement(i,y))}),en=function(t,n){var r=arguments;if(n==null||!jS.call(n,"css"))return ce.createElement.apply(void 0,r);var i=r.length,u=new Array(i);u[0]=Nq,u[1]=zq(t,n);for(var d=2;d<i;d++)u[d]=r[d];return ce.createElement.apply(null,u)};function qS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vM(t)}var Bq=function(){var t=qS.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Uq(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _M(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Rh(e){if(e==null)return window;if(!_M(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Vq(e){return Rh(e).getComputedStyle(e)}function xM(e){return _M(e)?"":e?(e.nodeName||"").toLowerCase():""}function $q(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function bM(e){return e instanceof Rh(e).HTMLElement}function Fv(e){return e instanceof Rh(e).Element}function oA(e){return typeof ShadowRoot>"u"?!1:e instanceof Rh(e).ShadowRoot||e instanceof ShadowRoot}function wM(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Vq(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function jq(){return!/^((?!chrome|android).)*safari/i.test($q())}function qq(e){return["html","body","#document"].includes(xM(e))}const aA=Math.round;function sA(e,t,n){var r,i,u,d;t===void 0&&(t=!1),n===void 0&&(n=!1);const l=e.getBoundingClientRect();let y=1,w=1;t&&bM(e)&&(y=e.offsetWidth>0&&aA(l.width)/e.offsetWidth||1,w=e.offsetHeight>0&&aA(l.height)/e.offsetHeight||1);const C=Fv(e)?Rh(e):window,P=!jq()&&n,O=(l.left+(P&&(r=(i=C.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/y,I=(l.top+(P&&(u=(d=C.visualViewport)==null?void 0:d.offsetTop)!=null?u:0))/w,F=l.width/y,V=l.height/w;return{width:F,height:V,top:I,right:O+F,bottom:I+V,left:O,x:O,y:I}}function Gq(e){return(t=e,(t instanceof Rh(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Hq(e){if(xM(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(oA(e)?e.host:null)||Gq(e);return oA(t)?t.host:t}function SM(e){const t=Hq(e);return qq(t)?e.ownerDocument.body:bM(t)&&wM(t)?t:SM(t)}function Nv(e,t){var n;t===void 0&&(t=[]);const r=SM(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),u=Rh(r),d=i?[u].concat(u.visualViewport||[],wM(r)?r:[]):r,l=t.concat(d);return i?l:l.concat(Nv(d))}function Zq(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:u=!0,elementResize:d=!0,animationFrame:l=!1}=r,y=i&&!l,w=y||u?[...Fv(e)?Nv(e):e.contextElement?Nv(e.contextElement):[],...Nv(t)]:[];w.forEach(I=>{y&&I.addEventListener("scroll",n,{passive:!0}),u&&I.addEventListener("resize",n)});let C,P=null;if(d){let I=!0;P=new ResizeObserver(()=>{I||n(),I=!1}),Fv(e)&&!l&&P.observe(e),Fv(e)||!e.contextElement||l||P.observe(e.contextElement),P.observe(t)}let O=l?sA(e):null;return l&&function I(){const F=sA(e);!O||F.x===O.x&&F.y===O.y&&F.width===O.width&&F.height===O.height||n(),O=F,C=requestAnimationFrame(I)}(),n(),()=>{var I;w.forEach(F=>{y&&F.removeEventListener("scroll",n),u&&F.removeEventListener("resize",n)}),(I=P)==null||I.disconnect(),P=null,l&&cancelAnimationFrame(C)}}var Wq=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Xy=function(){};function Kq(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Xq(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var u=[].concat(r);if(t&&e)for(var d in t)t.hasOwnProperty(d)&&t[d]&&u.push("".concat(Kq(e,d)));return u.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var lA=function(t){return oG(t)?t.filter(Boolean):Wy(t)==="object"&&t!==null?[t]:[]},EM=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Cd(t,Wq);return on({},n)},Qr=function(t,n,r){var i=t.cx,u=t.getStyles,d=t.getClassNames,l=t.className;return{css:u(n,t),className:i(r??{},d(n,t),l)}};function a0(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Yq(e){return a0(e)?window.innerHeight:e.clientHeight}function TM(e){return a0(e)?window.pageYOffset:e.scrollTop}function Yy(e,t){if(a0(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Qq(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function Jq(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function nv(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Xy,i=TM(e),u=t-i,d=10,l=0;function y(){l+=d;var w=Jq(l,i,u,n);Yy(e,w),l<n?window.requestAnimationFrame(y):r(e)}y()}function uA(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Yy(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Yy(e,Math.max(t.offsetTop-i,0))}function eG(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function cA(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function tG(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var CM=!1,nG={get passive(){return CM=!0}},rv=typeof window<"u"?window:{};rv.addEventListener&&rv.removeEventListener&&(rv.addEventListener("p",Xy,nG),rv.removeEventListener("p",Xy,!1));var rG=CM;function iG(e){return e!=null}function oG(e){return Array.isArray(e)}function iv(e,t,n){return e?t:n}var aG=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var u=Object.entries(t).filter(function(d){var l=iu(d,1),y=l[0];return!r.includes(y)});return u.reduce(function(d,l){var y=iu(l,2),w=y[0],C=y[1];return d[w]=C,d},{})};function sG(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,u=e.shouldScroll,d=e.isFixedPosition,l=e.controlHeight,y=Qq(n),w={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return w;var C=y.getBoundingClientRect(),P=C.height,O=n.getBoundingClientRect(),I=O.bottom,F=O.height,V=O.top,Z=n.offsetParent.getBoundingClientRect(),U=Z.top,N=d?window.innerHeight:Yq(y),j=TM(y),Q=parseInt(getComputedStyle(n).marginBottom,10),ee=parseInt(getComputedStyle(n).marginTop,10),Y=U-ee,J=N-V,se=Y+j,ge=P-j-V,he=I-N+j+Q,Se=j+V-ee,De=160;switch(i){case"auto":case"bottom":if(J>=F)return{placement:"bottom",maxHeight:t};if(ge>=F&&!d)return u&&nv(y,he,De),{placement:"bottom",maxHeight:t};if(!d&&ge>=r||d&&J>=r){u&&nv(y,he,De);var He=d?J-Q:ge-Q;return{placement:"bottom",maxHeight:He}}if(i==="auto"||d){var Be=t,Je=d?Y:se;return Je>=r&&(Be=Math.min(Je-Q-l,t)),{placement:"top",maxHeight:Be}}if(i==="bottom")return u&&Yy(y,he),{placement:"bottom",maxHeight:t};break;case"top":if(Y>=F)return{placement:"top",maxHeight:t};if(se>=F&&!d)return u&&nv(y,Se,De),{placement:"top",maxHeight:t};if(!d&&se>=r||d&&Y>=r){var Ge=t;return(!d&&se>=r||d&&Y>=r)&&(Ge=d?Y-ee:se-ee),u&&nv(y,Se,De),{placement:"top",maxHeight:Ge}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return w}function lG(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var PM=function(t){return t==="auto"?"bottom":t},uG=function(t,n){var r,i=t.placement,u=t.theme,d=u.borderRadius,l=u.spacing,y=u.colors;return on((r={label:"menu"},_p(r,lG(i),"100%"),_p(r,"position","absolute"),_p(r,"width","100%"),_p(r,"zIndex",1),r),n?{}:{backgroundColor:y.neutral0,borderRadius:d,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},AM=ce.createContext(null),cG=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,u=t.menuPlacement,d=t.menuPosition,l=t.menuShouldScrollIntoView,y=t.theme,w=ce.useContext(AM)||{},C=w.setPortalPlacement,P=ce.useRef(null),O=ce.useState(i),I=iu(O,2),F=I[0],V=I[1],Z=ce.useState(null),U=iu(Z,2),N=U[0],j=U[1],Q=y.spacing.controlHeight;return yc(function(){var ee=P.current;if(ee){var Y=d==="fixed",J=l&&!Y,se=sG({maxHeight:i,menuEl:ee,minHeight:r,placement:u,shouldScroll:J,isFixedPosition:Y,controlHeight:Q});V(se.maxHeight),j(se.placement),C==null||C(se.placement)}},[i,u,d,l,r,C,Q]),n({ref:P,placerProps:on(on({},t),{},{placement:N||PM(u),maxHeight:F})})},hG=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return en("div",Dt({},Qr(t,"menu",{menu:!0}),{ref:r},i),n)},fG=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return on({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},dG=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,u=t.isMulti;return en("div",Dt({},Qr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":u}),{ref:i},r),n)},IM=function(t,n){var r=t.theme,i=r.spacing.baseUnit,u=r.colors;return on({textAlign:"center"},n?{}:{color:u.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},pG=IM,mG=IM,kM=function(t){var n=t.children,r=t.innerProps;return en("div",Dt({},Qr(t,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};kM.defaultProps={children:"No options"};var OM=function(t){var n=t.children,r=t.innerProps;return en("div",Dt({},Qr(t,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};OM.defaultProps={children:"Loading..."};var gG=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},vG=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,u=t.innerProps,d=t.menuPlacement,l=t.menuPosition,y=ce.useRef(null),w=ce.useRef(null),C=ce.useState(PM(d)),P=iu(C,2),O=P[0],I=P[1],F=ce.useMemo(function(){return{setPortalPlacement:I}},[]),V=ce.useState(null),Z=iu(V,2),U=Z[0],N=Z[1],j=ce.useCallback(function(){if(i){var J=eG(i),se=l==="fixed"?0:window.pageYOffset,ge=J[O]+se;(ge!==(U==null?void 0:U.offset)||J.left!==(U==null?void 0:U.rect.left)||J.width!==(U==null?void 0:U.rect.width))&&N({offset:ge,rect:J})}},[i,l,O,U==null?void 0:U.offset,U==null?void 0:U.rect.left,U==null?void 0:U.rect.width]);yc(function(){j()},[j]);var Q=ce.useCallback(function(){typeof w.current=="function"&&(w.current(),w.current=null),i&&y.current&&(w.current=Zq(i,y.current,j,{elementResize:"ResizeObserver"in window}))},[i,j]);yc(function(){Q()},[Q]);var ee=ce.useCallback(function(J){y.current=J,Q()},[Q]);if(!n&&l!=="fixed"||!U)return null;var Y=en("div",Dt({ref:ee},Qr(on(on({},t),{},{offset:U.offset,position:l,rect:U.rect}),"menuPortal",{"menu-portal":!0}),u),r);return en(AM.Provider,{value:F},n?Dm.createPortal(Y,n):Y)},yG=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},_G=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,u=t.isRtl;return en("div",Dt({},Qr(t,"container",{"--is-disabled":i,"--is-rtl":u}),r),n)},xG=function(t,n){var r=t.theme.spacing,i=t.isMulti,u=t.hasValue,d=t.selectProps.controlShouldRenderValue;return on({alignItems:"center",display:i&&u&&d?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},bG=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,u=t.hasValue;return en("div",Dt({},Qr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":u}),r),n)},wG=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},SG=function(t){var n=t.children,r=t.innerProps;return en("div",Dt({},Qr(t,"indicatorsContainer",{indicators:!0}),r),n)},hA,EG=["size"],TG={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},LM=function(t){var n=t.size,r=Cd(t,EG);return en("svg",Dt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:TG},r))},GS=function(t){return en(LM,Dt({size:20},t),en("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},RM=function(t){return en(LM,Dt({size:20},t),en("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},MM=function(t,n){var r=t.isFocused,i=t.theme,u=i.spacing.baseUnit,d=i.colors;return on({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?d.neutral60:d.neutral20,padding:u*2,":hover":{color:r?d.neutral80:d.neutral40}})},CG=MM,PG=function(t){var n=t.children,r=t.innerProps;return en("div",Dt({},Qr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||en(RM,null))},AG=MM,IG=function(t){var n=t.children,r=t.innerProps;return en("div",Dt({},Qr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||en(GS,null))},kG=function(t,n){var r=t.isDisabled,i=t.theme,u=i.spacing.baseUnit,d=i.colors;return on({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?d.neutral10:d.neutral20,marginBottom:u*2,marginTop:u*2})},OG=function(t){var n=t.innerProps;return en("span",Dt({},n,Qr(t,"indicatorSeparator",{"indicator-separator":!0})))},LG=Bq(hA||(hA=Uq([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),RG=function(t,n){var r=t.isFocused,i=t.size,u=t.theme,d=u.colors,l=u.spacing.baseUnit;return on({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?d.neutral60:d.neutral20,padding:l*2})},t1=function(t){var n=t.delay,r=t.offset;return en("span",{css:qS({animation:"".concat(LG," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},DM=function(t){var n=t.innerProps,r=t.isRtl;return en("div",Dt({},Qr(t,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),en(t1,{delay:0,offset:r}),en(t1,{delay:160,offset:!0}),en(t1,{delay:320,offset:!r}))};DM.defaultProps={size:4};var MG=function(t,n){var r=t.isDisabled,i=t.isFocused,u=t.theme,d=u.colors,l=u.borderRadius,y=u.spacing;return on({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:y.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?d.neutral5:d.neutral0,borderColor:r?d.neutral10:i?d.primary:d.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(d.primary):void 0,"&:hover":{borderColor:i?d.primary:d.neutral30}})},DG=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,u=t.innerRef,d=t.innerProps,l=t.menuIsOpen;return en("div",Dt({ref:u},Qr(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":l}),d),n)},zG=["data"],FG=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},NG=function(t){var n=t.children,r=t.cx,i=t.getStyles,u=t.getClassNames,d=t.Heading,l=t.headingProps,y=t.innerProps,w=t.label,C=t.theme,P=t.selectProps;return en("div",Dt({},Qr(t,"group",{group:!0}),y),en(d,Dt({},l,{selectProps:P,theme:C,getStyles:i,getClassNames:u,cx:r}),w),en("div",null,n))},BG=function(t,n){var r=t.theme,i=r.colors,u=r.spacing;return on({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:u.baseUnit*3,paddingRight:u.baseUnit*3,textTransform:"uppercase"})},UG=function(t){var n=EM(t);n.data;var r=Cd(n,zG);return en("div",Dt({},Qr(t,"groupHeading",{"group-heading":!0}),r))},VG=["innerRef","isDisabled","isHidden","inputClassName"],$G=function(t,n){var r=t.isDisabled,i=t.value,u=t.theme,d=u.spacing,l=u.colors;return on(on({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},jG),n?{}:{margin:d.baseUnit/2,paddingBottom:d.baseUnit/2,paddingTop:d.baseUnit/2,color:l.neutral80})},zM={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},jG={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":on({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},zM)},qG=function(t){return on({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},zM)},GG=function(t){var n=t.cx,r=t.value,i=EM(t),u=i.innerRef,d=i.isDisabled,l=i.isHidden,y=i.inputClassName,w=Cd(i,VG);return en("div",Dt({},Qr(t,"input",{"input-container":!0}),{"data-value":r||""}),en("input",Dt({className:n({input:!0},y),ref:u,style:qG(l),disabled:d},w)))},HG=function(t,n){var r=t.theme,i=r.spacing,u=r.borderRadius,d=r.colors;return on({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:d.neutral10,borderRadius:u/2,margin:i.baseUnit/2})},ZG=function(t,n){var r=t.theme,i=r.borderRadius,u=r.colors,d=t.cropWithEllipsis;return on({overflow:"hidden",textOverflow:d||d===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:u.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},WG=function(t,n){var r=t.theme,i=r.spacing,u=r.borderRadius,d=r.colors,l=t.isFocused;return on({alignItems:"center",display:"flex"},n?{}:{borderRadius:u/2,backgroundColor:l?d.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:d.dangerLight,color:d.danger}})},FM=function(t){var n=t.children,r=t.innerProps;return en("div",r,n)},KG=FM,XG=FM;function YG(e){var t=e.children,n=e.innerProps;return en("div",Dt({role:"button"},n),t||en(GS,{size:14}))}var QG=function(t){var n=t.children,r=t.components,i=t.data,u=t.innerProps,d=t.isDisabled,l=t.removeProps,y=t.selectProps,w=r.Container,C=r.Label,P=r.Remove;return en(w,{data:i,innerProps:on(on({},Qr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":d})),u),selectProps:y},en(C,{data:i,innerProps:on({},Qr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:y},n),en(P,{data:i,innerProps:on(on({},Qr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:y}))},JG=function(t,n){var r=t.isDisabled,i=t.isFocused,u=t.isSelected,d=t.theme,l=d.spacing,y=d.colors;return on({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:u?y.primary:i?y.primary25:"transparent",color:r?y.neutral20:u?y.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:u?y.primary:y.primary50}})},eH=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,u=t.isSelected,d=t.innerRef,l=t.innerProps;return en("div",Dt({},Qr(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":u}),{ref:d,"aria-disabled":r},l),n)},tH=function(t,n){var r=t.theme,i=r.spacing,u=r.colors;return on({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:u.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},nH=function(t){var n=t.children,r=t.innerProps;return en("div",Dt({},Qr(t,"placeholder",{placeholder:!0}),r),n)},rH=function(t,n){var r=t.isDisabled,i=t.theme,u=i.spacing,d=i.colors;return on({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?d.neutral40:d.neutral80,marginLeft:u.baseUnit/2,marginRight:u.baseUnit/2})},iH=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return en("div",Dt({},Qr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},oH={ClearIndicator:IG,Control:DG,DropdownIndicator:PG,DownChevron:RM,CrossIcon:GS,Group:NG,GroupHeading:UG,IndicatorsContainer:SG,IndicatorSeparator:OG,Input:GG,LoadingIndicator:DM,Menu:hG,MenuList:dG,MenuPortal:vG,LoadingMessage:OM,NoOptionsMessage:kM,MultiValue:QG,MultiValueContainer:KG,MultiValueLabel:XG,MultiValueRemove:YG,Option:eH,Placeholder:nH,SelectContainer:_G,SingleValue:iH,ValueContainer:bG},aH=function(t){return on(on({},oH),t.components)},fA=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function sH(e,t){return!!(e===t||fA(e)&&fA(t))}function lH(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!sH(e[n],t[n]))return!1;return!0}function uH(e,t){t===void 0&&(t=lH);var n=null;function r(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var d=e.apply(this,i);return n={lastResult:d,lastArgs:i,lastThis:this},d}return r.clear=function(){n=null},r}var cH={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},dA=function(t){return en("span",Dt({css:cH},t))},hH={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.isDisabled,u=t.tabSelectsValue,d=t.context;switch(d){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(u?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,u=t.labels,d=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(u.length>1?"s":""," ").concat(u.join(","),", selected.");case"select-option":return d?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,u=t.label,d=u===void 0?"":u,l=t.selectValue,y=t.isDisabled,w=t.isSelected,C=function(F,V){return F&&F.length?"".concat(F.indexOf(V)+1," of ").concat(F.length):""};if(n==="value"&&l)return"value ".concat(d," focused, ").concat(C(l,r),".");if(n==="menu"){var P=y?" disabled":"",O="".concat(w?"selected":"focused").concat(P);return"option ".concat(d," ").concat(O,", ").concat(C(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},fH=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,u=t.focusableOptions,d=t.isFocused,l=t.selectValue,y=t.selectProps,w=t.id,C=y.ariaLiveMessages,P=y.getOptionLabel,O=y.inputValue,I=y.isMulti,F=y.isOptionDisabled,V=y.isSearchable,Z=y.menuIsOpen,U=y.options,N=y.screenReaderStatus,j=y.tabSelectsValue,Q=y["aria-label"],ee=y["aria-live"],Y=ce.useMemo(function(){return on(on({},hH),C||{})},[C]),J=ce.useMemo(function(){var Be="";if(n&&Y.onChange){var Je=n.option,Ge=n.options,ut=n.removedValue,Pe=n.removedValues,We=n.value,Me=function(Et){return Array.isArray(Et)?null:Et},Xe=ut||Je||Me(We),et=Xe?P(Xe):"",mt=Ge||Pe||void 0,ct=mt?mt.map(P):[],ht=on({isDisabled:Xe&&F(Xe,l),label:et,labels:ct},n);Be=Y.onChange(ht)}return Be},[n,Y,F,l,P]),se=ce.useMemo(function(){var Be="",Je=r||i,Ge=!!(r&&l&&l.includes(r));if(Je&&Y.onFocus){var ut={focused:Je,label:P(Je),isDisabled:F(Je,l),isSelected:Ge,options:u,context:Je===r?"menu":"value",selectValue:l};Be=Y.onFocus(ut)}return Be},[r,i,P,F,Y,u,l]),ge=ce.useMemo(function(){var Be="";if(Z&&U.length&&Y.onFilter){var Je=N({count:u.length});Be=Y.onFilter({inputValue:O,resultsMessage:Je})}return Be},[u,O,Z,Y,U,N]),he=ce.useMemo(function(){var Be="";if(Y.guidance){var Je=i?"value":Z?"menu":"input";Be=Y.guidance({"aria-label":Q,context:Je,isDisabled:r&&F(r,l),isMulti:I,isSearchable:V,tabSelectsValue:j})}return Be},[Q,r,i,I,F,V,Z,Y,l,j]),Se="".concat(se," ").concat(ge," ").concat(he),De=en(ce.Fragment,null,en("span",{id:"aria-selection"},J),en("span",{id:"aria-context"},Se)),He=(n==null?void 0:n.action)==="initial-input-focus";return en(ce.Fragment,null,en(dA,{id:w},He&&De),en(dA,{"aria-live":ee,"aria-atomic":"false","aria-relevant":"additions text"},d&&!He&&De))},ew=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],dH=new RegExp("["+ew.map(function(e){return e.letters}).join("")+"]","g"),NM={};for(var n1=0;n1<ew.length;n1++)for(var r1=ew[n1],i1=0;i1<r1.letters.length;i1++)NM[r1.letters[i1]]=r1.base;var BM=function(t){return t.replace(dH,function(n){return NM[n]})},pH=uH(BM),pA=function(t){return t.replace(/^\s+|\s+$/g,"")},mH=function(t){return"".concat(t.label," ").concat(t.value)},gH=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=on({ignoreCase:!0,ignoreAccents:!0,stringify:mH,trim:!0,matchFrom:"any"},t),u=i.ignoreCase,d=i.ignoreAccents,l=i.stringify,y=i.trim,w=i.matchFrom,C=y?pA(r):r,P=y?pA(l(n)):l(n);return u&&(C=C.toLowerCase(),P=P.toLowerCase()),d&&(C=pH(C),P=BM(P)),w==="start"?P.substr(0,C.length)===C:P.indexOf(C)>-1}},vH=["innerRef"];function yH(e){var t=e.innerRef,n=Cd(e,vH),r=aG(n,"onExited","in","enter","exit","appear");return en("input",Dt({ref:t},r,{css:qS({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _H=function(t){t.preventDefault(),t.stopPropagation()};function xH(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,u=e.onTopLeave,d=ce.useRef(!1),l=ce.useRef(!1),y=ce.useRef(0),w=ce.useRef(null),C=ce.useCallback(function(Z,U){if(w.current!==null){var N=w.current,j=N.scrollTop,Q=N.scrollHeight,ee=N.clientHeight,Y=w.current,J=U>0,se=Q-ee-j,ge=!1;se>U&&d.current&&(r&&r(Z),d.current=!1),J&&l.current&&(u&&u(Z),l.current=!1),J&&U>se?(n&&!d.current&&n(Z),Y.scrollTop=Q,ge=!0,d.current=!0):!J&&-U>j&&(i&&!l.current&&i(Z),Y.scrollTop=0,ge=!0,l.current=!0),ge&&_H(Z)}},[n,r,i,u]),P=ce.useCallback(function(Z){C(Z,Z.deltaY)},[C]),O=ce.useCallback(function(Z){y.current=Z.changedTouches[0].clientY},[]),I=ce.useCallback(function(Z){var U=y.current-Z.changedTouches[0].clientY;C(Z,U)},[C]),F=ce.useCallback(function(Z){if(Z){var U=rG?{passive:!1}:!1;Z.addEventListener("wheel",P,U),Z.addEventListener("touchstart",O,U),Z.addEventListener("touchmove",I,U)}},[I,O,P]),V=ce.useCallback(function(Z){Z&&(Z.removeEventListener("wheel",P,!1),Z.removeEventListener("touchstart",O,!1),Z.removeEventListener("touchmove",I,!1))},[I,O,P]);return ce.useEffect(function(){if(t){var Z=w.current;return F(Z),function(){V(Z)}}},[t,F,V]),function(Z){w.current=Z}}var mA=["boxSizing","height","overflow","paddingRight","position"],gA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function vA(e){e.preventDefault()}function yA(e){e.stopPropagation()}function _A(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function xA(){return"ontouchstart"in window||navigator.maxTouchPoints}var bA=!!(typeof window<"u"&&window.document&&window.document.createElement),fp=0,yf={capture:!1,passive:!1};function bH(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=ce.useRef({}),u=ce.useRef(null),d=ce.useCallback(function(y){if(bA){var w=document.body,C=w&&w.style;if(r&&mA.forEach(function(F){var V=C&&C[F];i.current[F]=V}),r&&fp<1){var P=parseInt(i.current.paddingRight,10)||0,O=document.body?document.body.clientWidth:0,I=window.innerWidth-O+P||0;Object.keys(gA).forEach(function(F){var V=gA[F];C&&(C[F]=V)}),C&&(C.paddingRight="".concat(I,"px"))}w&&xA()&&(w.addEventListener("touchmove",vA,yf),y&&(y.addEventListener("touchstart",_A,yf),y.addEventListener("touchmove",yA,yf))),fp+=1}},[r]),l=ce.useCallback(function(y){if(bA){var w=document.body,C=w&&w.style;fp=Math.max(fp-1,0),r&&fp<1&&mA.forEach(function(P){var O=i.current[P];C&&(C[P]=O)}),w&&xA()&&(w.removeEventListener("touchmove",vA,yf),y&&(y.removeEventListener("touchstart",_A,yf),y.removeEventListener("touchmove",yA,yf)))}},[r]);return ce.useEffect(function(){if(t){var y=u.current;return d(y),function(){l(y)}}},[t,d,l]),function(y){u.current=y}}var wH=function(){return document.activeElement&&document.activeElement.blur()},SH={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function EH(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,u=e.onBottomArrive,d=e.onBottomLeave,l=e.onTopArrive,y=e.onTopLeave,w=xH({isEnabled:i,onBottomArrive:u,onBottomLeave:d,onTopArrive:l,onTopLeave:y}),C=bH({isEnabled:n}),P=function(I){w(I),C(I)};return en(ce.Fragment,null,n&&en("div",{onClick:wH,css:SH}),t(P))}var TH={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},CH=function(t){var n=t.name,r=t.onFocus;return en("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:TH,value:"",onChange:function(){}})},PH=function(t){return t.label},AH=function(t){return t.label},IH=function(t){return t.value},kH=function(t){return!!t.isDisabled},OH={clearIndicator:AG,container:yG,control:MG,dropdownIndicator:CG,group:FG,groupHeading:BG,indicatorsContainer:wG,indicatorSeparator:kG,input:$G,loadingIndicator:RG,loadingMessage:mG,menu:uG,menuList:fG,menuPortal:gG,multiValue:HG,multiValueLabel:ZG,multiValueRemove:WG,noOptionsMessage:pG,option:JG,placeholder:tH,singleValue:rH,valueContainer:xG},LH={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},RH=4,UM=4,MH=38,DH=UM*2,zH={baseUnit:UM,controlHeight:MH,menuGutter:DH},o1={borderRadius:RH,colors:LH,spacing:zH},FH={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:cA(),captureMenuScroll:!cA(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:gH(),formatGroupLabel:PH,getOptionLabel:AH,getOptionValue:IH,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:kH,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!tG(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function wA(e,t,n,r){var i=qM(e,t,n),u=GM(e,t,n),d=jM(e,t),l=Qy(e,t);return{type:"option",data:t,isDisabled:i,isSelected:u,label:d,value:l,index:r}}function VM(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(d,l){return wA(e,d,t,l)}).filter(function(d){return SA(e,d)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var u=wA(e,n,t,r);return SA(e,u)?u:void 0}).filter(iG)}function $M(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,sM(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function NH(e,t){return $M(VM(e,t))}function SA(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,u=t.isSelected,d=t.label,l=t.value;return(!ZM(e)||!u)&&HM(e,{label:d,value:l,data:i},r)}function BH(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var u=t.indexOf(n);if(u>-1)return n;if(i<t.length)return t[i]}return null}function UH(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var jM=function(t,n){return t.getOptionLabel(n)},Qy=function(t,n){return t.getOptionValue(n)};function qM(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function GM(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Qy(e,t);return n.some(function(i){return Qy(e,i)===r})}function HM(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var ZM=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},VH=1,WM=function(e){V7(n,e);var t=G7(n);function n(r){var i;if(B7(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,y){var w=i.props,C=w.onChange,P=w.name;y.name=P,i.ariaOnChange(l,y),C(l,y)},i.setValue=function(l,y,w){var C=i.props,P=C.closeMenuOnSelect,O=C.isMulti,I=C.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:I}),P&&(i.setState({inputIsHiddenAfterUpdate:!O}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:y,option:w})},i.selectOption=function(l){var y=i.props,w=y.blurInputOnSelect,C=y.isMulti,P=y.name,O=i.state.selectValue,I=C&&i.isOptionSelected(l,O),F=i.isOptionDisabled(l,O);if(I){var V=i.getOptionValue(l);i.setValue(O.filter(function(Z){return i.getOptionValue(Z)!==V}),"deselect-option",l)}else if(!F)C?i.setValue([].concat(sM(O),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:P});return}w&&i.blurInput()},i.removeValue=function(l){var y=i.props.isMulti,w=i.state.selectValue,C=i.getOptionValue(l),P=w.filter(function(I){return i.getOptionValue(I)!==C}),O=iv(y,P,P[0]||null);i.onChange(O,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(iv(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,y=i.state.selectValue,w=y[y.length-1],C=y.slice(0,y.length-1),P=iv(l,C,C[0]||null);i.onChange(P,{action:"pop-value",removedValue:w})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,y=new Array(l),w=0;w<l;w++)y[w]=arguments[w];return Xq.apply(void 0,[i.props.classNamePrefix].concat(y))},i.getOptionLabel=function(l){return jM(i.props,l)},i.getOptionValue=function(l){return Qy(i.props,l)},i.getStyles=function(l,y){var w=i.props.unstyled,C=OH[l](y,w);C.boxSizing="border-box";var P=i.props.styles[l];return P?P(C,y):C},i.getClassNames=function(l,y){var w,C;return(w=(C=i.props.classNames)[l])===null||w===void 0?void 0:w.call(C,y)},i.getElementId=function(l){return"".concat(i.instancePrefix,"-").concat(l)},i.getComponents=function(){return aH(i.props)},i.buildCategorizedOptions=function(){return VM(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return $M(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,y){i.setState({ariaSelection:on({value:l},y)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var y=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():y&&i.openMenu("first"):(y&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var y=i.props,w=y.isMulti,C=y.menuIsOpen;i.focusInput(),C?(i.setState({inputIsHiddenAfterUpdate:!w}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&a0(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var y=l.touches,w=y&&y.item(0);w&&(i.initialTouchX=w.clientX,i.initialTouchY=w.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var y=l.touches,w=y&&y.item(0);if(w){var C=Math.abs(w.clientX-i.initialTouchX),P=Math.abs(w.clientY-i.initialTouchY),O=5;i.userIsDragging=C>O||P>O}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var y=i.props.inputValue,w=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(w,{action:"input-change",prevInputValue:y}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var y=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:y}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){i.blockOptionHover||i.state.focusedOption===l||i.setState({focusedOption:l})},i.shouldHideSelectedOptions=function(){return ZM(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var y=i.props,w=y.isMulti,C=y.backspaceRemovesValue,P=y.escapeClearsValue,O=y.inputValue,I=y.isClearable,F=y.isDisabled,V=y.menuIsOpen,Z=y.onKeyDown,U=y.tabSelectsValue,N=y.openMenuOnFocus,j=i.state,Q=j.focusedOption,ee=j.focusedValue,Y=j.selectValue;if(!F&&!(typeof Z=="function"&&(Z(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!w||O)return;i.focusValue("previous");break;case"ArrowRight":if(!w||O)return;i.focusValue("next");break;case"Delete":case"Backspace":if(O)return;if(ee)i.removeValue(ee);else{if(!C)return;w?i.popValue():I&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!V||!U||!Q||N&&i.isOptionSelected(Q,Y))return;i.selectOption(Q);break;case"Enter":if(l.keyCode===229)break;if(V){if(!Q||i.isComposing)return;i.selectOption(Q);break}return;case"Escape":V?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:O}),i.onMenuClose()):I&&P&&i.clearValue();break;case" ":if(O)return;if(!V){i.openMenu("first");break}if(!Q)return;i.selectOption(Q);break;case"ArrowUp":V?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":V?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!V)return;i.focusOption("pageup");break;case"PageDown":if(!V)return;i.focusOption("pagedown");break;case"Home":if(!V)return;i.focusOption("first");break;case"End":if(!V)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++VH),i.state.selectValue=lA(r.value),r.menuIsOpen&&i.state.selectValue.length){var u=i.buildFocusableOptions(),d=u.indexOf(i.state.selectValue[0]);i.state.focusedOption=u[d]}return i}return U7(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&uA(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var u=this.props,d=u.isDisabled,l=u.menuIsOpen,y=this.state.isFocused;(y&&!d&&i.isDisabled||y&&l&&!i.menuIsOpen)&&this.focusInput(),y&&d&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!y&&!d&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(uA(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,u){this.props.onInputChange(i,u)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var u=this,d=this.state,l=d.selectValue,y=d.isFocused,w=this.buildFocusableOptions(),C=i==="first"?0:w.length-1;if(!this.props.isMulti){var P=w.indexOf(l[0]);P>-1&&(C=P)}this.scrollToFocusedOptionOnUpdate=!(y&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:w[C]},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(i){var u=this.state,d=u.selectValue,l=u.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var y=d.indexOf(l);l||(y=-1);var w=d.length-1,C=-1;if(d.length){switch(i){case"previous":y===0?C=0:y===-1?C=w:C=y-1;break;case"next":y>-1&&y<w&&(C=y+1);break}this.setState({inputIsHidden:C!==-1,focusedValue:d[C]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,d=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var y=0,w=l.indexOf(d);d||(w=-1),i==="up"?y=w>0?w-1:l.length-1:i==="down"?y=(w+1)%l.length:i==="pageup"?(y=w-u,y<0&&(y=0)):i==="pagedown"?(y=w+u,y>l.length-1&&(y=l.length-1)):i==="last"&&(y=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[y],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(o1):on(on({},o1),this.props.theme):o1}},{key:"getCommonProps",value:function(){var i=this.clearValue,u=this.cx,d=this.getStyles,l=this.getClassNames,y=this.getValue,w=this.selectOption,C=this.setValue,P=this.props,O=P.isMulti,I=P.isRtl,F=P.options,V=this.hasValue();return{clearValue:i,cx:u,getStyles:d,getClassNames:l,getValue:y,hasValue:V,isMulti:O,isRtl:I,options:F,selectOption:w,selectProps:P,setValue:C,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,u=i.isClearable,d=i.isMulti;return u===void 0?d:u}},{key:"isOptionDisabled",value:function(i,u){return qM(this.props,i,u)}},{key:"isOptionSelected",value:function(i,u){return GM(this.props,i,u)}},{key:"filterOption",value:function(i,u){return HM(this.props,i,u)}},{key:"formatOptionLabel",value:function(i,u){if(typeof this.props.formatOptionLabel=="function"){var d=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(i,{context:u,inputValue:d,selectValue:l})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,u=i.isDisabled,d=i.isSearchable,l=i.inputId,y=i.inputValue,w=i.tabIndex,C=i.form,P=i.menuIsOpen,O=i.required,I=this.getComponents(),F=I.Input,V=this.state,Z=V.inputIsHidden,U=V.ariaSelection,N=this.commonProps,j=l||this.getElementId("input"),Q=on(on(on({"aria-autocomplete":"list","aria-expanded":P,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":O,role:"combobox"},P&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!d&&{"aria-readonly":!0}),this.hasValue()?(U==null?void 0:U.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return d?ce.createElement(F,Dt({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:j,innerRef:this.getInputRef,isDisabled:u,isHidden:Z,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:w,form:C,type:"text",value:y},Q)):ce.createElement(yH,Dt({id:j,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Xy,onFocus:this.onInputFocus,disabled:u,tabIndex:w,inputMode:"none",form:C,value:""},Q))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,u=this.getComponents(),d=u.MultiValue,l=u.MultiValueContainer,y=u.MultiValueLabel,w=u.MultiValueRemove,C=u.SingleValue,P=u.Placeholder,O=this.commonProps,I=this.props,F=I.controlShouldRenderValue,V=I.isDisabled,Z=I.isMulti,U=I.inputValue,N=I.placeholder,j=this.state,Q=j.selectValue,ee=j.focusedValue,Y=j.isFocused;if(!this.hasValue()||!F)return U?null:ce.createElement(P,Dt({},O,{key:"placeholder",isDisabled:V,isFocused:Y,innerProps:{id:this.getElementId("placeholder")}}),N);if(Z)return Q.map(function(se,ge){var he=se===ee,Se="".concat(i.getOptionLabel(se),"-").concat(i.getOptionValue(se));return ce.createElement(d,Dt({},O,{components:{Container:l,Label:y,Remove:w},isFocused:he,isDisabled:V,key:Se,index:ge,removeProps:{onClick:function(){return i.removeValue(se)},onTouchEnd:function(){return i.removeValue(se)},onMouseDown:function(He){He.preventDefault()}},data:se}),i.formatOptionLabel(se,"value"))});if(U)return null;var J=Q[0];return ce.createElement(C,Dt({},O,{data:J,isDisabled:V}),this.formatOptionLabel(J,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),u=i.ClearIndicator,d=this.commonProps,l=this.props,y=l.isDisabled,w=l.isLoading,C=this.state.isFocused;if(!this.isClearable()||!u||y||!this.hasValue()||w)return null;var P={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ce.createElement(u,Dt({},d,{innerProps:P,isFocused:C}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),u=i.LoadingIndicator,d=this.commonProps,l=this.props,y=l.isDisabled,w=l.isLoading,C=this.state.isFocused;if(!u||!w)return null;var P={"aria-hidden":"true"};return ce.createElement(u,Dt({},d,{innerProps:P,isDisabled:y,isFocused:C}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),u=i.DropdownIndicator,d=i.IndicatorSeparator;if(!u||!d)return null;var l=this.commonProps,y=this.props.isDisabled,w=this.state.isFocused;return ce.createElement(d,Dt({},l,{isDisabled:y,isFocused:w}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),u=i.DropdownIndicator;if(!u)return null;var d=this.commonProps,l=this.props.isDisabled,y=this.state.isFocused,w={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ce.createElement(u,Dt({},d,{innerProps:w,isDisabled:l,isFocused:y}))}},{key:"renderMenu",value:function(){var i=this,u=this.getComponents(),d=u.Group,l=u.GroupHeading,y=u.Menu,w=u.MenuList,C=u.MenuPortal,P=u.LoadingMessage,O=u.NoOptionsMessage,I=u.Option,F=this.commonProps,V=this.state.focusedOption,Z=this.props,U=Z.captureMenuScroll,N=Z.inputValue,j=Z.isLoading,Q=Z.loadingMessage,ee=Z.minMenuHeight,Y=Z.maxMenuHeight,J=Z.menuIsOpen,se=Z.menuPlacement,ge=Z.menuPosition,he=Z.menuPortalTarget,Se=Z.menuShouldBlockScroll,De=Z.menuShouldScrollIntoView,He=Z.noOptionsMessage,Be=Z.onMenuScrollToTop,Je=Z.onMenuScrollToBottom;if(!J)return null;var Ge=function(mt,ct){var ht=mt.type,pt=mt.data,Et=mt.isDisabled,an=mt.isSelected,Pn=mt.label,Fe=mt.value,rt=V===pt,Kt=Et?void 0:function(){return i.onOptionHover(pt)},xn=Et?void 0:function(){return i.selectOption(pt)},tn="".concat(i.getElementId("option"),"-").concat(ct),Zn={id:tn,onClick:xn,onMouseMove:Kt,onMouseOver:Kt,tabIndex:-1};return ce.createElement(I,Dt({},F,{innerProps:Zn,data:pt,isDisabled:Et,isSelected:an,key:tn,label:Pn,type:ht,value:Fe,isFocused:rt,innerRef:rt?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(mt.data,"menu"))},ut;if(this.hasOptions())ut=this.getCategorizedOptions().map(function(et){if(et.type==="group"){var mt=et.data,ct=et.options,ht=et.index,pt="".concat(i.getElementId("group"),"-").concat(ht),Et="".concat(pt,"-heading");return ce.createElement(d,Dt({},F,{key:pt,data:mt,options:ct,Heading:l,headingProps:{id:Et,data:et.data},label:i.formatGroupLabel(et.data)}),et.options.map(function(an){return Ge(an,"".concat(ht,"-").concat(an.index))}))}else if(et.type==="option")return Ge(et,"".concat(et.index))});else if(j){var Pe=Q({inputValue:N});if(Pe===null)return null;ut=ce.createElement(P,F,Pe)}else{var We=He({inputValue:N});if(We===null)return null;ut=ce.createElement(O,F,We)}var Me={minMenuHeight:ee,maxMenuHeight:Y,menuPlacement:se,menuPosition:ge,menuShouldScrollIntoView:De},Xe=ce.createElement(cG,Dt({},F,Me),function(et){var mt=et.ref,ct=et.placerProps,ht=ct.placement,pt=ct.maxHeight;return ce.createElement(y,Dt({},F,Me,{innerRef:mt,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:j,placement:ht}),ce.createElement(EH,{captureEnabled:U,onTopArrive:Be,onBottomArrive:Je,lockEnabled:Se},function(Et){return ce.createElement(w,Dt({},F,{innerRef:function(Pn){i.getMenuListRef(Pn),Et(Pn)},isLoading:j,maxHeight:pt,focusedOption:V}),ut)}))});return he||ge==="fixed"?ce.createElement(C,Dt({},F,{appendTo:he,controlElement:this.controlRef,menuPlacement:se,menuPosition:ge}),Xe):Xe}},{key:"renderFormField",value:function(){var i=this,u=this.props,d=u.delimiter,l=u.isDisabled,y=u.isMulti,w=u.name,C=u.required,P=this.state.selectValue;if(!(!w||l)){if(C&&!this.hasValue())return ce.createElement(CH,{name:w,onFocus:this.onValueInputFocus});if(y)if(d){var O=P.map(function(V){return i.getOptionValue(V)}).join(d);return ce.createElement("input",{name:w,type:"hidden",value:O})}else{var I=P.length>0?P.map(function(V,Z){return ce.createElement("input",{key:"i-".concat(Z),name:w,type:"hidden",value:i.getOptionValue(V)})}):ce.createElement("input",{name:w,type:"hidden",value:""});return ce.createElement("div",null,I)}else{var F=P[0]?this.getOptionValue(P[0]):"";return ce.createElement("input",{name:w,type:"hidden",value:F})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,u=this.state,d=u.ariaSelection,l=u.focusedOption,y=u.focusedValue,w=u.isFocused,C=u.selectValue,P=this.getFocusableOptions();return ce.createElement(fH,Dt({},i,{id:this.getElementId("live-region"),ariaSelection:d,focusedOption:l,focusedValue:y,isFocused:w,selectValue:C,focusableOptions:P}))}},{key:"render",value:function(){var i=this.getComponents(),u=i.Control,d=i.IndicatorsContainer,l=i.SelectContainer,y=i.ValueContainer,w=this.props,C=w.className,P=w.id,O=w.isDisabled,I=w.menuIsOpen,F=this.state.isFocused,V=this.commonProps=this.getCommonProps();return ce.createElement(l,Dt({},V,{className:C,innerProps:{id:P,onKeyDown:this.onKeyDown},isDisabled:O,isFocused:F}),this.renderLiveRegion(),ce.createElement(u,Dt({},V,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:O,isFocused:F,menuIsOpen:I}),ce.createElement(y,Dt({},V,{isDisabled:O}),this.renderPlaceholderOrValue(),this.renderInput()),ce.createElement(d,Dt({},V,{isDisabled:O}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,u){var d=u.prevProps,l=u.clearFocusValueOnUpdate,y=u.inputIsHiddenAfterUpdate,w=u.ariaSelection,C=u.isFocused,P=u.prevWasFocused,O=i.options,I=i.value,F=i.menuIsOpen,V=i.inputValue,Z=i.isMulti,U=lA(I),N={};if(d&&(I!==d.value||O!==d.options||F!==d.menuIsOpen||V!==d.inputValue)){var j=F?NH(i,U):[],Q=l?BH(u,U):null,ee=UH(u,j);N={selectValue:U,focusedOption:ee,focusedValue:Q,clearFocusValueOnUpdate:!1}}var Y=y!=null&&i!==d?{inputIsHidden:y,inputIsHiddenAfterUpdate:void 0}:{},J=w,se=C&&P;return C&&!se&&(J={value:iv(Z,U,U[0]||null),options:U,action:"initial-input-focus"},se=!P),(w==null?void 0:w.action)==="initial-input-focus"&&(J=null),on(on(on({},N),Y),{},{prevProps:i,ariaSelection:J,prevWasFocused:se})}}]),n}(ce.Component);WM.defaultProps=FH;var $H=ce.forwardRef(function(e,t){var n=N7(e);return ce.createElement(WM,Dt({ref:t},n))});const nK=$H,KM="%[a-f0-9]{2}",EA=new RegExp("("+KM+")|([^%]+?)","gi"),TA=new RegExp("("+KM+")+","gi");function tw(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],tw(n),tw(r))}function jH(e){try{return decodeURIComponent(e)}catch{let t=e.match(EA)||[];for(let n=1;n<t.length;n++)e=tw(t,n).join(""),t=e.match(EA)||[];return e}}function qH(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=TA.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const i=jH(n[0]);i!==n[0]&&(t[n[0]]=i)}n=TA.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const i of r)e=e.replace(new RegExp(i,"g"),t[i]);return e}function GH(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return qH(e)}}function XM(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}function HH(e,t){const n={};if(Array.isArray(t))for(const r of t){const i=Object.getOwnPropertyDescriptor(e,r);i!=null&&i.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(e)){const i=Object.getOwnPropertyDescriptor(e,r);if(i.enumerable){const u=e[r];t(r,u,e)&&Object.defineProperty(n,r,i)}}return n}const ZH=e=>e==null,WH=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),nw=Symbol("encodeFragmentIdentifier");function KH(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[si(t,e),"[",i,"]"].join("")]:[...n,[si(t,e),"[",si(i,e),"]=",si(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[si(t,e),"[]"].join("")]:[...n,[si(t,e),"[]=",si(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[si(t,e),":list="].join("")]:[...n,[si(t,e),":list=",si(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[si(n,e),t,si(i,e)].join("")]:[[r,si(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,si(t,e)]:[...n,[si(t,e),"=",si(r,e)].join("")]}}function XH(e){let t;switch(e.arrayFormat){case"index":return(n,r,i)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][t[1]]=r};case"bracket":return(n,r,i)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const u=typeof r=="string"&&r.includes(e.arrayFormatSeparator),d=typeof r=="string"&&!u&&eu(r,e).includes(e.arrayFormatSeparator);r=d?eu(r,e):r;const l=u||d?r.split(e.arrayFormatSeparator).map(y=>eu(y,e)):r===null?r:eu(r,e);i[n]=l};case"bracket-separator":return(n,r,i)=>{const u=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!u){i[n]=r&&eu(r,e);return}const d=r===null?[]:r.split(e.arrayFormatSeparator).map(l=>eu(l,e));if(i[n]===void 0){i[n]=d;return}i[n]=[...i[n],...d]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function YM(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function si(e,t){return t.encode?t.strict?WH(e):encodeURIComponent(e):e}function eu(e,t){return t.decode?GH(e):e}function QM(e){return Array.isArray(e)?e.sort():typeof e=="object"?QM(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function JM(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function YH(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function CA(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function HS(e){e=JM(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function ZS(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},YM(t.arrayFormatSeparator);const n=XH(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const i of e.split("&")){if(i==="")continue;const u=t.decode?i.replace(/\+/g," "):i;let[d,l]=XM(u,"=");d===void 0&&(d=u),l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:eu(l,t),n(eu(d,t),l,r)}for(const[i,u]of Object.entries(r))if(typeof u=="object"&&u!==null)for(const[d,l]of Object.entries(u))u[d]=CA(l,t);else r[i]=CA(u,t);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((i,u)=>{const d=r[u];return d&&typeof d=="object"&&!Array.isArray(d)?i[u]=QM(d):i[u]=d,i},Object.create(null))}function eD(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},YM(t.arrayFormatSeparator);const n=d=>t.skipNull&&ZH(e[d])||t.skipEmptyString&&e[d]==="",r=KH(t),i={};for(const[d,l]of Object.entries(e))n(d)||(i[d]=l);const u=Object.keys(i);return t.sort!==!1&&u.sort(t.sort),u.map(d=>{const l=e[d];return l===void 0?"":l===null?si(d,t):Array.isArray(l)?l.length===0&&t.arrayFormat==="bracket-separator"?si(d,t)+"[]":l.reduce(r(d),[]).join("&"):si(d,t)+"="+si(l,t)}).filter(d=>d.length>0).join("&")}function tD(e,t){var i;t={decode:!0,...t};let[n,r]=XM(e,"#");return n===void 0&&(n=e),{url:((i=n==null?void 0:n.split("?"))==null?void 0:i[0])??"",query:ZS(HS(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:eu(r,t)}:{}}}function nD(e,t){t={encode:!0,strict:!0,[nw]:!0,...t};const n=JM(e.url).split("?")[0]||"",r=HS(e.url),i={...ZS(r,{sort:!1}),...e.query};let u=eD(i,t);u&&(u=`?${u}`);let d=YH(e.url);if(e.fragmentIdentifier){const l=new URL(n);l.hash=e.fragmentIdentifier,d=t[nw]?l.hash:`#${e.fragmentIdentifier}`}return`${n}${u}${d}`}function rD(e,t,n){n={parseFragmentIdentifier:!0,[nw]:!1,...n};const{url:r,query:i,fragmentIdentifier:u}=tD(e,n);return nD({url:r,query:HH(i,t),fragmentIdentifier:u},n)}function QH(e,t,n){const r=Array.isArray(t)?i=>!t.includes(i):(i,u)=>!t(i,u);return rD(e,r,n)}const rK=Object.freeze(Object.defineProperty({__proto__:null,exclude:QH,extract:HS,parse:ZS,parseUrl:tD,pick:rD,stringify:eD,stringifyUrl:nD},Symbol.toStringTag,{value:"Module"}));var iD={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(XA,function(){var n,r,i;function u(l,y){if(!n)n=y;else if(!r)r=y;else{var w="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",C={};n(C),i=y(C),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"})))}}u(["exports"],function(l){var y=w;function w(s,o,c,p){this.cx=3*s,this.bx=3*(c-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(p-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=o,this.p2x=c,this.p2y=p}function C(s,o,c,p){const x=new y(s,o,c,p);return function(b){return x.solve(b)}}w.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,o){if(o===void 0&&(o=1e-6),s<0)return 0;if(s>1)return 1;for(var c=s,p=0;p<8;p++){var x=this.sampleCurveX(c)-s;if(Math.abs(x)<o)return c;var b=this.sampleCurveDerivativeX(c);if(Math.abs(b)<1e-6)break;c-=x/b}var E=0,k=1;for(c=s,p=0;p<20&&(x=this.sampleCurveX(c),!(Math.abs(x-s)<o));p++)s>x?E=c:k=c,c=.5*(k-E)+E;return c},solve:function(s,o){return this.sampleCurveY(this.solveCurveX(s,o))}};const P=C(.25,.1,.25,1);function O(s,o,c){return Math.min(c,Math.max(o,s))}function I(s,o,c){const p=c-o,x=((s-o)%p+p)%p+o;return x===o?c:x}function F(s,...o){for(const c of o)for(const p in c)s[p]=c[p];return s}let V=1;function Z(s,o){s.forEach(c=>{o[c]&&(o[c]=o[c].bind(o))})}function U(s,o,c){const p={};for(const x in s)p[x]=o.call(c||this,s[x],x,s);return p}function N(s,o,c){const p={};for(const x in s)o.call(c||this,s[x],x,s)&&(p[x]=s[x]);return p}function j(s){return Array.isArray(s)?s.map(j):typeof s=="object"&&s?U(s,j):s}const Q={};function ee(s){Q[s]||(typeof console<"u"&&console.warn(s),Q[s]=!0)}function Y(s,o,c){return(c.y-s.y)*(o.x-s.x)>(o.y-s.y)*(c.x-s.x)}function J(s){let o=0;for(let c,p,x=0,b=s.length,E=b-1;x<b;E=x++)c=s[x],p=s[E],o+=(p.x-c.x)*(c.y+p.y);return o}function se(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let ge=null;function he(s){if(ge==null){const o=s.navigator?s.navigator.userAgent:null;ge=!!s.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return ge}function Se(s){return typeof ImageBitmap<"u"&&s instanceof ImageBitmap}const De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let He,Be;const Je={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(s){const o=requestAnimationFrame(s);return{cancel:()=>cancelAnimationFrame(o)}},getImageData(s,o=0){return this.getImageCanvasContext(s).getImageData(-o,-o,s.width+2*o,s.height+2*o)},getImageCanvasContext(s){const o=window.document.createElement("canvas"),c=o.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return o.width=s.width,o.height=s.height,c.drawImage(s,0,0,s.width,s.height),c},resolveURL:s=>(He||(He=document.createElement("a")),He.href=s,He.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Be==null&&(Be=matchMedia("(prefers-reduced-motion: reduce)")),Be.matches)}};var Ge=ut;function ut(s,o){this.x=s,this.y=o}ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,o){return this.clone()._rotateAround(s,o)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var o=s.x-this.x,c=s.y-this.y;return o*o+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,o){return Math.atan2(this.x*o-this.y*s,this.x*s+this.y*o)},_matMult:function(s){var o=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=o,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var o=Math.cos(s),c=Math.sin(s),p=c*this.x+o*this.y;return this.x=o*this.x-c*this.y,this.y=p,this},_rotateAround:function(s,o){var c=Math.cos(s),p=Math.sin(s),x=o.y+p*(this.x-o.x)+c*(this.y-o.y);return this.x=o.x+c*(this.x-o.x)-p*(this.y-o.y),this.y=x,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ut.convert=function(s){return s instanceof ut?s:Array.isArray(s)?new ut(s[0],s[1]):s};const Pe={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,REGISTERED_PROTOCOLS:{}};class We extends Error{constructor(o,c,p,x){super(`AJAXError: ${c} (${o}): ${p}`),this.status=o,this.statusText=c,this.url=p,this.body=x}}const Me=se()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function Xe(s,o){const c=new AbortController,p=new Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,referrer:Me(),signal:c.signal});let x=!1,b=!1;return s.type==="json"&&p.headers.set("Accept","application/json"),b||fetch(p).then(E=>E.ok?(k=>{(s.type==="arrayBuffer"?k.arrayBuffer():s.type==="json"?k.json():k.text()).then(D=>{b||(x=!0,o(null,D,k.headers.get("Cache-Control"),k.headers.get("Expires")))}).catch(D=>{b||o(new Error(D.message))})})(E):E.blob().then(k=>o(new We(E.status,E.statusText,s.url,k)))).catch(E=>{E.code!==20&&o(new Error(E.message))}),{cancel:()=>{b=!0,x||c.abort()}}}const et=function(s,o){if(/:\/\//.test(s.url)&&!/^https?:|^file:/.test(s.url)){if(se()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,o);if(!se()){const p=s.url.substring(0,s.url.indexOf("://"));return(Pe.REGISTERED_PROTOCOLS[p]||Xe)(s,o)}}if(!(/^file:/.test(c=s.url)||/^file:/.test(Me())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Xe(s,o);if(se()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,o,void 0,!0)}var c;return function(p,x){const b=new XMLHttpRequest;b.open(p.method||"GET",p.url,!0),p.type==="arrayBuffer"&&(b.responseType="arraybuffer");for(const E in p.headers)b.setRequestHeader(E,p.headers[E]);return p.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=p.credentials==="include",b.onerror=()=>{x(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let E=b.response;if(p.type==="json")try{E=JSON.parse(b.response)}catch(k){return x(k)}x(null,E,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else{const E=new Blob([b.response],{type:b.getResponseHeader("Content-Type")});x(new We(b.status,b.statusText,p.url,E))}},b.send(p.body),{cancel:()=>b.abort()}}(s,o)},mt=function(s,o){return et(F(s,{type:"arrayBuffer"}),o)};function ct(s){const o=window.document.createElement("a");return o.href=s,o.protocol===window.document.location.protocol&&o.host===window.document.location.host}function ht(s,o,c){c[s]&&c[s].indexOf(o)!==-1||(c[s]=c[s]||[],c[s].push(o))}function pt(s,o,c){if(c&&c[s]){const p=c[s].indexOf(o);p!==-1&&c[s].splice(p,1)}}class Et{constructor(o,c={}){F(this,c),this.type=o}}class an extends Et{constructor(o,c={}){super("error",F({error:o},c))}}class Pn{on(o,c){return this._listeners=this._listeners||{},ht(o,c,this._listeners),this}off(o,c){return pt(o,c,this._listeners),pt(o,c,this._oneTimeListeners),this}once(o,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},ht(o,c,this._oneTimeListeners),this):new Promise(p=>this.once(o,p))}fire(o,c){typeof o=="string"&&(o=new Et(o,c||{}));const p=o.type;if(this.listens(p)){o.target=this;const x=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];for(const k of x)k.call(this,o);const b=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];for(const k of b)pt(p,k,this._oneTimeListeners),k.call(this,o);const E=this._eventedParent;E&&(F(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(o))}else o instanceof an&&console.error(o.error);return this}listens(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)}setEventedParent(o,c){return this._eventedParent=o,this._eventedParentData=c,this}}var Fe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class rt{constructor(o,c,p,x){this.message=(o?`${o}: `:"")+p,x&&(this.identifier=x),c!=null&&c.__line__&&(this.line=c.__line__)}}function Kt(s){const o=s.value;return o?[new rt(s.key,o,"constants have been deprecated as of v8")]:[]}function xn(s,...o){for(const c of o)for(const p in c)s[p]=c[p];return s}function tn(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function Zn(s){if(Array.isArray(s))return s.map(Zn);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){const o={};for(const c in s)o[c]=Zn(s[c]);return o}return tn(s)}class Wn extends Error{constructor(o,c){super(c),this.message=c,this.key=o}}class Ur{constructor(o,c=[]){this.parent=o,this.bindings={};for(const[p,x]of c)this.bindings[p]=x}concat(o){return new Ur(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}const ir={kind:"null"},dt={kind:"number"},Zt={kind:"string"},qt={kind:"boolean"},hr={kind:"color"},Kn={kind:"object"},Ct={kind:"value"},Ir={kind:"collator"},fn={kind:"formatted"},Li={kind:"padding"},or={kind:"resolvedImage"};function zn(s,o){return{kind:"array",itemType:s,N:o}}function wn(s){if(s.kind==="array"){const o=wn(s.itemType);return typeof s.N=="number"?`array<${o}, ${s.N}>`:s.itemType.kind==="value"?"array":`array<${o}>`}return s.kind}const na=[ir,dt,Zt,qt,hr,fn,Kn,zn(Ct),Li,or];function ii(s,o){if(o.kind==="error")return null;if(s.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!ii(s.itemType,o.itemType))&&(typeof s.N!="number"||s.N===o.N))return null}else{if(s.kind===o.kind)return null;if(s.kind==="value"){for(const c of na)if(!ii(c,o))return null}}return`Expected ${wn(s)} but found ${wn(o)} instead.`}function Xi(s,o){return o.some(c=>c.kind===s.kind)}function sn(s,o){return o.some(c=>c==="null"?s===null:c==="array"?Array.isArray(s):c==="object"?s&&!Array.isArray(s)&&typeof s=="object":c===typeof s)}var ot,Wt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function At(s){return(s=Math.round(s))<0?0:s>255?255:s}function un(s){return At(s[s.length-1]==="%"?parseFloat(s)/100*255:parseInt(s))}function An(s){return(o=s[s.length-1]==="%"?parseFloat(s)/100:parseFloat(s))<0?0:o>1?1:o;var o}function cn(s,o,c){return c<0?c+=1:c>1&&(c-=1),6*c<1?s+(o-s)*c*6:2*c<1?o:3*c<2?s+(o-s)*(2/3-c)*6:s}try{ot={}.parseCSSColor=function(s){var o,c=s.replace(/ /g,"").toLowerCase();if(c in Wt)return Wt[c].slice();if(c[0]==="#")return c.length===4?(o=parseInt(c.substr(1),16))>=0&&o<=4095?[(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,1]:null:c.length===7&&(o=parseInt(c.substr(1),16))>=0&&o<=16777215?[(16711680&o)>>16,(65280&o)>>8,255&o,1]:null;var p=c.indexOf("("),x=c.indexOf(")");if(p!==-1&&x+1===c.length){var b=c.substr(0,p),E=c.substr(p+1,x-(p+1)).split(","),k=1;switch(b){case"rgba":if(E.length!==4)return null;k=An(E.pop());case"rgb":return E.length!==3?null:[un(E[0]),un(E[1]),un(E[2]),k];case"hsla":if(E.length!==4)return null;k=An(E.pop());case"hsl":if(E.length!==3)return null;var D=(parseFloat(E[0])%360+360)%360/360,$=An(E[1]),G=An(E[2]),X=G<=.5?G*($+1):G+$-G*$,re=2*G-X;return[At(255*cn(re,X,D+1/3)),At(255*cn(re,X,D)),At(255*cn(re,X,D-1/3)),k];default:return null}}return null}}catch{}class Vt{constructor(o,c,p,x=1){this.r=o,this.g=c,this.b=p,this.a=x}static parse(o){if(!o)return;if(o instanceof Vt)return o;if(typeof o!="string")return;const c=ot(o);return c?new Vt(c[0]/255*c[3],c[1]/255*c[3],c[2]/255*c[3],c[3]):void 0}toString(){const[o,c,p,x]=this.toArray();return`rgba(${Math.round(o)},${Math.round(c)},${Math.round(p)},${x})`}toArray(){const{r:o,g:c,b:p,a:x}=this;return x===0?[0,0,0,0]:[255*o/x,255*c/x,255*p/x,x]}}Vt.black=new Vt(0,0,0,1),Vt.white=new Vt(1,1,1,1),Vt.transparent=new Vt(0,0,0,0),Vt.red=new Vt(1,0,0,1);class In{constructor(o,c,p){this.sensitivity=o?c?"variant":"case":c?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,c){return this.collator.compare(o,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Sn{constructor(o,c,p,x,b){this.text=o,this.image=c,this.scale=p,this.fontStack=x,this.textColor=b}}class Ht{constructor(o){this.sections=o}static fromString(o){return new Ht([new Sn(o,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.name.length!==0)}static factory(o){return o instanceof Ht?o:Ht.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}}class Yt{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof Yt)return o;if(typeof o=="number")return new Yt([o,o,o,o]);if(Array.isArray(o)&&!(o.length<1||o.length>4)){for(const c of o)if(typeof c!="number")return;switch(o.length){case 1:o=[o[0],o[0],o[0],o[0]];break;case 2:o=[o[0],o[1],o[0],o[1]];break;case 3:o=[o[0],o[1],o[2],o[1]]}return new Yt(o)}}toString(){return JSON.stringify(this.values)}}class Hn{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new Hn({name:o,available:!1}):null}}function Tr(s,o,c,p){return typeof s=="number"&&s>=0&&s<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof c=="number"&&c>=0&&c<=255?p===void 0||typeof p=="number"&&p>=0&&p<=1?null:`Invalid rgba value [${[s,o,c,p].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof p=="number"?[s,o,c,p]:[s,o,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function kr(s){if(s===null||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||s instanceof Vt||s instanceof In||s instanceof Ht||s instanceof Yt||s instanceof Hn)return!0;if(Array.isArray(s)){for(const o of s)if(!kr(o))return!1;return!0}if(typeof s=="object"){for(const o in s)if(!kr(s[o]))return!1;return!0}return!1}function le(s){if(s===null)return ir;if(typeof s=="string")return Zt;if(typeof s=="boolean")return qt;if(typeof s=="number")return dt;if(s instanceof Vt)return hr;if(s instanceof In)return Ir;if(s instanceof Ht)return fn;if(s instanceof Yt)return Li;if(s instanceof Hn)return or;if(Array.isArray(s)){const o=s.length;let c;for(const p of s){const x=le(p);if(c){if(c===x)continue;c=Ct;break}c=x}return zn(c||Ct,o)}return Kn}function W(s){const o=typeof s;return s===null?"":o==="string"||o==="number"||o==="boolean"?String(s):s instanceof Vt||s instanceof Ht||s instanceof Yt||s instanceof Hn?s.toString():JSON.stringify(s)}class te{constructor(o,c){this.type=o,this.value=c}static parse(o,c){if(o.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!kr(o[1]))return c.error("invalid value");const p=o[1];let x=le(p);const b=c.expectedType;return x.kind!=="array"||x.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(x=b),new te(x,p)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ue{constructor(o){this.name="ExpressionEvaluationError",this.message=o}toJSON(){return this.message}}const me={string:Zt,number:dt,boolean:qt,object:Kn};class xe{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");let p,x=1;const b=o[0];if(b==="array"){let k,D;if(o.length>2){const $=o[1];if(typeof $!="string"||!($ in me)||$==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);k=me[$],x++}else k=Ct;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return c.error('The length argument to "array" must be a positive integer literal',2);D=o[2],x++}p=zn(k,D)}else{if(!me[b])throw new Error(`Types doesn't contain name = ${b}`);p=me[b]}const E=[];for(;x<o.length;x++){const k=c.parse(o[x],x,Ct);if(!k)return null;E.push(k)}return new xe(p,E)}evaluate(o){for(let c=0;c<this.args.length;c++){const p=this.args[c].evaluate(o);if(!ii(this.type,le(p)))return p;if(c===this.args.length-1)throw new ue(`Expected value to be of type ${wn(this.type)}, but found ${wn(le(p))} instead.`)}throw new Error}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}const ve={"to-boolean":qt,"to-color":hr,"to-number":dt,"to-string":Zt};class Ce{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");const p=o[0];if(!ve[p])throw new Error(`Can't parse ${p} as it is not part of the known types`);if((p==="to-boolean"||p==="to-string")&&o.length!==2)return c.error("Expected one argument.");const x=ve[p],b=[];for(let E=1;E<o.length;E++){const k=c.parse(o[E],E,Ct);if(!k)return null;b.push(k)}return new Ce(x,b)}evaluate(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){let c,p;for(const x of this.args){if(c=x.evaluate(o),p=null,c instanceof Vt)return c;if(typeof c=="string"){const b=o.parseColor(c);if(b)return b}else if(Array.isArray(c)&&(p=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Tr(c[0],c[1],c[2],c[3]),!p))return new Vt(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new ue(p||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}if(this.type.kind==="padding"){let c;for(const p of this.args){c=p.evaluate(o);const x=Yt.parse(c);if(x)return x}throw new ue(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}if(this.type.kind==="number"){let c=null;for(const p of this.args){if(c=p.evaluate(o),c===null)return 0;const x=Number(c);if(!isNaN(x))return x}throw new ue(`Could not convert ${JSON.stringify(c)} to number.`)}return this.type.kind==="formatted"?Ht.fromString(W(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?Hn.fromString(W(this.args[0].evaluate(o))):W(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}const Ee=["Unknown","Point","LineString","Polygon"];class Oe{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ee[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(o){let c=this._parseColorCache[o];return c||(c=this._parseColorCache[o]=Vt.parse(o)),c}}class $e{constructor(o,c,p,x){this.name=o,this.type=c,this._evaluate=p,this.args=x}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}static parse(o,c){const p=o[0],x=$e.definitions[p];if(!x)return c.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(x)?x[0]:x.type,E=Array.isArray(x)?[[x[1],x[2]]]:x.overloads,k=E.filter(([$])=>!Array.isArray($)||$.length===o.length-1);let D=null;for(const[$,G]of k){D=new ia(c.registry,c.path,null,c.scope);const X=[];let re=!1;for(let ie=1;ie<o.length;ie++){const ae=o[ie],be=Array.isArray($)?$[ie-1]:$.type,_e=D.parse(ae,1+X.length,be);if(!_e){re=!0;break}X.push(_e)}if(!re)if(Array.isArray($)&&$.length!==X.length)D.error(`Expected ${$.length} arguments, but found ${X.length} instead.`);else{for(let ie=0;ie<X.length;ie++){const ae=Array.isArray($)?$[ie]:$.type,be=X[ie];D.concat(ie+1).checkSubtype(ae,be.type)}if(D.errors.length===0)return new $e(p,b,G,X)}}if(k.length===1)c.errors.push(...D.errors);else{const $=(k.length?k:E).map(([X])=>{return re=X,Array.isArray(re)?`(${re.map(wn).join(", ")})`:`(${wn(re.type)}...)`;var re}).join(" | "),G=[];for(let X=1;X<o.length;X++){const re=c.parse(o[X],1+G.length);if(!re)return null;G.push(wn(re.type))}c.error(`Expected arguments of type ${$}, but found (${G.join(", ")}) instead.`)}return null}static register(o,c){$e.definitions=c;for(const p in c)o[p]=$e}}class tt{constructor(o,c,p){this.type=Ir,this.locale=p,this.caseSensitive=o,this.diacriticSensitive=c}static parse(o,c){if(o.length!==2)return c.error("Expected one argument.");const p=o[1];if(typeof p!="object"||Array.isArray(p))return c.error("Collator options argument must be an object.");const x=c.parse(p["case-sensitive"]!==void 0&&p["case-sensitive"],1,qt);if(!x)return null;const b=c.parse(p["diacritic-sensitive"]!==void 0&&p["diacritic-sensitive"],1,qt);if(!b)return null;let E=null;return p.locale&&(E=c.parse(p.locale,1,Zt),!E)?null:new tt(x,b,E)}evaluate(o){return new In(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}}const Ze=8192;function Ot(s,o){s[0]=Math.min(s[0],o[0]),s[1]=Math.min(s[1],o[1]),s[2]=Math.max(s[2],o[0]),s[3]=Math.max(s[3],o[1])}function Ut(s,o){return!(s[0]<=o[0]||s[2]>=o[2]||s[1]<=o[1]||s[3]>=o[3])}function Pt(s,o){const c=(180+s[0])/360,p=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,x=Math.pow(2,o.z);return[Math.round(c*x*Ze),Math.round(p*x*Ze)]}function zt(s,o,c){const p=s[0]-o[0],x=s[1]-o[1],b=s[0]-c[0],E=s[1]-c[1];return p*E-b*x==0&&p*b<=0&&x*E<=0}function ln(s,o){let c=!1;for(let E=0,k=o.length;E<k;E++){const D=o[E];for(let $=0,G=D.length;$<G-1;$++){if(zt(s,D[$],D[$+1]))return!1;(x=D[$])[1]>(p=s)[1]!=(b=D[$+1])[1]>p[1]&&p[0]<(b[0]-x[0])*(p[1]-x[1])/(b[1]-x[1])+x[0]&&(c=!c)}}var p,x,b;return c}function On(s,o){for(let c=0;c<o.length;c++)if(ln(s,o[c]))return!0;return!1}function rn(s,o,c,p){const x=p[0]-c[0],b=p[1]-c[1],E=(s[0]-c[0])*b-x*(s[1]-c[1]),k=(o[0]-c[0])*b-x*(o[1]-c[1]);return E>0&&k<0||E<0&&k>0}function dn(s,o,c){for(const $ of c)for(let G=0;G<$.length-1;++G)if((k=[(E=$[G+1])[0]-(b=$[G])[0],E[1]-b[1]])[0]*(D=[(x=o)[0]-(p=s)[0],x[1]-p[1]])[1]-k[1]*D[0]!=0&&rn(p,x,b,E)&&rn(b,E,p,x))return!0;var p,x,b,E,k,D;return!1}function Ln(s,o){for(let c=0;c<s.length;++c)if(!ln(s[c],o))return!1;for(let c=0;c<s.length-1;++c)if(dn(s[c],s[c+1],o))return!1;return!0}function ar(s,o){for(let c=0;c<o.length;c++)if(Ln(s,o[c]))return!0;return!1}function Mr(s,o,c){const p=[];for(let x=0;x<s.length;x++){const b=[];for(let E=0;E<s[x].length;E++){const k=Pt(s[x][E],c);Ot(o,k),b.push(k)}p.push(b)}return p}function fr(s,o,c){const p=[];for(let x=0;x<s.length;x++){const b=Mr(s[x],o,c);p.push(b)}return p}function ra(s,o,c,p){if(s[0]<c[0]||s[0]>c[2]){const x=.5*p;let b=s[0]-c[0]>x?-p:c[0]-s[0]>x?p:0;b===0&&(b=s[0]-c[2]>x?-p:c[2]-s[0]>x?p:0),s[0]+=b}Ot(o,s)}function Mh(s,o,c,p){const x=Math.pow(2,p.z)*Ze,b=[p.x*Ze,p.y*Ze],E=[];for(const k of s)for(const D of k){const $=[D.x+b[0],D.y+b[1]];ra($,o,c,x),E.push($)}return E}function fu(s,o,c,p){const x=Math.pow(2,p.z)*Ze,b=[p.x*Ze,p.y*Ze],E=[];for(const D of s){const $=[];for(const G of D){const X=[G.x+b[0],G.y+b[1]];Ot(o,X),$.push(X)}E.push($)}if(o[2]-o[0]<=x/2){(k=o)[0]=k[1]=1/0,k[2]=k[3]=-1/0;for(const D of E)for(const $ of D)ra($,o,c,x)}var k;return E}class go{constructor(o,c){this.type=qt,this.geojson=o,this.geometries=c}static parse(o,c){if(o.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(kr(o[1])){const p=o[1];if(p.type==="FeatureCollection")for(let x=0;x<p.features.length;++x){const b=p.features[x].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new go(p,p.features[x].geometry)}else if(p.type==="Feature"){const x=p.geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new go(p,p.geometry)}else if(p.type==="Polygon"||p.type==="MultiPolygon")return new go(p,p)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(c,p){const x=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=c.canonicalID();if(p.type==="Polygon"){const k=Mr(p.coordinates,b,E),D=Mh(c.geometry(),x,b,E);if(!Ut(x,b))return!1;for(const $ of D)if(!ln($,k))return!1}if(p.type==="MultiPolygon"){const k=fr(p.coordinates,b,E),D=Mh(c.geometry(),x,b,E);if(!Ut(x,b))return!1;for(const $ of D)if(!On($,k))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(c,p){const x=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=c.canonicalID();if(p.type==="Polygon"){const k=Mr(p.coordinates,b,E),D=fu(c.geometry(),x,b,E);if(!Ut(x,b))return!1;for(const $ of D)if(!Ln($,k))return!1}if(p.type==="MultiPolygon"){const k=fr(p.coordinates,b,E),D=fu(c.geometry(),x,b,E);if(!Ut(x,b))return!1;for(const $ of D)if(!ar($,k))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function El(s){if(s instanceof $e&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name))||s instanceof go)return!1;let o=!0;return s.eachChild(c=>{o&&!El(c)&&(o=!1)}),o}function ns(s){if(s instanceof $e&&s.name==="feature-state")return!1;let o=!0;return s.eachChild(c=>{o&&!ns(c)&&(o=!1)}),o}function Yi(s,o){if(s instanceof $e&&o.indexOf(s.name)>=0)return!1;let c=!0;return s.eachChild(p=>{c&&!Yi(p,o)&&(c=!1)}),c}class Cn{constructor(o,c){this.type=c.type,this.name=o,this.boundExpression=c}static parse(o,c){if(o.length!==2||typeof o[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const p=o[1];return c.scope.has(p)?new Cn(p,c.scope.get(p)):c.error(`Unknown variable "${p}". Make sure "${p}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}}class sr{constructor(o,c=[],p,x=new Ur,b=[]){this.registry=o,this.path=c,this.key=c.map(E=>`[${E}]`).join(""),this.scope=x,this.errors=b,this.expectedType=p}parse(o,c,p,x,b={}){return c?this.concat(c,p,x)._parse(o,b):this._parse(o,b)}_parse(o,c){function p(x,b,E){return E==="assert"?new xe(b,[x]):E==="coerce"?new Ce(b,[x]):x}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const x=o[0];if(typeof x!="string")return this.error(`Expression name must be a string, but found ${typeof x} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const b=this.registry[x];if(b){let E=b.parse(o,this);if(!E)return null;if(this.expectedType){const k=this.expectedType,D=E.type;if(k.kind!=="string"&&k.kind!=="number"&&k.kind!=="boolean"&&k.kind!=="object"&&k.kind!=="array"||D.kind!=="value")if(k.kind!=="color"&&k.kind!=="formatted"&&k.kind!=="resolvedImage"||D.kind!=="value"&&D.kind!=="string")if(k.kind!=="padding"||D.kind!=="value"&&D.kind!=="number"&&D.kind!=="array"){if(this.checkSubtype(k,D))return null}else E=p(E,k,c.typeAnnotation||"coerce");else E=p(E,k,c.typeAnnotation||"coerce");else E=p(E,k,c.typeAnnotation||"assert")}if(!(E instanceof te)&&E.type.kind!=="resolvedImage"&&La(E)){const k=new Oe;try{E=new te(E.type,E.evaluate(k))}catch(D){return this.error(D.message),null}}return E}return this.error(`Unknown expression "${x}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,c,p){const x=typeof o=="number"?this.path.concat(o):this.path,b=p?this.scope.concat(p):this.scope;return new sr(this.registry,x,c||null,b,this.errors)}error(o,...c){const p=`${this.key}${c.map(x=>`[${x}]`).join("")}`;this.errors.push(new Wn(p,o))}checkSubtype(o,c){const p=ii(o,c);return p&&this.error(p),p}}var ia=sr;function La(s){if(s instanceof Cn)return La(s.boundExpression);if(s instanceof $e&&s.name==="error"||s instanceof tt||s instanceof go)return!1;const o=s instanceof Ce||s instanceof xe;let c=!0;return s.eachChild(p=>{c=o?c&&La(p):c&&p instanceof te}),!!c&&El(s)&&Yi(s,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function oa(s,o){const c=s.length-1;let p,x,b=0,E=c,k=0;for(;b<=E;)if(k=Math.floor((b+E)/2),p=s[k],x=s[k+1],p<=o){if(k===c||o<x)return k;b=k+1}else{if(!(p>o))throw new ue("Input is not a number.");E=k-1}return 0}class rs{constructor(o,c,p){this.type=o,this.input=c,this.labels=[],this.outputs=[];for(const[x,b]of p)this.labels.push(x),this.outputs.push(b)}static parse(o,c){if(o.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return c.error("Expected an even number of arguments.");const p=c.parse(o[1],1,dt);if(!p)return null;const x=[];let b=null;c.expectedType&&c.expectedType.kind!=="value"&&(b=c.expectedType);for(let E=1;E<o.length;E+=2){const k=E===1?-1/0:o[E],D=o[E+1],$=E,G=E+1;if(typeof k!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(x.length&&x[x.length-1][0]>=k)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',$);const X=c.parse(D,G,b);if(!X)return null;b=b||X.type,x.push([k,X])}return new rs(b,p,x)}evaluate(o){const c=this.labels,p=this.outputs;if(c.length===1)return p[0].evaluate(o);const x=this.input.evaluate(o);if(x<=c[0])return p[0].evaluate(o);const b=c.length;return x>=c[b-1]?p[b-1].evaluate(o):p[oa(c,x)].evaluate(o)}eachChild(o){o(this.input);for(const c of this.outputs)o(c)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}}function Nt(s,o,c){return s*(1-c)+o*c}var Xn=Object.freeze({__proto__:null,array:function(s,o,c){return s.map((p,x)=>Nt(p,o[x],c))},color:function(s,o,c){return new Vt(Nt(s.r,o.r,c),Nt(s.g,o.g,c),Nt(s.b,o.b,c),Nt(s.a,o.a,c))},number:Nt,padding:function(s,o,c){const p=s.values,x=o.values;return new Yt([Nt(p[0],x[0],c),Nt(p[1],x[1],c),Nt(p[2],x[2],c),Nt(p[3],x[3],c)])}});const du=.95047,Tl=1.08883,Ri=4/29,Qi=6/29,is=3*Qi*Qi,aa=Math.PI/180,dr=180/Math.PI;function bn(s){return s>.008856451679035631?Math.pow(s,1/3):s/is+Ri}function os(s){return s>Qi?s*s*s:is*(s-Ri)}function sa(s){return 255*(s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055)}function Cl(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function as(s){const o=Cl(s.r),c=Cl(s.g),p=Cl(s.b),x=bn((.4124564*o+.3575761*c+.1804375*p)/du),b=bn((.2126729*o+.7151522*c+.072175*p)/1);return{l:116*b-16,a:500*(x-b),b:200*(b-bn((.0193339*o+.119192*c+.9503041*p)/Tl)),alpha:s.a}}function Pl(s){let o=(s.l+16)/116,c=isNaN(s.a)?o:o+s.a/500,p=isNaN(s.b)?o:o-s.b/200;return o=1*os(o),c=du*os(c),p=Tl*os(p),new Vt(sa(3.2404542*c-1.5371385*o-.4985314*p),sa(-.969266*c+1.8760108*o+.041556*p),sa(.0556434*c-.2040259*o+1.0572252*p),s.alpha)}function Oc(s,o,c){const p=o-s;return s+c*(p>180||p<-180?p-360*Math.round(p/360):p)}const la={forward:as,reverse:Pl,interpolate:function(s,o,c){return{l:Nt(s.l,o.l,c),a:Nt(s.a,o.a,c),b:Nt(s.b,o.b,c),alpha:Nt(s.alpha,o.alpha,c)}}},Ra={forward:function(s){const{l:o,a:c,b:p}=as(s),x=Math.atan2(p,c)*dr;return{h:x<0?x+360:x,c:Math.sqrt(c*c+p*p),l:o,alpha:s.a}},reverse:function(s){const o=s.h*aa,c=s.c;return Pl({l:s.l,a:Math.cos(o)*c,b:Math.sin(o)*c,alpha:s.alpha})},interpolate:function(s,o,c){return{h:Oc(s.h,o.h,c),c:Nt(s.c,o.c,c),l:Nt(s.l,o.l,c),alpha:Nt(s.alpha,o.alpha,c)}}};var pu=Object.freeze({__proto__:null,hcl:Ra,lab:la});class oi{constructor(o,c,p,x,b){this.type=o,this.operator=c,this.interpolation=p,this.input=x,this.labels=[],this.outputs=[];for(const[E,k]of b)this.labels.push(E),this.outputs.push(k)}static interpolationFactor(o,c,p,x){let b=0;if(o.name==="exponential")b=mu(c,o.base,p,x);else if(o.name==="linear")b=mu(c,1,p,x);else if(o.name==="cubic-bezier"){const E=o.controlPoints;b=new y(E[0],E[1],E[2],E[3]).solve(mu(c,1,p,x))}return b}static parse(o,c){let[p,x,b,...E]=o;if(!Array.isArray(x)||x.length===0)return c.error("Expected an interpolation type expression.",1);if(x[0]==="linear")x={name:"linear"};else if(x[0]==="exponential"){const $=x[1];if(typeof $!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);x={name:"exponential",base:$}}else{if(x[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(x[0])}`,1,0);{const $=x.slice(1);if($.length!==4||$.some(G=>typeof G!="number"||G<0||G>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);x={name:"cubic-bezier",controlPoints:$}}}if(o.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(b=c.parse(b,2,dt),!b)return null;const k=[];let D=null;p==="interpolate-hcl"||p==="interpolate-lab"?D=hr:c.expectedType&&c.expectedType.kind!=="value"&&(D=c.expectedType);for(let $=0;$<E.length;$+=2){const G=E[$],X=E[$+1],re=$+3,ie=$+4;if(typeof G!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',re);if(k.length&&k[k.length-1][0]>=G)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',re);const ae=c.parse(X,ie,D);if(!ae)return null;D=D||ae.type,k.push([G,ae])}return D.kind==="number"||D.kind==="color"||D.kind==="padding"||D.kind==="array"&&D.itemType.kind==="number"&&typeof D.N=="number"?new oi(D,p,x,b,k):c.error(`Type ${wn(D)} is not interpolatable.`)}evaluate(o){const c=this.labels,p=this.outputs;if(c.length===1)return p[0].evaluate(o);const x=this.input.evaluate(o);if(x<=c[0])return p[0].evaluate(o);const b=c.length;if(x>=c[b-1])return p[b-1].evaluate(o);const E=oa(c,x),k=oi.interpolationFactor(this.interpolation,x,c[E],c[E+1]),D=p[E].evaluate(o),$=p[E+1].evaluate(o);return this.operator==="interpolate"?Xn[this.type.kind.toLowerCase()](D,$,k):this.operator==="interpolate-hcl"?Ra.reverse(Ra.interpolate(Ra.forward(D),Ra.forward($),k)):la.reverse(la.interpolate(la.forward(D),la.forward($),k))}eachChild(o){o(this.input);for(const c of this.outputs)o(c)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}}function mu(s,o,c,p){const x=p-c,b=s-c;return x===0?0:o===1?b/x:(Math.pow(o,b)-1)/(Math.pow(o,x)-1)}class Ns{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expectected at least one argument.");let p=null;const x=c.expectedType;x&&x.kind!=="value"&&(p=x);const b=[];for(const k of o.slice(1)){const D=c.parse(k,1+b.length,p,void 0,{typeAnnotation:"omit"});if(!D)return null;p=p||D.type,b.push(D)}if(!p)throw new Error("No output type");const E=x&&b.some(k=>ii(x,k.type));return new Ns(E?Ct:p,b)}evaluate(o){let c,p=null,x=0;for(const b of this.args)if(x++,p=b.evaluate(o),p&&p instanceof Hn&&!p.available&&(c||(c=p.name),p=null,x===this.args.length&&(p=c)),p!==null)break;return p}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}class Al{constructor(o,c){this.type=c.type,this.bindings=[].concat(o),this.result=c}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const c of this.bindings)o(c[1]);o(this.result)}static parse(o,c){if(o.length<4)return c.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const p=[];for(let b=1;b<o.length-1;b+=2){const E=o[b];if(typeof E!="string")return c.error(`Expected string, but found ${typeof E} instead.`,b);if(/[^a-zA-Z0-9_]/.test(E))return c.error("Variable names must contain only alphanumeric characters or '_'.",b);const k=c.parse(o[b+1],b+1);if(!k)return null;p.push([E,k])}const x=c.parse(o[o.length-1],o.length-1,c.expectedType,p);return x?new Al(p,x):null}outputDefined(){return this.result.outputDefined()}}class nn{constructor(o,c,p){this.type=o,this.index=c,this.input=p}static parse(o,c){if(o.length!==3)return c.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const p=c.parse(o[1],1,dt),x=c.parse(o[2],2,zn(c.expectedType||Ct));return p&&x?new nn(x.type.itemType,p,x):null}evaluate(o){const c=this.index.evaluate(o),p=this.input.evaluate(o);if(c<0)throw new ue(`Array index out of bounds: ${c} < 0.`);if(c>=p.length)throw new ue(`Array index out of bounds: ${c} > ${p.length-1}.`);if(c!==Math.floor(c))throw new ue(`Array index must be an integer, but found ${c} instead.`);return p[c]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}}class Ji{constructor(o,c){this.type=qt,this.needle=o,this.haystack=c}static parse(o,c){if(o.length!==3)return c.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const p=c.parse(o[1],1,Ct),x=c.parse(o[2],2,Ct);return p&&x?Xi(p.type,[qt,Zt,dt,ir,Ct])?new Ji(p,x):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${wn(p.type)} instead`):null}evaluate(o){const c=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!p)return!1;if(!sn(c,["boolean","string","number","null"]))throw new ue(`Expected first argument to be of type boolean, string, number or null, but found ${wn(le(c))} instead.`);if(!sn(p,["string","array"]))throw new ue(`Expected second argument to be of type array or string, but found ${wn(le(p))} instead.`);return p.indexOf(c)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}}class qn{constructor(o,c,p){this.type=dt,this.needle=o,this.haystack=c,this.fromIndex=p}static parse(o,c){if(o.length<=2||o.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const p=c.parse(o[1],1,Ct),x=c.parse(o[2],2,Ct);if(!p||!x)return null;if(!Xi(p.type,[qt,Zt,dt,ir,Ct]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${wn(p.type)} instead`);if(o.length===4){const b=c.parse(o[3],3,dt);return b?new qn(p,x,b):null}return new qn(p,x)}evaluate(o){const c=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!sn(c,["boolean","string","number","null"]))throw new ue(`Expected first argument to be of type boolean, string, number or null, but found ${wn(le(c))} instead.`);if(!sn(p,["string","array"]))throw new ue(`Expected second argument to be of type array or string, but found ${wn(le(p))} instead.`);if(this.fromIndex){const x=this.fromIndex.evaluate(o);return p.indexOf(c,x)}return p.indexOf(c)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}}class Bs{constructor(o,c,p,x,b,E){this.inputType=o,this.type=c,this.input=p,this.cases=x,this.outputs=b,this.otherwise=E}static parse(o,c){if(o.length<5)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return c.error("Expected an even number of arguments.");let p,x;c.expectedType&&c.expectedType.kind!=="value"&&(x=c.expectedType);const b={},E=[];for(let $=2;$<o.length-1;$+=2){let G=o[$];const X=o[$+1];Array.isArray(G)||(G=[G]);const re=c.concat($);if(G.length===0)return re.error("Expected at least one branch label.");for(const ae of G){if(typeof ae!="number"&&typeof ae!="string")return re.error("Branch labels must be numbers or strings.");if(typeof ae=="number"&&Math.abs(ae)>Number.MAX_SAFE_INTEGER)return re.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ae=="number"&&Math.floor(ae)!==ae)return re.error("Numeric branch labels must be integer values.");if(p){if(re.checkSubtype(p,le(ae)))return null}else p=le(ae);if(b[String(ae)]!==void 0)return re.error("Branch labels must be unique.");b[String(ae)]=E.length}const ie=c.parse(X,$,x);if(!ie)return null;x=x||ie.type,E.push(ie)}const k=c.parse(o[1],1,Ct);if(!k)return null;const D=c.parse(o[o.length-1],o.length-1,x);return D?k.type.kind!=="value"&&c.concat(1).checkSubtype(p,k.type)?null:new Bs(p,x,k,b,E,D):null}evaluate(o){const c=this.input.evaluate(o);return(le(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}}class Il{constructor(o,c,p){this.type=o,this.branches=c,this.otherwise=p}static parse(o,c){if(o.length<4)return c.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return c.error("Expected an odd number of arguments.");let p;c.expectedType&&c.expectedType.kind!=="value"&&(p=c.expectedType);const x=[];for(let E=1;E<o.length-1;E+=2){const k=c.parse(o[E],E,qt);if(!k)return null;const D=c.parse(o[E+1],E+1,p);if(!D)return null;x.push([k,D]),p=p||D.type}const b=c.parse(o[o.length-1],o.length-1,p);if(!b)return null;if(!p)throw new Error("Can't infer output type");return new Il(p,x,b)}evaluate(o){for(const[c,p]of this.branches)if(c.evaluate(o))return p.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[c,p]of this.branches)o(c),o(p);o(this.otherwise)}outputDefined(){return this.branches.every(([o,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class Us{constructor(o,c,p,x){this.type=o,this.input=c,this.beginIndex=p,this.endIndex=x}static parse(o,c){if(o.length<=2||o.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const p=c.parse(o[1],1,Ct),x=c.parse(o[2],2,dt);if(!p||!x)return null;if(!Xi(p.type,[zn(Ct),Zt,Ct]))return c.error(`Expected first argument to be of type array or string, but found ${wn(p.type)} instead`);if(o.length===4){const b=c.parse(o[3],3,dt);return b?new Us(p.type,p,x,b):null}return new Us(p.type,p,x)}evaluate(o){const c=this.input.evaluate(o),p=this.beginIndex.evaluate(o);if(!sn(c,["string","array"]))throw new ue(`Expected first argument to be of type array or string, but found ${wn(le(c))} instead.`);if(this.endIndex){const x=this.endIndex.evaluate(o);return c.slice(p,x)}return c.slice(p)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}}function gu(s,o){return s==="=="||s==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function ua(s,o,c,p){return p.compare(o,c)===0}function ca(s,o,c){const p=s!=="=="&&s!=="!=";return class oD{constructor(b,E,k){this.type=qt,this.lhs=b,this.rhs=E,this.collator=k,this.hasUntypedArgument=b.type.kind==="value"||E.type.kind==="value"}static parse(b,E){if(b.length!==3&&b.length!==4)return E.error("Expected two or three arguments.");const k=b[0];let D=E.parse(b[1],1,Ct);if(!D)return null;if(!gu(k,D.type))return E.concat(1).error(`"${k}" comparisons are not supported for type '${wn(D.type)}'.`);let $=E.parse(b[2],2,Ct);if(!$)return null;if(!gu(k,$.type))return E.concat(2).error(`"${k}" comparisons are not supported for type '${wn($.type)}'.`);if(D.type.kind!==$.type.kind&&D.type.kind!=="value"&&$.type.kind!=="value")return E.error(`Cannot compare types '${wn(D.type)}' and '${wn($.type)}'.`);p&&(D.type.kind==="value"&&$.type.kind!=="value"?D=new xe($.type,[D]):D.type.kind!=="value"&&$.type.kind==="value"&&($=new xe(D.type,[$])));let G=null;if(b.length===4){if(D.type.kind!=="string"&&$.type.kind!=="string"&&D.type.kind!=="value"&&$.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(G=E.parse(b[3],3,Ir),!G)return null}return new oD(D,$,G)}evaluate(b){const E=this.lhs.evaluate(b),k=this.rhs.evaluate(b);if(p&&this.hasUntypedArgument){const D=le(E),$=le(k);if(D.kind!==$.kind||D.kind!=="string"&&D.kind!=="number")throw new ue(`Expected arguments for "${s}" to be (string, string) or (number, number), but found (${D.kind}, ${$.kind}) instead.`)}if(this.collator&&!p&&this.hasUntypedArgument){const D=le(E),$=le(k);if(D.kind!=="string"||$.kind!=="string")return o(b,E,k)}return this.collator?c(b,E,k,this.collator.evaluate(b)):o(b,E,k)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}}}const kl=ca("==",function(s,o,c){return o===c},ua),Jr=ca("!=",function(s,o,c){return o!==c},function(s,o,c,p){return!ua(0,o,c,p)}),Ma=ca("<",function(s,o,c){return o<c},function(s,o,c,p){return p.compare(o,c)<0}),Lc=ca(">",function(s,o,c){return o>c},function(s,o,c,p){return p.compare(o,c)>0}),Dh=ca("<=",function(s,o,c){return o<=c},function(s,o,c,p){return p.compare(o,c)<=0}),Id=ca(">=",function(s,o,c){return o>=c},function(s,o,c,p){return p.compare(o,c)>=0});class vu{constructor(o,c,p,x,b){this.type=Zt,this.number=o,this.locale=c,this.currency=p,this.minFractionDigits=x,this.maxFractionDigits=b}static parse(o,c){if(o.length!==3)return c.error("Expected two arguments.");const p=c.parse(o[1],1,dt);if(!p)return null;const x=o[2];if(typeof x!="object"||Array.isArray(x))return c.error("NumberFormat options argument must be an object.");let b=null;if(x.locale&&(b=c.parse(x.locale,1,Zt),!b))return null;let E=null;if(x.currency&&(E=c.parse(x.currency,1,Zt),!E))return null;let k=null;if(x["min-fraction-digits"]&&(k=c.parse(x["min-fraction-digits"],1,dt),!k))return null;let D=null;return x["max-fraction-digits"]&&(D=c.parse(x["max-fraction-digits"],1,dt),!D)?null:new vu(p,b,E,k,D)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}}class Vs{constructor(o){this.type=fn,this.sections=o}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");const p=o[1];if(!Array.isArray(p)&&typeof p=="object")return c.error("First argument must be an image or text section.");const x=[];let b=!1;for(let E=1;E<=o.length-1;++E){const k=o[E];if(b&&typeof k=="object"&&!Array.isArray(k)){b=!1;let D=null;if(k["font-scale"]&&(D=c.parse(k["font-scale"],1,dt),!D))return null;let $=null;if(k["text-font"]&&($=c.parse(k["text-font"],1,zn(Zt)),!$))return null;let G=null;if(k["text-color"]&&(G=c.parse(k["text-color"],1,hr),!G))return null;const X=x[x.length-1];X.scale=D,X.font=$,X.textColor=G}else{const D=c.parse(o[E],1,Ct);if(!D)return null;const $=D.type.kind;if($!=="string"&&$!=="value"&&$!=="null"&&$!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,x.push({content:D,scale:null,font:null,textColor:null})}}return new Vs(x)}evaluate(o){return new Ht(this.sections.map(c=>{const p=c.content.evaluate(o);return le(p)===or?new Sn("",p,null,null,null):new Sn(W(p),null,c.scale?c.scale.evaluate(o):null,c.font?c.font.evaluate(o).join(","):null,c.textColor?c.textColor.evaluate(o):null)}))}eachChild(o){for(const c of this.sections)o(c.content),c.scale&&o(c.scale),c.font&&o(c.font),c.textColor&&o(c.textColor)}outputDefined(){return!1}}class Rc{constructor(o){this.type=or,this.input=o}static parse(o,c){if(o.length!==2)return c.error("Expected two arguments.");const p=c.parse(o[1],1,Zt);return p?new Rc(p):c.error("No image name provided.")}evaluate(o){const c=this.input.evaluate(o),p=Hn.fromString(c);return p&&o.availableImages&&(p.available=o.availableImages.indexOf(c)>-1),p}eachChild(o){o(this.input)}outputDefined(){return!1}}class yu{constructor(o){this.type=dt,this.input=o}static parse(o,c){if(o.length!==2)return c.error(`Expected 1 argument, but found ${o.length-1} instead.`);const p=c.parse(o[1],1);return p?p.type.kind!=="array"&&p.type.kind!=="string"&&p.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${wn(p.type)} instead.`):new yu(p):null}evaluate(o){const c=this.input.evaluate(o);if(typeof c=="string"||Array.isArray(c))return c.length;throw new ue(`Expected value to be of type string or array, but found ${wn(le(c))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}}const pn={"==":kl,"!=":Jr,">":Lc,"<":Ma,">=":Id,"<=":Dh,array:xe,at:nn,boolean:xe,case:Il,coalesce:Ns,collator:tt,format:Vs,image:Rc,in:Ji,"index-of":qn,interpolate:oi,"interpolate-hcl":oi,"interpolate-lab":oi,length:yu,let:Al,literal:te,match:Bs,number:xe,"number-format":vu,object:xe,slice:Us,step:rs,string:xe,"to-boolean":Ce,"to-color":Ce,"to-number":Ce,"to-string":Ce,var:Cn,within:go};function Rn(s,[o,c,p,x]){o=o.evaluate(s),c=c.evaluate(s),p=p.evaluate(s);const b=x?x.evaluate(s):1,E=Tr(o,c,p,b);if(E)throw new ue(E);return new Vt(o/255*b,c/255*b,p/255*b,b)}function eo(s,o){return s in o}function ss(s,o){const c=o[s];return c===void 0?null:c}function Da(s){return{type:s}}function zh(s){return{result:"success",value:s}}function za(s){return{result:"error",value:s}}function $s(s){return s["property-type"]==="data-driven"||s["property-type"]==="cross-faded-data-driven"}function Mc(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function Dc(s){return!!s.expression&&s.expression.interpolated}function Fn(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function js(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function kd(s){return s}function vo(s,o){const c=o.type==="color",p=s.stops&&typeof s.stops[0][0]=="object",x=p||!(p||s.property!==void 0),b=s.type||(Dc(o)?"exponential":"interval");if(c||o.type==="padding"){const $=c?Vt.parse:Yt.parse;(s=xn({},s)).stops&&(s.stops=s.stops.map(G=>[G[0],$(G[1])])),s.default=$(s.default?s.default:o.default)}if(s.colorSpace&&s.colorSpace!=="rgb"&&!pu[s.colorSpace])throw new Error(`Unknown color space: ${s.colorSpace}`);let E,k,D;if(b==="exponential")E=zc;else if(b==="interval")E=Fa;else if(b==="categorical"){E=Fh,k=Object.create(null);for(const $ of s.stops)k[$[0]]=$[1];D=typeof s.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);E=Nh}if(p){const $={},G=[];for(let ie=0;ie<s.stops.length;ie++){const ae=s.stops[ie],be=ae[0].zoom;$[be]===void 0&&($[be]={zoom:be,type:s.type,property:s.property,default:s.default,stops:[]},G.push(be)),$[be].stops.push([ae[0].value,ae[1]])}const X=[];for(const ie of G)X.push([$[ie].zoom,vo($[ie],o)]);const re={name:"linear"};return{kind:"composite",interpolationType:re,interpolationFactor:oi.interpolationFactor.bind(void 0,re),zoomStops:X.map(ie=>ie[0]),evaluate:({zoom:ie},ae)=>zc({stops:X,base:s.base},o,ie).evaluate(ie,ae)}}if(x){const $=b==="exponential"?{name:"exponential",base:s.base!==void 0?s.base:1}:null;return{kind:"camera",interpolationType:$,interpolationFactor:oi.interpolationFactor.bind(void 0,$),zoomStops:s.stops.map(G=>G[0]),evaluate:({zoom:G})=>E(s,o,G,k,D)}}return{kind:"source",evaluate($,G){const X=G&&G.properties?G.properties[s.property]:void 0;return X===void 0?Ol(s.default,o.default):E(s,o,X,k,D)}}}function Ol(s,o,c){return s!==void 0?s:o!==void 0?o:c!==void 0?c:void 0}function Fh(s,o,c,p,x){return Ol(typeof c===x?p[c]:void 0,s.default,o.default)}function Fa(s,o,c){if(Fn(c)!=="number")return Ol(s.default,o.default);const p=s.stops.length;if(p===1||c<=s.stops[0][0])return s.stops[0][1];if(c>=s.stops[p-1][0])return s.stops[p-1][1];const x=oa(s.stops.map(b=>b[0]),c);return s.stops[x][1]}function zc(s,o,c){const p=s.base!==void 0?s.base:1;if(Fn(c)!=="number")return Ol(s.default,o.default);const x=s.stops.length;if(x===1||c<=s.stops[0][0])return s.stops[0][1];if(c>=s.stops[x-1][0])return s.stops[x-1][1];const b=oa(s.stops.map(G=>G[0]),c),E=function(G,X,re,ie){const ae=ie-re,be=G-re;return ae===0?0:X===1?be/ae:(Math.pow(X,be)-1)/(Math.pow(X,ae)-1)}(c,p,s.stops[b][0],s.stops[b+1][0]),k=s.stops[b][1],D=s.stops[b+1][1];let $=Xn[o.type]||kd;if(s.colorSpace&&s.colorSpace!=="rgb"){const G=pu[s.colorSpace];$=(X,re)=>G.reverse(G.interpolate(G.forward(X),G.forward(re),E))}return typeof k.evaluate=="function"?{evaluate(...G){const X=k.evaluate.apply(void 0,G),re=D.evaluate.apply(void 0,G);if(X!==void 0&&re!==void 0)return $(X,re,E)}}:$(k,D,E)}function Nh(s,o,c){switch(o.type){case"color":c=Vt.parse(c);break;case"formatted":c=Ht.fromString(c.toString());break;case"resolvedImage":c=Hn.fromString(c.toString());break;case"padding":c=Yt.parse(c);break;default:Fn(c)===o.type||o.type==="enum"&&o.values[c]||(c=void 0)}return Ol(c,s.default,o.default)}$e.register(pn,{error:[{kind:"error"},[Zt],(s,[o])=>{throw new ue(o.evaluate(s))}],typeof:[Zt,[Ct],(s,[o])=>wn(le(o.evaluate(s)))],"to-rgba":[zn(dt,4),[hr],(s,[o])=>o.evaluate(s).toArray()],rgb:[hr,[dt,dt,dt],Rn],rgba:[hr,[dt,dt,dt,dt],Rn],has:{type:qt,overloads:[[[Zt],(s,[o])=>eo(o.evaluate(s),s.properties())],[[Zt,Kn],(s,[o,c])=>eo(o.evaluate(s),c.evaluate(s))]]},get:{type:Ct,overloads:[[[Zt],(s,[o])=>ss(o.evaluate(s),s.properties())],[[Zt,Kn],(s,[o,c])=>ss(o.evaluate(s),c.evaluate(s))]]},"feature-state":[Ct,[Zt],(s,[o])=>ss(o.evaluate(s),s.featureState||{})],properties:[Kn,[],s=>s.properties()],"geometry-type":[Zt,[],s=>s.geometryType()],id:[Ct,[],s=>s.id()],zoom:[dt,[],s=>s.globals.zoom],"heatmap-density":[dt,[],s=>s.globals.heatmapDensity||0],"line-progress":[dt,[],s=>s.globals.lineProgress||0],accumulated:[Ct,[],s=>s.globals.accumulated===void 0?null:s.globals.accumulated],"+":[dt,Da(dt),(s,o)=>{let c=0;for(const p of o)c+=p.evaluate(s);return c}],"*":[dt,Da(dt),(s,o)=>{let c=1;for(const p of o)c*=p.evaluate(s);return c}],"-":{type:dt,overloads:[[[dt,dt],(s,[o,c])=>o.evaluate(s)-c.evaluate(s)],[[dt],(s,[o])=>-o.evaluate(s)]]},"/":[dt,[dt,dt],(s,[o,c])=>o.evaluate(s)/c.evaluate(s)],"%":[dt,[dt,dt],(s,[o,c])=>o.evaluate(s)%c.evaluate(s)],ln2:[dt,[],()=>Math.LN2],pi:[dt,[],()=>Math.PI],e:[dt,[],()=>Math.E],"^":[dt,[dt,dt],(s,[o,c])=>Math.pow(o.evaluate(s),c.evaluate(s))],sqrt:[dt,[dt],(s,[o])=>Math.sqrt(o.evaluate(s))],log10:[dt,[dt],(s,[o])=>Math.log(o.evaluate(s))/Math.LN10],ln:[dt,[dt],(s,[o])=>Math.log(o.evaluate(s))],log2:[dt,[dt],(s,[o])=>Math.log(o.evaluate(s))/Math.LN2],sin:[dt,[dt],(s,[o])=>Math.sin(o.evaluate(s))],cos:[dt,[dt],(s,[o])=>Math.cos(o.evaluate(s))],tan:[dt,[dt],(s,[o])=>Math.tan(o.evaluate(s))],asin:[dt,[dt],(s,[o])=>Math.asin(o.evaluate(s))],acos:[dt,[dt],(s,[o])=>Math.acos(o.evaluate(s))],atan:[dt,[dt],(s,[o])=>Math.atan(o.evaluate(s))],min:[dt,Da(dt),(s,o)=>Math.min(...o.map(c=>c.evaluate(s)))],max:[dt,Da(dt),(s,o)=>Math.max(...o.map(c=>c.evaluate(s)))],abs:[dt,[dt],(s,[o])=>Math.abs(o.evaluate(s))],round:[dt,[dt],(s,[o])=>{const c=o.evaluate(s);return c<0?-Math.round(-c):Math.round(c)}],floor:[dt,[dt],(s,[o])=>Math.floor(o.evaluate(s))],ceil:[dt,[dt],(s,[o])=>Math.ceil(o.evaluate(s))],"filter-==":[qt,[Zt,Ct],(s,[o,c])=>s.properties()[o.value]===c.value],"filter-id-==":[qt,[Ct],(s,[o])=>s.id()===o.value],"filter-type-==":[qt,[Zt],(s,[o])=>s.geometryType()===o.value],"filter-<":[qt,[Zt,Ct],(s,[o,c])=>{const p=s.properties()[o.value],x=c.value;return typeof p==typeof x&&p<x}],"filter-id-<":[qt,[Ct],(s,[o])=>{const c=s.id(),p=o.value;return typeof c==typeof p&&c<p}],"filter->":[qt,[Zt,Ct],(s,[o,c])=>{const p=s.properties()[o.value],x=c.value;return typeof p==typeof x&&p>x}],"filter-id->":[qt,[Ct],(s,[o])=>{const c=s.id(),p=o.value;return typeof c==typeof p&&c>p}],"filter-<=":[qt,[Zt,Ct],(s,[o,c])=>{const p=s.properties()[o.value],x=c.value;return typeof p==typeof x&&p<=x}],"filter-id-<=":[qt,[Ct],(s,[o])=>{const c=s.id(),p=o.value;return typeof c==typeof p&&c<=p}],"filter->=":[qt,[Zt,Ct],(s,[o,c])=>{const p=s.properties()[o.value],x=c.value;return typeof p==typeof x&&p>=x}],"filter-id->=":[qt,[Ct],(s,[o])=>{const c=s.id(),p=o.value;return typeof c==typeof p&&c>=p}],"filter-has":[qt,[Ct],(s,[o])=>o.value in s.properties()],"filter-has-id":[qt,[],s=>s.id()!==null&&s.id()!==void 0],"filter-type-in":[qt,[zn(Zt)],(s,[o])=>o.value.indexOf(s.geometryType())>=0],"filter-id-in":[qt,[zn(Ct)],(s,[o])=>o.value.indexOf(s.id())>=0],"filter-in-small":[qt,[Zt,zn(Ct)],(s,[o,c])=>c.value.indexOf(s.properties()[o.value])>=0],"filter-in-large":[qt,[Zt,zn(Ct)],(s,[o,c])=>function(p,x,b,E){for(;b<=E;){const k=b+E>>1;if(x[k]===p)return!0;x[k]>p?E=k-1:b=k+1}return!1}(s.properties()[o.value],c.value,0,c.value.length-1)],all:{type:qt,overloads:[[[qt,qt],(s,[o,c])=>o.evaluate(s)&&c.evaluate(s)],[Da(qt),(s,o)=>{for(const c of o)if(!c.evaluate(s))return!1;return!0}]]},any:{type:qt,overloads:[[[qt,qt],(s,[o,c])=>o.evaluate(s)||c.evaluate(s)],[Da(qt),(s,o)=>{for(const c of o)if(c.evaluate(s))return!0;return!1}]]},"!":[qt,[qt],(s,[o])=>!o.evaluate(s)],"is-supported-script":[qt,[Zt],(s,[o])=>{const c=s.globals&&s.globals.isSupportedScript;return!c||c(o.evaluate(s))}],upcase:[Zt,[Zt],(s,[o])=>o.evaluate(s).toUpperCase()],downcase:[Zt,[Zt],(s,[o])=>o.evaluate(s).toLowerCase()],concat:[Zt,Da(Ct),(s,o)=>o.map(c=>W(c.evaluate(s))).join("")],"resolved-locale":[Zt,[Ir],(s,[o])=>o.evaluate(s).resolvedLocale()]});class Fc{constructor(o,c){this.expression=o,this._warningHistory={},this._evaluator=new Oe,this._defaultValue=c?function(p){return p.type==="color"&&js(p.default)?new Vt(0,0,0,0):p.type==="color"?Vt.parse(p.default)||null:p.type==="padding"?Yt.parse(p.default)||null:p.default===void 0?null:p.default}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(o,c,p,x,b,E){return this._evaluator.globals=o,this._evaluator.feature=c,this._evaluator.featureState=p,this._evaluator.canonical=x,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)}evaluate(o,c,p,x,b,E){this._evaluator.globals=o,this._evaluator.feature=c||null,this._evaluator.featureState=p||null,this._evaluator.canonical=x,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E||null;try{const k=this.expression.evaluate(this._evaluator);if(k==null||typeof k=="number"&&k!=k)return this._defaultValue;if(this._enumValues&&!(k in this._enumValues))throw new ue(`Expected value to be one of ${Object.keys(this._enumValues).map(D=>JSON.stringify(D)).join(", ")}, but found ${JSON.stringify(k)} instead.`);return k}catch(k){return this._warningHistory[k.message]||(this._warningHistory[k.message]=!0,typeof console<"u"&&console.warn(k.message)),this._defaultValue}}}function _u(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in pn}function qs(s,o){const c=new ia(pn,[],o?function(x){const b={color:hr,string:Zt,number:dt,enum:Zt,boolean:qt,formatted:fn,padding:Li,resolvedImage:or};return x.type==="array"?zn(b[x.value]||Ct,x.length):b[x.type]}(o):void 0),p=c.parse(s,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return p?zh(new Fc(p,o)):za(c.errors)}class Nc{constructor(o,c){this.kind=o,this._styleExpression=c,this.isStateDependent=o!=="constant"&&!ns(c.expression)}evaluateWithoutErrorHandling(o,c,p,x,b,E){return this._styleExpression.evaluateWithoutErrorHandling(o,c,p,x,b,E)}evaluate(o,c,p,x,b,E){return this._styleExpression.evaluate(o,c,p,x,b,E)}}class xu{constructor(o,c,p,x){this.kind=o,this.zoomStops=p,this._styleExpression=c,this.isStateDependent=o!=="camera"&&!ns(c.expression),this.interpolationType=x}evaluateWithoutErrorHandling(o,c,p,x,b,E){return this._styleExpression.evaluateWithoutErrorHandling(o,c,p,x,b,E)}evaluate(o,c,p,x,b,E){return this._styleExpression.evaluate(o,c,p,x,b,E)}interpolationFactor(o,c,p){return this.interpolationType?oi.interpolationFactor(this.interpolationType,o,c,p):0}}function Bc(s,o){const c=qs(s,o);if(c.result==="error")return c;const p=c.value.expression,x=El(p);if(!x&&!$s(o))return za([new Wn("","data expressions not supported")]);const b=Yi(p,["zoom"]);if(!b&&!Mc(o))return za([new Wn("","zoom expressions not supported")]);const E=Bo(p);return E||b?E instanceof Wn?za([E]):E instanceof oi&&!Dc(o)?za([new Wn("",'"interpolate" expressions cannot be used with this property')]):zh(E?new xu(x?"camera":"composite",c.value,E.labels,E instanceof oi?E.interpolation:void 0):new Nc(x?"constant":"source",c.value)):za([new Wn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ls{constructor(o,c){this._parameters=o,this._specification=c,xn(this,vo(this._parameters,this._specification))}static deserialize(o){return new ls(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function Bo(s){let o=null;if(s instanceof Al)o=Bo(s.result);else if(s instanceof Ns){for(const c of s.args)if(o=Bo(c),o)break}else(s instanceof rs||s instanceof oi)&&s.input instanceof $e&&s.input.name==="zoom"&&(o=s);return o instanceof Wn||s.eachChild(c=>{const p=Bo(c);p instanceof Wn?o=p:!o&&p?o=new Wn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&p&&o!==p&&(o=new Wn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}function to(s){const o=s.key,c=s.value,p=s.valueSpec||{},x=s.objectElementValidators||{},b=s.style,E=s.styleSpec,k=s.validateSpec;let D=[];const $=Fn(c);if($!=="object")return[new rt(o,c,`object expected, ${$} found`)];for(const G in c){const X=G.split(".")[0],re=p[X]||p["*"];let ie;if(x[X])ie=x[X];else if(p[X])ie=k;else if(x["*"])ie=x["*"];else{if(!p["*"]){D.push(new rt(o,c[G],`unknown property "${G}"`));continue}ie=k}D=D.concat(ie({key:(o&&`${o}.`)+G,value:c[G],valueSpec:re,style:b,styleSpec:E,object:c,objectKey:G,validateSpec:k},c))}for(const G in p)x[G]||p[G].required&&p[G].default===void 0&&c[G]===void 0&&D.push(new rt(o,c,`missing required property "${G}"`));return D}function Gs(s){const o=s.value,c=s.valueSpec,p=s.style,x=s.styleSpec,b=s.key,E=s.arrayElementValidator||s.validateSpec;if(Fn(o)!=="array")return[new rt(b,o,`array expected, ${Fn(o)} found`)];if(c.length&&o.length!==c.length)return[new rt(b,o,`array length ${c.length} expected, length ${o.length} found`)];if(c["min-length"]&&o.length<c["min-length"])return[new rt(b,o,`array length at least ${c["min-length"]} expected, length ${o.length} found`)];let k={type:c.value,values:c.values};x.$version<7&&(k.function=c.function),Fn(c.value)==="object"&&(k=c.value);let D=[];for(let $=0;$<o.length;$++)D=D.concat(E({array:o,arrayIndex:$,value:o[$],valueSpec:k,validateSpec:s.validateSpec,style:p,styleSpec:x,key:`${b}[${$}]`}));return D}function yi(s){const o=s.key,c=s.value,p=s.valueSpec;let x=Fn(c);return x==="number"&&c!=c&&(x="NaN"),x!=="number"?[new rt(o,c,`number expected, ${x} found`)]:"minimum"in p&&c<p.minimum?[new rt(o,c,`${c} is less than the minimum value ${p.minimum}`)]:"maximum"in p&&c>p.maximum?[new rt(o,c,`${c} is greater than the maximum value ${p.maximum}`)]:[]}function Uc(s){const o=s.valueSpec,c=tn(s.value.type);let p,x,b,E={};const k=c!=="categorical"&&s.value.property===void 0,D=!k,$=Fn(s.value.stops)==="array"&&Fn(s.value.stops[0])==="array"&&Fn(s.value.stops[0][0])==="object",G=to({key:s.key,value:s.value,valueSpec:s.styleSpec.function,validateSpec:s.validateSpec,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(ie){if(c==="identity")return[new rt(ie.key,ie.value,'identity function may not have a "stops" property')];let ae=[];const be=ie.value;return ae=ae.concat(Gs({key:ie.key,value:be,valueSpec:ie.valueSpec,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,arrayElementValidator:X})),Fn(be)==="array"&&be.length===0&&ae.push(new rt(ie.key,be,"array must have at least one stop")),ae},default:function(ie){return ie.validateSpec({key:ie.key,value:ie.value,valueSpec:o,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec})}}});return c==="identity"&&k&&G.push(new rt(s.key,s.value,'missing required property "property"')),c==="identity"||s.value.stops||G.push(new rt(s.key,s.value,'missing required property "stops"')),c==="exponential"&&s.valueSpec.expression&&!Dc(s.valueSpec)&&G.push(new rt(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(D&&!$s(s.valueSpec)?G.push(new rt(s.key,s.value,"property functions not supported")):k&&!Mc(s.valueSpec)&&G.push(new rt(s.key,s.value,"zoom functions not supported"))),c!=="categorical"&&!$||s.value.property!==void 0||G.push(new rt(s.key,s.value,'"property" property is required')),G;function X(ie){let ae=[];const be=ie.value,_e=ie.key;if(Fn(be)!=="array")return[new rt(_e,be,`array expected, ${Fn(be)} found`)];if(be.length!==2)return[new rt(_e,be,`array length 2 expected, length ${be.length} found`)];if($){if(Fn(be[0])!=="object")return[new rt(_e,be,`object expected, ${Fn(be[0])} found`)];if(be[0].zoom===void 0)return[new rt(_e,be,"object stop key must have zoom")];if(be[0].value===void 0)return[new rt(_e,be,"object stop key must have value")];if(b&&b>tn(be[0].zoom))return[new rt(_e,be[0].zoom,"stop zoom values must appear in ascending order")];tn(be[0].zoom)!==b&&(b=tn(be[0].zoom),x=void 0,E={}),ae=ae.concat(to({key:`${_e}[0]`,value:be[0],valueSpec:{zoom:{}},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,objectElementValidators:{zoom:yi,value:re}}))}else ae=ae.concat(re({key:`${_e}[0]`,value:be[0],valueSpec:{},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec},be));return _u(Zn(be[1]))?ae.concat([new rt(`${_e}[1]`,be[1],"expressions are not allowed in function stops.")]):ae.concat(ie.validateSpec({key:`${_e}[1]`,value:be[1],valueSpec:o,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec}))}function re(ie,ae){const be=Fn(ie.value),_e=tn(ie.value),Le=ie.value!==null?ie.value:ae;if(p){if(be!==p)return[new rt(ie.key,Le,`${be} stop domain type must match previous stop domain type ${p}`)]}else p=be;if(be!=="number"&&be!=="string"&&be!=="boolean")return[new rt(ie.key,Le,"stop domain value must be a number, string, or boolean")];if(be!=="number"&&c!=="categorical"){let Ue=`number expected, ${be} found`;return $s(o)&&c===void 0&&(Ue+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new rt(ie.key,Le,Ue)]}return c!=="categorical"||be!=="number"||isFinite(_e)&&Math.floor(_e)===_e?c!=="categorical"&&be==="number"&&x!==void 0&&_e<x?[new rt(ie.key,Le,"stop domain values must appear in ascending order")]:(x=_e,c==="categorical"&&_e in E?[new rt(ie.key,Le,"stop domain values must be unique")]:(E[_e]=!0,[])):[new rt(ie.key,Le,`integer expected, found ${_e}`)]}}function us(s){const o=(s.expressionContext==="property"?Bc:qs)(Zn(s.value),s.valueSpec);if(o.result==="error")return o.value.map(p=>new rt(`${s.key}${p.key}`,s.value,p.message));const c=o.value.expression||o.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&!c.outputDefined())return[new rt(s.key,s.value,`Invalid data expression for "${s.propertyKey}". Output values must be contained as literals within the expression.`)];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!ns(c))return[new rt(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter"&&!ns(c))return[new rt(s.key,s.value,'"feature-state" data expressions are not supported with filters.')];if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!Yi(c,["zoom","feature-state"]))return[new rt(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!El(c))return[new rt(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bu(s){const o=s.key,c=s.value,p=s.valueSpec,x=[];return Array.isArray(p.values)?p.values.indexOf(tn(c))===-1&&x.push(new rt(o,c,`expected one of [${p.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(p.values).indexOf(tn(c))===-1&&x.push(new rt(o,c,`expected one of [${Object.keys(p.values).join(", ")}], ${JSON.stringify(c)} found`)),x}function Ll(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&(typeof s[1]!="string"||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(const o of s.slice(1))if(!Ll(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}const Bh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Vc(s){if(s==null)return{filter:()=>!0,needGeometry:!1};Ll(s)||(s=wu(s));const o=qs(s,Bh);if(o.result==="error")throw new Error(o.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,p,x)=>o.value.evaluate(c,p,{},x),needGeometry:pr(s)}}function $c(s,o){return s<o?-1:s>o?1:0}function pr(s){if(!Array.isArray(s))return!1;if(s[0]==="within")return!0;for(let o=1;o<s.length;o++)if(pr(s[o]))return!0;return!1}function wu(s){if(!s)return!0;const o=s[0];return s.length<=1?o!=="any":o==="=="?mn(s[1],s[2],"=="):o==="!="?gn(mn(s[1],s[2],"==")):o==="<"||o===">"||o==="<="||o===">="?mn(s[1],s[2],o):o==="any"?(c=s.slice(1),["any"].concat(c.map(wu))):o==="all"?["all"].concat(s.slice(1).map(wu)):o==="none"?["all"].concat(s.slice(1).map(wu).map(gn)):o==="in"?Rl(s[1],s.slice(2)):o==="!in"?gn(Rl(s[1],s.slice(2))):o==="has"?lr(s[1]):o==="!has"?gn(lr(s[1])):o!=="within"||s;var c}function mn(s,o,c){switch(s){case"$type":return[`filter-type-${c}`,o];case"$id":return[`filter-id-${c}`,o];default:return[`filter-${c}`,s,o]}}function Rl(s,o){if(o.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(c=>typeof c!=typeof o[0])?["filter-in-large",s,["literal",o.sort($c)]]:["filter-in-small",s,["literal",o]]}}function lr(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function gn(s){return["!",s]}function yo(s){return Ll(Zn(s.value))?us(xn({},s,{expressionContext:"filter",valueSpec:{value:"boolean"}})):jc(s)}function jc(s){const o=s.value,c=s.key;if(Fn(o)!=="array")return[new rt(c,o,`array expected, ${Fn(o)} found`)];const p=s.styleSpec;let x,b=[];if(o.length<1)return[new rt(c,o,"filter array must have at least 1 element")];switch(b=b.concat(bu({key:`${c}[0]`,value:o[0],valueSpec:p.filter_operator,style:s.style,styleSpec:s.styleSpec})),tn(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&tn(o[1])==="$type"&&b.push(new rt(c,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":o.length!==3&&b.push(new rt(c,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(x=Fn(o[1]),x!=="string"&&b.push(new rt(`${c}[1]`,o[1],`string expected, ${x} found`)));for(let E=2;E<o.length;E++)x=Fn(o[E]),tn(o[1])==="$type"?b=b.concat(bu({key:`${c}[${E}]`,value:o[E],valueSpec:p.geometry_type,style:s.style,styleSpec:s.styleSpec})):x!=="string"&&x!=="number"&&x!=="boolean"&&b.push(new rt(`${c}[${E}]`,o[E],`string, number, or boolean expected, ${x} found`));break;case"any":case"all":case"none":for(let E=1;E<o.length;E++)b=b.concat(jc({key:`${c}[${E}]`,value:o[E],style:s.style,styleSpec:s.styleSpec}));break;case"has":case"!has":x=Fn(o[1]),o.length!==2?b.push(new rt(c,o,`filter array for "${o[0]}" operator must have 2 elements`)):x!=="string"&&b.push(new rt(`${c}[1]`,o[1],`string expected, ${x} found`));break;case"within":x=Fn(o[1]),o.length!==2?b.push(new rt(c,o,`filter array for "${o[0]}" operator must have 2 elements`)):x!=="object"&&b.push(new rt(`${c}[1]`,o[1],`object expected, ${x} found`))}return b}function Uo(s,o){const c=s.key,p=s.validateSpec,x=s.style,b=s.styleSpec,E=s.value,k=s.objectKey,D=b[`${o}_${s.layerType}`];if(!D)return[];const $=k.match(/^(.*)-transition$/);if(o==="paint"&&$&&D[$[1]]&&D[$[1]].transition)return p({key:c,value:E,valueSpec:b.transition,style:x,styleSpec:b});const G=s.valueSpec||D[k];if(!G)return[new rt(c,E,`unknown property "${k}"`)];let X;if(Fn(E)==="string"&&$s(G)&&!G.tokens&&(X=/^{([^}]+)}$/.exec(E)))return[new rt(c,E,`"${k}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(X[1])} }\`.`)];const re=[];return s.layerType==="symbol"&&(k==="text-field"&&x&&!x.glyphs&&re.push(new rt(c,E,'use of "text-field" requires a style "glyphs" property')),k==="text-font"&&js(Zn(E))&&tn(E.type)==="identity"&&re.push(new rt(c,E,'"text-font" does not support identity functions'))),re.concat(p({key:s.key,value:E,valueSpec:G,style:x,styleSpec:b,expressionContext:"property",propertyType:o,propertyKey:k}))}function Uh(s){return Uo(s,"paint")}function cs(s){return Uo(s,"layout")}function Vh(s){let o=[];const c=s.value,p=s.key,x=s.style,b=s.styleSpec;c.type||c.ref||o.push(new rt(p,c,'either "type" or "ref" is required'));let E=tn(c.type);const k=tn(c.ref);if(c.id){const D=tn(c.id);for(let $=0;$<s.arrayIndex;$++){const G=x.layers[$];tn(G.id)===D&&o.push(new rt(p,c.id,`duplicate layer id "${c.id}", previously used at line ${G.id.__line__}`))}}if("ref"in c){let D;["type","source","source-layer","filter","layout"].forEach($=>{$ in c&&o.push(new rt(p,c[$],`"${$}" is prohibited for ref layers`))}),x.layers.forEach($=>{tn($.id)===k&&(D=$)}),D?D.ref?o.push(new rt(p,c.ref,"ref cannot reference another ref layer")):E=tn(D.type):o.push(new rt(p,c.ref,`ref layer "${k}" not found`))}else if(E!=="background")if(c.source){const D=x.sources&&x.sources[c.source],$=D&&tn(D.type);D?$==="vector"&&E==="raster"?o.push(new rt(p,c.source,`layer "${c.id}" requires a raster source`)):$==="raster"&&E!=="raster"?o.push(new rt(p,c.source,`layer "${c.id}" requires a vector source`)):$!=="vector"||c["source-layer"]?$==="raster-dem"&&E!=="hillshade"?o.push(new rt(p,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):E!=="line"||!c.paint||!c.paint["line-gradient"]||$==="geojson"&&D.lineMetrics||o.push(new rt(p,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new rt(p,c,`layer "${c.id}" must specify a "source-layer"`)):o.push(new rt(p,c.source,`source "${c.source}" not found`))}else o.push(new rt(p,c,'missing required property "source"'));return o=o.concat(to({key:p,value:c,valueSpec:b.layer,style:s.style,styleSpec:s.styleSpec,validateSpec:s.validateSpec,objectElementValidators:{"*":()=>[],type:()=>s.validateSpec({key:`${p}.type`,value:c.type,valueSpec:b.layer.type,style:s.style,styleSpec:s.styleSpec,validateSpec:s.validateSpec,object:c,objectKey:"type"}),filter:yo,layout:D=>to({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":$=>cs(xn({layerType:E},$))}}),paint:D=>to({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":$=>Uh(xn({layerType:E},$))}})}})),o}function no(s){const o=s.value,c=s.key,p=Fn(o);return p!=="string"?[new rt(c,o,`string expected, ${p} found`)]:[]}const Su={promoteId:function({key:s,value:o}){if(Fn(o)==="string")return no({key:s,value:o});{const c=[];for(const p in o)c.push(...no({key:`${s}.${p}`,value:o[p]}));return c}}};function Hs(s){const o=s.value,c=s.key,p=s.styleSpec,x=s.style,b=s.validateSpec;if(!o.type)return[new rt(c,o,'"type" is required')];const E=tn(o.type);let k;switch(E){case"vector":case"raster":case"raster-dem":return k=to({key:c,value:o,valueSpec:p[`source_${E.replace("-","_")}`],style:s.style,styleSpec:p,objectElementValidators:Su,validateSpec:b}),k;case"geojson":if(k=to({key:c,value:o,valueSpec:p.source_geojson,style:x,styleSpec:p,validateSpec:b,objectElementValidators:Su}),o.cluster)for(const D in o.clusterProperties){const[$,G]=o.clusterProperties[D],X=typeof $=="string"?[$,["accumulated"],["get",D]]:$;k.push(...us({key:`${c}.${D}.map`,value:G,validateSpec:b,expressionContext:"cluster-map"})),k.push(...us({key:`${c}.${D}.reduce`,value:X,validateSpec:b,expressionContext:"cluster-reduce"}))}return k;case"video":return to({key:c,value:o,valueSpec:p.source_video,style:x,validateSpec:b,styleSpec:p});case"image":return to({key:c,value:o,valueSpec:p.source_image,style:x,validateSpec:b,styleSpec:p});case"canvas":return[new rt(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return bu({key:`${c}.type`,value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:x,validateSpec:b,styleSpec:p})}}function qc(s){const o=s.value,c=s.styleSpec,p=c.light,x=s.style;let b=[];const E=Fn(o);if(o===void 0)return b;if(E!=="object")return b=b.concat([new rt("light",o,`object expected, ${E} found`)]),b;for(const k in o){const D=k.match(/^(.*)-transition$/);b=b.concat(D&&p[D[1]]&&p[D[1]].transition?s.validateSpec({key:k,value:o[k],valueSpec:c.transition,validateSpec:s.validateSpec,style:x,styleSpec:c}):p[k]?s.validateSpec({key:k,value:o[k],valueSpec:p[k],validateSpec:s.validateSpec,style:x,styleSpec:c}):[new rt(k,o[k],`unknown property "${k}"`)])}return b}function _o(s){const o=s.value,c=s.styleSpec,p=c.terrain,x=s.style;let b=[];const E=Fn(o);if(o===void 0)return b;if(E!=="object")return b=b.concat([new rt("terrain",o,`object expected, ${E} found`)]),b;for(const k in o)b=b.concat(p[k]?s.validateSpec({key:k,value:o[k],valueSpec:p[k],validateSpec:s.validateSpec,style:x,styleSpec:c}):[new rt(k,o[k],`unknown property "${k}"`)]);return b}function Ml(s){let o=[];const c=s.value,p=s.key;if(Array.isArray(c)){const x=[],b=[];for(const E in c)c[E].id&&x.includes(c[E].id)&&o.push(new rt(p,c,`all the sprites' ids must be unique, but ${c[E].id} is duplicated`)),x.push(c[E].id),c[E].url&&b.includes(c[E].url)&&o.push(new rt(p,c,`all the sprites' URLs must be unique, but ${c[E].url} is duplicated`)),b.push(c[E].url),o=o.concat(to({key:`${p}[${E}]`,value:c[E],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:s.validateSpec}));return o}return no({key:p,value:c})}const $h={"*":()=>[],array:Gs,boolean:function(s){const o=s.value,c=s.key,p=Fn(o);return p!=="boolean"?[new rt(c,o,`boolean expected, ${p} found`)]:[]},number:yi,color:function(s){const o=s.key,c=s.value,p=Fn(c);return p!=="string"?[new rt(o,c,`color expected, ${p} found`)]:ot(c)===null?[new rt(o,c,`color expected, "${c}" found`)]:[]},constants:Kt,enum:bu,filter:yo,function:Uc,layer:Vh,object:to,source:Hs,light:qc,terrain:_o,string:no,formatted:function(s){return no(s).length===0?[]:us(s)},resolvedImage:function(s){return no(s).length===0?[]:us(s)},padding:function(s){const o=s.key,c=s.value;if(Fn(c)==="array"){if(c.length<1||c.length>4)return[new rt(o,c,`padding requires 1 to 4 values; ${c.length} values found`)];const p={type:"number"};let x=[];for(let b=0;b<c.length;b++)x=x.concat(s.validateSpec({key:`${o}[${b}]`,value:c[b],validateSpec:s.validateSpec,valueSpec:p}));return x}return yi({key:o,value:c,valueSpec:{}})},sprite:Ml};function hs(s){const o=s.value,c=s.valueSpec,p=s.styleSpec;return s.validateSpec=hs,c.expression&&js(tn(o))?Uc(s):c.expression&&_u(Zn(o))?us(s):c.type&&$h[c.type]?$h[c.type](s):to(xn({},s,{valueSpec:c.type?p[c.type]:c}))}function jh(s){const o=s.value,c=s.key,p=no(s);return p.length||(o.indexOf("{fontstack}")===-1&&p.push(new rt(c,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&p.push(new rt(c,o,'"glyphs" url must include a "{range}" token'))),p}function Hr(s,o=Fe){let c=[];return c=c.concat(hs({key:"",value:s,valueSpec:o.$root,styleSpec:o,style:s,validateSpec:hs,objectElementValidators:{glyphs:jh,"*":()=>[]}})),s.constants&&(c=c.concat(Kt({key:"constants",value:s.constants,style:s,styleSpec:o,validateSpec:hs}))),fs(c)}function ha(s){return function(o){return s({...o,validateSpec:hs})}}function fs(s){return[].concat(s).sort((o,c)=>o.line-c.line)}function fa(s){return function(...o){return fs(s.apply(this,o))}}Hr.source=fa(ha(Hs)),Hr.sprite=fa(ha(Ml)),Hr.glyphs=fa(ha(jh)),Hr.light=fa(ha(qc)),Hr.terrain=fa(ha(_o)),Hr.layer=fa(ha(Vh)),Hr.filter=fa(ha(yo)),Hr.paintProperty=fa(ha(Uh)),Hr.layoutProperty=fa(ha(cs));const _i=Hr,Dl=_i.light,zl=_i.paintProperty,Gc=_i.layoutProperty;function Zs(s,o){let c=!1;if(o&&o.length)for(const p of o)s.fire(new an(new Error(p.message))),c=!0;return c}class Na{constructor(o,c,p){const x=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;const E=new Int32Array(this.arrayBuffer);o=E[0],this.d=(c=E[1])+2*(p=E[2]);for(let D=0;D<this.d*this.d;D++){const $=E[3+D],G=E[3+D+1];x.push($===G?null:E.subarray($,G))}const k=E[3+x.length+1];this.keys=E.subarray(E[3+x.length],k),this.bboxes=E.subarray(k),this.insert=this._insertReadonly}else{this.d=c+2*p;for(let E=0;E<this.d*this.d;E++)x.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=o,this.padding=p,this.scale=c/o,this.uid=0;const b=p/c*o;this.min=-b,this.max=o+b}insert(o,c,p,x,b){this._forEachCell(c,p,x,b,this._insertCell,this.uid++,void 0,void 0),this.keys.push(o),this.bboxes.push(c),this.bboxes.push(p),this.bboxes.push(x),this.bboxes.push(b)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(o,c,p,x,b,E){this.cells[b].push(E)}query(o,c,p,x,b){const E=this.min,k=this.max;if(o<=E&&c<=E&&k<=p&&k<=x&&!b)return Array.prototype.slice.call(this.keys);{const D=[];return this._forEachCell(o,c,p,x,this._queryCell,D,{},b),D}}_queryCell(o,c,p,x,b,E,k,D){const $=this.cells[b];if($!==null){const G=this.keys,X=this.bboxes;for(let re=0;re<$.length;re++){const ie=$[re];if(k[ie]===void 0){const ae=4*ie;(D?D(X[ae+0],X[ae+1],X[ae+2],X[ae+3]):o<=X[ae+2]&&c<=X[ae+3]&&p>=X[ae+0]&&x>=X[ae+1])?(k[ie]=!0,E.push(G[ie])):k[ie]=!1}}}}_forEachCell(o,c,p,x,b,E,k,D){const $=this._convertToCellCoord(o),G=this._convertToCellCoord(c),X=this._convertToCellCoord(p),re=this._convertToCellCoord(x);for(let ie=$;ie<=X;ie++)for(let ae=G;ae<=re;ae++){const be=this.d*ae+ie;if((!D||D(this._convertFromCellCoord(ie),this._convertFromCellCoord(ae),this._convertFromCellCoord(ie+1),this._convertFromCellCoord(ae+1)))&&b.call(this,o,c,p,x,be,E,k,D))return}}_convertFromCellCoord(o){return(o-this.padding)/this.scale}_convertToCellCoord(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const o=this.cells,c=3+this.cells.length+1+1;let p=0;for(let E=0;E<this.cells.length;E++)p+=this.cells[E].length;const x=new Int32Array(c+p+this.keys.length+this.bboxes.length);x[0]=this.extent,x[1]=this.n,x[2]=this.padding;let b=c;for(let E=0;E<o.length;E++){const k=o[E];x[3+E]=b,x.set(k,b),b+=k.length}return x[3+o.length]=b,x.set(this.keys,b),b+=this.keys.length,x[3+o.length+1]=b,x.set(this.bboxes,b),b+=this.bboxes.length,x.buffer}static serialize(o,c){const p=o.toArrayBuffer();return c&&c.push(p),{buffer:p}}static deserialize(o){return new Na(o.buffer)}}const xo={};function bt(s,o,c={}){if(xo[s])throw new Error(`${s} is already registered.`);Object.defineProperty(o,"_classRegistryKey",{value:s,writeable:!1}),xo[s]={klass:o,omit:c.omit||[],shallow:c.shallow||[]}}bt("Object",Object),bt("TransferableGridIndex",Na),bt("Color",Vt),bt("Error",Error),bt("AJAXError",We),bt("ResolvedImage",Hn),bt("StylePropertyFunction",ls),bt("StyleExpression",Fc,{omit:["_evaluator"]}),bt("ZoomDependentExpression",xu),bt("ZoomConstantExpression",Nc),bt("CompoundExpression",$e,{omit:["_evaluate"]});for(const s in pn)pn[s]._classRegistryKey||bt(`Expression_${s}`,pn[s]);function Ba(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function da(s,o){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||s instanceof Blob)return s;if(Ba(s)||Se(s))return o&&o.push(s),s;if(ArrayBuffer.isView(s)){const c=s;return o&&o.push(c.buffer),c}if(s instanceof ImageData)return o&&o.push(s.data.buffer),s;if(Array.isArray(s)){const c=[];for(const p of s)c.push(da(p,o));return c}if(typeof s=="object"){const c=s.constructor,p=c._classRegistryKey;if(!p)throw new Error("can't serialize object of unregistered class");if(!xo[p])throw new Error(`${p} is not registered.`);const x=c.serialize?c.serialize(s,o):{};if(c.serialize){if(o&&x===o[o.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const b in s){if(!s.hasOwnProperty(b)||xo[p].omit.indexOf(b)>=0)continue;const E=s[b];x[b]=xo[p].shallow.indexOf(b)>=0?E:da(E,o)}s instanceof Error&&(x.message=s.message)}if(x.$name)throw new Error("$name property is reserved for worker serialization logic.");return p!=="Object"&&(x.$name=p),x}throw new Error("can't serialize object of type "+typeof s)}function Ua(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||s instanceof Blob||Ba(s)||Se(s)||ArrayBuffer.isView(s)||s instanceof ImageData)return s;if(Array.isArray(s))return s.map(Ua);if(typeof s=="object"){const o=s.$name||"Object";if(!xo[o])throw new Error(`can't deserialize unregistered class ${o}`);const{klass:c}=xo[o];if(!c)throw new Error(`can't deserialize unregistered class ${o}`);if(c.deserialize)return c.deserialize(s);const p=Object.create(c.prototype);for(const x of Object.keys(s)){if(x==="$name")continue;const b=s[x];p[x]=xo[o].shallow.indexOf(x)>=0?b:Ua(b)}return p}throw new Error("can't deserialize object of type "+typeof s)}class qh{constructor(){this.first=!0}update(o,c){const p=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=p,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=p,!0):(this.lastFloorZoom>p?(this.lastIntegerZoom=p+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<p&&(this.lastIntegerZoom=p,this.lastIntegerZoomTime=c),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=p,!0))}}const yt={"Latin-1 Supplement":s=>s>=128&&s<=255,Arabic:s=>s>=1536&&s<=1791,"Arabic Supplement":s=>s>=1872&&s<=1919,"Arabic Extended-A":s=>s>=2208&&s<=2303,"Hangul Jamo":s=>s>=4352&&s<=4607,"Unified Canadian Aboriginal Syllabics":s=>s>=5120&&s<=5759,Khmer:s=>s>=6016&&s<=6143,"Unified Canadian Aboriginal Syllabics Extended":s=>s>=6320&&s<=6399,"General Punctuation":s=>s>=8192&&s<=8303,"Letterlike Symbols":s=>s>=8448&&s<=8527,"Number Forms":s=>s>=8528&&s<=8591,"Miscellaneous Technical":s=>s>=8960&&s<=9215,"Control Pictures":s=>s>=9216&&s<=9279,"Optical Character Recognition":s=>s>=9280&&s<=9311,"Enclosed Alphanumerics":s=>s>=9312&&s<=9471,"Geometric Shapes":s=>s>=9632&&s<=9727,"Miscellaneous Symbols":s=>s>=9728&&s<=9983,"Miscellaneous Symbols and Arrows":s=>s>=11008&&s<=11263,"CJK Radicals Supplement":s=>s>=11904&&s<=12031,"Kangxi Radicals":s=>s>=12032&&s<=12255,"Ideographic Description Characters":s=>s>=12272&&s<=12287,"CJK Symbols and Punctuation":s=>s>=12288&&s<=12351,Hiragana:s=>s>=12352&&s<=12447,Katakana:s=>s>=12448&&s<=12543,Bopomofo:s=>s>=12544&&s<=12591,"Hangul Compatibility Jamo":s=>s>=12592&&s<=12687,Kanbun:s=>s>=12688&&s<=12703,"Bopomofo Extended":s=>s>=12704&&s<=12735,"CJK Strokes":s=>s>=12736&&s<=12783,"Katakana Phonetic Extensions":s=>s>=12784&&s<=12799,"Enclosed CJK Letters and Months":s=>s>=12800&&s<=13055,"CJK Compatibility":s=>s>=13056&&s<=13311,"CJK Unified Ideographs Extension A":s=>s>=13312&&s<=19903,"Yijing Hexagram Symbols":s=>s>=19904&&s<=19967,"CJK Unified Ideographs":s=>s>=19968&&s<=40959,"Yi Syllables":s=>s>=40960&&s<=42127,"Yi Radicals":s=>s>=42128&&s<=42191,"Hangul Jamo Extended-A":s=>s>=43360&&s<=43391,"Hangul Syllables":s=>s>=44032&&s<=55215,"Hangul Jamo Extended-B":s=>s>=55216&&s<=55295,"Private Use Area":s=>s>=57344&&s<=63743,"CJK Compatibility Ideographs":s=>s>=63744&&s<=64255,"Arabic Presentation Forms-A":s=>s>=64336&&s<=65023,"Vertical Forms":s=>s>=65040&&s<=65055,"CJK Compatibility Forms":s=>s>=65072&&s<=65103,"Small Form Variants":s=>s>=65104&&s<=65135,"Arabic Presentation Forms-B":s=>s>=65136&&s<=65279,"Halfwidth and Fullwidth Forms":s=>s>=65280&&s<=65519};function Hc(s){for(const o of s)if(Eu(o.charCodeAt(0)))return!0;return!1}function Gh(s){for(const o of s)if(!Od(o.charCodeAt(0)))return!1;return!0}function Od(s){return!(yt.Arabic(s)||yt["Arabic Supplement"](s)||yt["Arabic Extended-A"](s)||yt["Arabic Presentation Forms-A"](s)||yt["Arabic Presentation Forms-B"](s))}function Eu(s){return!(s!==746&&s!==747&&(s<4352||!(yt["Bopomofo Extended"](s)||yt.Bopomofo(s)||yt["CJK Compatibility Forms"](s)&&!(s>=65097&&s<=65103)||yt["CJK Compatibility Ideographs"](s)||yt["CJK Compatibility"](s)||yt["CJK Radicals Supplement"](s)||yt["CJK Strokes"](s)||!(!yt["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||yt["CJK Unified Ideographs Extension A"](s)||yt["CJK Unified Ideographs"](s)||yt["Enclosed CJK Letters and Months"](s)||yt["Hangul Compatibility Jamo"](s)||yt["Hangul Jamo Extended-A"](s)||yt["Hangul Jamo Extended-B"](s)||yt["Hangul Jamo"](s)||yt["Hangul Syllables"](s)||yt.Hiragana(s)||yt["Ideographic Description Characters"](s)||yt.Kanbun(s)||yt["Kangxi Radicals"](s)||yt["Katakana Phonetic Extensions"](s)||yt.Katakana(s)&&s!==12540||!(!yt["Halfwidth and Fullwidth Forms"](s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!yt["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||yt["Unified Canadian Aboriginal Syllabics"](s)||yt["Unified Canadian Aboriginal Syllabics Extended"](s)||yt["Vertical Forms"](s)||yt["Yijing Hexagram Symbols"](s)||yt["Yi Syllables"](s)||yt["Yi Radicals"](s))))}function Hh(s){return!(Eu(s)||function(o){return!!(yt["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||yt["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||yt["Letterlike Symbols"](o)||yt["Number Forms"](o)||yt["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||yt["Control Pictures"](o)&&o!==9251||yt["Optical Character Recognition"](o)||yt["Enclosed Alphanumerics"](o)||yt["Geometric Shapes"](o)||yt["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||yt["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||yt["CJK Symbols and Punctuation"](o)||yt.Katakana(o)||yt["Private Use Area"](o)||yt["CJK Compatibility Forms"](o)||yt["Small Form Variants"](o)||yt["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(s))}function xi(s){return s>=1424&&s<=2303||yt["Arabic Presentation Forms-A"](s)||yt["Arabic Presentation Forms-B"](s)}function ds(s,o){return!(!o&&xi(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||yt.Khmer(s))}function ro(s){for(const o of s)if(xi(o.charCodeAt(0)))return!0;return!1}const pa="deferred",Zc="loading",Tu="loaded";let Wc=null,Zr="unavailable",Vo=null;const ps=function(s){s&&typeof s=="string"&&s.indexOf("NetworkError")>-1&&(Zr="error"),Wc&&Wc(s)};function Ws(){Cu.fire(new Et("pluginStateChange",{pluginStatus:Zr,pluginURL:Vo}))}const Cu=new Pn,ms=function(){return Zr},$o=function(){if(Zr!==pa||!Vo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Zr=Zc,Ws(),Vo&&mt({url:Vo},s=>{s?ps(s):(Zr=Tu,Ws())})},hi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Zr===Tu||hi.applyArabicShaping!=null,isLoading:()=>Zr===Zc,setState(s){if(!se())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Zr=s.pluginStatus,Vo=s.pluginURL},isParsed(){if(!se())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return hi.applyArabicShaping!=null&&hi.processBidirectionalText!=null&&hi.processStyledBidirectionalText!=null},getPluginURL(){if(!se())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Vo}};class Yn{constructor(o,c){this.zoom=o,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qh,this.transition={})}isSupportedScript(o){return function(c,p){for(const x of c)if(!ds(x.charCodeAt(0),p))return!1;return!0}(o,hi.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const o=this.zoom,c=o-Math.floor(o),p=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*p}:{fromScale:.5,toScale:1,t:1-(1-p)*c}}}class jo{constructor(o,c){this.property=o,this.value=c,this.expression=function(p,x){if(js(p))return new ls(p,x);if(_u(p)){const b=Bc(p,x);if(b.result==="error")throw new Error(b.value.map(E=>`${E.key}: ${E.message}`).join(", "));return b.value}{let b=p;return x.type==="color"&&typeof p=="string"?b=Vt.parse(p):x.type!=="padding"||typeof p!="number"&&!Array.isArray(p)||(b=Yt.parse(p)),{kind:"constant",evaluate:()=>b}}}(c===void 0?o.specification.default:c,o.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(o,c,p){return this.property.possiblyEvaluate(this,o,c,p)}}class Pu{constructor(o){this.property=o,this.value=new jo(o,void 0)}transitioned(o,c){return new Xs(this.property,this.value,c,F({},o.transition,this.transition),o.now)}untransitioned(){return new Xs(this.property,this.value,null,{},0)}}class Ks{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)}getValue(o){return j(this._values[o].value.value)}setValue(o,c){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new Pu(this._values[o].property)),this._values[o].value=new jo(this._values[o].property,c===null?void 0:j(c))}getTransition(o){return j(this._values[o].transition)}setTransition(o,c){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new Pu(this._values[o].property)),this._values[o].transition=j(c)||void 0}serialize(){const o={};for(const c of Object.keys(this._values)){const p=this.getValue(c);p!==void 0&&(o[c]=p);const x=this.getTransition(c);x!==void 0&&(o[`${c}-transition`]=x)}return o}transitioned(o,c){const p=new Fl(this._properties);for(const x of Object.keys(this._values))p._values[x]=this._values[x].transitioned(o,c._values[x]);return p}untransitioned(){const o=new Fl(this._properties);for(const c of Object.keys(this._values))o._values[c]=this._values[c].untransitioned();return o}}class Xs{constructor(o,c,p,x,b){this.property=o,this.value=c,this.begin=b+x.delay||0,this.end=this.begin+x.duration||0,o.specification.transition&&(x.delay||x.duration)&&(this.prior=p)}possiblyEvaluate(o,c,p){const x=o.now||0,b=this.value.possiblyEvaluate(o,c,p),E=this.prior;if(E){if(x>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(x<this.begin)return E.possiblyEvaluate(o,c,p);{const k=(x-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(o,c,p),b,function(D){if(D<=0)return 0;if(D>=1)return 1;const $=D*D,G=$*D;return 4*(D<.5?G:3*(D-$)+G-.75)}(k))}}return b}}class Fl{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,c,p){const x=new Bl(this._properties);for(const b of Object.keys(this._values))x._values[b]=this._values[b].possiblyEvaluate(o,c,p);return x}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class Nl{constructor(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)}getValue(o){return j(this._values[o].value)}setValue(o,c){this._values[o]=new jo(this._values[o].property,c===null?void 0:j(c))}serialize(){const o={};for(const c of Object.keys(this._values)){const p=this.getValue(c);p!==void 0&&(o[c]=p)}return o}possiblyEvaluate(o,c,p){const x=new Bl(this._properties);for(const b of Object.keys(this._values))x._values[b]=this._values[b].possiblyEvaluate(o,c,p);return x}}class bo{constructor(o,c,p){this.property=o,this.value=c,this.parameters=p}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,c,p,x){return this.property.evaluate(this.value,this.parameters,o,c,p,x)}}class Bl{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class Mt{constructor(o){this.specification=o}possiblyEvaluate(o,c){if(o.isDataDriven())throw new Error("Value should not be data driven");return o.expression.evaluate(c)}interpolate(o,c,p){const x=Xn[this.specification.type];return x?x(o,c,p):o}}class Gt{constructor(o,c){this.specification=o,this.overrides=c}possiblyEvaluate(o,c,p,x){return new bo(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(c,null,{},p,x)}:o.expression,c)}interpolate(o,c,p){if(o.value.kind!=="constant"||c.value.kind!=="constant")return o;if(o.value.value===void 0||c.value.value===void 0)return new bo(this,{kind:"constant",value:void 0},o.parameters);const x=Xn[this.specification.type];return x?new bo(this,{kind:"constant",value:x(o.value.value,c.value.value,p)},o.parameters):o}evaluate(o,c,p,x,b,E){return o.kind==="constant"?o.value:o.evaluate(c,p,x,b,E)}}class gs extends Gt{possiblyEvaluate(o,c,p,x){if(o.value===void 0)return new bo(this,{kind:"constant",value:void 0},c);if(o.expression.kind==="constant"){const b=o.expression.evaluate(c,null,{},p,x),E=o.property.specification.type==="resolvedImage"&&typeof b!="string"?b.name:b,k=this._calculate(E,E,E,c);return new bo(this,{kind:"constant",value:k},c)}if(o.expression.kind==="camera"){const b=this._calculate(o.expression.evaluate({zoom:c.zoom-1}),o.expression.evaluate({zoom:c.zoom}),o.expression.evaluate({zoom:c.zoom+1}),c);return new bo(this,{kind:"constant",value:b},c)}return new bo(this,o.expression,c)}evaluate(o,c,p,x,b,E){if(o.kind==="source"){const k=o.evaluate(c,p,x,b,E);return this._calculate(k,k,k,c)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(c.zoom)-1},p,x),o.evaluate({zoom:Math.floor(c.zoom)},p,x),o.evaluate({zoom:Math.floor(c.zoom)+1},p,x),c):o.value}_calculate(o,c,p,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:o,to:c}:{from:p,to:c}}interpolate(o){return o}}class Au{constructor(o){this.specification=o}possiblyEvaluate(o,c,p,x){if(o.value!==void 0){if(o.expression.kind==="constant"){const b=o.expression.evaluate(c,null,{},p,x);return this._calculate(b,b,b,c)}return this._calculate(o.expression.evaluate(new Yn(Math.floor(c.zoom-1),c)),o.expression.evaluate(new Yn(Math.floor(c.zoom),c)),o.expression.evaluate(new Yn(Math.floor(c.zoom+1),c)),c)}}_calculate(o,c,p,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:o,to:c}:{from:p,to:c}}interpolate(o){return o}}class Kc{constructor(o){this.specification=o}possiblyEvaluate(o,c,p,x){return!!o.expression.evaluate(c,null,{},p,x)}interpolate(){return!1}}class fi{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in o){const p=o[c];p.specification.overridable&&this.overridableProperties.push(c);const x=this.defaultPropertyValues[c]=new jo(p,void 0),b=this.defaultTransitionablePropertyValues[c]=new Pu(p);this.defaultTransitioningPropertyValues[c]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=x.possiblyEvaluate({})}}}bt("DataDrivenProperty",Gt),bt("DataConstantProperty",Mt),bt("CrossFadedDataDrivenProperty",gs),bt("CrossFadedProperty",Au),bt("ColorRampProperty",Kc);const Ul="-transition";class wo extends Pn{constructor(o,c){if(super(),this.id=o.id,this.type=o.type,this._featureFilter={filter:()=>!0,needGeometry:!1},o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),c.layout&&(this._unevaluatedLayout=new Nl(c.layout)),c.paint)){this._transitionablePaint=new Ks(c.paint);for(const p in o.paint)this.setPaintProperty(p,o.paint[p],{validate:!1});for(const p in o.layout)this.setLayoutProperty(p,o.layout[p],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Bl(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,c,p={}){c!=null&&this._validate(Gc,`layers.${this.id}.layout.${o}`,o,c,p)||(o!=="visibility"?this._unevaluatedLayout.setValue(o,c):this.visibility=c)}getPaintProperty(o){return o.endsWith(Ul)?this._transitionablePaint.getTransition(o.slice(0,-Ul.length)):this._transitionablePaint.getValue(o)}setPaintProperty(o,c,p={}){if(c!=null&&this._validate(zl,`layers.${this.id}.paint.${o}`,o,c,p))return!1;if(o.endsWith(Ul))return this._transitionablePaint.setTransition(o.slice(0,-Ul.length),c||void 0),!1;{const x=this._transitionablePaint._values[o],b=x.property.specification["property-type"]==="cross-faded-data-driven",E=x.value.isDataDriven(),k=x.value;this._transitionablePaint.setValue(o,c),this._handleSpecialPaintPropertyUpdate(o);const D=this._transitionablePaint._values[o].value;return D.isDataDriven()||E||b||this._handleOverridablePaintPropertyUpdate(o,k,D)}}_handleSpecialPaintPropertyUpdate(o){}_handleOverridablePaintPropertyUpdate(o,c,p){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,c){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,c)}serialize(){const o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),N(o,(c,p)=>!(c===void 0||p==="layout"&&!Object.keys(c).length||p==="paint"&&!Object.keys(c).length))}_validate(o,c,p,x,b={}){return(!b||b.validate!==!1)&&Zs(this,o.call(_i,{key:c,layerType:this.type,objectKey:p,value:x,styleSpec:Fe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const o in this.paint._values){const c=this.paint.get(o);if(c instanceof bo&&$s(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const h={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class g{constructor(o,c){this._structArray=o,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class T{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,c){return o._trim(),c&&(o.isTransferred=!0,c.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const c=Object.create(this.prototype);return c.arrayBuffer=o.arrayBuffer,c.length=o.length,c.capacity=o.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function R(s,o=1){let c=0,p=0;return{members:s.map(x=>{const b=h[x.type].BYTES_PER_ELEMENT,E=c=q(c,Math.max(o,b)),k=x.components||1;return p=Math.max(p,b),c+=b*k,{name:x.name,type:x.type,components:k,offset:E}}),size:q(c,Math.max(p,o)),alignment:o}}function q(s,o){return Math.ceil(s/o)*o}class oe extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c){const p=this.length;return this.resize(p+1),this.emplace(p,o,c)}emplace(o,c,p){const x=2*o;return this.int16[x+0]=c,this.int16[x+1]=p,o}}oe.prototype.bytesPerElement=4,bt("StructArrayLayout2i4",oe);class Te extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p){const x=this.length;return this.resize(x+1),this.emplace(x,o,c,p)}emplace(o,c,p,x){const b=3*o;return this.int16[b+0]=c,this.int16[b+1]=p,this.int16[b+2]=x,o}}Te.prototype.bytesPerElement=6,bt("StructArrayLayout3i6",Te);class ze extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x){const b=this.length;return this.resize(b+1),this.emplace(b,o,c,p,x)}emplace(o,c,p,x,b){const E=4*o;return this.int16[E+0]=c,this.int16[E+1]=p,this.int16[E+2]=x,this.int16[E+3]=b,o}}ze.prototype.bytesPerElement=8,bt("StructArrayLayout4i8",ze);class qe extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,E){const k=this.length;return this.resize(k+1),this.emplace(k,o,c,p,x,b,E)}emplace(o,c,p,x,b,E,k){const D=6*o;return this.int16[D+0]=c,this.int16[D+1]=p,this.int16[D+2]=x,this.int16[D+3]=b,this.int16[D+4]=E,this.int16[D+5]=k,o}}qe.prototype.bytesPerElement=12,bt("StructArrayLayout2i4i12",qe);class at extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,E){const k=this.length;return this.resize(k+1),this.emplace(k,o,c,p,x,b,E)}emplace(o,c,p,x,b,E,k){const D=4*o,$=8*o;return this.int16[D+0]=c,this.int16[D+1]=p,this.uint8[$+4]=x,this.uint8[$+5]=b,this.uint8[$+6]=E,this.uint8[$+7]=k,o}}at.prototype.bytesPerElement=8,bt("StructArrayLayout2i4ub8",at);class Tt extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c){const p=this.length;return this.resize(p+1),this.emplace(p,o,c)}emplace(o,c,p){const x=2*o;return this.float32[x+0]=c,this.float32[x+1]=p,o}}Tt.prototype.bytesPerElement=8,bt("StructArrayLayout2f8",Tt);class Qt extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,E,k,D,$,G){const X=this.length;return this.resize(X+1),this.emplace(X,o,c,p,x,b,E,k,D,$,G)}emplace(o,c,p,x,b,E,k,D,$,G,X){const re=10*o;return this.uint16[re+0]=c,this.uint16[re+1]=p,this.uint16[re+2]=x,this.uint16[re+3]=b,this.uint16[re+4]=E,this.uint16[re+5]=k,this.uint16[re+6]=D,this.uint16[re+7]=$,this.uint16[re+8]=G,this.uint16[re+9]=X,o}}Qt.prototype.bytesPerElement=20,bt("StructArrayLayout10ui20",Qt);class vn extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,E,k,D,$,G,X,re){const ie=this.length;return this.resize(ie+1),this.emplace(ie,o,c,p,x,b,E,k,D,$,G,X,re)}emplace(o,c,p,x,b,E,k,D,$,G,X,re,ie){const ae=12*o;return this.int16[ae+0]=c,this.int16[ae+1]=p,this.int16[ae+2]=x,this.int16[ae+3]=b,this.uint16[ae+4]=E,this.uint16[ae+5]=k,this.uint16[ae+6]=D,this.uint16[ae+7]=$,this.int16[ae+8]=G,this.int16[ae+9]=X,this.int16[ae+10]=re,this.int16[ae+11]=ie,o}}vn.prototype.bytesPerElement=24,bt("StructArrayLayout4i4ui4i24",vn);class di extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p){const x=this.length;return this.resize(x+1),this.emplace(x,o,c,p)}emplace(o,c,p,x){const b=3*o;return this.float32[b+0]=c,this.float32[b+1]=p,this.float32[b+2]=x,o}}di.prototype.bytesPerElement=12,bt("StructArrayLayout3f12",di);class qo extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.uint32[1*o+0]=c,o}}qo.prototype.bytesPerElement=4,bt("StructArrayLayout1ul4",qo);class Ys extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,E,k,D,$){const G=this.length;return this.resize(G+1),this.emplace(G,o,c,p,x,b,E,k,D,$)}emplace(o,c,p,x,b,E,k,D,$,G){const X=10*o,re=5*o;return this.int16[X+0]=c,this.int16[X+1]=p,this.int16[X+2]=x,this.int16[X+3]=b,this.int16[X+4]=E,this.int16[X+5]=k,this.uint32[re+3]=D,this.uint16[X+8]=$,this.uint16[X+9]=G,o}}Ys.prototype.bytesPerElement=20,bt("StructArrayLayout6i1ul2ui20",Ys);class Go extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,E){const k=this.length;return this.resize(k+1),this.emplace(k,o,c,p,x,b,E)}emplace(o,c,p,x,b,E,k){const D=6*o;return this.int16[D+0]=c,this.int16[D+1]=p,this.int16[D+2]=x,this.int16[D+3]=b,this.int16[D+4]=E,this.int16[D+5]=k,o}}Go.prototype.bytesPerElement=12,bt("StructArrayLayout2i2i2i12",Go);class Vl extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b){const E=this.length;return this.resize(E+1),this.emplace(E,o,c,p,x,b)}emplace(o,c,p,x,b,E){const k=4*o,D=8*o;return this.float32[k+0]=c,this.float32[k+1]=p,this.float32[k+2]=x,this.int16[D+6]=b,this.int16[D+7]=E,o}}Vl.prototype.bytesPerElement=16,bt("StructArrayLayout2f1f2i16",Vl);class Xc extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p,x){const b=this.length;return this.resize(b+1),this.emplace(b,o,c,p,x)}emplace(o,c,p,x,b){const E=12*o,k=3*o;return this.uint8[E+0]=c,this.uint8[E+1]=p,this.float32[k+1]=x,this.float32[k+2]=b,o}}Xc.prototype.bytesPerElement=12,bt("StructArrayLayout2ub2f12",Xc);class Iu extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p){const x=this.length;return this.resize(x+1),this.emplace(x,o,c,p)}emplace(o,c,p,x){const b=3*o;return this.uint16[b+0]=c,this.uint16[b+1]=p,this.uint16[b+2]=x,o}}Iu.prototype.bytesPerElement=6,bt("StructArrayLayout3ui6",Iu);class Yc extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,E,k,D,$,G,X,re,ie,ae,be,_e,Le){const Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,o,c,p,x,b,E,k,D,$,G,X,re,ie,ae,be,_e,Le)}emplace(o,c,p,x,b,E,k,D,$,G,X,re,ie,ae,be,_e,Le,Ue){const Ie=24*o,Ne=12*o,nt=48*o;return this.int16[Ie+0]=c,this.int16[Ie+1]=p,this.uint16[Ie+2]=x,this.uint16[Ie+3]=b,this.uint32[Ne+2]=E,this.uint32[Ne+3]=k,this.uint32[Ne+4]=D,this.uint16[Ie+10]=$,this.uint16[Ie+11]=G,this.uint16[Ie+12]=X,this.float32[Ne+7]=re,this.float32[Ne+8]=ie,this.uint8[nt+36]=ae,this.uint8[nt+37]=be,this.uint8[nt+38]=_e,this.uint32[Ne+10]=Le,this.int16[Ie+22]=Ue,o}}Yc.prototype.bytesPerElement=48,bt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Yc);class ma extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p,x,b,E,k,D,$,G,X,re,ie,ae,be,_e,Le,Ue,Ie,Ne,nt,Qe,Rt,Ft,wt,_t,vt,St){const xt=this.length;return this.resize(xt+1),this.emplace(xt,o,c,p,x,b,E,k,D,$,G,X,re,ie,ae,be,_e,Le,Ue,Ie,Ne,nt,Qe,Rt,Ft,wt,_t,vt,St)}emplace(o,c,p,x,b,E,k,D,$,G,X,re,ie,ae,be,_e,Le,Ue,Ie,Ne,nt,Qe,Rt,Ft,wt,_t,vt,St,xt){const lt=34*o,jt=17*o;return this.int16[lt+0]=c,this.int16[lt+1]=p,this.int16[lt+2]=x,this.int16[lt+3]=b,this.int16[lt+4]=E,this.int16[lt+5]=k,this.int16[lt+6]=D,this.int16[lt+7]=$,this.uint16[lt+8]=G,this.uint16[lt+9]=X,this.uint16[lt+10]=re,this.uint16[lt+11]=ie,this.uint16[lt+12]=ae,this.uint16[lt+13]=be,this.uint16[lt+14]=_e,this.uint16[lt+15]=Le,this.uint16[lt+16]=Ue,this.uint16[lt+17]=Ie,this.uint16[lt+18]=Ne,this.uint16[lt+19]=nt,this.uint16[lt+20]=Qe,this.uint16[lt+21]=Rt,this.uint16[lt+22]=Ft,this.uint32[jt+12]=wt,this.float32[jt+13]=_t,this.float32[jt+14]=vt,this.float32[jt+15]=St,this.float32[jt+16]=xt,o}}ma.prototype.bytesPerElement=68,bt("StructArrayLayout8i15ui1ul4f68",ma);class ku extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.float32[1*o+0]=c,o}}ku.prototype.bytesPerElement=4,bt("StructArrayLayout1f4",ku);class Ou extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,p){const x=this.length;return this.resize(x+1),this.emplace(x,o,c,p)}emplace(o,c,p,x){const b=4*o;return this.uint32[2*o+0]=c,this.uint16[b+2]=p,this.uint16[b+3]=x,o}}Ou.prototype.bytesPerElement=8,bt("StructArrayLayout1ul2ui8",Ou);class Cr extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c){const p=this.length;return this.resize(p+1),this.emplace(p,o,c)}emplace(o,c,p){const x=2*o;return this.uint16[x+0]=c,this.uint16[x+1]=p,o}}Cr.prototype.bytesPerElement=4,bt("StructArrayLayout2ui4",Cr);class vs extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.uint16[1*o+0]=c,o}}vs.prototype.bytesPerElement=2,bt("StructArrayLayout1ui2",vs);class Qc extends T{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,p,x){const b=this.length;return this.resize(b+1),this.emplace(b,o,c,p,x)}emplace(o,c,p,x,b){const E=4*o;return this.float32[E+0]=c,this.float32[E+1]=p,this.float32[E+2]=x,this.float32[E+3]=b,o}}Qc.prototype.bytesPerElement=16,bt("StructArrayLayout4f16",Qc);class Zh extends g{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Ge(this.anchorPointX,this.anchorPointY)}}Zh.prototype.size=20;class Jc extends Ys{get(o){return new Zh(this,o)}}bt("CollisionBoxArray",Jc);class Qs extends g{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(o){this._structArray.uint8[this._pos1+37]=o}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(o){this._structArray.uint8[this._pos1+38]=o}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(o){this._structArray.uint32[this._pos4+10]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Qs.prototype.size=48;class Lu extends Yc{get(o){return new Qs(this,o)}}bt("PlacedSymbolArray",Lu);class Ru extends g{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(o){this._structArray.uint32[this._pos4+12]=o}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Ru.prototype.size=68;class Wm extends ma{get(o){return new Ru(this,o)}}bt("SymbolInstanceArray",Wm);class $l extends ku{getoffsetX(o){return this.float32[1*o+0]}}bt("GlyphOffsetArray",$l);class eh extends Te{getx(o){return this.int16[3*o+0]}gety(o){return this.int16[3*o+1]}gettileUnitDistanceFromAnchor(o){return this.int16[3*o+2]}}bt("SymbolLineVertexArray",eh);class Mu extends g{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Mu.prototype.size=8;class Km extends Ou{get(o){return new Mu(this,o)}}bt("FeatureIndexArray",Km);class Ld extends oe{}class th extends oe{}class c0 extends oe{}class h0 extends qe{}class Xm extends at{}class f0 extends Tt{}class Js extends Qt{}class v extends vn{}class a extends di{}class f extends qo{}class m extends Go{}class _ extends Xc{}class S extends Iu{}class A extends Cr{}const M=R([{name:"a_pos",components:2,type:"Int16"}],4),{members:z}=M;class B{constructor(o=[]){this.segments=o}prepareSegment(o,c,p,x){let b=this.segments[this.segments.length-1];return o>B.MAX_VERTEX_ARRAY_LENGTH&&ee(`Max vertices per segment is ${B.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!b||b.vertexLength+o>B.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==x)&&(b={vertexOffset:c.length,primitiveOffset:p.length,vertexLength:0,primitiveLength:0},x!==void 0&&(b.sortKey=x),this.segments.push(b)),b}get(){return this.segments}destroy(){for(const o of this.segments)for(const c in o.vaos)o.vaos[c].destroy()}static simpleSegment(o,c,p,x){return new B([{vertexOffset:o,primitiveOffset:c,vertexLength:p,primitiveLength:x,vaos:{},sortKey:0}])}}function K(s,o){return 256*(s=O(Math.floor(s),0,255))+O(Math.floor(o),0,255)}B.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bt("SegmentVector",B);const H=R([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ne={},de={get exports(){return ne},set exports(s){ne=s}},pe={};({get exports(){return pe},set exports(s){pe=s}}).exports=function(s,o){var c,p,x,b,E,k,D,$;for(p=s.length-(c=3&s.length),x=o,E=3432918353,k=461845907,$=0;$<p;)D=255&s.charCodeAt($)|(255&s.charCodeAt(++$))<<8|(255&s.charCodeAt(++$))<<16|(255&s.charCodeAt(++$))<<24,++$,x=27492+(65535&(b=5*(65535&(x=(x^=D=(65535&(D=(D=(65535&D)*E+(((D>>>16)*E&65535)<<16)&4294967295)<<15|D>>>17))*k+(((D>>>16)*k&65535)<<16)&4294967295)<<13|x>>>19))+((5*(x>>>16)&65535)<<16)&4294967295))+((58964+(b>>>16)&65535)<<16);switch(D=0,c){case 3:D^=(255&s.charCodeAt($+2))<<16;case 2:D^=(255&s.charCodeAt($+1))<<8;case 1:x^=D=(65535&(D=(D=(65535&(D^=255&s.charCodeAt($)))*E+(((D>>>16)*E&65535)<<16)&4294967295)<<15|D>>>17))*k+(((D>>>16)*k&65535)<<16)&4294967295}return x^=s.length,x=2246822507*(65535&(x^=x>>>16))+((2246822507*(x>>>16)&65535)<<16)&4294967295,x=3266489909*(65535&(x^=x>>>13))+((3266489909*(x>>>16)&65535)<<16)&4294967295,(x^=x>>>16)>>>0};var fe={};({get exports(){return fe},set exports(s){fe=s}}).exports=function(s,o){for(var c,p=s.length,x=o^p,b=0;p>=4;)c=1540483477*(65535&(c=255&s.charCodeAt(b)|(255&s.charCodeAt(++b))<<8|(255&s.charCodeAt(++b))<<16|(255&s.charCodeAt(++b))<<24))+((1540483477*(c>>>16)&65535)<<16),x=1540483477*(65535&x)+((1540483477*(x>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),p-=4,++b;switch(p){case 3:x^=(255&s.charCodeAt(b+2))<<16;case 2:x^=(255&s.charCodeAt(b+1))<<8;case 1:x=1540483477*(65535&(x^=255&s.charCodeAt(b)))+((1540483477*(x>>>16)&65535)<<16)}return x=1540483477*(65535&(x^=x>>>13))+((1540483477*(x>>>16)&65535)<<16),(x^=x>>>15)>>>0};var we=pe,ke=fe;de.exports=we,ne.murmur3=we,ne.murmur2=ke;class Ae{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,c,p,x){this.ids.push(ye(o)),this.positions.push(c,p,x)}getPositions(o){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=ye(o);let p=0,x=this.ids.length-1;for(;p<x;){const E=p+x>>1;this.ids[E]>=c?x=E:p=E+1}const b=[];for(;this.ids[p]===c;)b.push({index:this.positions[3*p],start:this.positions[3*p+1],end:this.positions[3*p+2]}),p++;return b}static serialize(o,c){const p=new Float64Array(o.ids),x=new Uint32Array(o.positions);return Re(p,x,0,p.length-1),c&&c.push(p.buffer,x.buffer),{ids:p,positions:x}}static deserialize(o){const c=new Ae;return c.ids=o.ids,c.positions=o.positions,c.indexed=!0,c}}function ye(s){const o=+s;return!isNaN(o)&&o<=Number.MAX_SAFE_INTEGER?o:ne(String(s))}function Re(s,o,c,p){for(;c<p;){const x=s[c+p>>1];let b=c-1,E=p+1;for(;;){do b++;while(s[b]<x);do E--;while(s[E]>x);if(b>=E)break;Ve(s,b,E),Ve(o,3*b,3*E),Ve(o,3*b+1,3*E+1),Ve(o,3*b+2,3*E+2)}E-c<p-E?(Re(s,o,c,E),c=E+1):(Re(s,o,E+1,p),p=E)}}function Ve(s,o,c){const p=s[o];s[o]=s[c],s[c]=p}bt("FeaturePositionMap",Ae);class je{constructor(o,c){this.gl=o.gl,this.location=c}}class Ke extends je{constructor(o,c){super(o,c),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))}}class Ye extends je{constructor(o,c){super(o,c),this.current=[0,0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))}}class st extends je{constructor(o,c){super(o,c),this.current=Vt.transparent}set(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))}}const it=new Float32Array(16);function ft(s){return[K(255*s.r,255*s.g),K(255*s.b,255*s.a)]}class It{constructor(o,c,p){this.value=o,this.uniformNames=c.map(x=>`u_${x}`),this.type=p}setUniform(o,c,p){o.set(p.constantOr(this.value))}getBinding(o,c,p){return this.type==="color"?new st(o,c):new Ke(o,c)}}class Xt{constructor(o,c){this.uniformNames=c.map(p=>`u_${p}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(o,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=o.tlbr}setUniform(o,c,p,x){const b=x==="u_pattern_to"?this.patternTo:x==="u_pattern_from"?this.patternFrom:x==="u_pixel_ratio_to"?this.pixelRatioTo:x==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&o.set(b)}getBinding(o,c,p){return p.substr(0,9)==="u_pattern"?new Ye(o,c):new Ke(o,c)}}class Jt{constructor(o,c,p,x){this.expression=o,this.type=p,this.maxValue=0,this.paintVertexAttributes=c.map(b=>({name:`a_${b}`,type:"Float32",components:p==="color"?2:1,offset:0})),this.paintVertexArray=new x}populatePaintArray(o,c,p,x,b){const E=this.paintVertexArray.length,k=this.expression.evaluate(new Yn(0),c,{},x,[],b);this.paintVertexArray.resize(o),this._setPaintValue(E,o,k)}updatePaintArray(o,c,p,x){const b=this.expression.evaluate({zoom:0},p,x);this._setPaintValue(o,c,b)}_setPaintValue(o,c,p){if(this.type==="color"){const x=ft(p);for(let b=o;b<c;b++)this.paintVertexArray.emplace(b,x[0],x[1])}else{for(let x=o;x<c;x++)this.paintVertexArray.emplace(x,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Lt{constructor(o,c,p,x,b,E){this.expression=o,this.uniformNames=c.map(k=>`u_${k}_t`),this.type=p,this.useIntegerZoom=x,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=c.map(k=>({name:`a_${k}`,type:"Float32",components:p==="color"?4:2,offset:0})),this.paintVertexArray=new E}populatePaintArray(o,c,p,x,b){const E=this.expression.evaluate(new Yn(this.zoom),c,{},x,[],b),k=this.expression.evaluate(new Yn(this.zoom+1),c,{},x,[],b),D=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(D,o,E,k)}updatePaintArray(o,c,p,x){const b=this.expression.evaluate({zoom:this.zoom},p,x),E=this.expression.evaluate({zoom:this.zoom+1},p,x);this._setPaintValue(o,c,b,E)}_setPaintValue(o,c,p,x){if(this.type==="color"){const b=ft(p),E=ft(x);for(let k=o;k<c;k++)this.paintVertexArray.emplace(k,b[0],b[1],E[0],E[1])}else{for(let b=o;b<c;b++)this.paintVertexArray.emplace(b,p,x);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(x))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,c){const p=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,x=O(this.expression.interpolationFactor(p,this.zoom,this.zoom+1),0,1);o.set(x)}getBinding(o,c,p){return new Ke(o,c)}}class Nn{constructor(o,c,p,x,b,E){this.expression=o,this.type=c,this.useIntegerZoom=p,this.zoom=x,this.layerId=E,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b}populatePaintArray(o,c,p){const x=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(x,o,c.patterns&&c.patterns[this.layerId],p)}updatePaintArray(o,c,p,x,b){this._setPaintValues(o,c,p.patterns&&p.patterns[this.layerId],b)}_setPaintValues(o,c,p,x){if(!x||!p)return;const{min:b,mid:E,max:k}=p,D=x[b],$=x[E],G=x[k];if(D&&$&&G)for(let X=o;X<c;X++)this.zoomInPaintVertexArray.emplace(X,$.tl[0],$.tl[1],$.br[0],$.br[1],D.tl[0],D.tl[1],D.br[0],D.br[1],$.pixelRatio,D.pixelRatio),this.zoomOutPaintVertexArray.emplace(X,$.tl[0],$.tl[1],$.br[0],$.br[1],G.tl[0],G.tl[1],G.br[0],G.br[1],$.pixelRatio,G.pixelRatio)}upload(o){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,H.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,H.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Bn{constructor(o,c,p){this.binders={},this._buffers=[];const x=[];for(const b in o.paint._values){if(!p(b))continue;const E=o.paint.get(b);if(!(E instanceof bo&&$s(E.property.specification)))continue;const k=kn(b,o.type),D=E.value,$=E.property.specification.type,G=E.property.useIntegerZoom,X=E.property.specification["property-type"],re=X==="cross-faded"||X==="cross-faded-data-driven";if(D.kind==="constant")this.binders[b]=re?new Xt(D.value,k):new It(D.value,k,$),x.push(`/u_${b}`);else if(D.kind==="source"||re){const ie=Qn(b,$,"source");this.binders[b]=re?new Nn(D,$,G,c,ie,o.id):new Jt(D,k,$,ie),x.push(`/a_${b}`)}else{const ie=Qn(b,$,"composite");this.binders[b]=new Lt(D,k,$,G,c,ie),x.push(`/z_${b}`)}}this.cacheKey=x.sort().join("")}getMaxValue(o){const c=this.binders[o];return c instanceof Jt||c instanceof Lt?c.maxValue:0}populatePaintArrays(o,c,p,x,b){for(const E in this.binders){const k=this.binders[E];(k instanceof Jt||k instanceof Lt||k instanceof Nn)&&k.populatePaintArray(o,c,p,x,b)}}setConstantPatternPositions(o,c){for(const p in this.binders){const x=this.binders[p];x instanceof Xt&&x.setConstantPatternPositions(o,c)}}updatePaintArrays(o,c,p,x,b){let E=!1;for(const k in o){const D=c.getPositions(k);for(const $ of D){const G=p.feature($.index);for(const X in this.binders){const re=this.binders[X];if((re instanceof Jt||re instanceof Lt||re instanceof Nn)&&re.expression.isStateDependent===!0){const ie=x.paint.get(X);re.expression=ie.value,re.updatePaintArray($.start,$.end,G,o[k],b),E=!0}}}}return E}defines(){const o=[];for(const c in this.binders){const p=this.binders[c];(p instanceof It||p instanceof Xt)&&o.push(...p.uniformNames.map(x=>`#define HAS_UNIFORM_${x}`))}return o}getBinderAttributes(){const o=[];for(const c in this.binders){const p=this.binders[c];if(p instanceof Jt||p instanceof Lt)for(let x=0;x<p.paintVertexAttributes.length;x++)o.push(p.paintVertexAttributes[x].name);else if(p instanceof Nn)for(let x=0;x<H.members.length;x++)o.push(H.members[x].name)}return o}getBinderUniforms(){const o=[];for(const c in this.binders){const p=this.binders[c];if(p instanceof It||p instanceof Xt||p instanceof Lt)for(const x of p.uniformNames)o.push(x)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o,c){const p=[];for(const x in this.binders){const b=this.binders[x];if(b instanceof It||b instanceof Xt||b instanceof Lt){for(const E of b.uniformNames)if(c[E]){const k=b.getBinding(o,c[E],E);p.push({name:E,property:x,binding:k})}}}return p}setUniforms(o,c,p,x){for(const{name:b,property:E,binding:k}of c)this.binders[E].setUniform(k,x,p.get(E),b)}updatePaintBuffers(o){this._buffers=[];for(const c in this.binders){const p=this.binders[c];if(o&&p instanceof Nn){const x=o.fromScale===2?p.zoomInPaintVertexBuffer:p.zoomOutPaintVertexBuffer;x&&this._buffers.push(x)}else(p instanceof Jt||p instanceof Lt)&&p.paintVertexBuffer&&this._buffers.push(p.paintVertexBuffer)}}upload(o){for(const c in this.binders){const p=this.binders[c];(p instanceof Jt||p instanceof Lt||p instanceof Nn)&&p.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const c=this.binders[o];(c instanceof Jt||c instanceof Lt||c instanceof Nn)&&c.destroy()}}}class hn{constructor(o,c,p=()=>!0){this.programConfigurations={};for(const x of o)this.programConfigurations[x.id]=new Bn(x,c,p);this.needsUpload=!1,this._featureMap=new Ae,this._bufferOffset=0}populatePaintArrays(o,c,p,x,b,E){for(const k in this.programConfigurations)this.programConfigurations[k].populatePaintArrays(o,c,x,b,E);c.id!==void 0&&this._featureMap.add(c.id,p,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,c,p,x){for(const b of p)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(o,this._featureMap,c,b,x)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}function kn(s,o){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[s]||[s.replace(`${o}-`,"").replace(/-/g,"_")]}function Qn(s,o,c){const p={color:{source:Tt,composite:Qc},number:{source:ku,composite:Tt}},x=function(b){return{"line-pattern":{source:Js,composite:Js},"fill-pattern":{source:Js,composite:Js},"fill-extrusion-pattern":{source:Js,composite:Js}}[b]}(s);return x&&x[c]||p[o][c]}bt("ConstantBinder",It),bt("CrossFadedConstantBinder",Xt),bt("SourceExpressionBinder",Jt),bt("CrossFadedCompositeBinder",Nn),bt("CompositeExpressionBinder",Lt),bt("ProgramConfiguration",Bn,{omit:["_buffers"]}),bt("ProgramConfigurationSet",hn);var Un=8192;const Ho=Math.pow(2,14)-1,Zo=-Ho-1;function bi(s){const o=Un/s.extent,c=s.loadGeometry();for(let p=0;p<c.length;p++){const x=c[p];for(let b=0;b<x.length;b++){const E=x[b],k=Math.round(E.x*o),D=Math.round(E.y*o);E.x=O(k,Zo,Ho),E.y=O(D,Zo,Ho),(k<E.x||k>E.x+1||D<E.y||D>E.y+1)&&ee("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function So(s,o){return{type:s.type,id:s.id,properties:s.properties,geometry:o?bi(s):[]}}function Mi(s,o,c,p,x){s.emplaceBack(2*o+(p+1)/2,2*c+(x+1)/2)}class ga{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(c=>c.id),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new th,this.indexArray=new S,this.segments=new B,this.programConfigurations=new hn(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(o,c,p){const x=this.layers[0],b=[];let E=null,k=!1;x.type==="circle"&&(E=x.layout.get("circle-sort-key"),k=!E.isConstant());for(const{feature:D,id:$,index:G,sourceLayerIndex:X}of o){const re=this.layers[0]._featureFilter.needGeometry,ie=So(D,re);if(!this.layers[0]._featureFilter.filter(new Yn(this.zoom),ie,p))continue;const ae=k?E.evaluate(ie,{},p):void 0,be={id:$,properties:D.properties,type:D.type,sourceLayerIndex:X,index:G,geometry:re?ie.geometry:bi(D),patterns:{},sortKey:ae};b.push(be)}k&&b.sort((D,$)=>D.sortKey-$.sortKey);for(const D of b){const{geometry:$,index:G,sourceLayerIndex:X}=D,re=o[G].feature;this.addFeature(D,$,G,p),c.featureIndex.insert(re,$,G,X,this.index)}}update(o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,z),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,c,p,x){for(const b of c)for(const E of b){const k=E.x,D=E.y;if(k<0||k>=Un||D<0||D>=Un)continue;const $=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),G=$.vertexLength;Mi(this.layoutVertexArray,k,D,-1,-1),Mi(this.layoutVertexArray,k,D,1,-1),Mi(this.layoutVertexArray,k,D,1,1),Mi(this.layoutVertexArray,k,D,-1,1),this.indexArray.emplaceBack(G,G+1,G+2),this.indexArray.emplaceBack(G,G+3,G+2),$.vertexLength+=4,$.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,{},x)}}function el(s,o){for(let c=0;c<s.length;c++)if(va(o,s[c]))return!0;for(let c=0;c<o.length;c++)if(va(s,o[c]))return!0;return!!Vn(s,o)}function Wh(s,o,c){return!!va(s,o)||!!zi(o,s,c)}function Wr(s,o){if(s.length===1)return Va(o,s[0]);for(let c=0;c<o.length;c++){const p=o[c];for(let x=0;x<p.length;x++)if(va(s,p[x]))return!0}for(let c=0;c<s.length;c++)if(Va(o,s[c]))return!0;for(let c=0;c<o.length;c++)if(Vn(s,o[c]))return!0;return!1}function br(s,o,c){if(s.length>1){if(Vn(s,o))return!0;for(let p=0;p<o.length;p++)if(zi(o[p],s,c))return!0}for(let p=0;p<s.length;p++)if(zi(s[p],o,c))return!0;return!1}function Vn(s,o){if(s.length===0||o.length===0)return!1;for(let c=0;c<s.length-1;c++){const p=s[c],x=s[c+1];for(let b=0;b<o.length-1;b++)if(Di(p,x,o[b],o[b+1]))return!0}return!1}function Di(s,o,c,p){return Y(s,c,p)!==Y(o,c,p)&&Y(s,o,c)!==Y(s,o,p)}function zi(s,o,c){const p=c*c;if(o.length===1)return s.distSqr(o[0])<p;for(let x=1;x<o.length;x++)if(wr(s,o[x-1],o[x])<p)return!0;return!1}function wr(s,o,c){const p=o.distSqr(c);if(p===0)return s.distSqr(o);const x=((s.x-o.x)*(c.x-o.x)+(s.y-o.y)*(c.y-o.y))/p;return s.distSqr(x<0?o:x>1?c:c.sub(o)._mult(x)._add(o))}function Va(s,o){let c,p,x,b=!1;for(let E=0;E<s.length;E++){c=s[E];for(let k=0,D=c.length-1;k<c.length;D=k++)p=c[k],x=c[D],p.y>o.y!=x.y>o.y&&o.x<(x.x-p.x)*(o.y-p.y)/(x.y-p.y)+p.x&&(b=!b)}return b}function va(s,o){let c=!1;for(let p=0,x=s.length-1;p<s.length;x=p++){const b=s[p],E=s[x];b.y>o.y!=E.y>o.y&&o.x<(E.x-b.x)*(o.y-b.y)/(E.y-b.y)+b.x&&(c=!c)}return c}function Rd(s,o,c){const p=c[0],x=c[2];if(s.x<p.x&&o.x<p.x||s.x>x.x&&o.x>x.x||s.y<p.y&&o.y<p.y||s.y>x.y&&o.y>x.y)return!1;const b=Y(s,o,c[0]);return b!==Y(s,o,c[1])||b!==Y(s,o,c[2])||b!==Y(s,o,c[3])}function jl(s,o,c){const p=o.paint.get(s).value;return p.kind==="constant"?p.value:c.programConfigurations.get(o.id).getMaxValue(s)}function Kh(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function Xh(s,o,c,p,x){if(!o[0]&&!o[1])return s;const b=Ge.convert(o)._mult(x);c==="viewport"&&b._rotate(-p);const E=[];for(let k=0;k<s.length;k++)E.push(s[k].sub(b));return E}bt("CircleBucket",ga,{omit:["layers"]});const nh=new fi({"circle-sort-key":new Gt(Fe.layout_circle["circle-sort-key"])});var d0={paint:new fi({"circle-radius":new Gt(Fe.paint_circle["circle-radius"]),"circle-color":new Gt(Fe.paint_circle["circle-color"]),"circle-blur":new Gt(Fe.paint_circle["circle-blur"]),"circle-opacity":new Gt(Fe.paint_circle["circle-opacity"]),"circle-translate":new Mt(Fe.paint_circle["circle-translate"]),"circle-translate-anchor":new Mt(Fe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Mt(Fe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Mt(Fe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Gt(Fe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Gt(Fe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Gt(Fe.paint_circle["circle-stroke-opacity"])}),layout:nh},ei=1e-6,tl=typeof Float32Array<"u"?Float32Array:Array;function p0(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function QS(s,o,c){var p=o[0],x=o[1],b=o[2],E=o[3],k=o[4],D=o[5],$=o[6],G=o[7],X=o[8],re=o[9],ie=o[10],ae=o[11],be=o[12],_e=o[13],Le=o[14],Ue=o[15],Ie=c[0],Ne=c[1],nt=c[2],Qe=c[3];return s[0]=Ie*p+Ne*k+nt*X+Qe*be,s[1]=Ie*x+Ne*D+nt*re+Qe*_e,s[2]=Ie*b+Ne*$+nt*ie+Qe*Le,s[3]=Ie*E+Ne*G+nt*ae+Qe*Ue,s[4]=(Ie=c[4])*p+(Ne=c[5])*k+(nt=c[6])*X+(Qe=c[7])*be,s[5]=Ie*x+Ne*D+nt*re+Qe*_e,s[6]=Ie*b+Ne*$+nt*ie+Qe*Le,s[7]=Ie*E+Ne*G+nt*ae+Qe*Ue,s[8]=(Ie=c[8])*p+(Ne=c[9])*k+(nt=c[10])*X+(Qe=c[11])*be,s[9]=Ie*x+Ne*D+nt*re+Qe*_e,s[10]=Ie*b+Ne*$+nt*ie+Qe*Le,s[11]=Ie*E+Ne*G+nt*ae+Qe*Ue,s[12]=(Ie=c[12])*p+(Ne=c[13])*k+(nt=c[14])*X+(Qe=c[15])*be,s[13]=Ie*x+Ne*D+nt*re+Qe*_e,s[14]=Ie*b+Ne*$+nt*ie+Qe*Le,s[15]=Ie*E+Ne*G+nt*ae+Qe*Ue,s}Math.hypot||(Math.hypot=function(){for(var s=0,o=arguments.length;o--;)s+=arguments[o]*arguments[o];return Math.sqrt(s)});var Md,jD=QS;function Ym(s,o,c){var p=o[0],x=o[1],b=o[2],E=o[3];return s[0]=c[0]*p+c[4]*x+c[8]*b+c[12]*E,s[1]=c[1]*p+c[5]*x+c[9]*b+c[13]*E,s[2]=c[2]*p+c[6]*x+c[10]*b+c[14]*E,s[3]=c[3]*p+c[7]*x+c[11]*b+c[15]*E,s}function JS(s,o){const c=Ym([],[s.x,s.y,0,1],o);return new Ge(c[0]/c[3],c[1]/c[3])}Md=new tl(4),tl!=Float32Array&&(Md[0]=0,Md[1]=0,Md[2]=0,Md[3]=0);class eE extends ga{}bt("HeatmapBucket",eE,{omit:["layers"]});var qD={paint:new fi({"heatmap-radius":new Gt(Fe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Gt(Fe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Mt(Fe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Kc(Fe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Mt(Fe.paint_heatmap["heatmap-opacity"])})};function m0(s,{width:o,height:c},p,x){if(x){if(x instanceof Uint8ClampedArray)x=new Uint8Array(x.buffer);else if(x.length!==o*c*p)throw new RangeError(`mismatched image size. expected: ${x.length} but got: ${o*c*p}`)}else x=new Uint8Array(o*c*p);return s.width=o,s.height=c,s.data=x,s}function tE(s,{width:o,height:c},p){if(o===s.width&&c===s.height)return;const x=m0({},{width:o,height:c},p);g0(s,x,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,o),height:Math.min(s.height,c)},p),s.width=o,s.height=c,s.data=x.data}function g0(s,o,c,p,x,b){if(x.width===0||x.height===0)return o;if(x.width>s.width||x.height>s.height||c.x>s.width-x.width||c.y>s.height-x.height)throw new RangeError("out of range source coordinates for image copy");if(x.width>o.width||x.height>o.height||p.x>o.width-x.width||p.y>o.height-x.height)throw new RangeError("out of range destination coordinates for image copy");const E=s.data,k=o.data;if(E===k)throw new Error("srcData equals dstData, so image is already copied");for(let D=0;D<x.height;D++){const $=((c.y+D)*s.width+c.x)*b,G=((p.y+D)*o.width+p.x)*b;for(let X=0;X<x.width*b;X++)k[G+X]=E[$+X]}return o}class Dd{constructor(o,c){m0(this,o,1,c)}resize(o){tE(this,o,1)}clone(){return new Dd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,c,p,x,b){g0(o,c,p,x,b,1)}}class ya{constructor(o,c){m0(this,o,4,c)}resize(o){tE(this,o,4)}replace(o,c){c?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new ya({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,c,p,x,b){g0(o,c,p,x,b,4)}}function nE(s){const o={},c=s.resolution||256,p=s.clips?s.clips.length:1,x=s.image||new ya({width:c,height:p});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const b=(E,k,D)=>{o[s.evaluationKey]=D;const $=s.expression.evaluate(o);x.data[E+k+0]=Math.floor(255*$.r/$.a),x.data[E+k+1]=Math.floor(255*$.g/$.a),x.data[E+k+2]=Math.floor(255*$.b/$.a),x.data[E+k+3]=Math.floor(255*$.a)};if(s.clips)for(let E=0,k=0;E<p;++E,k+=4*c)for(let D=0,$=0;D<c;D++,$+=4){const G=D/(c-1),{start:X,end:re}=s.clips[E];b(k,$,X*(1-G)+re*G)}else for(let E=0,k=0;E<c;E++,k+=4)b(0,k,E/(c-1));return x}bt("AlphaImage",Dd),bt("RGBAImage",ya);var GD={paint:new fi({"hillshade-illumination-direction":new Mt(Fe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Mt(Fe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Mt(Fe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Mt(Fe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Mt(Fe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Mt(Fe.paint_hillshade["hillshade-accent-color"])})};const HD=R([{name:"a_pos",components:2,type:"Int16"}],4),{members:ZD}=HD;var zd={};function Qm(s,o,c){c=c||2;var p,x,b,E,k,D,$,G=o&&o.length,X=G?o[0]*c:s.length,re=rE(s,0,X,c,!0),ie=[];if(!re||re.next===re.prev)return ie;if(G&&(re=function(be,_e,Le,Ue){var Ie,Ne,nt,Qe=[];for(Ie=0,Ne=_e.length;Ie<Ne;Ie++)(nt=rE(be,_e[Ie]*Ue,Ie<Ne-1?_e[Ie+1]*Ue:be.length,Ue,!1))===nt.next&&(nt.steiner=!0),Qe.push(tz(nt));for(Qe.sort(QD),Ie=0;Ie<Qe.length;Ie++)Le=JD(Qe[Ie],Le);return Le}(s,o,re,c)),s.length>80*c){p=b=s[0],x=E=s[1];for(var ae=c;ae<X;ae+=c)(k=s[ae])<p&&(p=k),(D=s[ae+1])<x&&(x=D),k>b&&(b=k),D>E&&(E=D);$=($=Math.max(b-p,E-x))!==0?32767/$:0}return Fd(re,ie,c,p,x,$,0),ie}function rE(s,o,c,p,x){var b,E;if(x===_0(s,o,c,p)>0)for(b=o;b<c;b+=p)E=aE(b,s[b],s[b+1],E);else for(b=c-p;b>=o;b-=p)E=aE(b,s[b],s[b+1],E);return E&&Jm(E,E.next)&&(Bd(E),E=E.next),E}function rh(s,o){if(!s)return s;o||(o=s);var c,p=s;do if(c=!1,p.steiner||!Jm(p,p.next)&&Vr(p.prev,p,p.next)!==0)p=p.next;else{if(Bd(p),(p=o=p.prev)===p.next)break;c=!0}while(c||p!==o);return o}function Fd(s,o,c,p,x,b,E){if(s){!E&&b&&function(G,X,re,ie){var ae=G;do ae.z===0&&(ae.z=v0(ae.x,ae.y,X,re,ie)),ae.prevZ=ae.prev,ae.nextZ=ae.next,ae=ae.next;while(ae!==G);ae.prevZ.nextZ=null,ae.prevZ=null,function(be){var _e,Le,Ue,Ie,Ne,nt,Qe,Rt,Ft=1;do{for(Le=be,be=null,Ne=null,nt=0;Le;){for(nt++,Ue=Le,Qe=0,_e=0;_e<Ft&&(Qe++,Ue=Ue.nextZ);_e++);for(Rt=Ft;Qe>0||Rt>0&&Ue;)Qe!==0&&(Rt===0||!Ue||Le.z<=Ue.z)?(Ie=Le,Le=Le.nextZ,Qe--):(Ie=Ue,Ue=Ue.nextZ,Rt--),Ne?Ne.nextZ=Ie:be=Ie,Ie.prevZ=Ne,Ne=Ie;Le=Ue}Ne.nextZ=null,Ft*=2}while(nt>1)}(ae)}(s,p,x,b);for(var k,D,$=s;s.prev!==s.next;)if(k=s.prev,D=s.next,b?KD(s,p,x,b):WD(s))o.push(k.i/c|0),o.push(s.i/c|0),o.push(D.i/c|0),Bd(s),s=D.next,$=D.next;else if((s=D)===$){E?E===1?Fd(s=XD(rh(s),o,c),o,c,p,x,b,2):E===2&&YD(s,o,c,p,x,b):Fd(rh(s),o,c,p,x,b,1);break}}}function WD(s){var o=s.prev,c=s,p=s.next;if(Vr(o,c,p)>=0)return!1;for(var x=o.x,b=c.x,E=p.x,k=o.y,D=c.y,$=p.y,G=x<b?x<E?x:E:b<E?b:E,X=k<D?k<$?k:$:D<$?D:$,re=x>b?x>E?x:E:b>E?b:E,ie=k>D?k>$?k:$:D>$?D:$,ae=p.next;ae!==o;){if(ae.x>=G&&ae.x<=re&&ae.y>=X&&ae.y<=ie&&Yh(x,k,b,D,E,$,ae.x,ae.y)&&Vr(ae.prev,ae,ae.next)>=0)return!1;ae=ae.next}return!0}function KD(s,o,c,p){var x=s.prev,b=s,E=s.next;if(Vr(x,b,E)>=0)return!1;for(var k=x.x,D=b.x,$=E.x,G=x.y,X=b.y,re=E.y,ie=k<D?k<$?k:$:D<$?D:$,ae=G<X?G<re?G:re:X<re?X:re,be=k>D?k>$?k:$:D>$?D:$,_e=G>X?G>re?G:re:X>re?X:re,Le=v0(ie,ae,o,c,p),Ue=v0(be,_e,o,c,p),Ie=s.prevZ,Ne=s.nextZ;Ie&&Ie.z>=Le&&Ne&&Ne.z<=Ue;){if(Ie.x>=ie&&Ie.x<=be&&Ie.y>=ae&&Ie.y<=_e&&Ie!==x&&Ie!==E&&Yh(k,G,D,X,$,re,Ie.x,Ie.y)&&Vr(Ie.prev,Ie,Ie.next)>=0||(Ie=Ie.prevZ,Ne.x>=ie&&Ne.x<=be&&Ne.y>=ae&&Ne.y<=_e&&Ne!==x&&Ne!==E&&Yh(k,G,D,X,$,re,Ne.x,Ne.y)&&Vr(Ne.prev,Ne,Ne.next)>=0))return!1;Ne=Ne.nextZ}for(;Ie&&Ie.z>=Le;){if(Ie.x>=ie&&Ie.x<=be&&Ie.y>=ae&&Ie.y<=_e&&Ie!==x&&Ie!==E&&Yh(k,G,D,X,$,re,Ie.x,Ie.y)&&Vr(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.prevZ}for(;Ne&&Ne.z<=Ue;){if(Ne.x>=ie&&Ne.x<=be&&Ne.y>=ae&&Ne.y<=_e&&Ne!==x&&Ne!==E&&Yh(k,G,D,X,$,re,Ne.x,Ne.y)&&Vr(Ne.prev,Ne,Ne.next)>=0)return!1;Ne=Ne.nextZ}return!0}function XD(s,o,c){var p=s;do{var x=p.prev,b=p.next.next;!Jm(x,b)&&iE(x,p,p.next,b)&&Nd(x,b)&&Nd(b,x)&&(o.push(x.i/c|0),o.push(p.i/c|0),o.push(b.i/c|0),Bd(p),Bd(p.next),p=s=b),p=p.next}while(p!==s);return rh(p)}function YD(s,o,c,p,x,b){var E=s;do{for(var k=E.next.next;k!==E.prev;){if(E.i!==k.i&&nz(E,k)){var D=oE(E,k);return E=rh(E,E.next),D=rh(D,D.next),Fd(E,o,c,p,x,b,0),void Fd(D,o,c,p,x,b,0)}k=k.next}E=E.next}while(E!==s)}function QD(s,o){return s.x-o.x}function JD(s,o){var c=function(x,b){var E,k=b,D=x.x,$=x.y,G=-1/0;do{if($<=k.y&&$>=k.next.y&&k.next.y!==k.y){var X=k.x+($-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(X<=D&&X>G&&(G=X,E=k.x<k.next.x?k:k.next,X===D))return E}k=k.next}while(k!==b);if(!E)return null;var re,ie=E,ae=E.x,be=E.y,_e=1/0;k=E;do D>=k.x&&k.x>=ae&&D!==k.x&&Yh($<be?D:G,$,ae,be,$<be?G:D,$,k.x,k.y)&&(re=Math.abs($-k.y)/(D-k.x),Nd(k,x)&&(re<_e||re===_e&&(k.x>E.x||k.x===E.x&&ez(E,k)))&&(E=k,_e=re)),k=k.next;while(k!==ie);return E}(s,o);if(!c)return o;var p=oE(c,s);return rh(p,p.next),rh(c,c.next)}function ez(s,o){return Vr(s.prev,s,o.prev)<0&&Vr(o.next,s,s.next)<0}function v0(s,o,c,p,x){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-c)*x|0)|s<<8))|s<<4))|s<<2))|s<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-p)*x|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function tz(s){var o=s,c=s;do(o.x<c.x||o.x===c.x&&o.y<c.y)&&(c=o),o=o.next;while(o!==s);return c}function Yh(s,o,c,p,x,b,E,k){return(x-E)*(o-k)>=(s-E)*(b-k)&&(s-E)*(p-k)>=(c-E)*(o-k)&&(c-E)*(b-k)>=(x-E)*(p-k)}function nz(s,o){return s.next.i!==o.i&&s.prev.i!==o.i&&!function(c,p){var x=c;do{if(x.i!==c.i&&x.next.i!==c.i&&x.i!==p.i&&x.next.i!==p.i&&iE(x,x.next,c,p))return!0;x=x.next}while(x!==c);return!1}(s,o)&&(Nd(s,o)&&Nd(o,s)&&function(c,p){var x=c,b=!1,E=(c.x+p.x)/2,k=(c.y+p.y)/2;do x.y>k!=x.next.y>k&&x.next.y!==x.y&&E<(x.next.x-x.x)*(k-x.y)/(x.next.y-x.y)+x.x&&(b=!b),x=x.next;while(x!==c);return b}(s,o)&&(Vr(s.prev,s,o.prev)||Vr(s,o.prev,o))||Jm(s,o)&&Vr(s.prev,s,s.next)>0&&Vr(o.prev,o,o.next)>0)}function Vr(s,o,c){return(o.y-s.y)*(c.x-o.x)-(o.x-s.x)*(c.y-o.y)}function Jm(s,o){return s.x===o.x&&s.y===o.y}function iE(s,o,c,p){var x=tg(Vr(s,o,c)),b=tg(Vr(s,o,p)),E=tg(Vr(c,p,s)),k=tg(Vr(c,p,o));return x!==b&&E!==k||!(x!==0||!eg(s,c,o))||!(b!==0||!eg(s,p,o))||!(E!==0||!eg(c,s,p))||!(k!==0||!eg(c,o,p))}function eg(s,o,c){return o.x<=Math.max(s.x,c.x)&&o.x>=Math.min(s.x,c.x)&&o.y<=Math.max(s.y,c.y)&&o.y>=Math.min(s.y,c.y)}function tg(s){return s>0?1:s<0?-1:0}function Nd(s,o){return Vr(s.prev,s,s.next)<0?Vr(s,o,s.next)>=0&&Vr(s,s.prev,o)>=0:Vr(s,o,s.prev)<0||Vr(s,s.next,o)<0}function oE(s,o){var c=new y0(s.i,s.x,s.y),p=new y0(o.i,o.x,o.y),x=s.next,b=o.prev;return s.next=o,o.prev=s,c.next=x,x.prev=c,p.next=c,c.prev=p,b.next=p,p.prev=b,p}function aE(s,o,c,p){var x=new y0(s,o,c);return p?(x.next=p.next,x.prev=p,p.next.prev=x,p.next=x):(x.prev=x,x.next=x),x}function Bd(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function y0(s,o,c){this.i=s,this.x=o,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _0(s,o,c,p){for(var x=0,b=o,E=c-p;b<c;b+=p)x+=(s[E]-s[b])*(s[b+1]+s[E+1]),E=b;return x}function rz(s,o,c,p,x){sE(s,o,c||0,p||s.length-1,x||iz)}function sE(s,o,c,p,x){for(;p>c;){if(p-c>600){var b=p-c+1,E=o-c+1,k=Math.log(b),D=.5*Math.exp(2*k/3),$=.5*Math.sqrt(k*D*(b-D)/b)*(E-b/2<0?-1:1);sE(s,o,Math.max(c,Math.floor(o-E*D/b+$)),Math.min(p,Math.floor(o+(b-E)*D/b+$)),x)}var G=s[o],X=c,re=p;for(Ud(s,c,o),x(s[p],G)>0&&Ud(s,c,p);X<re;){for(Ud(s,X,re),X++,re--;x(s[X],G)<0;)X++;for(;x(s[re],G)>0;)re--}x(s[c],G)===0?Ud(s,c,re):Ud(s,++re,p),re<=o&&(c=re+1),o<=re&&(p=re-1)}}function Ud(s,o,c){var p=s[o];s[o]=s[c],s[c]=p}function iz(s,o){return s<o?-1:s>o?1:0}function x0(s,o){const c=s.length;if(c<=1)return[s];const p=[];let x,b;for(let E=0;E<c;E++){const k=J(s[E]);k!==0&&(s[E].area=Math.abs(k),b===void 0&&(b=k<0),b===k<0?(x&&p.push(x),x=[s[E]]):x.push(s[E]))}if(x&&p.push(x),o>1)for(let E=0;E<p.length;E++)p[E].length<=o||(rz(p[E],o,1,p[E].length-1,oz),p[E]=p[E].slice(0,o));return p}function oz(s,o){return o.area-s.area}function b0(s,o,c){const p=c.patternDependencies;let x=!1;for(const b of o){const E=b.paint.get(`${s}-pattern`);E.isConstant()||(x=!0);const k=E.constantOr(null);k&&(x=!0,p[k.to]=!0,p[k.from]=!0)}return x}function w0(s,o,c,p,x){const b=x.patternDependencies;for(const E of o){const k=E.paint.get(`${s}-pattern`).value;if(k.kind!=="constant"){let D=k.evaluate({zoom:p-1},c,{},x.availableImages),$=k.evaluate({zoom:p},c,{},x.availableImages),G=k.evaluate({zoom:p+1},c,{},x.availableImages);D=D&&D.name?D.name:D,$=$&&$.name?$.name:$,G=G&&G.name?G.name:G,b[D]=!0,b[$]=!0,b[G]=!0,c.patterns[E.id]={min:D,mid:$,max:G}}}return c}({get exports(){return zd},set exports(s){zd=s}}).exports=Qm,zd.default=Qm,Qm.deviation=function(s,o,c,p){var x=o&&o.length,b=Math.abs(_0(s,0,x?o[0]*c:s.length,c));if(x)for(var E=0,k=o.length;E<k;E++)b-=Math.abs(_0(s,o[E]*c,E<k-1?o[E+1]*c:s.length,c));var D=0;for(E=0;E<p.length;E+=3){var $=p[E]*c,G=p[E+1]*c,X=p[E+2]*c;D+=Math.abs((s[$]-s[X])*(s[G+1]-s[$+1])-(s[$]-s[G])*(s[X+1]-s[$+1]))}return b===0&&D===0?0:Math.abs((D-b)/b)},Qm.flatten=function(s){for(var o=s[0][0].length,c={vertices:[],holes:[],dimensions:o},p=0,x=0;x<s.length;x++){for(var b=0;b<s[x].length;b++)for(var E=0;E<o;E++)c.vertices.push(s[x][b][E]);x>0&&c.holes.push(p+=s[x-1].length)}return c};class S0{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(c=>c.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new c0,this.indexArray=new S,this.indexArray2=new A,this.programConfigurations=new hn(o.layers,o.zoom),this.segments=new B,this.segments2=new B,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(o,c,p){this.hasPattern=b0("fill",this.layers,c);const x=this.layers[0].layout.get("fill-sort-key"),b=!x.isConstant(),E=[];for(const{feature:k,id:D,index:$,sourceLayerIndex:G}of o){const X=this.layers[0]._featureFilter.needGeometry,re=So(k,X);if(!this.layers[0]._featureFilter.filter(new Yn(this.zoom),re,p))continue;const ie=b?x.evaluate(re,{},p,c.availableImages):void 0,ae={id:D,properties:k.properties,type:k.type,sourceLayerIndex:G,index:$,geometry:X?re.geometry:bi(k),patterns:{},sortKey:ie};E.push(ae)}b&&E.sort((k,D)=>k.sortKey-D.sortKey);for(const k of E){const{geometry:D,index:$,sourceLayerIndex:G}=k;if(this.hasPattern){const X=w0("fill",this.layers,k,this.zoom,c);this.patternFeatures.push(X)}else this.addFeature(k,D,$,p,{});c.featureIndex.insert(o[$].feature,D,$,G,this.index)}}update(o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,p)}addFeatures(o,c,p){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,c,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,ZD),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,c,p,x,b){for(const E of x0(c,500)){let k=0;for(const ie of E)k+=ie.length;const D=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray),$=D.vertexLength,G=[],X=[];for(const ie of E){if(ie.length===0)continue;ie!==E[0]&&X.push(G.length/2);const ae=this.segments2.prepareSegment(ie.length,this.layoutVertexArray,this.indexArray2),be=ae.vertexLength;this.layoutVertexArray.emplaceBack(ie[0].x,ie[0].y),this.indexArray2.emplaceBack(be+ie.length-1,be),G.push(ie[0].x),G.push(ie[0].y);for(let _e=1;_e<ie.length;_e++)this.layoutVertexArray.emplaceBack(ie[_e].x,ie[_e].y),this.indexArray2.emplaceBack(be+_e-1,be+_e),G.push(ie[_e].x),G.push(ie[_e].y);ae.vertexLength+=ie.length,ae.primitiveLength+=ie.length}const re=zd(G,X);for(let ie=0;ie<re.length;ie+=3)this.indexArray.emplaceBack($+re[ie],$+re[ie+1],$+re[ie+2]);D.vertexLength+=k,D.primitiveLength+=re.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,x)}}bt("FillBucket",S0,{omit:["layers","patternFeatures"]});const az=new fi({"fill-sort-key":new Gt(Fe.layout_fill["fill-sort-key"])});var sz={paint:new fi({"fill-antialias":new Mt(Fe.paint_fill["fill-antialias"]),"fill-opacity":new Gt(Fe.paint_fill["fill-opacity"]),"fill-color":new Gt(Fe.paint_fill["fill-color"]),"fill-outline-color":new Gt(Fe.paint_fill["fill-outline-color"]),"fill-translate":new Mt(Fe.paint_fill["fill-translate"]),"fill-translate-anchor":new Mt(Fe.paint_fill["fill-translate-anchor"]),"fill-pattern":new gs(Fe.paint_fill["fill-pattern"])}),layout:az};const lz=R([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),uz=R([{name:"a_centroid",components:2,type:"Int16"}],4),{members:cz}=lz;var Du={},hz=Ge,lE=Qh;function Qh(s,o,c,p,x){this.properties={},this.extent=c,this.type=0,this._pbf=s,this._geometry=-1,this._keys=p,this._values=x,s.readFields(fz,this,o)}function fz(s,o,c){s==1?o.id=c.readVarint():s==2?function(p,x){for(var b=p.readVarint()+p.pos;p.pos<b;){var E=x._keys[p.readVarint()],k=x._values[p.readVarint()];x.properties[E]=k}}(c,o):s==3?o.type=c.readVarint():s==4&&(o._geometry=c.pos)}function dz(s){for(var o,c,p=0,x=0,b=s.length,E=b-1;x<b;E=x++)p+=((c=s[E]).x-(o=s[x]).x)*(o.y+c.y);return p}Qh.types=["Unknown","Point","LineString","Polygon"],Qh.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var o,c=s.readVarint()+s.pos,p=1,x=0,b=0,E=0,k=[];s.pos<c;){if(x<=0){var D=s.readVarint();p=7&D,x=D>>3}if(x--,p===1||p===2)b+=s.readSVarint(),E+=s.readSVarint(),p===1&&(o&&k.push(o),o=[]),o.push(new hz(b,E));else{if(p!==7)throw new Error("unknown command "+p);o&&o.push(o[0].clone())}}return o&&k.push(o),k},Qh.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var o=s.readVarint()+s.pos,c=1,p=0,x=0,b=0,E=1/0,k=-1/0,D=1/0,$=-1/0;s.pos<o;){if(p<=0){var G=s.readVarint();c=7&G,p=G>>3}if(p--,c===1||c===2)(x+=s.readSVarint())<E&&(E=x),x>k&&(k=x),(b+=s.readSVarint())<D&&(D=b),b>$&&($=b);else if(c!==7)throw new Error("unknown command "+c)}return[E,D,k,$]},Qh.prototype.toGeoJSON=function(s,o,c){var p,x,b=this.extent*Math.pow(2,c),E=this.extent*s,k=this.extent*o,D=this.loadGeometry(),$=Qh.types[this.type];function G(ie){for(var ae=0;ae<ie.length;ae++){var be=ie[ae];ie[ae]=[360*(be.x+E)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(be.y+k)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var X=[];for(p=0;p<D.length;p++)X[p]=D[p][0];G(D=X);break;case 2:for(p=0;p<D.length;p++)G(D[p]);break;case 3:for(D=function(ie){var ae=ie.length;if(ae<=1)return[ie];for(var be,_e,Le=[],Ue=0;Ue<ae;Ue++){var Ie=dz(ie[Ue]);Ie!==0&&(_e===void 0&&(_e=Ie<0),_e===Ie<0?(be&&Le.push(be),be=[ie[Ue]]):be.push(ie[Ue]))}return be&&Le.push(be),Le}(D),p=0;p<D.length;p++)for(x=0;x<D[p].length;x++)G(D[p][x])}D.length===1?D=D[0]:$="Multi"+$;var re={type:"Feature",geometry:{type:$,coordinates:D},properties:this.properties};return"id"in this&&(re.id=this.id),re};var pz=lE,uE=cE;function cE(s,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(mz,this,o),this.length=this._features.length}function mz(s,o,c){s===15?o.version=c.readVarint():s===1?o.name=c.readString():s===5?o.extent=c.readVarint():s===2?o._features.push(c.pos):s===3?o._keys.push(c.readString()):s===4&&o._values.push(function(p){for(var x=null,b=p.readVarint()+p.pos;p.pos<b;){var E=p.readVarint()>>3;x=E===1?p.readString():E===2?p.readFloat():E===3?p.readDouble():E===4?p.readVarint64():E===5?p.readVarint():E===6?p.readSVarint():E===7?p.readBoolean():null}return x}(c))}cE.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var o=this._pbf.readVarint()+this._pbf.pos;return new pz(this._pbf,o,this.extent,this._keys,this._values)};var gz=uE;function vz(s,o,c){if(s===3){var p=new gz(c,c.readVarint()+c.pos);p.length&&(o[p.name]=p)}}Du.VectorTile=function(s,o){this.layers=s.readFields(vz,{},o)},Du.VectorTileFeature=lE,Du.VectorTileLayer=uE;const yz=Du.VectorTileFeature.types,E0=Math.pow(2,13);function Vd(s,o,c,p,x,b,E,k){s.emplaceBack(o,c,2*Math.floor(p*E0)+E,x*E0*2,b*E0*2,Math.round(k))}class T0{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(c=>c.id),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new h0,this.centroidVertexArray=new Ld,this.indexArray=new S,this.programConfigurations=new hn(o.layers,o.zoom),this.segments=new B,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(o,c,p){this.features=[],this.hasPattern=b0("fill-extrusion",this.layers,c);for(const{feature:x,id:b,index:E,sourceLayerIndex:k}of o){const D=this.layers[0]._featureFilter.needGeometry,$=So(x,D);if(!this.layers[0]._featureFilter.filter(new Yn(this.zoom),$,p))continue;const G={id:b,sourceLayerIndex:k,index:E,geometry:D?$.geometry:bi(x),properties:x.properties,type:x.type,patterns:{}};this.hasPattern?this.features.push(w0("fill-extrusion",this.layers,G,this.zoom,c)):this.addFeature(G,G.geometry,E,p,{}),c.featureIndex.insert(x,G.geometry,E,k,this.index,!0)}}addFeatures(o,c,p){for(const x of this.features){const{geometry:b}=x;this.addFeature(x,b,x.index,c,p)}}update(o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,p)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,cz),this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,uz.members,!0),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(o,c,p,x,b){const E={x:0,y:0,vertexCount:0};for(const k of x0(c,500)){let D=0;for(const ae of k)D+=ae.length;let $=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ae of k){if(ae.length===0||xz(ae))continue;let be=0;for(let _e=0;_e<ae.length;_e++){const Le=ae[_e];if(_e>=1){const Ue=ae[_e-1];if(!_z(Le,Ue)){$.vertexLength+4>B.MAX_VERTEX_ARRAY_LENGTH&&($=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Ie=Le.sub(Ue)._perp()._unit(),Ne=Ue.dist(Le);be+Ne>32768&&(be=0),Vd(this.layoutVertexArray,Le.x,Le.y,Ie.x,Ie.y,0,0,be),Vd(this.layoutVertexArray,Le.x,Le.y,Ie.x,Ie.y,0,1,be),E.x+=2*Le.x,E.y+=2*Le.y,E.vertexCount+=2,be+=Ne,Vd(this.layoutVertexArray,Ue.x,Ue.y,Ie.x,Ie.y,0,0,be),Vd(this.layoutVertexArray,Ue.x,Ue.y,Ie.x,Ie.y,0,1,be),E.x+=2*Ue.x,E.y+=2*Ue.y,E.vertexCount+=2;const nt=$.vertexLength;this.indexArray.emplaceBack(nt,nt+2,nt+1),this.indexArray.emplaceBack(nt+1,nt+2,nt+3),$.vertexLength+=4,$.primitiveLength+=2}}}}if($.vertexLength+D>B.MAX_VERTEX_ARRAY_LENGTH&&($=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray)),yz[o.type]!=="Polygon")continue;const G=[],X=[],re=$.vertexLength;for(const ae of k)if(ae.length!==0){ae!==k[0]&&X.push(G.length/2);for(let be=0;be<ae.length;be++){const _e=ae[be];Vd(this.layoutVertexArray,_e.x,_e.y,0,0,1,1,0),E.x+=_e.x,E.y+=_e.y,E.vertexCount+=1,G.push(_e.x),G.push(_e.y)}}const ie=zd(G,X);for(let ae=0;ae<ie.length;ae+=3)this.indexArray.emplaceBack(re+ie[ae],re+ie[ae+2],re+ie[ae+1]);$.primitiveLength+=ie.length/3,$.vertexLength+=D}for(let k=0;k<E.vertexCount;k++)this.centroidVertexArray.emplaceBack(Math.floor(E.x/E.vertexCount),Math.floor(E.y/E.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,x)}}function _z(s,o){return s.x===o.x&&(s.x<0||s.x>Un)||s.y===o.y&&(s.y<0||s.y>Un)}function xz(s){return s.every(o=>o.x<0)||s.every(o=>o.x>Un)||s.every(o=>o.y<0)||s.every(o=>o.y>Un)}bt("FillExtrusionBucket",T0,{omit:["layers","features"]});var bz={paint:new fi({"fill-extrusion-opacity":new Mt(Fe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Gt(Fe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Mt(Fe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Mt(Fe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gs(Fe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Gt(Fe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Gt(Fe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Mt(Fe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function $d(s,o){return s.x*o.x+s.y*o.y}function hE(s,o){if(s.length===1){let c=0;const p=o[c++];let x;for(;!x||p.equals(x);)if(x=o[c++],!x)return 1/0;for(;c<o.length;c++){const b=o[c],E=s[0],k=x.sub(p),D=b.sub(p),$=E.sub(p),G=$d(k,k),X=$d(k,D),re=$d(D,D),ie=$d($,k),ae=$d($,D),be=G*re-X*X,_e=(re*ie-X*ae)/be,Le=(G*ae-X*ie)/be,Ue=p.z*(1-_e-Le)+x.z*_e+b.z*Le;if(isFinite(Ue))return Ue}return 1/0}{let c=1/0;for(const p of o)c=Math.min(c,p.z);return c}}const wz=R([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Sz}=wz,Ez=R([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Tz}=Ez,Cz=Du.VectorTileFeature.types,Pz=Math.cos(Math.PI/180*37.5),fE=Math.pow(2,14)/.5;class C0{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(c=>c.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new Xm,this.layoutVertexArray2=new f0,this.indexArray=new S,this.programConfigurations=new hn(o.layers,o.zoom),this.segments=new B,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(o,c,p){this.hasPattern=b0("line",this.layers,c);const x=this.layers[0].layout.get("line-sort-key"),b=!x.isConstant(),E=[];for(const{feature:k,id:D,index:$,sourceLayerIndex:G}of o){const X=this.layers[0]._featureFilter.needGeometry,re=So(k,X);if(!this.layers[0]._featureFilter.filter(new Yn(this.zoom),re,p))continue;const ie=b?x.evaluate(re,{},p):void 0,ae={id:D,properties:k.properties,type:k.type,sourceLayerIndex:G,index:$,geometry:X?re.geometry:bi(k),patterns:{},sortKey:ie};E.push(ae)}b&&E.sort((k,D)=>k.sortKey-D.sortKey);for(const k of E){const{geometry:D,index:$,sourceLayerIndex:G}=k;if(this.hasPattern){const X=w0("line",this.layers,k,this.zoom,c);this.patternFeatures.push(X)}else this.addFeature(k,D,$,p,{});c.featureIndex.insert(o[$].feature,D,$,G,this.index)}}update(o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,p)}addFeatures(o,c,p){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,c,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,Tz)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Sz),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,c,p,x,b){const E=this.layers[0].layout,k=E.get("line-join").evaluate(o,{}),D=E.get("line-cap"),$=E.get("line-miter-limit"),G=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const X of c)this.addLine(X,o,k,D,$,G);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,x)}addLine(o,c,p,x,b,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Le=0;Le<o.length-1;Le++)this.totalDistance+=o[Le].dist(o[Le+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const k=Cz[c.type]==="Polygon";let D=o.length;for(;D>=2&&o[D-1].equals(o[D-2]);)D--;let $=0;for(;$<D-1&&o[$].equals(o[$+1]);)$++;if(D<(k?3:2))return;p==="bevel"&&(b=1.05);const G=this.overscaling<=16?122880/(512*this.overscaling):0,X=this.segments.prepareSegment(10*D,this.layoutVertexArray,this.indexArray);let re,ie,ae,be,_e;this.e1=this.e2=-1,k&&(re=o[D-2],_e=o[$].sub(re)._unit()._perp());for(let Le=$;Le<D;Le++){if(ae=Le===D-1?k?o[$+1]:void 0:o[Le+1],ae&&o[Le].equals(ae))continue;_e&&(be=_e),re&&(ie=re),re=o[Le],_e=ae?ae.sub(re)._unit()._perp():be,be=be||_e;let Ue=be.add(_e);Ue.x===0&&Ue.y===0||Ue._unit();const Ie=be.x*_e.x+be.y*_e.y,Ne=Ue.x*_e.x+Ue.y*_e.y,nt=Ne!==0?1/Ne:1/0,Qe=2*Math.sqrt(2-2*Ne),Rt=Ne<Pz&&ie&&ae,Ft=be.x*_e.y-be.y*_e.x>0;if(Rt&&Le>$){const vt=re.dist(ie);if(vt>2*G){const St=re.sub(re.sub(ie)._mult(G/vt)._round());this.updateDistance(ie,St),this.addCurrentVertex(St,be,0,0,X),ie=St}}const wt=ie&&ae;let _t=wt?p:k?"butt":x;if(wt&&_t==="round"&&(nt<E?_t="miter":nt<=2&&(_t="fakeround")),_t==="miter"&&nt>b&&(_t="bevel"),_t==="bevel"&&(nt>2&&(_t="flipbevel"),nt<b&&(_t="miter")),ie&&this.updateDistance(ie,re),_t==="miter")Ue._mult(nt),this.addCurrentVertex(re,Ue,0,0,X);else if(_t==="flipbevel"){if(nt>100)Ue=_e.mult(-1);else{const vt=nt*be.add(_e).mag()/be.sub(_e).mag();Ue._perp()._mult(vt*(Ft?-1:1))}this.addCurrentVertex(re,Ue,0,0,X),this.addCurrentVertex(re,Ue.mult(-1),0,0,X)}else if(_t==="bevel"||_t==="fakeround"){const vt=-Math.sqrt(nt*nt-1),St=Ft?vt:0,xt=Ft?0:vt;if(ie&&this.addCurrentVertex(re,be,St,xt,X),_t==="fakeround"){const lt=Math.round(180*Qe/Math.PI/20);for(let jt=1;jt<lt;jt++){let Bt=jt/lt;if(Bt!==.5){const mr=Bt-.5;Bt+=Bt*mr*(Bt-1)*((1.0904+Ie*(Ie*(3.55645-1.43519*Ie)-3.2452))*mr*mr+(.848013+Ie*(.215638*Ie-1.06021)))}const yn=_e.sub(be)._mult(Bt)._add(be)._unit()._mult(Ft?-1:1);this.addHalfVertex(re,yn.x,yn.y,!1,Ft,0,X)}}ae&&this.addCurrentVertex(re,_e,-St,-xt,X)}else if(_t==="butt")this.addCurrentVertex(re,Ue,0,0,X);else if(_t==="square"){const vt=ie?1:-1;this.addCurrentVertex(re,Ue,vt,vt,X)}else _t==="round"&&(ie&&(this.addCurrentVertex(re,be,0,0,X),this.addCurrentVertex(re,be,1,1,X,!0)),ae&&(this.addCurrentVertex(re,_e,-1,-1,X,!0),this.addCurrentVertex(re,_e,0,0,X)));if(Rt&&Le<D-1){const vt=re.dist(ae);if(vt>2*G){const St=re.add(ae.sub(re)._mult(G/vt)._round());this.updateDistance(re,St),this.addCurrentVertex(St,_e,0,0,X),re=St}}}}addCurrentVertex(o,c,p,x,b,E=!1){const k=c.y*x-c.x,D=-c.y-c.x*x;this.addHalfVertex(o,c.x+c.y*p,c.y-c.x*p,E,!1,p,b),this.addHalfVertex(o,k,D,E,!0,-x,b),this.distance>fE/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(o,c,p,x,b,E))}addHalfVertex({x:o,y:c},p,x,b,E,k,D){const $=.5*(this.lineClips?this.scaledDistance*(fE-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o<<1)+(b?1:0),(c<<1)+(E?1:0),Math.round(63*p)+128,Math.round(63*x)+128,1+(k===0?0:k<0?-1:1)|(63&$)<<2,$>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const G=D.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,G),D.primitiveLength++),E?this.e2=G:this.e1=G}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(o,c){this.distance+=o.dist(c),this.updateScaledDistance()}}bt("LineBucket",C0,{omit:["layers","patternFeatures"]});const Az=new fi({"line-cap":new Mt(Fe.layout_line["line-cap"]),"line-join":new Gt(Fe.layout_line["line-join"]),"line-miter-limit":new Mt(Fe.layout_line["line-miter-limit"]),"line-round-limit":new Mt(Fe.layout_line["line-round-limit"]),"line-sort-key":new Gt(Fe.layout_line["line-sort-key"])});var dE={paint:new fi({"line-opacity":new Gt(Fe.paint_line["line-opacity"]),"line-color":new Gt(Fe.paint_line["line-color"]),"line-translate":new Mt(Fe.paint_line["line-translate"]),"line-translate-anchor":new Mt(Fe.paint_line["line-translate-anchor"]),"line-width":new Gt(Fe.paint_line["line-width"]),"line-gap-width":new Gt(Fe.paint_line["line-gap-width"]),"line-offset":new Gt(Fe.paint_line["line-offset"]),"line-blur":new Gt(Fe.paint_line["line-blur"]),"line-dasharray":new Au(Fe.paint_line["line-dasharray"]),"line-pattern":new gs(Fe.paint_line["line-pattern"]),"line-gradient":new Kc(Fe.paint_line["line-gradient"])}),layout:Az};const pE=new class extends Gt{possiblyEvaluate(s,o){return o=new Yn(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,zoomHistory:o.zoomHistory,transition:o.transition}),super.possiblyEvaluate(s,o)}evaluate(s,o,c,p){return o=F({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(s,o,c,p)}}(dE.paint.properties["line-width"].specification);function mE(s,o){return o>0?o+2*s:s}pE.useIntegerZoom=!0;const Iz=R([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),kz=R([{name:"a_projected_pos",components:3,type:"Float32"}],4);R([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Oz=R([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);R([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const gE=R([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Lz=R([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Rz(s,o,c){return s.sections.forEach(p=>{p.text=function(x,b,E){const k=b.layout.get("text-transform").evaluate(E,{});return k==="uppercase"?x=x.toLocaleUpperCase():k==="lowercase"&&(x=x.toLocaleLowerCase()),hi.applyArabicShaping&&(x=hi.applyArabicShaping(x)),x}(p.text,o,c)}),s}R([{name:"triangle",components:3,type:"Uint16"}]),R([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),R([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),R([{type:"Float32",name:"offsetX"}]),R([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const jd={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var pi=24,P0=Jn,vE=function(s,o,c,p,x){var b,E,k=8*x-p-1,D=(1<<k)-1,$=D>>1,G=-7,X=c?x-1:0,re=c?-1:1,ie=s[o+X];for(X+=re,b=ie&(1<<-G)-1,ie>>=-G,G+=k;G>0;b=256*b+s[o+X],X+=re,G-=8);for(E=b&(1<<-G)-1,b>>=-G,G+=p;G>0;E=256*E+s[o+X],X+=re,G-=8);if(b===0)b=1-$;else{if(b===D)return E?NaN:1/0*(ie?-1:1);E+=Math.pow(2,p),b-=$}return(ie?-1:1)*E*Math.pow(2,b-p)},yE=function(s,o,c,p,x,b){var E,k,D,$=8*b-x-1,G=(1<<$)-1,X=G>>1,re=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=p?0:b-1,ae=p?1:-1,be=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(k=isNaN(o)?1:0,E=G):(E=Math.floor(Math.log(o)/Math.LN2),o*(D=Math.pow(2,-E))<1&&(E--,D*=2),(o+=E+X>=1?re/D:re*Math.pow(2,1-X))*D>=2&&(E++,D/=2),E+X>=G?(k=0,E=G):E+X>=1?(k=(o*D-1)*Math.pow(2,x),E+=X):(k=o*Math.pow(2,X-1)*Math.pow(2,x),E=0));x>=8;s[c+ie]=255&k,ie+=ae,k/=256,x-=8);for(E=E<<x|k,$+=x;$>0;s[c+ie]=255&E,ie+=ae,E/=256,$-=8);s[c+ie-ae]|=128*be};function Jn(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}Jn.Varint=0,Jn.Fixed64=1,Jn.Bytes=2,Jn.Fixed32=5;var zu,A0=4294967296,_E=1/A0,xE=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function ql(s){return s.type===Jn.Bytes?s.readVarint()+s.pos:s.pos+1}function Jh(s,o,c){return c?4294967296*o+(s>>>0):4294967296*(o>>>0)+(s>>>0)}function bE(s,o,c){var p=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));c.realloc(p);for(var x=c.pos-1;x>=s;x--)c.buf[x+p]=c.buf[x]}function Mz(s,o){for(var c=0;c<s.length;c++)o.writeVarint(s[c])}function Dz(s,o){for(var c=0;c<s.length;c++)o.writeSVarint(s[c])}function zz(s,o){for(var c=0;c<s.length;c++)o.writeFloat(s[c])}function Fz(s,o){for(var c=0;c<s.length;c++)o.writeDouble(s[c])}function Nz(s,o){for(var c=0;c<s.length;c++)o.writeBoolean(s[c])}function Bz(s,o){for(var c=0;c<s.length;c++)o.writeFixed32(s[c])}function Uz(s,o){for(var c=0;c<s.length;c++)o.writeSFixed32(s[c])}function Vz(s,o){for(var c=0;c<s.length;c++)o.writeFixed64(s[c])}function $z(s,o){for(var c=0;c<s.length;c++)o.writeSFixed64(s[c])}function ng(s,o){return(s[o]|s[o+1]<<8|s[o+2]<<16)+16777216*s[o+3]}function ef(s,o,c){s[c]=o,s[c+1]=o>>>8,s[c+2]=o>>>16,s[c+3]=o>>>24}function wE(s,o){return(s[o]|s[o+1]<<8|s[o+2]<<16)+(s[o+3]<<24)}function jz(s,o,c){s===1&&c.readMessage(qz,o)}function qz(s,o,c){if(s===3){const{id:p,bitmap:x,width:b,height:E,left:k,top:D,advance:$}=c.readMessage(Gz,{});o.push({id:p,bitmap:new Dd({width:b+6,height:E+6},x),metrics:{width:b,height:E,left:k,top:D,advance:$}})}}function Gz(s,o,c){s===1?o.id=c.readVarint():s===2?o.bitmap=c.readBytes():s===3?o.width=c.readVarint():s===4?o.height=c.readVarint():s===5?o.left=c.readSVarint():s===6?o.top=c.readSVarint():s===7&&(o.advance=c.readVarint())}function SE(s){let o=0,c=0;for(const E of s)o+=E.w*E.h,c=Math.max(c,E.w);s.sort((E,k)=>k.h-E.h);const p=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),c),h:1/0}];let x=0,b=0;for(const E of s)for(let k=p.length-1;k>=0;k--){const D=p[k];if(!(E.w>D.w||E.h>D.h)){if(E.x=D.x,E.y=D.y,b=Math.max(b,E.y+E.h),x=Math.max(x,E.x+E.w),E.w===D.w&&E.h===D.h){const $=p.pop();k<p.length&&(p[k]=$)}else E.h===D.h?(D.x+=E.w,D.w-=E.w):E.w===D.w?(D.y+=E.h,D.h-=E.h):(p.push({x:D.x+E.w,y:D.y,w:D.w-E.w,h:E.h}),D.y+=E.h,D.h-=E.h);break}}return{w:x,h:b,fill:o/(x*b)||0}}Jn.prototype={destroy:function(){this.buf=null},readFields:function(s,o,c){for(c=c||this.length;this.pos<c;){var p=this.readVarint(),x=p>>3,b=this.pos;this.type=7&p,s(x,o,this),this.pos===b&&this.skip(p)}return o},readMessage:function(s,o){return this.readFields(s,o,this.readVarint()+this.pos)},readFixed32:function(){var s=ng(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=wE(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=ng(this.buf,this.pos)+ng(this.buf,this.pos+4)*A0;return this.pos+=8,s},readSFixed64:function(){var s=ng(this.buf,this.pos)+wE(this.buf,this.pos+4)*A0;return this.pos+=8,s},readFloat:function(){var s=vE(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=vE(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var o,c,p=this.buf;return o=127&(c=p[this.pos++]),c<128?o:(o|=(127&(c=p[this.pos++]))<<7,c<128?o:(o|=(127&(c=p[this.pos++]))<<14,c<128?o:(o|=(127&(c=p[this.pos++]))<<21,c<128?o:function(x,b,E){var k,D,$=E.buf;if(k=(112&(D=$[E.pos++]))>>4,D<128||(k|=(127&(D=$[E.pos++]))<<3,D<128)||(k|=(127&(D=$[E.pos++]))<<10,D<128)||(k|=(127&(D=$[E.pos++]))<<17,D<128)||(k|=(127&(D=$[E.pos++]))<<24,D<128)||(k|=(1&(D=$[E.pos++]))<<31,D<128))return Jh(x,k,b);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(c=p[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var s=this.readVarint()+this.pos,o=this.pos;return this.pos=s,s-o>=12&&xE?function(c,p,x){return xE.decode(c.subarray(p,x))}(this.buf,o,s):function(c,p,x){for(var b="",E=p;E<x;){var k,D,$,G=c[E],X=null,re=G>239?4:G>223?3:G>191?2:1;if(E+re>x)break;re===1?G<128&&(X=G):re===2?(192&(k=c[E+1]))==128&&(X=(31&G)<<6|63&k)<=127&&(X=null):re===3?(D=c[E+2],(192&(k=c[E+1]))==128&&(192&D)==128&&((X=(15&G)<<12|(63&k)<<6|63&D)<=2047||X>=55296&&X<=57343)&&(X=null)):re===4&&(D=c[E+2],$=c[E+3],(192&(k=c[E+1]))==128&&(192&D)==128&&(192&$)==128&&((X=(15&G)<<18|(63&k)<<12|(63&D)<<6|63&$)<=65535||X>=1114112)&&(X=null)),X===null?(X=65533,re=1):X>65535&&(X-=65536,b+=String.fromCharCode(X>>>10&1023|55296),X=56320|1023&X),b+=String.fromCharCode(X),E+=re}return b}(this.buf,o,s)},readBytes:function(){var s=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,s);return this.pos=s,o},readPackedVarint:function(s,o){if(this.type!==Jn.Bytes)return s.push(this.readVarint(o));var c=ql(this);for(s=s||[];this.pos<c;)s.push(this.readVarint(o));return s},readPackedSVarint:function(s){if(this.type!==Jn.Bytes)return s.push(this.readSVarint());var o=ql(this);for(s=s||[];this.pos<o;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==Jn.Bytes)return s.push(this.readBoolean());var o=ql(this);for(s=s||[];this.pos<o;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==Jn.Bytes)return s.push(this.readFloat());var o=ql(this);for(s=s||[];this.pos<o;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==Jn.Bytes)return s.push(this.readDouble());var o=ql(this);for(s=s||[];this.pos<o;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==Jn.Bytes)return s.push(this.readFixed32());var o=ql(this);for(s=s||[];this.pos<o;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==Jn.Bytes)return s.push(this.readSFixed32());var o=ql(this);for(s=s||[];this.pos<o;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==Jn.Bytes)return s.push(this.readFixed64());var o=ql(this);for(s=s||[];this.pos<o;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==Jn.Bytes)return s.push(this.readSFixed64());var o=ql(this);for(s=s||[];this.pos<o;)s.push(this.readSFixed64());return s},skip:function(s){var o=7&s;if(o===Jn.Varint)for(;this.buf[this.pos++]>127;);else if(o===Jn.Bytes)this.pos=this.readVarint()+this.pos;else if(o===Jn.Fixed32)this.pos+=4;else{if(o!==Jn.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(s,o){this.writeVarint(s<<3|o)},realloc:function(s){for(var o=this.length||16;o<this.pos+s;)o*=2;if(o!==this.length){var c=new Uint8Array(o);c.set(this.buf),this.buf=c,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),ef(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),ef(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),ef(this.buf,-1&s,this.pos),ef(this.buf,Math.floor(s*_E),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),ef(this.buf,-1&s,this.pos),ef(this.buf,Math.floor(s*_E),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(o,c){var p,x;if(o>=0?(p=o%4294967296|0,x=o/4294967296|0):(x=~(-o/4294967296),4294967295^(p=~(-o%4294967296))?p=p+1|0:(p=0,x=x+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(b,E,k){k.buf[k.pos++]=127&b|128,b>>>=7,k.buf[k.pos++]=127&b|128,b>>>=7,k.buf[k.pos++]=127&b|128,b>>>=7,k.buf[k.pos++]=127&b|128,k.buf[k.pos]=127&(b>>>=7)}(p,0,c),function(b,E){var k=(7&b)<<4;E.buf[E.pos++]|=k|((b>>>=3)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b)))))}(x,c)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(!!s)},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var o=this.pos;this.pos=function(p,x,b){for(var E,k,D=0;D<x.length;D++){if((E=x.charCodeAt(D))>55295&&E<57344){if(!k){E>56319||D+1===x.length?(p[b++]=239,p[b++]=191,p[b++]=189):k=E;continue}if(E<56320){p[b++]=239,p[b++]=191,p[b++]=189,k=E;continue}E=k-55296<<10|E-56320|65536,k=null}else k&&(p[b++]=239,p[b++]=191,p[b++]=189,k=null);E<128?p[b++]=E:(E<2048?p[b++]=E>>6|192:(E<65536?p[b++]=E>>12|224:(p[b++]=E>>18|240,p[b++]=E>>12&63|128),p[b++]=E>>6&63|128),p[b++]=63&E|128)}return b}(this.buf,s,this.pos);var c=this.pos-o;c>=128&&bE(o,c,this),this.pos=o-1,this.writeVarint(c),this.pos+=c},writeFloat:function(s){this.realloc(4),yE(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),yE(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var o=s.length;this.writeVarint(o),this.realloc(o);for(var c=0;c<o;c++)this.buf[this.pos++]=s[c]},writeRawMessage:function(s,o){this.pos++;var c=this.pos;s(o,this);var p=this.pos-c;p>=128&&bE(c,p,this),this.pos=c-1,this.writeVarint(p),this.pos+=p},writeMessage:function(s,o,c){this.writeTag(s,Jn.Bytes),this.writeRawMessage(o,c)},writePackedVarint:function(s,o){o.length&&this.writeMessage(s,Mz,o)},writePackedSVarint:function(s,o){o.length&&this.writeMessage(s,Dz,o)},writePackedBoolean:function(s,o){o.length&&this.writeMessage(s,Nz,o)},writePackedFloat:function(s,o){o.length&&this.writeMessage(s,zz,o)},writePackedDouble:function(s,o){o.length&&this.writeMessage(s,Fz,o)},writePackedFixed32:function(s,o){o.length&&this.writeMessage(s,Bz,o)},writePackedSFixed32:function(s,o){o.length&&this.writeMessage(s,Uz,o)},writePackedFixed64:function(s,o){o.length&&this.writeMessage(s,Vz,o)},writePackedSFixed64:function(s,o){o.length&&this.writeMessage(s,$z,o)},writeBytesField:function(s,o){this.writeTag(s,Jn.Bytes),this.writeBytes(o)},writeFixed32Field:function(s,o){this.writeTag(s,Jn.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(s,o){this.writeTag(s,Jn.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(s,o){this.writeTag(s,Jn.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(s,o){this.writeTag(s,Jn.Fixed64),this.writeSFixed64(o)},writeVarintField:function(s,o){this.writeTag(s,Jn.Varint),this.writeVarint(o)},writeSVarintField:function(s,o){this.writeTag(s,Jn.Varint),this.writeSVarint(o)},writeStringField:function(s,o){this.writeTag(s,Jn.Bytes),this.writeString(o)},writeFloatField:function(s,o){this.writeTag(s,Jn.Fixed32),this.writeFloat(o)},writeDoubleField:function(s,o){this.writeTag(s,Jn.Fixed64),this.writeDouble(o)},writeBooleanField:function(s,o){this.writeVarintField(s,!!o)}};class I0{constructor(o,{pixelRatio:c,version:p,stretchX:x,stretchY:b,content:E}){this.paddedRect=o,this.pixelRatio=c,this.stretchX=x,this.stretchY=b,this.content=E,this.version=p}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class EE{constructor(o,c){const p={},x={};this.haveRenderCallbacks=[];const b=[];this.addImages(o,p,b),this.addImages(c,x,b);const{w:E,h:k}=SE(b),D=new ya({width:E||1,height:k||1});for(const $ in o){const G=o[$],X=p[$].paddedRect;ya.copy(G.data,D,{x:0,y:0},{x:X.x+1,y:X.y+1},G.data)}for(const $ in c){const G=c[$],X=x[$].paddedRect,re=X.x+1,ie=X.y+1,ae=G.data.width,be=G.data.height;ya.copy(G.data,D,{x:0,y:0},{x:re,y:ie},G.data),ya.copy(G.data,D,{x:0,y:be-1},{x:re,y:ie-1},{width:ae,height:1}),ya.copy(G.data,D,{x:0,y:0},{x:re,y:ie+be},{width:ae,height:1}),ya.copy(G.data,D,{x:ae-1,y:0},{x:re-1,y:ie},{width:1,height:be}),ya.copy(G.data,D,{x:0,y:0},{x:re+ae,y:ie},{width:1,height:be})}this.image=D,this.iconPositions=p,this.patternPositions=x}addImages(o,c,p){for(const x in o){const b=o[x],E={x:0,y:0,w:b.data.width+2,h:b.data.height+2};p.push(E),c[x]=new I0(E,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(x)}}patchUpdatedImages(o,c){o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const p in o.updatedImages)this.patchUpdatedImage(this.iconPositions[p],o.getImage(p),c),this.patchUpdatedImage(this.patternPositions[p],o.getImage(p),c)}patchUpdatedImage(o,c,p){if(!o||!c||o.version===c.version)return;o.version=c.version;const[x,b]=o.tl;p.update(c.data,void 0,{x,y:b})}}bt("ImagePosition",I0),bt("ImageAtlas",EE),l.WritingMode=void 0,(zu=l.WritingMode||(l.WritingMode={}))[zu.none=0]="none",zu[zu.horizontal=1]="horizontal",zu[zu.vertical=2]="vertical",zu[zu.horizontalOnly=3]="horizontalOnly";const rg=-17;class qd{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,c){const p=new qd;return p.scale=o||1,p.fontStack=c,p}static forImage(o){const c=new qd;return c.imageName=o,c}}class tf{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,c){const p=new tf;for(let x=0;x<o.sections.length;x++){const b=o.sections[x];b.image?p.addImageSection(b):p.addTextSection(b,c)}return p}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSectionIndex(o){return this.sectionIndex[o]}getCharCode(o){return this.text.charCodeAt(o)}verticalizePunctuation(){this.text=function(o){let c="";for(let p=0;p<o.length;p++){const x=o.charCodeAt(p+1)||null,b=o.charCodeAt(p-1)||null;c+=x&&Hh(x)&&!jd[o[p+1]]||b&&Hh(b)&&!jd[o[p-1]]||!jd[o[p]]?o[p]:jd[o[p]]}return c}(this.text)}trim(){let o=0;for(let p=0;p<this.text.length&&og[this.text.charCodeAt(p)];p++)o++;let c=this.text.length;for(let p=this.text.length-1;p>=0&&p>=o&&og[this.text.charCodeAt(p)];p--)c--;this.text=this.text.substring(o,c),this.sectionIndex=this.sectionIndex.slice(o,c)}substring(o,c){const p=new tf;return p.text=this.text.substring(o,c),p.sectionIndex=this.sectionIndex.slice(o,c),p.sections=this.sections,p}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,c)=>Math.max(o,this.sections[c].scale),0)}addTextSection(o,c){this.text+=o.text,this.sections.push(qd.forText(o.scale,o.fontStack||c));const p=this.sections.length-1;for(let x=0;x<o.text.length;++x)this.sectionIndex.push(p)}addImageSection(o){const c=o.image?o.image.name:"";if(c.length===0)return void ee("Can't add FormattedSection with an empty image.");const p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCharCode(p),this.sections.push(qd.forImage(c)),this.sectionIndex.push(this.sections.length-1)):ee("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function ig(s,o,c,p,x,b,E,k,D,$,G,X,re,ie,ae,be){const _e=tf.fromFeature(s,x);let Le;X===l.WritingMode.vertical&&_e.verticalizePunctuation();const{processBidirectionalText:Ue,processStyledBidirectionalText:Ie}=hi;if(Ue&&_e.sections.length===1){Le=[];const Qe=Ue(_e.toString(),k0(_e,$,b,o,p,ie,ae));for(const Rt of Qe){const Ft=new tf;Ft.text=Rt,Ft.sections=_e.sections;for(let wt=0;wt<Rt.length;wt++)Ft.sectionIndex.push(0);Le.push(Ft)}}else if(Ie){Le=[];const Qe=Ie(_e.text,_e.sectionIndex,k0(_e,$,b,o,p,ie,ae));for(const Rt of Qe){const Ft=new tf;Ft.text=Rt[0],Ft.sectionIndex=Rt[1],Ft.sections=_e.sections,Le.push(Ft)}}else Le=function(Qe,Rt){const Ft=[],wt=Qe.text;let _t=0;for(const vt of Rt)Ft.push(Qe.substring(_t,vt)),_t=vt;return _t<wt.length&&Ft.push(Qe.substring(_t,wt.length)),Ft}(_e,k0(_e,$,b,o,p,ie,ae));const Ne=[],nt={positionedLines:Ne,text:_e.toString(),top:G[1],bottom:G[1],left:G[0],right:G[0],writingMode:X,iconsInText:!1,verticalizable:!1};return function(Qe,Rt,Ft,wt,_t,vt,St,xt,lt,jt,Bt,yn){let mr=0,Sr=rg,ti=0,xa=0;const wi=xt==="right"?1:xt==="left"?0:.5;let Kr=0;for(const Xr of _t){Xr.trim();const Ei=Xr.getMaxScale(),Ni=(Ei-1)*pi,io={positionedGlyphs:[],lineOffset:0};Qe.positionedLines[Kr]=io;const To=io.positionedGlyphs;let Co=0;if(!Xr.length()){Sr+=vt,++Kr;continue}for(let Ti=0;Ti<Xr.length();Ti++){const _n=Xr.getSection(Ti),Wo=Xr.getSectionIndex(Ti),Ci=Xr.getCharCode(Ti);let Bi=0,$a=null,ys=null,_s=null,Hl=pi;const ja=!(lt===l.WritingMode.horizontal||!Bt&&!Eu(Ci)||Bt&&(og[Ci]||(ai=Ci,yt.Arabic(ai)||yt["Arabic Supplement"](ai)||yt["Arabic Extended-A"](ai)||yt["Arabic Presentation Forms-A"](ai)||yt["Arabic Presentation Forms-B"](ai))));if(_n.imageName){const ba=wt[_n.imageName];if(!ba)continue;_s=_n.imageName,Qe.iconsInText=Qe.iconsInText||!0,ys=ba.paddedRect;const Po=ba.displaySize;_n.scale=_n.scale*pi/yn,$a={width:Po[0],height:Po[1],left:1,top:-3,advance:ja?Po[1]:Po[0]},Bi=Ni+(pi-Po[1]*_n.scale),Hl=$a.advance;const Zl=ja?Po[0]*_n.scale-pi*Ei:Po[1]*_n.scale-pi*Ei;Zl>0&&Zl>Co&&(Co=Zl)}else{const ba=Ft[_n.fontStack],Po=ba&&ba[Ci];if(Po&&Po.rect)ys=Po.rect,$a=Po.metrics;else{const Zl=Rt[_n.fontStack],Wd=Zl&&Zl[Ci];if(!Wd)continue;$a=Wd.metrics}Bi=(Ei-_n.scale)*pi}ja?(Qe.verticalizable=!0,To.push({glyph:Ci,imageName:_s,x:mr,y:Sr+Bi,vertical:ja,scale:_n.scale,fontStack:_n.fontStack,sectionIndex:Wo,metrics:$a,rect:ys}),mr+=Hl*_n.scale+jt):(To.push({glyph:Ci,imageName:_s,x:mr,y:Sr+Bi,vertical:ja,scale:_n.scale,fontStack:_n.fontStack,sectionIndex:Wo,metrics:$a,rect:ys}),mr+=$a.advance*_n.scale+jt)}To.length!==0&&(ti=Math.max(mr-jt,ti),Wz(To,0,To.length-1,wi,Co)),mr=0;const zr=vt*Ei+Co;io.lineOffset=Math.max(Co,Ni),Sr+=zr,xa=Math.max(zr,xa),++Kr}var ai;const Si=Sr-rg,{horizontalAlign:Fi,verticalAlign:Eo}=O0(St);(function(Xr,Ei,Ni,io,To,Co,zr,Ti,_n){const Wo=(Ei-Ni)*To;let Ci=0;Ci=Co!==zr?-Ti*io-rg:(-io*_n+.5)*zr;for(const Bi of Xr)for(const $a of Bi.positionedGlyphs)$a.x+=Wo,$a.y+=Ci})(Qe.positionedLines,wi,Fi,Eo,ti,xa,vt,Si,_t.length),Qe.top+=-Eo*Si,Qe.bottom=Qe.top+Si,Qe.left+=-Fi*ti,Qe.right=Qe.left+ti}(nt,o,c,p,Le,E,k,D,X,$,re,be),!function(Qe){for(const Rt of Qe)if(Rt.positionedGlyphs.length!==0)return!1;return!0}(Ne)&&nt}const og={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Hz={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function TE(s,o,c,p,x,b){if(o.imageName){const E=p[o.imageName];return E?E.displaySize[0]*o.scale*pi/b+x:0}{const E=c[o.fontStack],k=E&&E[s];return k?k.metrics.advance*o.scale+x:0}}function CE(s,o,c,p){const x=Math.pow(s-o,2);return p?s<o?x/2:2*x:x+Math.abs(c)*c}function Zz(s,o,c){let p=0;return s===10&&(p-=1e4),c&&(p+=150),s!==40&&s!==65288||(p+=50),o!==41&&o!==65289||(p+=50),p}function PE(s,o,c,p,x,b){let E=null,k=CE(o,c,x,b);for(const D of p){const $=CE(o-D.x,c,x,b)+D.badness;$<=k&&(E=D,k=$)}return{index:s,x:o,priorBreak:E,badness:k}}function AE(s){return s?AE(s.priorBreak).concat(s.index):[]}function k0(s,o,c,p,x,b,E){if(b!=="point")return[];if(!s)return[];const k=[],D=function(re,ie,ae,be,_e,Le){let Ue=0;for(let Ie=0;Ie<re.length();Ie++){const Ne=re.getSection(Ie);Ue+=TE(re.getCharCode(Ie),Ne,be,_e,ie,Le)}return Ue/Math.max(1,Math.ceil(Ue/ae))}(s,o,c,p,x,E),$=s.text.indexOf("​")>=0;let G=0;for(let re=0;re<s.length();re++){const ie=s.getSection(re),ae=s.getCharCode(re);if(og[ae]||(G+=TE(ae,ie,p,x,o,E)),re<s.length()-1){const be=!((X=ae)<11904||!(yt["Bopomofo Extended"](X)||yt.Bopomofo(X)||yt["CJK Compatibility Forms"](X)||yt["CJK Compatibility Ideographs"](X)||yt["CJK Compatibility"](X)||yt["CJK Radicals Supplement"](X)||yt["CJK Strokes"](X)||yt["CJK Symbols and Punctuation"](X)||yt["CJK Unified Ideographs Extension A"](X)||yt["CJK Unified Ideographs"](X)||yt["Enclosed CJK Letters and Months"](X)||yt["Halfwidth and Fullwidth Forms"](X)||yt.Hiragana(X)||yt["Ideographic Description Characters"](X)||yt["Kangxi Radicals"](X)||yt["Katakana Phonetic Extensions"](X)||yt.Katakana(X)||yt["Vertical Forms"](X)||yt["Yi Radicals"](X)||yt["Yi Syllables"](X)));(Hz[ae]||be||ie.imageName)&&k.push(PE(re+1,G,D,k,Zz(ae,s.getCharCode(re+1),be&&$),!1))}}var X;return AE(PE(s.length(),G,D,k,0,!0))}function O0(s){let o=.5,c=.5;switch(s){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:o,verticalAlign:c}}function Wz(s,o,c,p,x){if(!p&&!x)return;const b=s[c],E=(s[c].x+b.metrics.advance*b.scale)*p;for(let k=o;k<=c;k++)s[k].x-=E,s[k].y+=x}function Kz(s,o,c){const{horizontalAlign:p,verticalAlign:x}=O0(c),b=o[0]-s.displaySize[0]*p,E=o[1]-s.displaySize[1]*x;return{image:s,top:E,bottom:E+s.displaySize[1],left:b,right:b+s.displaySize[0]}}function IE(s,o,c,p,x,b){const E=s.image;let k;if(E.content){const _e=E.content,Le=E.pixelRatio||1;k=[_e[0]/Le,_e[1]/Le,E.displaySize[0]-_e[2]/Le,E.displaySize[1]-_e[3]/Le]}const D=o.left*b,$=o.right*b;let G,X,re,ie;c==="width"||c==="both"?(ie=x[0]+D-p[3],X=x[0]+$+p[1]):(ie=x[0]+(D+$-E.displaySize[0])/2,X=ie+E.displaySize[0]);const ae=o.top*b,be=o.bottom*b;return c==="height"||c==="both"?(G=x[1]+ae-p[0],re=x[1]+be+p[2]):(G=x[1]+(ae+be-E.displaySize[1])/2,re=G+E.displaySize[1]),{image:E,top:G,right:X,bottom:re,left:ie,collisionPadding:k}}const Gl=128;function kE(s,o){const{expression:c}=o;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Yn(s+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:p,interpolationType:x}=c;let b=0;for(;b<p.length&&p[b]<=s;)b++;b=Math.max(0,b-1);let E=b;for(;E<p.length&&p[E]<s+1;)E++;E=Math.min(p.length-1,E);const k=p[b],D=p[E];return c.kind==="composite"?{kind:"composite",minZoom:k,maxZoom:D,interpolationType:x}:{kind:"camera",minZoom:k,maxZoom:D,minSize:c.evaluate(new Yn(k)),maxSize:c.evaluate(new Yn(D)),interpolationType:x}}}class Fu extends Ge{constructor(o,c,p,x){super(o,c),this.angle=p,x!==void 0&&(this.segment=x)}clone(){return new Fu(this.x,this.y,this.angle,this.segment)}}function OE(s,o,c,p,x){if(o.segment===void 0)return!0;let b=o,E=o.segment+1,k=0;for(;k>-c/2;){if(E--,E<0)return!1;k-=s[E].dist(b),b=s[E]}k+=s[E].dist(s[E+1]),E++;const D=[];let $=0;for(;k<c/2;){const G=s[E],X=s[E+1];if(!X)return!1;let re=s[E-1].angleTo(G)-G.angleTo(X);for(re=Math.abs((re+3*Math.PI)%(2*Math.PI)-Math.PI),D.push({distance:k,angleDelta:re}),$+=re;k-D[0].distance>p;)$-=D.shift().angleDelta;if($>x)return!1;E++,k+=G.dist(X)}return!0}function LE(s){let o=0;for(let c=0;c<s.length-1;c++)o+=s[c].dist(s[c+1]);return o}function RE(s,o,c){return s?.6*o*c:0}function ME(s,o){return Math.max(s?s.right-s.left:0,o?o.right-o.left:0)}function Xz(s,o,c,p,x,b){const E=RE(c,x,b),k=ME(c,p)*b;let D=0;const $=LE(s)/2;for(let G=0;G<s.length-1;G++){const X=s[G],re=s[G+1],ie=X.dist(re);if(D+ie>$){const ae=($-D)/ie,be=Nt(X.x,re.x,ae),_e=Nt(X.y,re.y,ae),Le=new Fu(be,_e,re.angleTo(X),G);return Le._round(),!E||OE(s,Le,k,E,o)?Le:void 0}D+=ie}}function Yz(s,o,c,p,x,b,E,k,D){const $=RE(p,b,E),G=ME(p,x),X=G*E,re=s[0].x===0||s[0].x===D||s[0].y===0||s[0].y===D;return o-X<o/4&&(o=X+o/4),DE(s,re?o/2*k%o:(G/2+2*b)*E*k%o,o,$,c,X,re,!1,D)}function DE(s,o,c,p,x,b,E,k,D){const $=b/2,G=LE(s);let X=0,re=o-c,ie=[];for(let ae=0;ae<s.length-1;ae++){const be=s[ae],_e=s[ae+1],Le=be.dist(_e),Ue=_e.angleTo(be);for(;re+c<X+Le;){re+=c;const Ie=(re-X)/Le,Ne=Nt(be.x,_e.x,Ie),nt=Nt(be.y,_e.y,Ie);if(Ne>=0&&Ne<D&&nt>=0&&nt<D&&re-$>=0&&re+$<=G){const Qe=new Fu(Ne,nt,Ue,ae);Qe._round(),p&&!OE(s,Qe,b,p,x)||ie.push(Qe)}}X+=Le}return k||ie.length||E||(ie=DE(s,X/2,c,p,x,b,E,!0,D)),ie}function zE(s,o,c,p,x){const b=[];for(let E=0;E<s.length;E++){const k=s[E];let D;for(let $=0;$<k.length-1;$++){let G=k[$],X=k[$+1];G.x<o&&X.x<o||(G.x<o?G=new Ge(o,G.y+(o-G.x)/(X.x-G.x)*(X.y-G.y))._round():X.x<o&&(X=new Ge(o,G.y+(o-G.x)/(X.x-G.x)*(X.y-G.y))._round()),G.y<c&&X.y<c||(G.y<c?G=new Ge(G.x+(c-G.y)/(X.y-G.y)*(X.x-G.x),c)._round():X.y<c&&(X=new Ge(G.x+(c-G.y)/(X.y-G.y)*(X.x-G.x),c)._round()),G.x>=p&&X.x>=p||(G.x>=p?G=new Ge(p,G.y+(p-G.x)/(X.x-G.x)*(X.y-G.y))._round():X.x>=p&&(X=new Ge(p,G.y+(p-G.x)/(X.x-G.x)*(X.y-G.y))._round()),G.y>=x&&X.y>=x||(G.y>=x?G=new Ge(G.x+(x-G.y)/(X.y-G.y)*(X.x-G.x),x)._round():X.y>=x&&(X=new Ge(G.x+(x-G.y)/(X.y-G.y)*(X.x-G.x),x)._round()),D&&G.equals(D[D.length-1])||(D=[G],b.push(D)),D.push(X)))))}}return b}function FE(s,o,c,p){const x=[],b=s.image,E=b.pixelRatio,k=b.paddedRect.w-2,D=b.paddedRect.h-2,$=s.right-s.left,G=s.bottom-s.top,X=b.stretchX||[[0,k]],re=b.stretchY||[[0,D]],ie=(vt,St)=>vt+St[1]-St[0],ae=X.reduce(ie,0),be=re.reduce(ie,0),_e=k-ae,Le=D-be;let Ue=0,Ie=ae,Ne=0,nt=be,Qe=0,Rt=_e,Ft=0,wt=Le;if(b.content&&p){const vt=b.content;Ue=ag(X,0,vt[0]),Ne=ag(re,0,vt[1]),Ie=ag(X,vt[0],vt[2]),nt=ag(re,vt[1],vt[3]),Qe=vt[0]-Ue,Ft=vt[1]-Ne,Rt=vt[2]-vt[0]-Ie,wt=vt[3]-vt[1]-nt}const _t=(vt,St,xt,lt)=>{const jt=sg(vt.stretch-Ue,Ie,$,s.left),Bt=lg(vt.fixed-Qe,Rt,vt.stretch,ae),yn=sg(St.stretch-Ne,nt,G,s.top),mr=lg(St.fixed-Ft,wt,St.stretch,be),Sr=sg(xt.stretch-Ue,Ie,$,s.left),ti=lg(xt.fixed-Qe,Rt,xt.stretch,ae),xa=sg(lt.stretch-Ne,nt,G,s.top),wi=lg(lt.fixed-Ft,wt,lt.stretch,be),Kr=new Ge(jt,yn),ai=new Ge(Sr,yn),Si=new Ge(Sr,xa),Fi=new Ge(jt,xa),Eo=new Ge(Bt/E,mr/E),Xr=new Ge(ti/E,wi/E),Ei=o*Math.PI/180;if(Ei){const To=Math.sin(Ei),Co=Math.cos(Ei),zr=[Co,-To,To,Co];Kr._matMult(zr),ai._matMult(zr),Fi._matMult(zr),Si._matMult(zr)}const Ni=vt.stretch+vt.fixed,io=St.stretch+St.fixed;return{tl:Kr,tr:ai,bl:Fi,br:Si,tex:{x:b.paddedRect.x+1+Ni,y:b.paddedRect.y+1+io,w:xt.stretch+xt.fixed-Ni,h:lt.stretch+lt.fixed-io},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Eo,pixelOffsetBR:Xr,minFontScaleX:Rt/E/$,minFontScaleY:wt/E/G,isSDF:c}};if(p&&(b.stretchX||b.stretchY)){const vt=NE(X,_e,ae),St=NE(re,Le,be);for(let xt=0;xt<vt.length-1;xt++){const lt=vt[xt],jt=vt[xt+1];for(let Bt=0;Bt<St.length-1;Bt++)x.push(_t(lt,St[Bt],jt,St[Bt+1]))}}else x.push(_t({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:k+1},{fixed:0,stretch:D+1}));return x}function ag(s,o,c){let p=0;for(const x of s)p+=Math.max(o,Math.min(c,x[1]))-Math.max(o,Math.min(c,x[0]));return p}function NE(s,o,c){const p=[{fixed:-1,stretch:0}];for(const[x,b]of s){const E=p[p.length-1];p.push({fixed:x-E.stretch,stretch:E.stretch}),p.push({fixed:x-E.stretch,stretch:E.stretch+(b-x)})}return p.push({fixed:o+1,stretch:c}),p}function sg(s,o,c,p){return s/o*c+p}function lg(s,o,c,p){return s-o*c/p}bt("Anchor",Fu);class ug{constructor(o,c,p,x,b,E,k,D,$,G){if(this.boxStartIndex=o.length,$){let X=E.top,re=E.bottom;const ie=E.collisionPadding;ie&&(X-=ie[1],re+=ie[3]);let ae=re-X;ae>0&&(ae=Math.max(10,ae),this.circleDiameter=ae)}else{let X=E.top*k-D[0],re=E.bottom*k+D[2],ie=E.left*k-D[3],ae=E.right*k+D[1];const be=E.collisionPadding;if(be&&(ie-=be[0]*k,X-=be[1]*k,ae+=be[2]*k,re+=be[3]*k),G){const _e=new Ge(ie,X),Le=new Ge(ae,X),Ue=new Ge(ie,re),Ie=new Ge(ae,re),Ne=G*Math.PI/180;_e._rotate(Ne),Le._rotate(Ne),Ue._rotate(Ne),Ie._rotate(Ne),ie=Math.min(_e.x,Le.x,Ue.x,Ie.x),ae=Math.max(_e.x,Le.x,Ue.x,Ie.x),X=Math.min(_e.y,Le.y,Ue.y,Ie.y),re=Math.max(_e.y,Le.y,Ue.y,Ie.y)}o.emplaceBack(c.x,c.y,ie,X,ae,re,p,x,b)}this.boxEndIndex=o.length}}class Qz{constructor(o=[],c=Jz){if(this.data=o,this.length=this.data.length,this.compare=c,this.length>0)for(let p=(this.length>>1)-1;p>=0;p--)this._down(p)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const o=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:c,compare:p}=this,x=c[o];for(;o>0;){const b=o-1>>1,E=c[b];if(p(x,E)>=0)break;c[o]=E,o=b}c[o]=x}_down(o){const{data:c,compare:p}=this,x=this.length>>1,b=c[o];for(;o<x;){let E=1+(o<<1),k=c[E];const D=E+1;if(D<this.length&&p(c[D],k)<0&&(E=D,k=c[D]),p(k,b)>=0)break;c[o]=k,o=E}c[o]=b}}function Jz(s,o){return s<o?-1:s>o?1:0}function e4(s,o=1,c=!1){let p=1/0,x=1/0,b=-1/0,E=-1/0;const k=s[0];for(let ie=0;ie<k.length;ie++){const ae=k[ie];(!ie||ae.x<p)&&(p=ae.x),(!ie||ae.y<x)&&(x=ae.y),(!ie||ae.x>b)&&(b=ae.x),(!ie||ae.y>E)&&(E=ae.y)}const D=Math.min(b-p,E-x);let $=D/2;const G=new Qz([],t4);if(D===0)return new Ge(p,x);for(let ie=p;ie<b;ie+=D)for(let ae=x;ae<E;ae+=D)G.push(new nf(ie+$,ae+$,$,s));let X=function(ie){let ae=0,be=0,_e=0;const Le=ie[0];for(let Ue=0,Ie=Le.length,Ne=Ie-1;Ue<Ie;Ne=Ue++){const nt=Le[Ue],Qe=Le[Ne],Rt=nt.x*Qe.y-Qe.x*nt.y;be+=(nt.x+Qe.x)*Rt,_e+=(nt.y+Qe.y)*Rt,ae+=3*Rt}return new nf(be/ae,_e/ae,0,ie)}(s),re=G.length;for(;G.length;){const ie=G.pop();(ie.d>X.d||!X.d)&&(X=ie,c&&console.log("found best %d after %d probes",Math.round(1e4*ie.d)/1e4,re)),ie.max-X.d<=o||($=ie.h/2,G.push(new nf(ie.p.x-$,ie.p.y-$,$,s)),G.push(new nf(ie.p.x+$,ie.p.y-$,$,s)),G.push(new nf(ie.p.x-$,ie.p.y+$,$,s)),G.push(new nf(ie.p.x+$,ie.p.y+$,$,s)),re+=4)}return c&&(console.log(`num probes: ${re}`),console.log(`best distance: ${X.d}`)),X.p}function t4(s,o){return o.max-s.max}function nf(s,o,c,p){this.p=new Ge(s,o),this.h=c,this.d=function(x,b){let E=!1,k=1/0;for(let D=0;D<b.length;D++){const $=b[D];for(let G=0,X=$.length,re=X-1;G<X;re=G++){const ie=$[G],ae=$[re];ie.y>x.y!=ae.y>x.y&&x.x<(ae.x-ie.x)*(x.y-ie.y)/(ae.y-ie.y)+ie.x&&(E=!E),k=Math.min(k,wr(x,ie,ae))}}return(E?1:-1)*Math.sqrt(k)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}const L0=Number.POSITIVE_INFINITY;function BE(s,o){return o[1]!==L0?function(c,p,x){let b=0,E=0;switch(p=Math.abs(p),x=Math.abs(x),c){case"top-right":case"top-left":case"top":E=x-7;break;case"bottom-right":case"bottom-left":case"bottom":E=7-x}switch(c){case"top-right":case"bottom-right":case"right":b=-p;break;case"top-left":case"bottom-left":case"left":b=p}return[b,E]}(s,o[0],o[1]):function(c,p){let x=0,b=0;p<0&&(p=0);const E=p/Math.sqrt(2);switch(c){case"top-right":case"top-left":b=E-7;break;case"bottom-right":case"bottom-left":b=7-E;break;case"bottom":b=7-p;break;case"top":b=p-7}switch(c){case"top-right":case"bottom-right":x=-E;break;case"top-left":case"bottom-left":x=E;break;case"left":x=p;break;case"right":x=-p}return[x,b]}(s,o[0])}function R0(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function n4(s,o,c,p,x,b,E,k,D,$,G){let X=b.textMaxSize.evaluate(o,{});X===void 0&&(X=E);const re=s.layers[0].layout,ie=re.get("icon-offset").evaluate(o,{},G),ae=VE(c.horizontal),be=E/24,_e=s.tilePixelRatio*be,Le=s.tilePixelRatio*X/24,Ue=s.tilePixelRatio*k,Ie=s.tilePixelRatio*re.get("symbol-spacing"),Ne=re.get("text-padding")*s.tilePixelRatio,nt=function(lt,jt,Bt,yn=1){const mr=lt.get("icon-padding").evaluate(jt,{},Bt),Sr=mr&&mr.values;return[Sr[0]*yn,Sr[1]*yn,Sr[2]*yn,Sr[3]*yn]}(re,o,G,s.tilePixelRatio),Qe=re.get("text-max-angle")/180*Math.PI,Rt=re.get("text-rotation-alignment")!=="viewport"&&re.get("symbol-placement")!=="point",Ft=re.get("icon-rotation-alignment")==="map"&&re.get("symbol-placement")!=="point",wt=re.get("symbol-placement"),_t=Ie/2,vt=re.get("icon-text-fit");let St;p&&vt!=="none"&&(s.allowVerticalPlacement&&c.vertical&&(St=IE(p,c.vertical,vt,re.get("icon-text-fit-padding"),ie,be)),ae&&(p=IE(p,ae,vt,re.get("icon-text-fit-padding"),ie,be)));const xt=(lt,jt)=>{jt.x<0||jt.x>=Un||jt.y<0||jt.y>=Un||function(Bt,yn,mr,Sr,ti,xa,wi,Kr,ai,Si,Fi,Eo,Xr,Ei,Ni,io,To,Co,zr,Ti,_n,Wo,Ci,Bi,$a){const ys=Bt.addToLineVertexArray(yn,mr);let _s,Hl,ja,ba,Po=0,Zl=0,Wd=0,o2=0,H0=-1,Z0=-1;const Wl={};let a2=ne(""),W0=0,K0=0;if(Kr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[W0,K0]=Kr.layout.get("text-offset").evaluate(_n,{},Bi).map(Ao=>Ao*pi):(W0=Kr.layout.get("text-radial-offset").evaluate(_n,{},Bi)*pi,K0=L0),Bt.allowVerticalPlacement&&Sr.vertical){const Ao=Kr.layout.get("text-rotate").evaluate(_n,{},Bi)+90;ja=new ug(ai,yn,Si,Fi,Eo,Sr.vertical,Xr,Ei,Ni,Ao),wi&&(ba=new ug(ai,yn,Si,Fi,Eo,wi,To,Co,Ni,Ao))}if(ti){const Ao=Kr.layout.get("icon-rotate").evaluate(_n,{}),nl=Kr.layout.get("icon-text-fit")!=="none",Kd=FE(ti,Ao,Ci,nl),Xd=wi?FE(wi,Ao,Ci,nl):void 0;Hl=new ug(ai,yn,Si,Fi,Eo,ti,To,Co,!1,Ao),Po=4*Kd.length;const u2=Bt.iconSizeData;let ih=null;u2.kind==="source"?(ih=[Gl*Kr.layout.get("icon-size").evaluate(_n,{})],ih[0]>Nu&&ee(`${Bt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):u2.kind==="composite"&&(ih=[Gl*Wo.compositeIconSizes[0].evaluate(_n,{},Bi),Gl*Wo.compositeIconSizes[1].evaluate(_n,{},Bi)],(ih[0]>Nu||ih[1]>Nu)&&ee(`${Bt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Bt.addSymbols(Bt.icon,Kd,ih,Ti,zr,_n,l.WritingMode.none,yn,ys.lineStartIndex,ys.lineLength,-1,Bi),H0=Bt.icon.placedSymbolArray.length-1,Xd&&(Zl=4*Xd.length,Bt.addSymbols(Bt.icon,Xd,ih,Ti,zr,_n,l.WritingMode.vertical,yn,ys.lineStartIndex,ys.lineLength,-1,Bi),Z0=Bt.icon.placedSymbolArray.length-1)}const s2=Object.keys(Sr.horizontal);for(const Ao of s2){const nl=Sr.horizontal[Ao];if(!_s){a2=ne(nl.text);const Xd=Kr.layout.get("text-rotate").evaluate(_n,{},Bi);_s=new ug(ai,yn,Si,Fi,Eo,nl,Xr,Ei,Ni,Xd)}const Kd=nl.positionedLines.length===1;if(Wd+=UE(Bt,yn,nl,xa,Kr,Ni,_n,io,ys,Sr.vertical?l.WritingMode.horizontal:l.WritingMode.horizontalOnly,Kd?s2:[Ao],Wl,H0,Wo,Bi),Kd)break}Sr.vertical&&(o2+=UE(Bt,yn,Sr.vertical,xa,Kr,Ni,_n,io,ys,l.WritingMode.vertical,["vertical"],Wl,Z0,Wo,Bi));const v4=_s?_s.boxStartIndex:Bt.collisionBoxArray.length,y4=_s?_s.boxEndIndex:Bt.collisionBoxArray.length,_4=ja?ja.boxStartIndex:Bt.collisionBoxArray.length,x4=ja?ja.boxEndIndex:Bt.collisionBoxArray.length,b4=Hl?Hl.boxStartIndex:Bt.collisionBoxArray.length,w4=Hl?Hl.boxEndIndex:Bt.collisionBoxArray.length,S4=ba?ba.boxStartIndex:Bt.collisionBoxArray.length,E4=ba?ba.boxEndIndex:Bt.collisionBoxArray.length;let xs=-1;const pg=(Ao,nl)=>Ao&&Ao.circleDiameter?Math.max(Ao.circleDiameter,nl):nl;xs=pg(_s,xs),xs=pg(ja,xs),xs=pg(Hl,xs),xs=pg(ba,xs);const l2=xs>-1?1:0;l2&&(xs*=$a/pi),Bt.glyphOffsetArray.length>=rf.MAX_GLYPHS&&ee("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),_n.sortKey!==void 0&&Bt.addToSortKeyRanges(Bt.symbolInstances.length,_n.sortKey),Bt.symbolInstances.emplaceBack(yn.x,yn.y,Wl.right>=0?Wl.right:-1,Wl.center>=0?Wl.center:-1,Wl.left>=0?Wl.left:-1,Wl.vertical||-1,H0,Z0,a2,v4,y4,_4,x4,b4,w4,S4,E4,Si,Wd,o2,Po,Zl,l2,0,Xr,W0,K0,xs)}(s,jt,lt,c,p,x,St,s.layers[0],s.collisionBoxArray,o.index,o.sourceLayerIndex,s.index,_e,[Ne,Ne,Ne,Ne],Rt,D,Ue,nt,Ft,ie,o,b,$,G,E)};if(wt==="line")for(const lt of zE(o.geometry,0,0,Un,Un)){const jt=Yz(lt,Ie,Qe,c.vertical||ae,p,24,Le,s.overscaling,Un);for(const Bt of jt)ae&&r4(s,ae.text,_t,Bt)||xt(lt,Bt)}else if(wt==="line-center"){for(const lt of o.geometry)if(lt.length>1){const jt=Xz(lt,Qe,c.vertical||ae,p,24,Le);jt&&xt(lt,jt)}}else if(o.type==="Polygon")for(const lt of x0(o.geometry,0)){const jt=e4(lt,16);xt(lt[0],new Fu(jt.x,jt.y,0))}else if(o.type==="LineString")for(const lt of o.geometry)xt(lt,new Fu(lt[0].x,lt[0].y,0));else if(o.type==="Point")for(const lt of o.geometry)for(const jt of lt)xt([jt],new Fu(jt.x,jt.y,0))}const Nu=32640;function UE(s,o,c,p,x,b,E,k,D,$,G,X,re,ie,ae){const be=function(Ue,Ie,Ne,nt,Qe,Rt,Ft,wt){const _t=nt.layout.get("text-rotate").evaluate(Rt,{})*Math.PI/180,vt=[];for(const St of Ie.positionedLines)for(const xt of St.positionedGlyphs){if(!xt.rect)continue;const lt=xt.rect||{};let jt=4,Bt=!0,yn=1,mr=0;const Sr=(Qe||wt)&&xt.vertical,ti=xt.metrics.advance*xt.scale/2;if(wt&&Ie.verticalizable&&(mr=St.lineOffset/2-(xt.imageName?-(pi-xt.metrics.width*xt.scale)/2:(xt.scale-1)*pi)),xt.imageName){const zr=Ft[xt.imageName];Bt=zr.sdf,yn=zr.pixelRatio,jt=1/yn}const xa=Qe?[xt.x+ti,xt.y]:[0,0];let wi=Qe?[0,0]:[xt.x+ti+Ne[0],xt.y+Ne[1]-mr],Kr=[0,0];Sr&&(Kr=wi,wi=[0,0]);const ai=(xt.metrics.left-jt)*xt.scale-ti+wi[0],Si=(-xt.metrics.top-jt)*xt.scale+wi[1],Fi=ai+lt.w*xt.scale/yn,Eo=Si+lt.h*xt.scale/yn,Xr=new Ge(ai,Si),Ei=new Ge(Fi,Si),Ni=new Ge(ai,Eo),io=new Ge(Fi,Eo);if(Sr){const zr=new Ge(-ti,ti-rg),Ti=-Math.PI/2,_n=12-ti,Wo=new Ge(22-_n,-(xt.imageName?_n:0)),Ci=new Ge(...Kr);Xr._rotateAround(Ti,zr)._add(Wo)._add(Ci),Ei._rotateAround(Ti,zr)._add(Wo)._add(Ci),Ni._rotateAround(Ti,zr)._add(Wo)._add(Ci),io._rotateAround(Ti,zr)._add(Wo)._add(Ci)}if(_t){const zr=Math.sin(_t),Ti=Math.cos(_t),_n=[Ti,-zr,zr,Ti];Xr._matMult(_n),Ei._matMult(_n),Ni._matMult(_n),io._matMult(_n)}const To=new Ge(0,0),Co=new Ge(0,0);vt.push({tl:Xr,tr:Ei,bl:Ni,br:io,tex:lt,writingMode:Ie.writingMode,glyphOffset:xa,sectionIndex:xt.sectionIndex,isSDF:Bt,pixelOffsetTL:To,pixelOffsetBR:Co,minFontScaleX:0,minFontScaleY:0})}return vt}(0,c,k,x,b,E,p,s.allowVerticalPlacement),_e=s.textSizeData;let Le=null;_e.kind==="source"?(Le=[Gl*x.layout.get("text-size").evaluate(E,{})],Le[0]>Nu&&ee(`${s.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):_e.kind==="composite"&&(Le=[Gl*ie.compositeTextSizes[0].evaluate(E,{},ae),Gl*ie.compositeTextSizes[1].evaluate(E,{},ae)],(Le[0]>Nu||Le[1]>Nu)&&ee(`${s.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),s.addSymbols(s.text,be,Le,k,b,E,$,o,D.lineStartIndex,D.lineLength,re,ae);for(const Ue of G)X[Ue]=s.text.placedSymbolArray.length-1;return 4*be.length}function VE(s){for(const o in s)return s[o];return null}function r4(s,o,c,p){const x=s.compareText;if(o in x){const b=x[o];for(let E=b.length-1;E>=0;E--)if(p.dist(b[E])<c)return!0}else x[o]=[];return x[o].push(p),!1}const i4=Du.VectorTileFeature.types,o4=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function cg(s,o,c,p,x,b,E,k,D,$,G,X,re){const ie=k?Math.min(Nu,Math.round(k[0])):0,ae=k?Math.min(Nu,Math.round(k[1])):0;s.emplaceBack(o,c,Math.round(32*p),Math.round(32*x),b,E,(ie<<1)+(D?1:0),ae,16*$,16*G,256*X,256*re)}function M0(s,o,c){s.emplaceBack(o.x,o.y,c),s.emplaceBack(o.x,o.y,c),s.emplaceBack(o.x,o.y,c),s.emplaceBack(o.x,o.y,c)}function a4(s){for(const o of s.sections)if(ro(o.text))return!0;return!1}class D0{constructor(o){this.layoutVertexArray=new v,this.indexArray=new S,this.programConfigurations=o,this.segments=new B,this.dynamicLayoutVertexArray=new a,this.opacityVertexArray=new f,this.hasVisibleVertices=!1,this.placedSymbolArray=new Lu}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(o,c,p,x){this.isEmpty()||(p&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Iz.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,kz.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,o4,!0),this.opacityVertexBuffer.itemSize=1),(p||x)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}bt("SymbolBuffers",D0);class z0{constructor(o,c,p){this.layoutVertexArray=new o,this.layoutAttributes=c,this.indexArray=new p,this.segments=new B,this.collisionVertexArray=new _}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,Oz.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}bt("CollisionBuffers",z0);class rf{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(E=>E.id),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=p0([]),this.placementViewportMatrix=p0([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=kE(this.zoom,c["text-size"]),this.iconSizeData=kE(this.zoom,c["icon-size"]);const p=this.layers[0].layout,x=p.get("symbol-sort-key"),b=p.get("symbol-z-order");this.canOverlap=N0(p,"text-overlap","text-allow-overlap")!=="never"||N0(p,"icon-overlap","icon-allow-overlap")!=="never"||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!x.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,p.get("symbol-placement")==="point"&&(this.writingModes=p.get("text-writing-mode").map(E=>l.WritingMode[E])),this.stateDependentLayerIds=this.layers.filter(E=>E.isStateDependent()).map(E=>E.id),this.sourceID=o.sourceID}createArrays(){this.text=new D0(new hn(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new D0(new hn(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new $l,this.lineVertexArray=new eh,this.symbolInstances=new Wm}calculateGlyphDependencies(o,c,p,x,b){for(let E=0;E<o.length;E++)if(c[o.charCodeAt(E)]=!0,(p||x)&&b){const k=jd[o.charAt(E)];k&&(c[k.charCodeAt(0)]=!0)}}populate(o,c,p){const x=this.layers[0],b=x.layout,E=b.get("text-font"),k=b.get("text-field"),D=b.get("icon-image"),$=(k.value.kind!=="constant"||k.value.value instanceof Ht&&!k.value.value.isEmpty()||k.value.value.toString().length>0)&&(E.value.kind!=="constant"||E.value.value.length>0),G=D.value.kind!=="constant"||!!D.value.value||Object.keys(D.parameters).length>0,X=b.get("symbol-sort-key");if(this.features=[],!$&&!G)return;const re=c.iconDependencies,ie=c.glyphDependencies,ae=c.availableImages,be=new Yn(this.zoom);for(const{feature:_e,id:Le,index:Ue,sourceLayerIndex:Ie}of o){const Ne=x._featureFilter.needGeometry,nt=So(_e,Ne);if(!x._featureFilter.filter(be,nt,p))continue;let Qe,Rt;if(Ne||(nt.geometry=bi(_e)),$){const wt=x.getValueAndResolveTokens("text-field",nt,p,ae),_t=Ht.factory(wt);a4(_t)&&(this.hasRTLText=!0),(!this.hasRTLText||ms()==="unavailable"||this.hasRTLText&&hi.isParsed())&&(Qe=Rz(_t,x,nt))}if(G){const wt=x.getValueAndResolveTokens("icon-image",nt,p,ae);Rt=wt instanceof Hn?wt:Hn.fromString(wt)}if(!Qe&&!Rt)continue;const Ft=this.sortFeaturesByKey?X.evaluate(nt,{},p):void 0;if(this.features.push({id:Le,text:Qe,icon:Rt,index:Ue,sourceLayerIndex:Ie,geometry:nt.geometry,properties:_e.properties,type:i4[_e.type],sortKey:Ft}),Rt&&(re[Rt.name]=!0),Qe){const wt=E.evaluate(nt,{},p).join(","),_t=b.get("text-rotation-alignment")!=="viewport"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(l.WritingMode.vertical)>=0;for(const vt of Qe.sections)if(vt.image)re[vt.image.name]=!0;else{const St=Hc(Qe.toString()),xt=vt.fontStack||wt,lt=ie[xt]=ie[xt]||{};this.calculateGlyphDependencies(vt.text,lt,_t,this.allowVerticalPlacement,St)}}}b.get("symbol-placement")==="line"&&(this.features=function(_e){const Le={},Ue={},Ie=[];let Ne=0;function nt(wt){Ie.push(_e[wt]),Ne++}function Qe(wt,_t,vt){const St=Ue[wt];return delete Ue[wt],Ue[_t]=St,Ie[St].geometry[0].pop(),Ie[St].geometry[0]=Ie[St].geometry[0].concat(vt[0]),St}function Rt(wt,_t,vt){const St=Le[_t];return delete Le[_t],Le[wt]=St,Ie[St].geometry[0].shift(),Ie[St].geometry[0]=vt[0].concat(Ie[St].geometry[0]),St}function Ft(wt,_t,vt){const St=vt?_t[0][_t[0].length-1]:_t[0][0];return`${wt}:${St.x}:${St.y}`}for(let wt=0;wt<_e.length;wt++){const _t=_e[wt],vt=_t.geometry,St=_t.text?_t.text.toString():null;if(!St){nt(wt);continue}const xt=Ft(St,vt),lt=Ft(St,vt,!0);if(xt in Ue&&lt in Le&&Ue[xt]!==Le[lt]){const jt=Rt(xt,lt,vt),Bt=Qe(xt,lt,Ie[jt].geometry);delete Le[xt],delete Ue[lt],Ue[Ft(St,Ie[Bt].geometry,!0)]=Bt,Ie[jt].geometry=null}else xt in Ue?Qe(xt,lt,vt):lt in Le?Rt(xt,lt,vt):(nt(wt),Le[xt]=Ne-1,Ue[lt]=Ne-1)}return Ie.filter(wt=>wt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((_e,Le)=>_e.sortKey-Le.sortKey)}update(o,c,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,c,this.layers,p),this.icon.programConfigurations.updatePaintArrays(o,c,this.layers,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,c){const p=this.lineVertexArray.length;if(o.segment!==void 0){let x=o.dist(c[o.segment+1]),b=o.dist(c[o.segment]);const E={};for(let k=o.segment+1;k<c.length;k++)E[k]={x:c[k].x,y:c[k].y,tileUnitDistanceFromAnchor:x},k<c.length-1&&(x+=c[k+1].dist(c[k]));for(let k=o.segment||0;k>=0;k--)E[k]={x:c[k].x,y:c[k].y,tileUnitDistanceFromAnchor:b},k>0&&(b+=c[k-1].dist(c[k]));for(let k=0;k<c.length;k++){const D=E[k];this.lineVertexArray.emplaceBack(D.x,D.y,D.tileUnitDistanceFromAnchor)}}return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}}addSymbols(o,c,p,x,b,E,k,D,$,G,X,re){const ie=o.indexArray,ae=o.layoutVertexArray,be=o.segments.prepareSegment(4*c.length,ae,ie,this.canOverlap?E.sortKey:void 0),_e=this.glyphOffsetArray.length,Le=be.vertexLength,Ue=this.allowVerticalPlacement&&k===l.WritingMode.vertical?Math.PI/2:0,Ie=E.text&&E.text.sections;for(let Ne=0;Ne<c.length;Ne++){const{tl:nt,tr:Qe,bl:Rt,br:Ft,tex:wt,pixelOffsetTL:_t,pixelOffsetBR:vt,minFontScaleX:St,minFontScaleY:xt,glyphOffset:lt,isSDF:jt,sectionIndex:Bt}=c[Ne],yn=be.vertexLength,mr=lt[1];cg(ae,D.x,D.y,nt.x,mr+nt.y,wt.x,wt.y,p,jt,_t.x,_t.y,St,xt),cg(ae,D.x,D.y,Qe.x,mr+Qe.y,wt.x+wt.w,wt.y,p,jt,vt.x,_t.y,St,xt),cg(ae,D.x,D.y,Rt.x,mr+Rt.y,wt.x,wt.y+wt.h,p,jt,_t.x,vt.y,St,xt),cg(ae,D.x,D.y,Ft.x,mr+Ft.y,wt.x+wt.w,wt.y+wt.h,p,jt,vt.x,vt.y,St,xt),M0(o.dynamicLayoutVertexArray,D,Ue),ie.emplaceBack(yn,yn+1,yn+2),ie.emplaceBack(yn+1,yn+2,yn+3),be.vertexLength+=4,be.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(lt[0]),Ne!==c.length-1&&Bt===c[Ne+1].sectionIndex||o.programConfigurations.populatePaintArrays(ae.length,E,E.index,{},re,Ie&&Ie[Bt])}o.placedSymbolArray.emplaceBack(D.x,D.y,_e,this.glyphOffsetArray.length-_e,Le,$,G,D.segment,p?p[0]:0,p?p[1]:0,x[0],x[1],k,0,!1,0,X)}_addCollisionDebugVertex(o,c,p,x,b,E){return c.emplaceBack(0,0),o.emplaceBack(p.x,p.y,x,b,Math.round(E.x),Math.round(E.y))}addCollisionDebugVertices(o,c,p,x,b,E,k){const D=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),$=D.vertexLength,G=b.layoutVertexArray,X=b.collisionVertexArray,re=k.anchorX,ie=k.anchorY;this._addCollisionDebugVertex(G,X,E,re,ie,new Ge(o,c)),this._addCollisionDebugVertex(G,X,E,re,ie,new Ge(p,c)),this._addCollisionDebugVertex(G,X,E,re,ie,new Ge(p,x)),this._addCollisionDebugVertex(G,X,E,re,ie,new Ge(o,x)),D.vertexLength+=4;const ae=b.indexArray;ae.emplaceBack($,$+1),ae.emplaceBack($+1,$+2),ae.emplaceBack($+2,$+3),ae.emplaceBack($+3,$),D.primitiveLength+=4}addDebugCollisionBoxes(o,c,p,x){for(let b=o;b<c;b++){const E=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,x?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,p)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new z0(m,gE.members,A),this.iconCollisionBox=new z0(m,gE.members,A);for(let o=0;o<this.symbolInstances.length;o++){const c=this.symbolInstances.get(o);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(o,c,p,x,b,E,k,D,$){const G={};for(let X=c;X<p;X++){const re=o.get(X);G.textBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},G.textFeatureIndex=re.featureIndex;break}for(let X=x;X<b;X++){const re=o.get(X);G.verticalTextBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},G.verticalTextFeatureIndex=re.featureIndex;break}for(let X=E;X<k;X++){const re=o.get(X);G.iconBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},G.iconFeatureIndex=re.featureIndex;break}for(let X=D;X<$;X++){const re=o.get(X);G.verticalIconBox={x1:re.x1,y1:re.y1,x2:re.x2,y2:re.y2,anchorPointX:re.anchorPointX,anchorPointY:re.anchorPointY},G.verticalIconFeatureIndex=re.featureIndex;break}return G}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const p=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,c){const p=o.placedSymbolArray.get(c),x=p.vertexStartIndex+4*p.numGlyphs;for(let b=p.vertexStartIndex;b<x;b+=4)o.indexArray.emplaceBack(b,b+1,b+2),o.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(o),p=Math.cos(o),x=[],b=[],E=[];for(let k=0;k<this.symbolInstances.length;++k){E.push(k);const D=this.symbolInstances.get(k);x.push(0|Math.round(c*D.anchorX+p*D.anchorY)),b.push(D.featureIndex)}return E.sort((k,D)=>x[k]-x[D]||b[D]-b[k]),E}addToSortKeyRanges(o,c){const p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===c?p.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const p=this.symbolInstances.get(c);this.featureSortOrder.push(p.featureIndex),[p.rightJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.leftJustifiedTextSymbolIndex].forEach((x,b,E)=>{x>=0&&E.indexOf(x)===b&&this.addIndicesForPlacedSymbol(this.text,x)}),p.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,p.verticalPlacedTextSymbolIndex),p.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.placedIconSymbolIndex),p.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}bt("SymbolBucket",rf,{omit:["layers","collisionBoxArray","features","compareText"]}),rf.MAX_GLYPHS=65535,rf.addDynamicAttributes=M0;const s4=new fi({"symbol-placement":new Mt(Fe.layout_symbol["symbol-placement"]),"symbol-spacing":new Mt(Fe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Mt(Fe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Gt(Fe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Mt(Fe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Mt(Fe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Mt(Fe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Mt(Fe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Mt(Fe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Mt(Fe.layout_symbol["icon-rotation-alignment"]),"icon-size":new Gt(Fe.layout_symbol["icon-size"]),"icon-text-fit":new Mt(Fe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Mt(Fe.layout_symbol["icon-text-fit-padding"]),"icon-image":new Gt(Fe.layout_symbol["icon-image"]),"icon-rotate":new Gt(Fe.layout_symbol["icon-rotate"]),"icon-padding":new Gt(Fe.layout_symbol["icon-padding"]),"icon-keep-upright":new Mt(Fe.layout_symbol["icon-keep-upright"]),"icon-offset":new Gt(Fe.layout_symbol["icon-offset"]),"icon-anchor":new Gt(Fe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Mt(Fe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Mt(Fe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Mt(Fe.layout_symbol["text-rotation-alignment"]),"text-field":new Gt(Fe.layout_symbol["text-field"]),"text-font":new Gt(Fe.layout_symbol["text-font"]),"text-size":new Gt(Fe.layout_symbol["text-size"]),"text-max-width":new Gt(Fe.layout_symbol["text-max-width"]),"text-line-height":new Mt(Fe.layout_symbol["text-line-height"]),"text-letter-spacing":new Gt(Fe.layout_symbol["text-letter-spacing"]),"text-justify":new Gt(Fe.layout_symbol["text-justify"]),"text-radial-offset":new Gt(Fe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Mt(Fe.layout_symbol["text-variable-anchor"]),"text-anchor":new Gt(Fe.layout_symbol["text-anchor"]),"text-max-angle":new Mt(Fe.layout_symbol["text-max-angle"]),"text-writing-mode":new Mt(Fe.layout_symbol["text-writing-mode"]),"text-rotate":new Gt(Fe.layout_symbol["text-rotate"]),"text-padding":new Mt(Fe.layout_symbol["text-padding"]),"text-keep-upright":new Mt(Fe.layout_symbol["text-keep-upright"]),"text-transform":new Gt(Fe.layout_symbol["text-transform"]),"text-offset":new Gt(Fe.layout_symbol["text-offset"]),"text-allow-overlap":new Mt(Fe.layout_symbol["text-allow-overlap"]),"text-overlap":new Mt(Fe.layout_symbol["text-overlap"]),"text-ignore-placement":new Mt(Fe.layout_symbol["text-ignore-placement"]),"text-optional":new Mt(Fe.layout_symbol["text-optional"])});var F0={paint:new fi({"icon-opacity":new Gt(Fe.paint_symbol["icon-opacity"]),"icon-color":new Gt(Fe.paint_symbol["icon-color"]),"icon-halo-color":new Gt(Fe.paint_symbol["icon-halo-color"]),"icon-halo-width":new Gt(Fe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Gt(Fe.paint_symbol["icon-halo-blur"]),"icon-translate":new Mt(Fe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Mt(Fe.paint_symbol["icon-translate-anchor"]),"text-opacity":new Gt(Fe.paint_symbol["text-opacity"]),"text-color":new Gt(Fe.paint_symbol["text-color"],{runtimeType:hr,getOverride:s=>s.textColor,hasOverride:s=>!!s.textColor}),"text-halo-color":new Gt(Fe.paint_symbol["text-halo-color"]),"text-halo-width":new Gt(Fe.paint_symbol["text-halo-width"]),"text-halo-blur":new Gt(Fe.paint_symbol["text-halo-blur"]),"text-translate":new Mt(Fe.paint_symbol["text-translate"]),"text-translate-anchor":new Mt(Fe.paint_symbol["text-translate-anchor"])}),layout:s4};class $E{constructor(o){if(o.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=o.property.overrides?o.property.overrides.runtimeType:ir,this.defaultValue=o}evaluate(o){if(o.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(o.formattedSection))return c.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}bt("FormatSectionOverride",$E,{omit:["defaultValue"]});class hg extends wo{constructor(o){super(o,F0)}recalculate(o,c){if(super.recalculate(o,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const p=this.layout.get("text-writing-mode");if(p){const x=[];for(const b of p)x.indexOf(b)<0&&x.push(b);this.layout._values["text-writing-mode"]=x}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(o,c,p,x){const b=this.layout.get(o).evaluate(c,{},p,x),E=this._unevaluatedLayout._values[o];return E.isDataDriven()||_u(E.value)||!b?b:function(k,D){return D.replace(/{([^{}]+)}/g,($,G)=>G in k?String(k[G]):"")}(c.properties,b)}createBucket(o){return new rf(o)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const o of F0.paint.overridableProperties){if(!hg.hasPaintOverride(this.layout,o))continue;const c=this.paint.get(o),p=new $E(c),x=new Fc(p,c.property.specification);let b=null;b=c.value.kind==="constant"||c.value.kind==="source"?new Nc("source",x):new xu("composite",x,c.value.zoomStops),this.paint._values[o]=new bo(c.property,b,c.parameters)}}_handleOverridablePaintPropertyUpdate(o,c,p){return!(!this.layout||c.isDataDriven()||p.isDataDriven())&&hg.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,c){const p=o.get("text-field"),x=F0.paint.properties[c];let b=!1;const E=k=>{for(const D of k)if(x.overrides&&x.overrides.hasOverride(D))return void(b=!0)};if(p.value.kind==="constant"&&p.value.value instanceof Ht)E(p.value.value.sections);else if(p.value.kind==="source"){const k=$=>{b||($ instanceof te&&le($.value)===fn?E($.value.sections):$ instanceof Vs?E($.sections):$.eachChild(k))},D=p.value;D._styleExpression&&k(D._styleExpression.expression)}return b}}function N0(s,o,c){let p="never";const x=s.get(o);return x?p=x:s.get(c)&&(p="always"),p}var l4={paint:new fi({"background-color":new Mt(Fe.paint_background["background-color"]),"background-pattern":new Au(Fe.paint_background["background-pattern"]),"background-opacity":new Mt(Fe.paint_background["background-opacity"])})},u4={paint:new fi({"raster-opacity":new Mt(Fe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Mt(Fe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Mt(Fe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Mt(Fe.paint_raster["raster-brightness-max"]),"raster-saturation":new Mt(Fe.paint_raster["raster-saturation"]),"raster-contrast":new Mt(Fe.paint_raster["raster-contrast"]),"raster-resampling":new Mt(Fe.paint_raster["raster-resampling"]),"raster-fade-duration":new Mt(Fe.paint_raster["raster-fade-duration"])})};class c4 extends wo{constructor(o){super(o,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=o}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const h4={circle:class extends wo{constructor(s){super(s,d0)}createBucket(s){return new ga(s)}queryRadius(s){const o=s;return jl("circle-radius",this,o)+jl("circle-stroke-width",this,o)+Kh(this.paint.get("circle-translate"))}queryIntersectsFeature(s,o,c,p,x,b,E,k){const D=Xh(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,E),$=this.paint.get("circle-radius").evaluate(o,c)+this.paint.get("circle-stroke-width").evaluate(o,c),G=this.paint.get("circle-pitch-alignment")==="map",X=G?D:function(ie,ae){return ie.map(be=>JS(be,ae))}(D,k),re=G?$*E:$;for(const ie of p)for(const ae of ie){const be=G?ae:JS(ae,k);let _e=re;const Le=Ym([],[ae.x,ae.y,0,1],k);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?_e*=Le[3]/b.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(_e*=b.cameraToCenterDistance/Le[3]),Wh(X,be,_e))return!0}return!1}},heatmap:class extends wo{createBucket(s){return new eE(s)}constructor(s){super(s,qD),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=nE({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends wo{constructor(s){super(s,GD)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends wo{constructor(s){super(s,sz)}recalculate(s,o){super.recalculate(s,o);const c=this.paint._values["fill-outline-color"];c.value.kind==="constant"&&c.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new S0(s)}queryRadius(){return Kh(this.paint.get("fill-translate"))}queryIntersectsFeature(s,o,c,p,x,b,E){return Wr(Xh(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,E),p)}isTileClipped(){return!0}},"fill-extrusion":class extends wo{constructor(s){super(s,bz)}createBucket(s){return new T0(s)}queryRadius(){return Kh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(s,o,c,p,x,b,E,k){const D=Xh(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,E),$=this.paint.get("fill-extrusion-height").evaluate(o,c),G=this.paint.get("fill-extrusion-base").evaluate(o,c),X=function(ie,ae,be,_e){const Le=[];for(const Ue of ie){const Ie=[Ue.x,Ue.y,0,1];Ym(Ie,Ie,ae),Le.push(new Ge(Ie[0]/Ie[3],Ie[1]/Ie[3]))}return Le}(D,k),re=function(ie,ae,be,_e){const Le=[],Ue=[],Ie=_e[8]*ae,Ne=_e[9]*ae,nt=_e[10]*ae,Qe=_e[11]*ae,Rt=_e[8]*be,Ft=_e[9]*be,wt=_e[10]*be,_t=_e[11]*be;for(const vt of ie){const St=[],xt=[];for(const lt of vt){const jt=lt.x,Bt=lt.y,yn=_e[0]*jt+_e[4]*Bt+_e[12],mr=_e[1]*jt+_e[5]*Bt+_e[13],Sr=_e[2]*jt+_e[6]*Bt+_e[14],ti=_e[3]*jt+_e[7]*Bt+_e[15],xa=Sr+nt,wi=ti+Qe,Kr=yn+Rt,ai=mr+Ft,Si=Sr+wt,Fi=ti+_t,Eo=new Ge((yn+Ie)/wi,(mr+Ne)/wi);Eo.z=xa/wi,St.push(Eo);const Xr=new Ge(Kr/Fi,ai/Fi);Xr.z=Si/Fi,xt.push(Xr)}Le.push(St),Ue.push(xt)}return[Le,Ue]}(p,G,$,k);return function(ie,ae,be){let _e=1/0;Wr(be,ae)&&(_e=hE(be,ae[0]));for(let Le=0;Le<ae.length;Le++){const Ue=ae[Le],Ie=ie[Le];for(let Ne=0;Ne<Ue.length-1;Ne++){const nt=Ue[Ne],Qe=[nt,Ue[Ne+1],Ie[Ne+1],Ie[Ne],nt];el(be,Qe)&&(_e=Math.min(_e,hE(be,Qe)))}}return _e!==1/0&&_e}(re[0],re[1],X)}},line:class extends wo{constructor(s){super(s,dE),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(s){s==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof rs,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(s,o){super.recalculate(s,o),this.paint._values["line-floorwidth"]=pE.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new C0(s)}queryRadius(s){const o=s,c=mE(jl("line-width",this,o),jl("line-gap-width",this,o)),p=jl("line-offset",this,o);return c/2+Math.abs(p)+Kh(this.paint.get("line-translate"))}queryIntersectsFeature(s,o,c,p,x,b,E){const k=Xh(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,E),D=E/2*mE(this.paint.get("line-width").evaluate(o,c),this.paint.get("line-gap-width").evaluate(o,c)),$=this.paint.get("line-offset").evaluate(o,c);return $&&(p=function(G,X){const re=[];for(let ie=0;ie<G.length;ie++){const ae=G[ie],be=[];for(let _e=0;_e<ae.length;_e++){const Le=ae[_e-1],Ue=ae[_e],Ie=ae[_e+1],Ne=_e===0?new Ge(0,0):Ue.sub(Le)._unit()._perp(),nt=_e===ae.length-1?new Ge(0,0):Ie.sub(Ue)._unit()._perp(),Qe=Ne._add(nt)._unit(),Rt=Qe.x*nt.x+Qe.y*nt.y;Rt!==0&&Qe._mult(1/Rt),be.push(Qe._mult(X)._add(Ue))}re.push(be)}return re}(p,$*E)),function(G,X,re){for(let ie=0;ie<X.length;ie++){const ae=X[ie];if(G.length>=3){for(let be=0;be<ae.length;be++)if(va(G,ae[be]))return!0}if(br(G,ae,re))return!0}return!1}(k,p,D)}isTileClipped(){return!0}},symbol:hg,background:class extends wo{constructor(s){super(s,l4)}},raster:class extends wo{constructor(s){super(s,u4)}}};class f4{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const B0=63710088e-1;class Dr{constructor(o,c){if(isNaN(o)||isNaN(c))throw new Error(`Invalid LngLat object: (${o}, ${c})`);if(this.lng=+o,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Dr(I(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const c=Math.PI/180,p=this.lat*c,x=o.lat*c,b=Math.sin(p)*Math.sin(x)+Math.cos(p)*Math.cos(x)*Math.cos((o.lng-this.lng)*c);return B0*Math.acos(Math.min(b,1))}toBounds(o=0){const c=360*o/40075017,p=c/Math.cos(Math.PI/180*this.lat);return new jE(new Dr(this.lng-p,this.lat-c),new Dr(this.lng+p,this.lat+c))}static convert(o){if(o instanceof Dr)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Dr(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Dr(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class of{constructor(o,c){o&&(c?this.setSouthWest(o).setNorthEast(c):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))}setNorthEast(o){return this._ne=o instanceof Dr?new Dr(o.lng,o.lat):Dr.convert(o),this}setSouthWest(o){return this._sw=o instanceof Dr?new Dr(o.lng,o.lat):Dr.convert(o),this}extend(o){const c=this._sw,p=this._ne;let x,b;if(o instanceof Dr)x=o,b=o;else{if(!(o instanceof of))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(of.convert(o)):this.extend(Dr.convert(o)):this;if(x=o._sw,b=o._ne,!x||!b)return this}return c||p?(c.lng=Math.min(x.lng,c.lng),c.lat=Math.min(x.lat,c.lat),p.lng=Math.max(b.lng,p.lng),p.lat=Math.max(b.lat,p.lat)):(this._sw=new Dr(x.lng,x.lat),this._ne=new Dr(b.lng,b.lat)),this}getCenter(){return new Dr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Dr(this.getWest(),this.getNorth())}getSouthEast(){return new Dr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:c,lat:p}=Dr.convert(o);let x=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(x=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&x}static convert(o){return o instanceof of?o:o&&new of(o)}}var jE=of;const qE=2*Math.PI*B0;function GE(s){return qE*Math.cos(s*Math.PI/180)}function HE(s){return(180+s)/360}function ZE(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function WE(s,o){return s/GE(o)}function U0(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}class fg{constructor(o,c,p=0){this.x=+o,this.y=+c,this.z=+p}static fromLngLat(o,c=0){const p=Dr.convert(o);return new fg(HE(p.lng),ZE(p.lat),WE(c,p.lat))}toLngLat(){return new Dr(360*this.x-180,U0(this.y))}toAltitude(){return this.z*GE(U0(this.y))}meterInMercatorCoordinateUnits(){return 1/qE*(o=U0(this.y),1/Math.cos(o*Math.PI/180));var o}}function KE(s,o,c){var p=2*Math.PI*6378137/256/Math.pow(2,c);return[s*p-2*Math.PI*6378137/2,o*p-2*Math.PI*6378137/2]}class V0{constructor(o,c,p){if(o<0||o>25||p<0||p>=Math.pow(2,o)||c<0||c>=Math.pow(2,o))throw new Error(`x=${c}, y=${p}, z=${o} outside of bounds. 0<=x<${Math.pow(2,o)}, 0<=y<${Math.pow(2,o)} 0<=z<=25 `);this.z=o,this.x=c,this.y=p,this.key=Gd(0,o,o,c,p)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,c,p){const x=(E=this.y,k=this.z,D=KE(256*(b=this.x),256*(E=Math.pow(2,k)-E-1),k),$=KE(256*(b+1),256*(E+1),k),D[0]+","+D[1]+","+$[0]+","+$[1]);var b,E,k,D,$;const G=function(X,re,ie){let ae,be="";for(let _e=X;_e>0;_e--)ae=1<<_e-1,be+=(re&ae?1:0)+(ie&ae?2:0);return be}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(p==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,G).replace(/{bbox-epsg-3857}/g,x)}isChildOf(o){const c=this.z-o.z;return c>0&&o.x===this.x>>c&&o.y===this.y>>c}getTilePoint(o){const c=Math.pow(2,this.z);return new Ge((o.x*c-this.x)*Un,(o.y*c-this.y)*Un)}toString(){return`${this.z}/${this.x}/${this.y}`}}class XE{constructor(o,c){this.wrap=o,this.canonical=c,this.key=Gd(o,c.z,c.z,c.x,c.y)}}class _a{constructor(o,c,p,x,b){if(o<p)throw new Error(`overscaledZ should be >= z; overscaledZ = ${o}; z = ${p}`);this.overscaledZ=o,this.wrap=c,this.canonical=new V0(p,+x,+b),this.key=Gd(c,o,p,x,b)}clone(){return new _a(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-o;return o>this.canonical.z?new _a(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _a(o,this.wrap,o,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(o,c){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);const p=this.canonical.z-o;return o>this.canonical.z?Gd(this.wrap*+c,o,this.canonical.z,this.canonical.x,this.canonical.y):Gd(this.wrap*+c,o,o,this.canonical.x>>p,this.canonical.y>>p)}isChildOf(o){if(o.wrap!==this.wrap)return!1;const c=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>c&&o.canonical.y===this.canonical.y>>c}children(o){if(this.overscaledZ>=o)return[new _a(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,p=2*this.canonical.x,x=2*this.canonical.y;return[new _a(c,this.wrap,c,p,x),new _a(c,this.wrap,c,p+1,x),new _a(c,this.wrap,c,p,x+1),new _a(c,this.wrap,c,p+1,x+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new _a(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new _a(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new XE(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(o){return this.canonical.getTilePoint(new fg(o.x-this.wrap,o.y))}}function Gd(s,o,c,p,x){(s*=2)<0&&(s=-1*s-1);const b=1<<c;return(b*b*s+b*x+p).toString(36)+c.toString(36)+o.toString(36)}bt("CanonicalTileID",V0),bt("OverscaledTileID",_a,{omit:["posMatrix"]});class YE{constructor(o,c,p){if(this.uid=o,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(p&&p!=="mapbox"&&p!=="terrarium")return void ee(`"${p}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=c.height;const x=this.dim=c.height-2;this.data=new Uint32Array(c.data.buffer),this.encoding=p||"mapbox";for(let b=0;b<x;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(x,b)]=this.data[this._idx(x-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,x)]=this.data[this._idx(b,x-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(x,-1)]=this.data[this._idx(x-1,0)],this.data[this._idx(-1,x)]=this.data[this._idx(0,x-1)],this.data[this._idx(x,x)]=this.data[this._idx(x-1,x-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let b=0;b<x;b++)for(let E=0;E<x;E++){const k=this.get(b,E);k>this.max&&(this.max=k),k<this.min&&(this.min=k)}}get(o,c){const p=new Uint8Array(this.data.buffer),x=4*this._idx(o,c);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(p[x],p[x+1],p[x+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(o,c){if(o<-1||o>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(o+1)}_unpackMapbox(o,c,p){return(256*o*256+256*c+p)/10-1e4}_unpackTerrarium(o,c,p){return 256*o+c+p/256-32768}getPixels(){return new ya({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(o,c,p){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let x=c*this.dim,b=c*this.dim+this.dim,E=p*this.dim,k=p*this.dim+this.dim;switch(c){case-1:x=b-1;break;case 1:b=x+1}switch(p){case-1:E=k-1;break;case 1:k=E+1}const D=-c*this.dim,$=-p*this.dim;for(let G=E;G<k;G++)for(let X=x;X<b;X++)this.data[this._idx(X,G)]=o.data[this._idx(X+D,G+$)]}}bt("DEMData",YE);class QE{constructor(o){this._stringToNumber={},this._numberToString=[];for(let c=0;c<o.length;c++){const p=o[c];this._stringToNumber[p]=c,this._numberToString[c]=p}}encode(o){return this._stringToNumber[o]}decode(o){if(o>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${o} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[o]}}class JE{constructor(o,c,p,x,b){this.type="Feature",this._vectorTileFeature=o,o._z=c,o._x=p,o._y=x,this.properties=o.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(o[c]=this[c]);return o}}class e2{constructor(o,c){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new Na(Un,16,0),this.grid3D=new Na(Un,16,0),this.featureIndexArray=new Km,this.promoteId=c}insert(o,c,p,x,b,E){const k=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,x,b);const D=E?this.grid3D:this.grid;for(let $=0;$<c.length;$++){const G=c[$],X=[1/0,1/0,-1/0,-1/0];for(let re=0;re<G.length;re++){const ie=G[re];X[0]=Math.min(X[0],ie.x),X[1]=Math.min(X[1],ie.y),X[2]=Math.max(X[2],ie.x),X[3]=Math.max(X[3],ie.y)}X[0]<Un&&X[1]<Un&&X[2]>=0&&X[3]>=0&&D.insert(k,X[0],X[1],X[2],X[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Du.VectorTile(new P0(this.rawTileData)).layers,this.sourceLayerCoder=new QE(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(o,c,p,x){this.loadVTLayers();const b=o.params||{},E=Un/o.tileSize/o.scale,k=Vc(b.filter),D=o.queryGeometry,$=o.queryPadding*E,G=n2(D),X=this.grid.query(G.minX-$,G.minY-$,G.maxX+$,G.maxY+$),re=n2(o.cameraQueryGeometry),ie=this.grid3D.query(re.minX-$,re.minY-$,re.maxX+$,re.maxY+$,(_e,Le,Ue,Ie)=>function(Ne,nt,Qe,Rt,Ft){for(const _t of Ne)if(nt<=_t.x&&Qe<=_t.y&&Rt>=_t.x&&Ft>=_t.y)return!0;const wt=[new Ge(nt,Qe),new Ge(nt,Ft),new Ge(Rt,Ft),new Ge(Rt,Qe)];if(Ne.length>2){for(const _t of wt)if(va(Ne,_t))return!0}for(let _t=0;_t<Ne.length-1;_t++)if(Rd(Ne[_t],Ne[_t+1],wt))return!0;return!1}(o.cameraQueryGeometry,_e-$,Le-$,Ue+$,Ie+$));for(const _e of ie)X.push(_e);X.sort(d4);const ae={};let be;for(let _e=0;_e<X.length;_e++){const Le=X[_e];if(Le===be)continue;be=Le;const Ue=this.featureIndexArray.get(Le);let Ie=null;this.loadMatchingFeature(ae,Ue.bucketIndex,Ue.sourceLayerIndex,Ue.featureIndex,k,b.layers,b.availableImages,c,p,x,(Ne,nt,Qe)=>(Ie||(Ie=bi(Ne)),nt.queryIntersectsFeature(D,Ne,Qe,Ie,this.z,o.transform,E,o.pixelPosMatrix)))}return ae}loadMatchingFeature(o,c,p,x,b,E,k,D,$,G,X){const re=this.bucketLayerIDs[c];if(E&&!function(_e,Le){for(let Ue=0;Ue<_e.length;Ue++)if(Le.indexOf(_e[Ue])>=0)return!0;return!1}(E,re))return;const ie=this.sourceLayerCoder.decode(p),ae=this.vtLayers[ie].feature(x);if(b.needGeometry){const _e=So(ae,!0);if(!b.filter(new Yn(this.tileID.overscaledZ),_e,this.tileID.canonical))return}else if(!b.filter(new Yn(this.tileID.overscaledZ),ae))return;const be=this.getId(ae,ie);for(let _e=0;_e<re.length;_e++){const Le=re[_e];if(E&&E.indexOf(Le)<0)continue;const Ue=D[Le];if(!Ue)continue;let Ie={};be&&G&&(Ie=G.getState(Ue.sourceLayer||"_geojsonTileLayer",be));const Ne=F({},$[Le]);Ne.paint=t2(Ne.paint,Ue.paint,ae,Ie,k),Ne.layout=t2(Ne.layout,Ue.layout,ae,Ie,k);const nt=!X||X(ae,Ue,Ie);if(!nt)continue;const Qe=new JE(ae,this.z,this.x,this.y,be);Qe.layer=Ne;let Rt=o[Le];Rt===void 0&&(Rt=o[Le]=[]),Rt.push({featureIndex:x,feature:Qe,intersectionZ:nt})}}lookupSymbolFeatures(o,c,p,x,b,E,k,D){const $={};this.loadVTLayers();const G=Vc(b);for(const X of o)this.loadMatchingFeature($,p,x,X,G,E,k,D,c);return $}hasLayer(o){for(const c of this.bucketLayerIDs)for(const p of c)if(o===p)return!0;return!1}getId(o,c){let p=o.id;return this.promoteId&&(p=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof p=="boolean"&&(p=Number(p))),p}}function t2(s,o,c,p,x){return U(s,(b,E)=>{const k=o instanceof Bl?o.get(E):null;return k&&k.evaluate?k.evaluate(c,p,x):k})}function n2(s){let o=1/0,c=1/0,p=-1/0,x=-1/0;for(const b of s)o=Math.min(o,b.x),c=Math.min(c,b.y),p=Math.max(p,b.x),x=Math.max(x,b.y);return{minX:o,minY:c,maxX:p,maxY:x}}function d4(s,o){return o-s}function $0(s,o,c,p,x,b){if(x-p<=c)return;const E=p+x>>1;r2(s,o,E,p,x,b%2),$0(s,o,c,p,E-1,b+1),$0(s,o,c,E+1,x,b+1)}function r2(s,o,c,p,x,b){for(;x>p;){if(x-p>600){const $=x-p+1,G=c-p+1,X=Math.log($),re=.5*Math.exp(2*X/3),ie=.5*Math.sqrt(X*re*($-re)/$)*(G-$/2<0?-1:1);r2(s,o,c,Math.max(p,Math.floor(c-G*re/$+ie)),Math.min(x,Math.floor(c+($-G)*re/$+ie)),b)}const E=o[2*c+b];let k=p,D=x;for(Hd(s,o,p,c),o[2*x+b]>E&&Hd(s,o,p,x);k<D;){for(Hd(s,o,k,D),k++,D--;o[2*k+b]<E;)k++;for(;o[2*D+b]>E;)D--}o[2*p+b]===E?Hd(s,o,p,D):(D++,Hd(s,o,D,x)),D<=c&&(p=D+1),c<=D&&(x=D-1)}}function Hd(s,o,c,p){j0(s,c,p),j0(o,2*c,2*p),j0(o,2*c+1,2*p+1)}function j0(s,o,c){const p=s[o];s[o]=s[c],s[c]=p}function i2(s,o,c,p){const x=s-c,b=o-p;return x*x+b*b}bt("FeatureIndex",e2,{omit:["rawTileData","sourceLayerCoder"]});const p4=s=>s[0],m4=s=>s[1];var q0;l.PerformanceMarkers=void 0,(q0=l.PerformanceMarkers||(l.PerformanceMarkers={})).create="create",q0.load="load",q0.fullLoad="fullLoad";let dg=null,Zd=[];const G0=1e3/30,g4={mark(s){performance.mark(s)},frame(s){const o=s;dg!=null&&Zd.push(o-dg),dg=o},clearMetrics(){dg=null,Zd=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const s in l.PerformanceMarkers)performance.clearMarks(l.PerformanceMarkers[s])},getPerformanceMetrics(){performance.measure("loadTime",l.PerformanceMarkers.create,l.PerformanceMarkers.load),performance.measure("fullLoadTime",l.PerformanceMarkers.create,l.PerformanceMarkers.fullLoad);const s=performance.getEntriesByName("loadTime")[0].duration,o=performance.getEntriesByName("fullLoadTime")[0].duration,c=Zd.length,p=1/(Zd.reduce((b,E)=>b+E,0)/c/1e3),x=Zd.filter(b=>b>G0).reduce((b,E)=>b+(E-G0)/G0,0);return{loadTime:s,fullLoadTime:o,fps:p,percentDroppedFrames:x/(c+x)*100}}};l.AJAXError=We,l.ARRAY_TYPE=tl,l.Actor=class{constructor(s,o,c){this.target=s,this.parent=o,this.mapId=c,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Z(["receive","process"],this),this.invoker=new f4(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=se()?s:window}send(s,o,c,p,x=!1){const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(this.callbacks[b]=c);const E=he(this.globalScope)?void 0:[];return this.target.postMessage({id:b,type:s,hasCallback:!!c,targetMapId:p,mustQueue:x,sourceMapId:this.mapId,data:da(o,E)},E),{cancel:()=>{c&&delete this.callbacks[b],this.target.postMessage({id:b,type:"<cancel>",targetMapId:p,sourceMapId:this.mapId})}}}receive(s){const o=s.data,c=o.id;if(c&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){delete this.tasks[c];const p=this.cancelCallbacks[c];delete this.cancelCallbacks[c],p&&p()}else se()||o.mustQueue?(this.tasks[c]=o,this.taskQueue.push(c),this.invoker.trigger()):this.processTask(c,o)}process(){if(!this.taskQueue.length)return;const s=this.taskQueue.shift(),o=this.tasks[s];delete this.tasks[s],this.taskQueue.length&&this.invoker.trigger(),o&&this.processTask(s,o)}processTask(s,o){if(o.type==="<response>"){const c=this.callbacks[s];delete this.callbacks[s],c&&(o.error?c(Ua(o.error)):c(null,Ua(o.data)))}else{let c=!1;const p=he(this.globalScope)?void 0:[],x=o.hasCallback?(k,D)=>{c=!0,delete this.cancelCallbacks[s],this.target.postMessage({id:s,type:"<response>",sourceMapId:this.mapId,error:k?da(k):null,data:da(D,p)},p)}:k=>{c=!0};let b=null;const E=Ua(o.data);if(this.parent[o.type])b=this.parent[o.type](o.sourceMapId,E,x);else if(this.parent.getWorkerSource){const k=o.type.split(".");b=this.parent.getWorkerSource(o.sourceMapId,k[0],E.source)[k[1]](E,x)}else x(new Error(`Could not find function ${o.type}`));!c&&b&&b.cancel&&(this.cancelCallbacks[s]=b.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},l.AlphaImage=Dd,l.CanonicalTileID=V0,l.CollisionBoxArray=Jc,l.CollisionCircleLayoutArray=class extends Vl{},l.Color=Vt,l.DEMData=YE,l.DataConstantProperty=Mt,l.DictionaryCoder=QE,l.EXTENT=Un,l.ErrorEvent=an,l.EvaluationParameters=Yn,l.Event=Et,l.Evented=Pn,l.FeatureIndex=e2,l.FillBucket=S0,l.FillExtrusionBucket=T0,l.GeoJSONFeature=JE,l.ImageAtlas=EE,l.ImagePosition=I0,l.KDBush=class{constructor(s,o=p4,c=m4,p=64,x=Float64Array){this.nodeSize=p,this.points=s;const b=s.length<65536?Uint16Array:Uint32Array,E=this.ids=new b(s.length),k=this.coords=new x(2*s.length);for(let D=0;D<s.length;D++)E[D]=D,k[2*D]=o(s[D]),k[2*D+1]=c(s[D]);$0(E,k,p,0,E.length-1,0)}range(s,o,c,p){return function(x,b,E,k,D,$,G){const X=[0,x.length-1,0],re=[];let ie,ae;for(;X.length;){const be=X.pop(),_e=X.pop(),Le=X.pop();if(_e-Le<=G){for(let Ne=Le;Ne<=_e;Ne++)ie=b[2*Ne],ae=b[2*Ne+1],ie>=E&&ie<=D&&ae>=k&&ae<=$&&re.push(x[Ne]);continue}const Ue=Math.floor((Le+_e)/2);ie=b[2*Ue],ae=b[2*Ue+1],ie>=E&&ie<=D&&ae>=k&&ae<=$&&re.push(x[Ue]);const Ie=(be+1)%2;(be===0?E<=ie:k<=ae)&&(X.push(Le),X.push(Ue-1),X.push(Ie)),(be===0?D>=ie:$>=ae)&&(X.push(Ue+1),X.push(_e),X.push(Ie))}return re}(this.ids,this.coords,s,o,c,p,this.nodeSize)}within(s,o,c){return function(p,x,b,E,k,D){const $=[0,p.length-1,0],G=[],X=k*k;for(;$.length;){const re=$.pop(),ie=$.pop(),ae=$.pop();if(ie-ae<=D){for(let Ie=ae;Ie<=ie;Ie++)i2(x[2*Ie],x[2*Ie+1],b,E)<=X&&G.push(p[Ie]);continue}const be=Math.floor((ae+ie)/2),_e=x[2*be],Le=x[2*be+1];i2(_e,Le,b,E)<=X&&G.push(p[be]);const Ue=(re+1)%2;(re===0?b-k<=_e:E-k<=Le)&&($.push(ae),$.push(be-1),$.push(Ue)),(re===0?b+k>=_e:E+k>=Le)&&($.push(be+1),$.push(ie),$.push(Ue))}return G}(this.ids,this.coords,s,o,c,this.nodeSize)}},l.LineBucket=C0,l.LineStripIndexArray=class extends vs{},l.LngLat=Dr,l.LngLatBounds=jE,l.MercatorCoordinate=fg,l.ONE_EM=pi,l.OverscaledTileID=_a,l.PerformanceUtils=g4,l.Pos3dArray=class extends Te{},l.PosArray=Ld,l.Properties=fi,l.QuadTriangleArray=class extends Iu{},l.RGBAImage=ya,l.RasterBoundsArray=class extends ze{},l.RequestPerformance=class{constructor(s){this._marks={start:[s.url,"start"].join("#"),end:[s.url,"end"].join("#"),measure:s.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let s=performance.getEntriesByName(this._marks.measure);return s.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),s=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),s}},l.SegmentVector=B,l.SymbolBucket=rf,l.Transitionable=Ks,l.TriangleIndexArray=S,l.Uniform1f=Ke,l.Uniform1i=class extends je{constructor(s,o){super(s,o),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))}},l.Uniform2f=class extends je{constructor(s,o){super(s,o),this.current=[0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1]))}},l.Uniform3f=class extends je{constructor(s,o){super(s,o),this.current=[0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2]))}},l.Uniform4f=Ye,l.UniformColor=st,l.UniformMatrix4f=class extends je{constructor(s,o){super(s,o),this.current=it}set(s){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(let o=1;o<16;o++)if(s[o]!==this.current[o]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}}},l.UnwrappedTileID=XE,l.ValidationError=rt,l.ZoomHistory=qh,l.addDynamicAttributes=M0,l.arrayBufferToImage=function(s,o){const c=new Image;c.onload=()=>{o(null,c),URL.revokeObjectURL(c.src),c.onload=null,window.requestAnimationFrame(()=>{c.src=De})},c.onerror=()=>o(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const p=new Blob([new Uint8Array(s)],{type:"image/png"});c.src=s.byteLength?URL.createObjectURL(p):De},l.arrayBufferToImageBitmap=function(s,o){const c=new Blob([new Uint8Array(s)],{type:"image/png"});createImageBitmap(c).then(p=>{o(null,p)}).catch(p=>{o(new Error(`Could not load image because of ${p.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},l.asyncAll=function(s,o,c){if(!s.length)return c(null,[]);let p=s.length;const x=new Array(s.length);let b=null;s.forEach((E,k)=>{o(E,(D,$)=>{D&&(b=D),x[k]=$,--p==0&&c(b,x)})})},l.bezier=C,l.bindAll=Z,l.clamp=O,l.clipLine=zE,l.clone=function(s){var o=new tl(16);return o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=s[3],o[4]=s[4],o[5]=s[5],o[6]=s[6],o[7]=s[7],o[8]=s[8],o[9]=s[9],o[10]=s[10],o[11]=s[11],o[12]=s[12],o[13]=s[13],o[14]=s[14],o[15]=s[15],o},l.clone$1=j,l.collisionCircleLayout=Lz,l.config=Pe,l.copy=function(s,o){return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[8]=o[8],s[9]=o[9],s[10]=o[10],s[11]=o[11],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15],s},l.create=function(){var s=new tl(16);return tl!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},l.createExpression=qs,l.createFilter=Vc,l.createLayout=R,l.createStyleLayer=function(s){return s.type==="custom"?new c4(s):new h4[s.type](s)},l.dot=function(s,o){return s[0]*o[0]+s[1]*o[1]+s[2]*o[2]+s[3]*o[3]},l.earthRadius=B0,l.ease=P,l.emitValidationErrors=Zs,l.equals=function(s,o){var c=s[0],p=s[1],x=s[2],b=s[3],E=s[4],k=s[5],D=s[6],$=s[7],G=s[8],X=s[9],re=s[10],ie=s[11],ae=s[12],be=s[13],_e=s[14],Le=s[15],Ue=o[0],Ie=o[1],Ne=o[2],nt=o[3],Qe=o[4],Rt=o[5],Ft=o[6],wt=o[7],_t=o[8],vt=o[9],St=o[10],xt=o[11],lt=o[12],jt=o[13],Bt=o[14],yn=o[15];return Math.abs(c-Ue)<=ei*Math.max(1,Math.abs(c),Math.abs(Ue))&&Math.abs(p-Ie)<=ei*Math.max(1,Math.abs(p),Math.abs(Ie))&&Math.abs(x-Ne)<=ei*Math.max(1,Math.abs(x),Math.abs(Ne))&&Math.abs(b-nt)<=ei*Math.max(1,Math.abs(b),Math.abs(nt))&&Math.abs(E-Qe)<=ei*Math.max(1,Math.abs(E),Math.abs(Qe))&&Math.abs(k-Rt)<=ei*Math.max(1,Math.abs(k),Math.abs(Rt))&&Math.abs(D-Ft)<=ei*Math.max(1,Math.abs(D),Math.abs(Ft))&&Math.abs($-wt)<=ei*Math.max(1,Math.abs($),Math.abs(wt))&&Math.abs(G-_t)<=ei*Math.max(1,Math.abs(G),Math.abs(_t))&&Math.abs(X-vt)<=ei*Math.max(1,Math.abs(X),Math.abs(vt))&&Math.abs(re-St)<=ei*Math.max(1,Math.abs(re),Math.abs(St))&&Math.abs(ie-xt)<=ei*Math.max(1,Math.abs(ie),Math.abs(xt))&&Math.abs(ae-lt)<=ei*Math.max(1,Math.abs(ae),Math.abs(lt))&&Math.abs(be-jt)<=ei*Math.max(1,Math.abs(be),Math.abs(jt))&&Math.abs(_e-Bt)<=ei*Math.max(1,Math.abs(_e),Math.abs(Bt))&&Math.abs(Le-yn)<=ei*Math.max(1,Math.abs(Le),Math.abs(yn))},l.evaluateSizeForFeature=function(s,{uSize:o,uSizeT:c},{lowerSize:p,upperSize:x}){return s.kind==="source"?p/Gl:s.kind==="composite"?Nt(p/Gl,x/Gl,c):o},l.evaluateSizeForZoom=function(s,o){let c=0,p=0;if(s.kind==="constant")p=s.layoutSize;else if(s.kind!=="source"){const{interpolationType:x,minZoom:b,maxZoom:E}=s,k=x?O(oi.interpolationFactor(x,o,b,E),0,1):0;s.kind==="camera"?p=Nt(s.minSize,s.maxSize,k):c=k}return{uSizeT:c,uSize:p}},l.evaluateVariableOffset=BE,l.evented=Cu,l.exported=Je,l.extend=F,l.filterObject=N,l.fromScaling=function(s,o){return s[0]=o[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=o[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},l.getAnchorAlignment=O0,l.getAnchorJustification=R0,l.getArrayBuffer=mt,l.getJSON=function(s,o){return et(F(s,{type:"json"}),o)},l.getOverlapMode=N0,l.getRTLTextPluginStatus=ms,l.getReferrer=Me,l.getVideo=function(s,o){const c=window.document.createElement("video");c.muted=!0,c.onloadstart=function(){o(null,c)};for(let p=0;p<s.length;p++){const x=window.document.createElement("source");ct(s[p])||(c.crossOrigin="Anonymous"),x.src=s[p],c.appendChild(x)}return{cancel:()=>{}}},l.identity=p0,l.invert=function(s,o){var c=o[0],p=o[1],x=o[2],b=o[3],E=o[4],k=o[5],D=o[6],$=o[7],G=o[8],X=o[9],re=o[10],ie=o[11],ae=o[12],be=o[13],_e=o[14],Le=o[15],Ue=c*k-p*E,Ie=c*D-x*E,Ne=c*$-b*E,nt=p*D-x*k,Qe=p*$-b*k,Rt=x*$-b*D,Ft=G*be-X*ae,wt=G*_e-re*ae,_t=G*Le-ie*ae,vt=X*_e-re*be,St=X*Le-ie*be,xt=re*Le-ie*_e,lt=Ue*xt-Ie*St+Ne*vt+nt*_t-Qe*wt+Rt*Ft;return lt?(s[0]=(k*xt-D*St+$*vt)*(lt=1/lt),s[1]=(x*St-p*xt-b*vt)*lt,s[2]=(be*Rt-_e*Qe+Le*nt)*lt,s[3]=(re*Qe-X*Rt-ie*nt)*lt,s[4]=(D*_t-E*xt-$*wt)*lt,s[5]=(c*xt-x*_t+b*wt)*lt,s[6]=(_e*Ne-ae*Rt-Le*Ie)*lt,s[7]=(G*Rt-re*Ne+ie*Ie)*lt,s[8]=(E*St-k*_t+$*Ft)*lt,s[9]=(p*_t-c*St-b*Ft)*lt,s[10]=(ae*Qe-be*Ne+Le*Ue)*lt,s[11]=(X*Ne-G*Qe-ie*Ue)*lt,s[12]=(k*wt-E*vt-D*Ft)*lt,s[13]=(c*vt-p*wt+x*Ft)*lt,s[14]=(be*Ie-ae*nt-_e*Ue)*lt,s[15]=(G*nt-X*Ie+re*Ue)*lt,s):null},l.isImageBitmap=Se,l.isSafari=he,l.isWorker=se,l.keysDifference=function(s,o){const c=[];for(const p in s)p in o||c.push(p);return c},l.lazyLoadRTLTextPlugin=function(){hi.isLoading()||hi.isLoaded()||ms()!=="deferred"||$o()},l.makeRequest=et,l.mapObject=U,l.mercatorXfromLng=HE,l.mercatorYfromLat=ZE,l.mercatorZfromAltitude=WE,l.mul=jD,l.mul$1=function(s,o,c){return s[0]=o[0]*c[0],s[1]=o[1]*c[1],s[2]=o[2]*c[2],s[3]=o[3]*c[3],s},l.multiply=QS,l.nextPowerOfTwo=function(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))},l.number=Nt,l.ortho=function(s,o,c,p,x,b,E){var k=1/(o-c),D=1/(p-x),$=1/(b-E);return s[0]=-2*k,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*D,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*$,s[11]=0,s[12]=(o+c)*k,s[13]=(x+p)*D,s[14]=(E+b)*$,s[15]=1,s},l.parseCacheControl=function(s){const o={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,p,x,b)=>{const E=x||b;return o[p]=!E||E.toLowerCase(),""}),o["max-age"]){const c=parseInt(o["max-age"],10);isNaN(c)?delete o["max-age"]:o["max-age"]=c}return o},l.parseGlyphPbf=function(s){return new P0(s).readFields(jz,[])},l.pbf=P0,l.performSymbolLayout=function(s){s.bucket.createArrays(),s.bucket.tilePixelRatio=Un/(512*s.bucket.overscaling),s.bucket.compareText={},s.bucket.iconsNeedLinear=!1;const o=s.bucket.layers[0].layout,c=s.bucket.layers[0]._unevaluatedLayout._values,p={layoutIconSize:c["icon-size"].possiblyEvaluate(new Yn(s.bucket.zoom+1),s.canonical),layoutTextSize:c["text-size"].possiblyEvaluate(new Yn(s.bucket.zoom+1),s.canonical),textMaxSize:c["text-size"].possiblyEvaluate(new Yn(18))};if(s.bucket.textSizeData.kind==="composite"){const{minZoom:D,maxZoom:$}=s.bucket.textSizeData;p.compositeTextSizes=[c["text-size"].possiblyEvaluate(new Yn(D),s.canonical),c["text-size"].possiblyEvaluate(new Yn($),s.canonical)]}if(s.bucket.iconSizeData.kind==="composite"){const{minZoom:D,maxZoom:$}=s.bucket.iconSizeData;p.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new Yn(D),s.canonical),c["icon-size"].possiblyEvaluate(new Yn($),s.canonical)]}const x=o.get("text-line-height")*pi,b=o.get("text-rotation-alignment")!=="viewport"&&o.get("symbol-placement")!=="point",E=o.get("text-keep-upright"),k=o.get("text-size");for(const D of s.bucket.features){const $=o.get("text-font").evaluate(D,{},s.canonical).join(","),G=k.evaluate(D,{},s.canonical),X=p.layoutTextSize.evaluate(D,{},s.canonical),re=p.layoutIconSize.evaluate(D,{},s.canonical),ie={horizontal:{},vertical:void 0},ae=D.text;let be,_e=[0,0];if(ae){const Ie=ae.toString(),Ne=o.get("text-letter-spacing").evaluate(D,{},s.canonical)*pi,nt=Gh(Ie)?Ne:0,Qe=o.get("text-anchor").evaluate(D,{},s.canonical),Rt=o.get("text-variable-anchor");if(!Rt){const St=o.get("text-radial-offset").evaluate(D,{},s.canonical);_e=St?BE(Qe,[St*pi,L0]):o.get("text-offset").evaluate(D,{},s.canonical).map(xt=>xt*pi)}let Ft=b?"center":o.get("text-justify").evaluate(D,{},s.canonical);const wt=o.get("symbol-placement"),_t=wt==="point"?o.get("text-max-width").evaluate(D,{},s.canonical)*pi:0,vt=()=>{s.bucket.allowVerticalPlacement&&Hc(Ie)&&(ie.vertical=ig(ae,s.glyphMap,s.glyphPositions,s.imagePositions,$,_t,x,Qe,"left",nt,_e,l.WritingMode.vertical,!0,wt,X,G))};if(!b&&Rt){const St=Ft==="auto"?Rt.map(lt=>R0(lt)):[Ft];let xt=!1;for(let lt=0;lt<St.length;lt++){const jt=St[lt];if(!ie.horizontal[jt])if(xt)ie.horizontal[jt]=ie.horizontal[0];else{const Bt=ig(ae,s.glyphMap,s.glyphPositions,s.imagePositions,$,_t,x,"center",jt,nt,_e,l.WritingMode.horizontal,!1,wt,X,G);Bt&&(ie.horizontal[jt]=Bt,xt=Bt.positionedLines.length===1)}}vt()}else{Ft==="auto"&&(Ft=R0(Qe));const St=ig(ae,s.glyphMap,s.glyphPositions,s.imagePositions,$,_t,x,Qe,Ft,nt,_e,l.WritingMode.horizontal,!1,wt,X,G);St&&(ie.horizontal[Ft]=St),vt(),Hc(Ie)&&b&&E&&(ie.vertical=ig(ae,s.glyphMap,s.glyphPositions,s.imagePositions,$,_t,x,Qe,Ft,nt,_e,l.WritingMode.vertical,!1,wt,X,G))}}let Le=!1;if(D.icon&&D.icon.name){const Ie=s.imageMap[D.icon.name];Ie&&(be=Kz(s.imagePositions[D.icon.name],o.get("icon-offset").evaluate(D,{},s.canonical),o.get("icon-anchor").evaluate(D,{},s.canonical)),Le=!!Ie.sdf,s.bucket.sdfIcons===void 0?s.bucket.sdfIcons=Le:s.bucket.sdfIcons!==Le&&ee("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ie.pixelRatio!==s.bucket.pixelRatio||o.get("icon-rotate").constantOr(1)!==0)&&(s.bucket.iconsNeedLinear=!0))}const Ue=VE(ie.horizontal)||ie.vertical;s.bucket.iconsInText=!!Ue&&Ue.iconsInText,(Ue||be)&&n4(s.bucket,D,ie,be,s.imageMap,p,X,re,_e,Le,s.canonical)}s.showCollisionBoxes&&s.bucket.generateCollisionDebugBuffers()},l.perspective=function(s,o,c,p,x){var b,E=1/Math.tan(o/2);return s[0]=E/c,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=E,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,x!=null&&x!==1/0?(s[10]=(x+p)*(b=1/(p-x)),s[14]=2*x*p*b):(s[10]=-1,s[14]=-2*p),s},l.pick=function(s,o){const c={};for(let p=0;p<o.length;p++){const x=o[p];x in s&&(c[x]=s[x])}return c},l.plugin=hi,l.pointGeometry=Ge,l.polygonIntersectsPolygon=el,l.potpack=SE,l.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],l.register=bt,l.registerForPluginStateChange=function(s){return s({pluginStatus:Zr,pluginURL:Vo}),Cu.on("pluginStateChange",s),s},l.renderColorRamp=nE,l.rotateX=function(s,o,c){var p=Math.sin(c),x=Math.cos(c),b=o[4],E=o[5],k=o[6],D=o[7],$=o[8],G=o[9],X=o[10],re=o[11];return o!==s&&(s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s[4]=b*x+$*p,s[5]=E*x+G*p,s[6]=k*x+X*p,s[7]=D*x+re*p,s[8]=$*x-b*p,s[9]=G*x-E*p,s[10]=X*x-k*p,s[11]=re*x-D*p,s},l.rotateZ=function(s,o,c){var p=Math.sin(c),x=Math.cos(c),b=o[0],E=o[1],k=o[2],D=o[3],$=o[4],G=o[5],X=o[6],re=o[7];return o!==s&&(s[8]=o[8],s[9]=o[9],s[10]=o[10],s[11]=o[11],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s[0]=b*x+$*p,s[1]=E*x+G*p,s[2]=k*x+X*p,s[3]=D*x+re*p,s[4]=$*x-b*p,s[5]=G*x-E*p,s[6]=X*x-k*p,s[7]=re*x-D*p,s},l.scale=function(s,o,c){var p=c[0],x=c[1],b=c[2];return s[0]=o[0]*p,s[1]=o[1]*p,s[2]=o[2]*p,s[3]=o[3]*p,s[4]=o[4]*x,s[5]=o[5]*x,s[6]=o[6]*x,s[7]=o[7]*x,s[8]=o[8]*b,s[9]=o[9]*b,s[10]=o[10]*b,s[11]=o[11]*b,s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15],s},l.setRTLTextPlugin=function(s,o,c=!1){if(Zr===pa||Zr===Zc||Zr===Tu)throw new Error("setRTLTextPlugin cannot be called multiple times.");Vo=Je.resolveURL(s),Zr=pa,Wc=o,Ws(),c||$o()},l.spec=Fe,l.sphericalToCartesian=function([s,o,c]){return o+=90,o*=Math.PI/180,c*=Math.PI/180,{x:s*Math.cos(o)*Math.sin(c),y:s*Math.sin(o)*Math.sin(c),z:s*Math.cos(c)}},l.toEvaluationFeature=So,l.transformMat4=Ym,l.translate=function(s,o,c){var p,x,b,E,k,D,$,G,X,re,ie,ae,be=c[0],_e=c[1],Le=c[2];return o===s?(s[12]=o[0]*be+o[4]*_e+o[8]*Le+o[12],s[13]=o[1]*be+o[5]*_e+o[9]*Le+o[13],s[14]=o[2]*be+o[6]*_e+o[10]*Le+o[14],s[15]=o[3]*be+o[7]*_e+o[11]*Le+o[15]):(x=o[1],b=o[2],E=o[3],k=o[4],D=o[5],$=o[6],G=o[7],X=o[8],re=o[9],ie=o[10],ae=o[11],s[0]=p=o[0],s[1]=x,s[2]=b,s[3]=E,s[4]=k,s[5]=D,s[6]=$,s[7]=G,s[8]=X,s[9]=re,s[10]=ie,s[11]=ae,s[12]=p*be+k*_e+X*Le+o[12],s[13]=x*be+D*_e+re*Le+o[13],s[14]=b*be+$*_e+ie*Le+o[14],s[15]=E*be+G*_e+ae*Le+o[15]),s},l.triggerPluginCompletionEvent=ps,l.unicodeBlockLookup=yt,l.uniqueId=function(){return V++},l.validateCustomStyleLayer=function(s){const o=[],c=s.id;return c===void 0&&o.push({message:`layers.${c}: missing required property "id"`}),s.render===void 0&&o.push({message:`layers.${c}: missing required method "render"`}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&o.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),o},l.validateLight=Dl,l.validateStyle=_i,l.vectorTile=Du,l.warnOnce=ee,l.wrap=I}),u(["./shared"],function(l){function y(le){const W=typeof le;if(W==="number"||W==="boolean"||W==="string"||le==null)return JSON.stringify(le);if(Array.isArray(le)){let me="[";for(const xe of le)me+=`${y(xe)},`;return`${me}]`}const te=Object.keys(le).sort();let ue="{";for(let me=0;me<te.length;me++)ue+=`${JSON.stringify(te[me])}:${y(le[te[me]])},`;return`${ue}}`}function w(le){let W="";for(const te of l.refProperties)W+=`/${y(le[te])}`;return W}class C{constructor(W){this.keyCache={},W&&this.replace(W)}replace(W){this._layerConfigs={},this._layers={},this.update(W,[])}update(W,te){for(const me of W){this._layerConfigs[me.id]=me;const xe=this._layers[me.id]=l.createStyleLayer(me);xe._featureFilter=l.createFilter(xe.filter),this.keyCache[me.id]&&delete this.keyCache[me.id]}for(const me of te)delete this.keyCache[me],delete this._layerConfigs[me],delete this._layers[me];this.familiesBySource={};const ue=function(me,xe){const ve={};for(let Ee=0;Ee<me.length;Ee++){const Oe=xe&&xe[me[Ee].id]||w(me[Ee]);xe&&(xe[me[Ee].id]=Oe);let $e=ve[Oe];$e||($e=ve[Oe]=[]),$e.push(me[Ee])}const Ce=[];for(const Ee in ve)Ce.push(ve[Ee]);return Ce}(Object.values(this._layerConfigs),this.keyCache);for(const me of ue){const xe=me.map(tt=>this._layers[tt.id]),ve=xe[0];if(ve.visibility==="none")continue;const Ce=ve.source||"";let Ee=this.familiesBySource[Ce];Ee||(Ee=this.familiesBySource[Ce]={});const Oe=ve.sourceLayer||"_geojsonTileLayer";let $e=Ee[Oe];$e||($e=Ee[Oe]=[]),$e.push(xe)}}}class P{constructor(W){const te={},ue=[];for(const Ce in W){const Ee=W[Ce],Oe=te[Ce]={};for(const $e in Ee){const tt=Ee[+$e];if(!tt||tt.bitmap.width===0||tt.bitmap.height===0)continue;const Ze={x:0,y:0,w:tt.bitmap.width+2,h:tt.bitmap.height+2};ue.push(Ze),Oe[$e]={rect:Ze,metrics:tt.metrics}}}const{w:me,h:xe}=l.potpack(ue),ve=new l.AlphaImage({width:me||1,height:xe||1});for(const Ce in W){const Ee=W[Ce];for(const Oe in Ee){const $e=Ee[+Oe];if(!$e||$e.bitmap.width===0||$e.bitmap.height===0)continue;const tt=te[Ce][Oe].rect;l.AlphaImage.copy($e.bitmap,ve,{x:0,y:0},{x:tt.x+1,y:tt.y+1},$e.bitmap)}}this.image=ve,this.positions=te}}l.register("GlyphAtlas",P);class O{constructor(W){this.tileID=new l.OverscaledTileID(W.tileID.overscaledZ,W.tileID.wrap,W.tileID.canonical.z,W.tileID.canonical.x,W.tileID.canonical.y),this.uid=W.uid,this.zoom=W.zoom,this.pixelRatio=W.pixelRatio,this.tileSize=W.tileSize,this.source=W.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=W.showCollisionBoxes,this.collectResourceTiming=!!W.collectResourceTiming,this.returnDependencies=!!W.returnDependencies,this.promoteId=W.promoteId}parse(W,te,ue,me,xe){this.status="parsing",this.data=W,this.collisionBoxArray=new l.CollisionBoxArray;const ve=new l.DictionaryCoder(Object.keys(W.layers).sort()),Ce=new l.FeatureIndex(this.tileID,this.promoteId);Ce.bucketLayerIDs=[];const Ee={},Oe={featureIndex:Ce,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ue},$e=te.familiesBySource[this.source];for(const rn in $e){const dn=W.layers[rn];if(!dn)continue;dn.version===1&&l.warnOnce(`Vector tile source "${this.source}" layer "${rn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ln=ve.encode(rn),ar=[];for(let Mr=0;Mr<dn.length;Mr++){const fr=dn.feature(Mr),ra=Ce.getId(fr,rn);ar.push({feature:fr,id:ra,index:Mr,sourceLayerIndex:Ln})}for(const Mr of $e[rn]){const fr=Mr[0];fr.source!==this.source&&l.warnOnce(`layer.source = ${fr.source} does not equal this.source = ${this.source}`),fr.minzoom&&this.zoom<Math.floor(fr.minzoom)||fr.maxzoom&&this.zoom>=fr.maxzoom||fr.visibility!=="none"&&(I(Mr,this.zoom,ue),(Ee[fr.id]=fr.createBucket({index:Ce.bucketLayerIDs.length,layers:Mr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ln,sourceID:this.source})).populate(ar,Oe,this.tileID.canonical),Ce.bucketLayerIDs.push(Mr.map(ra=>ra.id)))}}let tt,Ze,Ot,Ut;const Pt=l.mapObject(Oe.glyphDependencies,rn=>Object.keys(rn).map(Number));Object.keys(Pt).length?me.send("getGlyphs",{uid:this.uid,stacks:Pt,source:this.source,tileID:this.tileID,type:"glyphs"},(rn,dn)=>{tt||(tt=rn,Ze=dn,On.call(this))}):Ze={};const zt=Object.keys(Oe.iconDependencies);zt.length?me.send("getImages",{icons:zt,source:this.source,tileID:this.tileID,type:"icons"},(rn,dn)=>{tt||(tt=rn,Ot=dn,On.call(this))}):Ot={};const ln=Object.keys(Oe.patternDependencies);function On(){if(tt)return xe(tt);if(Ze&&Ot&&Ut){const rn=new P(Ze),dn=new l.ImageAtlas(Ot,Ut);for(const Ln in Ee){const ar=Ee[Ln];ar instanceof l.SymbolBucket?(I(ar.layers,this.zoom,ue),l.performSymbolLayout({bucket:ar,glyphMap:Ze,glyphPositions:rn.positions,imageMap:Ot,imagePositions:dn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):ar.hasPattern&&(ar instanceof l.LineBucket||ar instanceof l.FillBucket||ar instanceof l.FillExtrusionBucket)&&(I(ar.layers,this.zoom,ue),ar.addFeatures(Oe,this.tileID.canonical,dn.patternPositions))}this.status="done",xe(null,{buckets:Object.values(Ee).filter(Ln=>!Ln.isEmpty()),featureIndex:Ce,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:rn.image,imageAtlas:dn,glyphMap:this.returnDependencies?Ze:null,iconMap:this.returnDependencies?Ot:null,glyphPositions:this.returnDependencies?rn.positions:null})}}ln.length?me.send("getImages",{icons:ln,source:this.source,tileID:this.tileID,type:"patterns"},(rn,dn)=>{tt||(tt=rn,Ut=dn,On.call(this))}):Ut={},On.call(this)}}function I(le,W,te){const ue=new l.EvaluationParameters(W);for(const me of le)me.recalculate(ue,te)}function F(le,W){const te=l.getArrayBuffer(le.request,(ue,me,xe,ve)=>{ue?W(ue):me&&W(null,{vectorTile:new l.vectorTile.VectorTile(new l.pbf(me)),rawData:me,cacheControl:xe,expires:ve})});return()=>{te.cancel(),W()}}class V{constructor(W,te,ue,me){this.actor=W,this.layerIndex=te,this.availableImages=ue,this.loadVectorData=me||F,this.loading={},this.loaded={}}loadTile(W,te){const ue=W.uid;this.loading||(this.loading={});const me=!!(W&&W.request&&W.request.collectResourceTiming)&&new l.RequestPerformance(W.request),xe=this.loading[ue]=new O(W);xe.abort=this.loadVectorData(W,(ve,Ce)=>{if(delete this.loading[ue],ve||!Ce)return xe.status="done",this.loaded[ue]=xe,te(ve);const Ee=Ce.rawData,Oe={};Ce.expires&&(Oe.expires=Ce.expires),Ce.cacheControl&&(Oe.cacheControl=Ce.cacheControl);const $e={};if(me){const tt=me.finish();tt&&($e.resourceTiming=JSON.parse(JSON.stringify(tt)))}xe.vectorTile=Ce.vectorTile,xe.parse(Ce.vectorTile,this.layerIndex,this.availableImages,this.actor,(tt,Ze)=>{if(tt||!Ze)return te(tt);te(null,l.extend({rawTileData:Ee.slice(0)},Ze,Oe,$e))}),this.loaded=this.loaded||{},this.loaded[ue]=xe})}reloadTile(W,te){const ue=this.loaded,me=W.uid,xe=this;if(ue&&ue[me]){const ve=ue[me];ve.showCollisionBoxes=W.showCollisionBoxes;const Ce=(Ee,Oe)=>{const $e=ve.reloadCallback;$e&&(delete ve.reloadCallback,ve.parse(ve.vectorTile,xe.layerIndex,this.availableImages,xe.actor,$e)),te(Ee,Oe)};ve.status==="parsing"?ve.reloadCallback=Ce:ve.status==="done"&&(ve.vectorTile?ve.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,Ce):Ce())}}abortTile(W,te){const ue=this.loading,me=W.uid;ue&&ue[me]&&ue[me].abort&&(ue[me].abort(),delete ue[me]),te()}removeTile(W,te){const ue=this.loaded,me=W.uid;ue&&ue[me]&&delete ue[me],te()}}class Z{constructor(){this.loaded={}}loadTile(W,te){const{uid:ue,encoding:me,rawImageData:xe}=W,ve=l.isImageBitmap(xe)?this.getImageData(xe):xe,Ce=new l.DEMData(ue,ve,me);this.loaded=this.loaded||{},this.loaded[ue]=Ce,te(null,Ce)}getImageData(W){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(W.width,W.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=W.width,this.offscreenCanvas.height=W.height,this.offscreenCanvasContext.drawImage(W,0,0,W.width,W.height);const te=this.offscreenCanvasContext.getImageData(-1,-1,W.width+2,W.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new l.RGBAImage({width:te.width,height:te.height},te.data)}removeTile(W){const te=this.loaded,ue=W.uid;te&&te[ue]&&delete te[ue]}}var U=function le(W,te){var ue,me=W&&W.type;if(me==="FeatureCollection")for(ue=0;ue<W.features.length;ue++)le(W.features[ue],te);else if(me==="GeometryCollection")for(ue=0;ue<W.geometries.length;ue++)le(W.geometries[ue],te);else if(me==="Feature")le(W.geometry,te);else if(me==="Polygon")N(W.coordinates,te);else if(me==="MultiPolygon")for(ue=0;ue<W.coordinates.length;ue++)N(W.coordinates[ue],te);return W};function N(le,W){if(le.length!==0){j(le[0],W);for(var te=1;te<le.length;te++)j(le[te],!W)}}function j(le,W){for(var te=0,ue=0,me=0,xe=le.length,ve=xe-1;me<xe;ve=me++){var Ce=(le[me][0]-le[ve][0])*(le[ve][1]+le[me][1]),Ee=te+Ce;ue+=Math.abs(te)>=Math.abs(Ce)?te-Ee+Ce:Ce-Ee+te,te=Ee}te+ue>=0!=!!W&&le.reverse()}const Q=l.vectorTile.VectorTileFeature.prototype.toGeoJSON;var ee={},Y={get exports(){return ee},set exports(le){ee=le}},J=l.pointGeometry,se=l.vectorTile.VectorTileFeature,ge=he;function he(le,W){this.options=W||{},this.features=le,this.length=le.length}function Se(le,W){this.id=typeof le.id=="number"?le.id:void 0,this.type=le.type,this.rawGeometry=le.type===1?[le.geometry]:le.geometry,this.properties=le.tags,this.extent=W||4096}he.prototype.feature=function(le){return new Se(this.features[le],this.options.extent)},Se.prototype.loadGeometry=function(){var le=this.rawGeometry;this.geometry=[];for(var W=0;W<le.length;W++){for(var te=le[W],ue=[],me=0;me<te.length;me++)ue.push(new J(te[me][0],te[me][1]));this.geometry.push(ue)}return this.geometry},Se.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var le=this.geometry,W=1/0,te=-1/0,ue=1/0,me=-1/0,xe=0;xe<le.length;xe++)for(var ve=le[xe],Ce=0;Ce<ve.length;Ce++){var Ee=ve[Ce];W=Math.min(W,Ee.x),te=Math.max(te,Ee.x),ue=Math.min(ue,Ee.y),me=Math.max(me,Ee.y)}return[W,ue,te,me]},Se.prototype.toGeoJSON=se.prototype.toGeoJSON;var De=l.pbf,He=ge;function Be(le){var W=new De;return function(te,ue){for(var me in te.layers)ue.writeMessage(3,Je,te.layers[me])}(le,W),W.finish()}function Je(le,W){var te;W.writeVarintField(15,le.version||1),W.writeStringField(1,le.name||""),W.writeVarintField(5,le.extent||4096);var ue={keys:[],values:[],keycache:{},valuecache:{}};for(te=0;te<le.length;te++)ue.feature=le.feature(te),W.writeMessage(2,Ge,ue);var me=ue.keys;for(te=0;te<me.length;te++)W.writeStringField(3,me[te]);var xe=ue.values;for(te=0;te<xe.length;te++)W.writeMessage(4,Xe,xe[te])}function Ge(le,W){var te=le.feature;te.id!==void 0&&W.writeVarintField(1,te.id),W.writeMessage(2,ut,le),W.writeVarintField(3,te.type),W.writeMessage(4,Me,te)}function ut(le,W){var te=le.feature,ue=le.keys,me=le.values,xe=le.keycache,ve=le.valuecache;for(var Ce in te.properties){var Ee=te.properties[Ce],Oe=xe[Ce];if(Ee!==null){Oe===void 0&&(ue.push(Ce),xe[Ce]=Oe=ue.length-1),W.writeVarint(Oe);var $e=typeof Ee;$e!=="string"&&$e!=="boolean"&&$e!=="number"&&(Ee=JSON.stringify(Ee));var tt=$e+":"+Ee,Ze=ve[tt];Ze===void 0&&(me.push(Ee),ve[tt]=Ze=me.length-1),W.writeVarint(Ze)}}}function Pe(le,W){return(W<<3)+(7&le)}function We(le){return le<<1^le>>31}function Me(le,W){for(var te=le.loadGeometry(),ue=le.type,me=0,xe=0,ve=te.length,Ce=0;Ce<ve;Ce++){var Ee=te[Ce],Oe=1;ue===1&&(Oe=Ee.length),W.writeVarint(Pe(1,Oe));for(var $e=ue===3?Ee.length-1:Ee.length,tt=0;tt<$e;tt++){tt===1&&ue!==1&&W.writeVarint(Pe(2,$e-1));var Ze=Ee[tt].x-me,Ot=Ee[tt].y-xe;W.writeVarint(We(Ze)),W.writeVarint(We(Ot)),me+=Ze,xe+=Ot}ue===3&&W.writeVarint(Pe(7,1))}}function Xe(le,W){var te=typeof le;te==="string"?W.writeStringField(1,le):te==="boolean"?W.writeBooleanField(7,le):te==="number"&&(le%1!=0?W.writeDoubleField(3,le):le<0?W.writeSVarintField(6,le):W.writeVarintField(5,le))}Y.exports=Be,ee.fromVectorTileJs=Be,ee.fromGeojsonVt=function(le,W){W=W||{};var te={};for(var ue in le)te[ue]=new He(le[ue].features,W),te[ue].name=ue,te[ue].version=W.version,te[ue].extent=W.extent;return Be({layers:te})},ee.GeoJSONWrapper=He;const et={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:le=>le},mt=Math.fround||(ct=new Float32Array(1),le=>(ct[0]=+le,ct[0]));var ct;class ht{constructor(W){this.options=xn(Object.create(et),W),this.trees=new Array(this.options.maxZoom+1)}load(W){const{log:te,minZoom:ue,maxZoom:me,nodeSize:xe}=this.options;te&&console.time("total time");const ve=`prepare ${W.length} points`;te&&console.time(ve),this.points=W;let Ce=[];for(let Ee=0;Ee<W.length;Ee++)W[Ee].geometry&&Ce.push(Et(W[Ee],Ee));this.trees[me+1]=new l.KDBush(Ce,tn,Zn,xe,Float32Array),te&&console.timeEnd(ve);for(let Ee=me;Ee>=ue;Ee--){const Oe=+Date.now();Ce=this._cluster(Ce,Ee),this.trees[Ee]=new l.KDBush(Ce,tn,Zn,xe,Float32Array),te&&console.log("z%d: %d clusters in %dms",Ee,Ce.length,+Date.now()-Oe)}return te&&console.timeEnd("total time"),this}getClusters(W,te){let ue=((W[0]+180)%360+360)%360-180;const me=Math.max(-90,Math.min(90,W[1]));let xe=W[2]===180?180:((W[2]+180)%360+360)%360-180;const ve=Math.max(-90,Math.min(90,W[3]));if(W[2]-W[0]>=360)ue=-180,xe=180;else if(ue>xe){const $e=this.getClusters([ue,me,180,ve],te),tt=this.getClusters([-180,me,xe,ve],te);return $e.concat(tt)}const Ce=this.trees[this._limitZoom(te)],Ee=Ce.range(Fe(ue),rt(ve),Fe(xe),rt(me)),Oe=[];for(const $e of Ee){const tt=Ce.points[$e];Oe.push(tt.numPoints?an(tt):this.points[tt.index])}return Oe}getChildren(W){const te=this._getOriginId(W),ue=this._getOriginZoom(W),me="No cluster with the specified id.",xe=this.trees[ue];if(!xe)throw new Error(me);const ve=xe.points[te];if(!ve)throw new Error(me);const Ce=this.options.radius/(this.options.extent*Math.pow(2,ue-1)),Ee=xe.within(ve.x,ve.y,Ce),Oe=[];for(const $e of Ee){const tt=xe.points[$e];tt.parentId===W&&Oe.push(tt.numPoints?an(tt):this.points[tt.index])}if(Oe.length===0)throw new Error(me);return Oe}getLeaves(W,te,ue){const me=[];return this._appendLeaves(me,W,te=te||10,ue=ue||0,0),me}getTile(W,te,ue){const me=this.trees[this._limitZoom(W)],xe=Math.pow(2,W),{extent:ve,radius:Ce}=this.options,Ee=Ce/ve,Oe=(ue-Ee)/xe,$e=(ue+1+Ee)/xe,tt={features:[]};return this._addTileFeatures(me.range((te-Ee)/xe,Oe,(te+1+Ee)/xe,$e),me.points,te,ue,xe,tt),te===0&&this._addTileFeatures(me.range(1-Ee/xe,Oe,1,$e),me.points,xe,ue,xe,tt),te===xe-1&&this._addTileFeatures(me.range(0,Oe,Ee/xe,$e),me.points,-1,ue,xe,tt),tt.features.length?tt:null}getClusterExpansionZoom(W){let te=this._getOriginZoom(W)-1;for(;te<=this.options.maxZoom;){const ue=this.getChildren(W);if(te++,ue.length!==1)break;W=ue[0].properties.cluster_id}return te}_appendLeaves(W,te,ue,me,xe){const ve=this.getChildren(te);for(const Ce of ve){const Ee=Ce.properties;if(Ee&&Ee.cluster?xe+Ee.point_count<=me?xe+=Ee.point_count:xe=this._appendLeaves(W,Ee.cluster_id,ue,me,xe):xe<me?xe++:W.push(Ce),W.length===ue)break}return xe}_addTileFeatures(W,te,ue,me,xe,ve){for(const Ce of W){const Ee=te[Ce],Oe=Ee.numPoints;let $e,tt,Ze;if(Oe)$e=Pn(Ee),tt=Ee.x,Ze=Ee.y;else{const Pt=this.points[Ee.index];$e=Pt.properties,tt=Fe(Pt.geometry.coordinates[0]),Ze=rt(Pt.geometry.coordinates[1])}const Ot={type:1,geometry:[[Math.round(this.options.extent*(tt*xe-ue)),Math.round(this.options.extent*(Ze*xe-me))]],tags:$e};let Ut;Oe?Ut=Ee.id:this.options.generateId?Ut=Ee.index:this.points[Ee.index].id&&(Ut=this.points[Ee.index].id),Ut!==void 0&&(Ot.id=Ut),ve.features.push(Ot)}}_limitZoom(W){return Math.max(this.options.minZoom,Math.min(Math.floor(+W),this.options.maxZoom+1))}_cluster(W,te){const ue=[],{radius:me,extent:xe,reduce:ve,minPoints:Ce}=this.options,Ee=me/(xe*Math.pow(2,te));for(let Oe=0;Oe<W.length;Oe++){const $e=W[Oe];if($e.zoom<=te)continue;$e.zoom=te;const tt=this.trees[te+1],Ze=tt.within($e.x,$e.y,Ee),Ot=$e.numPoints||1;let Ut=Ot;for(const Pt of Ze){const zt=tt.points[Pt];zt.zoom>te&&(Ut+=zt.numPoints||1)}if(Ut>Ot&&Ut>=Ce){let Pt=$e.x*Ot,zt=$e.y*Ot,ln=ve&&Ot>1?this._map($e,!0):null;const On=(Oe<<5)+(te+1)+this.points.length;for(const rn of Ze){const dn=tt.points[rn];if(dn.zoom<=te)continue;dn.zoom=te;const Ln=dn.numPoints||1;Pt+=dn.x*Ln,zt+=dn.y*Ln,dn.parentId=On,ve&&(ln||(ln=this._map($e,!0)),ve(ln,this._map(dn)))}$e.parentId=On,ue.push(pt(Pt/Ut,zt/Ut,On,Ut,ln))}else if(ue.push($e),Ut>1)for(const Pt of Ze){const zt=tt.points[Pt];zt.zoom<=te||(zt.zoom=te,ue.push(zt))}}return ue}_getOriginId(W){return W-this.points.length>>5}_getOriginZoom(W){return(W-this.points.length)%32}_map(W,te){if(W.numPoints)return te?xn({},W.properties):W.properties;const ue=this.points[W.index].properties,me=this.options.map(ue);return te&&me===ue?xn({},me):me}}function pt(le,W,te,ue,me){return{x:mt(le),y:mt(W),zoom:1/0,id:te,parentId:-1,numPoints:ue,properties:me}}function Et(le,W){const[te,ue]=le.geometry.coordinates;return{x:mt(Fe(te)),y:mt(rt(ue)),zoom:1/0,index:W,parentId:-1}}function an(le){return{type:"Feature",id:le.id,properties:Pn(le),geometry:{type:"Point",coordinates:[(W=le.x,360*(W-.5)),Kt(le.y)]}};var W}function Pn(le){const W=le.numPoints,te=W>=1e4?`${Math.round(W/1e3)}k`:W>=1e3?Math.round(W/100)/10+"k":W;return xn(xn({},le.properties),{cluster:!0,cluster_id:le.id,point_count:W,point_count_abbreviated:te})}function Fe(le){return le/360+.5}function rt(le){const W=Math.sin(le*Math.PI/180),te=.5-.25*Math.log((1+W)/(1-W))/Math.PI;return te<0?0:te>1?1:te}function Kt(le){const W=(180-360*le)*Math.PI/180;return 360*Math.atan(Math.exp(W))/Math.PI-90}function xn(le,W){for(const te in W)le[te]=W[te];return le}function tn(le){return le.x}function Zn(le){return le.y}function Wn(le,W,te,ue){for(var me,xe=ue,ve=te-W>>1,Ce=te-W,Ee=le[W],Oe=le[W+1],$e=le[te],tt=le[te+1],Ze=W+3;Ze<te;Ze+=3){var Ot=Ur(le[Ze],le[Ze+1],Ee,Oe,$e,tt);if(Ot>xe)me=Ze,xe=Ot;else if(Ot===xe){var Ut=Math.abs(Ze-ve);Ut<Ce&&(me=Ze,Ce=Ut)}}xe>ue&&(me-W>3&&Wn(le,W,me,ue),le[me+2]=xe,te-me>3&&Wn(le,me,te,ue))}function Ur(le,W,te,ue,me,xe){var ve=me-te,Ce=xe-ue;if(ve!==0||Ce!==0){var Ee=((le-te)*ve+(W-ue)*Ce)/(ve*ve+Ce*Ce);Ee>1?(te=me,ue=xe):Ee>0&&(te+=ve*Ee,ue+=Ce*Ee)}return(ve=le-te)*ve+(Ce=W-ue)*Ce}function ir(le,W,te,ue){var me={id:le===void 0?null:le,type:W,geometry:te,tags:ue,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(xe){var ve=xe.geometry,Ce=xe.type;if(Ce==="Point"||Ce==="MultiPoint"||Ce==="LineString")dt(xe,ve);else if(Ce==="Polygon"||Ce==="MultiLineString")for(var Ee=0;Ee<ve.length;Ee++)dt(xe,ve[Ee]);else if(Ce==="MultiPolygon")for(Ee=0;Ee<ve.length;Ee++)for(var Oe=0;Oe<ve[Ee].length;Oe++)dt(xe,ve[Ee][Oe])}(me),me}function dt(le,W){for(var te=0;te<W.length;te+=3)le.minX=Math.min(le.minX,W[te]),le.minY=Math.min(le.minY,W[te+1]),le.maxX=Math.max(le.maxX,W[te]),le.maxY=Math.max(le.maxY,W[te+1])}function Zt(le,W,te,ue){if(W.geometry){var me=W.geometry.coordinates,xe=W.geometry.type,ve=Math.pow(te.tolerance/((1<<te.maxZoom)*te.extent),2),Ce=[],Ee=W.id;if(te.promoteId?Ee=W.properties[te.promoteId]:te.generateId&&(Ee=ue||0),xe==="Point")qt(me,Ce);else if(xe==="MultiPoint")for(var Oe=0;Oe<me.length;Oe++)qt(me[Oe],Ce);else if(xe==="LineString")hr(me,Ce,ve,!1);else if(xe==="MultiLineString"){if(te.lineMetrics){for(Oe=0;Oe<me.length;Oe++)hr(me[Oe],Ce=[],ve,!1),le.push(ir(Ee,"LineString",Ce,W.properties));return}Kn(me,Ce,ve,!1)}else if(xe==="Polygon")Kn(me,Ce,ve,!0);else{if(xe!=="MultiPolygon"){if(xe==="GeometryCollection"){for(Oe=0;Oe<W.geometry.geometries.length;Oe++)Zt(le,{id:Ee,geometry:W.geometry.geometries[Oe],properties:W.properties},te,ue);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Oe=0;Oe<me.length;Oe++){var $e=[];Kn(me[Oe],$e,ve,!0),Ce.push($e)}}le.push(ir(Ee,xe,Ce,W.properties))}}function qt(le,W){W.push(Ct(le[0])),W.push(Ir(le[1])),W.push(0)}function hr(le,W,te,ue){for(var me,xe,ve=0,Ce=0;Ce<le.length;Ce++){var Ee=Ct(le[Ce][0]),Oe=Ir(le[Ce][1]);W.push(Ee),W.push(Oe),W.push(0),Ce>0&&(ve+=ue?(me*Oe-Ee*xe)/2:Math.sqrt(Math.pow(Ee-me,2)+Math.pow(Oe-xe,2))),me=Ee,xe=Oe}var $e=W.length-3;W[2]=1,Wn(W,0,$e,te),W[$e+2]=1,W.size=Math.abs(ve),W.start=0,W.end=W.size}function Kn(le,W,te,ue){for(var me=0;me<le.length;me++){var xe=[];hr(le[me],xe,te,ue),W.push(xe)}}function Ct(le){return le/360+.5}function Ir(le){var W=Math.sin(le*Math.PI/180),te=.5-.25*Math.log((1+W)/(1-W))/Math.PI;return te<0?0:te>1?1:te}function fn(le,W,te,ue,me,xe,ve,Ce){if(ue/=W,xe>=(te/=W)&&ve<ue)return le;if(ve<te||xe>=ue)return null;for(var Ee=[],Oe=0;Oe<le.length;Oe++){var $e=le[Oe],tt=$e.geometry,Ze=$e.type,Ot=me===0?$e.minX:$e.minY,Ut=me===0?$e.maxX:$e.maxY;if(Ot>=te&&Ut<ue)Ee.push($e);else if(!(Ut<te||Ot>=ue)){var Pt=[];if(Ze==="Point"||Ze==="MultiPoint")Li(tt,Pt,te,ue,me);else if(Ze==="LineString")or(tt,Pt,te,ue,me,!1,Ce.lineMetrics);else if(Ze==="MultiLineString")wn(tt,Pt,te,ue,me,!1);else if(Ze==="Polygon")wn(tt,Pt,te,ue,me,!0);else if(Ze==="MultiPolygon")for(var zt=0;zt<tt.length;zt++){var ln=[];wn(tt[zt],ln,te,ue,me,!0),ln.length&&Pt.push(ln)}if(Pt.length){if(Ce.lineMetrics&&Ze==="LineString"){for(zt=0;zt<Pt.length;zt++)Ee.push(ir($e.id,Ze,Pt[zt],$e.tags));continue}Ze!=="LineString"&&Ze!=="MultiLineString"||(Pt.length===1?(Ze="LineString",Pt=Pt[0]):Ze="MultiLineString"),Ze!=="Point"&&Ze!=="MultiPoint"||(Ze=Pt.length===3?"Point":"MultiPoint"),Ee.push(ir($e.id,Ze,Pt,$e.tags))}}}return Ee.length?Ee:null}function Li(le,W,te,ue,me){for(var xe=0;xe<le.length;xe+=3){var ve=le[xe+me];ve>=te&&ve<=ue&&(W.push(le[xe]),W.push(le[xe+1]),W.push(le[xe+2]))}}function or(le,W,te,ue,me,xe,ve){for(var Ce,Ee,Oe=zn(le),$e=me===0?ii:Xi,tt=le.start,Ze=0;Ze<le.length-3;Ze+=3){var Ot=le[Ze],Ut=le[Ze+1],Pt=le[Ze+2],zt=le[Ze+3],ln=le[Ze+4],On=me===0?Ot:Ut,rn=me===0?zt:ln,dn=!1;ve&&(Ce=Math.sqrt(Math.pow(Ot-zt,2)+Math.pow(Ut-ln,2))),On<te?rn>te&&(Ee=$e(Oe,Ot,Ut,zt,ln,te),ve&&(Oe.start=tt+Ce*Ee)):On>ue?rn<ue&&(Ee=$e(Oe,Ot,Ut,zt,ln,ue),ve&&(Oe.start=tt+Ce*Ee)):na(Oe,Ot,Ut,Pt),rn<te&&On>=te&&(Ee=$e(Oe,Ot,Ut,zt,ln,te),dn=!0),rn>ue&&On<=ue&&(Ee=$e(Oe,Ot,Ut,zt,ln,ue),dn=!0),!xe&&dn&&(ve&&(Oe.end=tt+Ce*Ee),W.push(Oe),Oe=zn(le)),ve&&(tt+=Ce)}var Ln=le.length-3;Ot=le[Ln],Ut=le[Ln+1],Pt=le[Ln+2],(On=me===0?Ot:Ut)>=te&&On<=ue&&na(Oe,Ot,Ut,Pt),Ln=Oe.length-3,xe&&Ln>=3&&(Oe[Ln]!==Oe[0]||Oe[Ln+1]!==Oe[1])&&na(Oe,Oe[0],Oe[1],Oe[2]),Oe.length&&W.push(Oe)}function zn(le){var W=[];return W.size=le.size,W.start=le.start,W.end=le.end,W}function wn(le,W,te,ue,me,xe){for(var ve=0;ve<le.length;ve++)or(le[ve],W,te,ue,me,xe,!1)}function na(le,W,te,ue){le.push(W),le.push(te),le.push(ue)}function ii(le,W,te,ue,me,xe){var ve=(xe-W)/(ue-W);return le.push(xe),le.push(te+(me-te)*ve),le.push(1),ve}function Xi(le,W,te,ue,me,xe){var ve=(xe-te)/(me-te);return le.push(W+(ue-W)*ve),le.push(xe),le.push(1),ve}function sn(le,W){for(var te=[],ue=0;ue<le.length;ue++){var me,xe=le[ue],ve=xe.type;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")me=ot(xe.geometry,W);else if(ve==="MultiLineString"||ve==="Polygon"){me=[];for(var Ce=0;Ce<xe.geometry.length;Ce++)me.push(ot(xe.geometry[Ce],W))}else if(ve==="MultiPolygon")for(me=[],Ce=0;Ce<xe.geometry.length;Ce++){for(var Ee=[],Oe=0;Oe<xe.geometry[Ce].length;Oe++)Ee.push(ot(xe.geometry[Ce][Oe],W));me.push(Ee)}te.push(ir(xe.id,ve,me,xe.tags))}return te}function ot(le,W){var te=[];te.size=le.size,le.start!==void 0&&(te.start=le.start,te.end=le.end);for(var ue=0;ue<le.length;ue+=3)te.push(le[ue]+W,le[ue+1],le[ue+2]);return te}function Wt(le,W){if(le.transformed)return le;var te,ue,me,xe=1<<le.z,ve=le.x,Ce=le.y;for(te=0;te<le.features.length;te++){var Ee=le.features[te],Oe=Ee.geometry,$e=Ee.type;if(Ee.geometry=[],$e===1)for(ue=0;ue<Oe.length;ue+=2)Ee.geometry.push(At(Oe[ue],Oe[ue+1],W,xe,ve,Ce));else for(ue=0;ue<Oe.length;ue++){var tt=[];for(me=0;me<Oe[ue].length;me+=2)tt.push(At(Oe[ue][me],Oe[ue][me+1],W,xe,ve,Ce));Ee.geometry.push(tt)}}return le.transformed=!0,le}function At(le,W,te,ue,me,xe){return[Math.round(te*(le*ue-me)),Math.round(te*(W*ue-xe))]}function un(le,W,te,ue,me){for(var xe=W===me.maxZoom?0:me.tolerance/((1<<W)*me.extent),ve={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:te,y:ue,z:W,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ce=0;Ce<le.length;Ce++){ve.numFeatures++,An(ve,le[Ce],xe,me);var Ee=le[Ce].minX,Oe=le[Ce].minY,$e=le[Ce].maxX,tt=le[Ce].maxY;Ee<ve.minX&&(ve.minX=Ee),Oe<ve.minY&&(ve.minY=Oe),$e>ve.maxX&&(ve.maxX=$e),tt>ve.maxY&&(ve.maxY=tt)}return ve}function An(le,W,te,ue){var me=W.geometry,xe=W.type,ve=[];if(xe==="Point"||xe==="MultiPoint")for(var Ce=0;Ce<me.length;Ce+=3)ve.push(me[Ce]),ve.push(me[Ce+1]),le.numPoints++,le.numSimplified++;else if(xe==="LineString")cn(ve,me,le,te,!1,!1);else if(xe==="MultiLineString"||xe==="Polygon")for(Ce=0;Ce<me.length;Ce++)cn(ve,me[Ce],le,te,xe==="Polygon",Ce===0);else if(xe==="MultiPolygon")for(var Ee=0;Ee<me.length;Ee++){var Oe=me[Ee];for(Ce=0;Ce<Oe.length;Ce++)cn(ve,Oe[Ce],le,te,!0,Ce===0)}if(ve.length){var $e=W.tags||null;if(xe==="LineString"&&ue.lineMetrics){for(var tt in $e={},W.tags)$e[tt]=W.tags[tt];$e.mapbox_clip_start=me.start/me.size,$e.mapbox_clip_end=me.end/me.size}var Ze={geometry:ve,type:xe==="Polygon"||xe==="MultiPolygon"?3:xe==="LineString"||xe==="MultiLineString"?2:1,tags:$e};W.id!==null&&(Ze.id=W.id),le.features.push(Ze)}}function cn(le,W,te,ue,me,xe){var ve=ue*ue;if(ue>0&&W.size<(me?ve:ue))te.numPoints+=W.length/3;else{for(var Ce=[],Ee=0;Ee<W.length;Ee+=3)(ue===0||W[Ee+2]>ve)&&(te.numSimplified++,Ce.push(W[Ee]),Ce.push(W[Ee+1])),te.numPoints++;me&&function(Oe,$e){for(var tt=0,Ze=0,Ot=Oe.length,Ut=Ot-2;Ze<Ot;Ut=Ze,Ze+=2)tt+=(Oe[Ze]-Oe[Ut])*(Oe[Ze+1]+Oe[Ut+1]);if(tt>0===$e)for(Ze=0,Ot=Oe.length;Ze<Ot/2;Ze+=2){var Pt=Oe[Ze],zt=Oe[Ze+1];Oe[Ze]=Oe[Ot-2-Ze],Oe[Ze+1]=Oe[Ot-1-Ze],Oe[Ot-2-Ze]=Pt,Oe[Ot-1-Ze]=zt}}(Ce,xe),le.push(Ce)}}function Vt(le,W){var te=(W=this.options=function(me,xe){for(var ve in xe)me[ve]=xe[ve];return me}(Object.create(this.options),W)).debug;if(te&&console.time("preprocess data"),W.maxZoom<0||W.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(W.promoteId&&W.generateId)throw new Error("promoteId and generateId cannot be used together.");var ue=function(me,xe){var ve=[];if(me.type==="FeatureCollection")for(var Ce=0;Ce<me.features.length;Ce++)Zt(ve,me.features[Ce],xe,Ce);else Zt(ve,me.type==="Feature"?me:{geometry:me},xe);return ve}(le,W);this.tiles={},this.tileCoords=[],te&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",W.indexMaxZoom,W.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ue=function(me,xe){var ve=xe.buffer/xe.extent,Ce=me,Ee=fn(me,1,-1-ve,ve,0,-1,2,xe),Oe=fn(me,1,1-ve,2+ve,0,-1,2,xe);return(Ee||Oe)&&(Ce=fn(me,1,-ve,1+ve,0,-1,2,xe)||[],Ee&&(Ce=sn(Ee,1).concat(Ce)),Oe&&(Ce=Ce.concat(sn(Oe,-1)))),Ce}(ue,W),ue.length&&this.splitTile(ue,0,0,0),te&&(ue.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function In(le,W,te){return 32*((1<<le)*te+W)+le}function Sn(le,W){return W?le.properties[W]:le.id}function Ht(le,W){if(le==null)return!0;if(le.type==="Feature")return Sn(le,W)!=null;if(le.type==="FeatureCollection"){const te=new Set;for(const ue of le.features){const me=Sn(ue,W);if(me==null||te.has(me))return!1;te.add(me)}return!0}return!1}function Yt(le,W){const te=new Map;if(le!=null)if(le.type==="Feature")te.set(Sn(le,W),le);else for(const ue of le.features)te.set(Sn(ue,W),ue);return te}function Hn(le,W){const te=le.tileID.canonical;if(!this._geoJSONIndex)return W(null,null);const ue=this._geoJSONIndex.getTile(te.z,te.x,te.y);if(!ue)return W(null,null);const me=new class{constructor(ve){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=l.EXTENT,this.length=ve.length,this._features=ve}feature(ve){return new class{constructor(Ce){this._feature=Ce,this.extent=l.EXTENT,this.type=Ce.type,this.properties=Ce.tags,"id"in Ce&&!isNaN(Ce.id)&&(this.id=parseInt(Ce.id,10))}loadGeometry(){if(this._feature.type===1){const Ce=[];for(const Ee of this._feature.geometry)Ce.push([new l.pointGeometry(Ee[0],Ee[1])]);return Ce}{const Ce=[];for(const Ee of this._feature.geometry){const Oe=[];for(const $e of Ee)Oe.push(new l.pointGeometry($e[0],$e[1]));Ce.push(Oe)}return Ce}}toGeoJSON(Ce,Ee,Oe){return Q.call(this,Ce,Ee,Oe)}}(this._features[ve])}}(ue.features);let xe=ee(me);xe.byteOffset===0&&xe.byteLength===xe.buffer.byteLength||(xe=new Uint8Array(xe)),W(null,{vectorTile:me,rawData:xe.buffer})}Vt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Vt.prototype.splitTile=function(le,W,te,ue,me,xe,ve){for(var Ce=[le,W,te,ue],Ee=this.options,Oe=Ee.debug;Ce.length;){ue=Ce.pop(),te=Ce.pop(),W=Ce.pop(),le=Ce.pop();var $e=1<<W,tt=In(W,te,ue),Ze=this.tiles[tt];if(!Ze&&(Oe>1&&console.time("creation"),Ze=this.tiles[tt]=un(le,W,te,ue,Ee),this.tileCoords.push({z:W,x:te,y:ue}),Oe)){Oe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",W,te,ue,Ze.numFeatures,Ze.numPoints,Ze.numSimplified),console.timeEnd("creation"));var Ot="z"+W;this.stats[Ot]=(this.stats[Ot]||0)+1,this.total++}if(Ze.source=le,me){if(W===Ee.maxZoom||W===me)continue;var Ut=1<<me-W;if(te!==Math.floor(xe/Ut)||ue!==Math.floor(ve/Ut))continue}else if(W===Ee.indexMaxZoom||Ze.numPoints<=Ee.indexMaxPoints)continue;if(Ze.source=null,le.length!==0){Oe>1&&console.time("clipping");var Pt,zt,ln,On,rn,dn,Ln=.5*Ee.buffer/Ee.extent,ar=.5-Ln,Mr=.5+Ln,fr=1+Ln;Pt=zt=ln=On=null,rn=fn(le,$e,te-Ln,te+Mr,0,Ze.minX,Ze.maxX,Ee),dn=fn(le,$e,te+ar,te+fr,0,Ze.minX,Ze.maxX,Ee),le=null,rn&&(Pt=fn(rn,$e,ue-Ln,ue+Mr,1,Ze.minY,Ze.maxY,Ee),zt=fn(rn,$e,ue+ar,ue+fr,1,Ze.minY,Ze.maxY,Ee),rn=null),dn&&(ln=fn(dn,$e,ue-Ln,ue+Mr,1,Ze.minY,Ze.maxY,Ee),On=fn(dn,$e,ue+ar,ue+fr,1,Ze.minY,Ze.maxY,Ee),dn=null),Oe>1&&console.timeEnd("clipping"),Ce.push(Pt||[],W+1,2*te,2*ue),Ce.push(zt||[],W+1,2*te,2*ue+1),Ce.push(ln||[],W+1,2*te+1,2*ue),Ce.push(On||[],W+1,2*te+1,2*ue+1)}}},Vt.prototype.getTile=function(le,W,te){var ue=this.options,me=ue.extent,xe=ue.debug;if(le<0||le>24)return null;var ve=1<<le,Ce=In(le,W=(W%ve+ve)%ve,te);if(this.tiles[Ce])return Wt(this.tiles[Ce],me);xe>1&&console.log("drilling down to z%d-%d-%d",le,W,te);for(var Ee,Oe=le,$e=W,tt=te;!Ee&&Oe>0;)Oe--,$e=Math.floor($e/2),tt=Math.floor(tt/2),Ee=this.tiles[In(Oe,$e,tt)];return Ee&&Ee.source?(xe>1&&console.log("found parent tile z%d-%d-%d",Oe,$e,tt),xe>1&&console.time("drilling down"),this.splitTile(Ee.source,Oe,$e,tt,le,W,te),xe>1&&console.timeEnd("drilling down"),this.tiles[Ce]?Wt(this.tiles[Ce],me):null):null};class Tr extends V{constructor(W,te,ue,me){super(W,te,ue,Hn),this._dataUpdateable=new Map,this.loadGeoJSON=(xe,ve)=>{const{promoteId:Ce}=xe;if(xe.request)return l.getJSON(xe.request,(Ee,Oe,$e,tt)=>{this._dataUpdateable=Ht(Oe,Ce)?Yt(Oe,Ce):void 0,ve(Ee,Oe,$e,tt)});if(typeof xe.data=="string")try{const Ee=JSON.parse(xe.data);this._dataUpdateable=Ht(Ee,Ce)?Yt(Ee,Ce):void 0,ve(null,Ee)}catch{ve(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`))}else xe.dataDiff?this._dataUpdateable?(function(Ee,Oe,$e){var tt,Ze,Ot,Ut;if(Oe.removeAll&&Ee.clear(),Oe.remove)for(const Pt of Oe.remove)Ee.delete(Pt);if(Oe.add)for(const Pt of Oe.add){const zt=Sn(Pt,$e);zt!=null&&Ee.set(zt,Pt)}if(Oe.update)for(const Pt of Oe.update){let zt=Ee.get(Pt.id);if(zt==null)continue;const ln=!Pt.removeAllProperties&&(((tt=Pt.removeProperties)===null||tt===void 0?void 0:tt.length)>0||((Ze=Pt.addOrUpdateProperties)===null||Ze===void 0?void 0:Ze.length)>0);if((Pt.newGeometry||Pt.removeAllProperties||ln)&&(zt={...zt},Ee.set(Pt.id,zt),ln&&(zt.properties={...zt.properties})),Pt.newGeometry&&(zt.geometry=Pt.newGeometry),Pt.removeAllProperties)zt.properties={};else if(((Ot=Pt.removeProperties)===null||Ot===void 0?void 0:Ot.length)>0)for(const On of Pt.removeProperties)Object.prototype.hasOwnProperty.call(zt.properties,On)&&delete zt.properties[On];if(((Ut=Pt.addOrUpdateProperties)===null||Ut===void 0?void 0:Ut.length)>0)for(const{key:On,value:rn}of Pt.addOrUpdateProperties)zt.properties[On]=rn}}(this._dataUpdateable,xe.dataDiff,Ce),ve(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):ve(new Error(`Cannot update existing geojson data in ${xe.source}`)):ve(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},me&&(this.loadGeoJSON=me)}loadData(W,te){var ue;(ue=this._pendingRequest)===null||ue===void 0||ue.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const me=!!(W&&W.request&&W.request.collectResourceTiming)&&new l.RequestPerformance(W.request);this._pendingCallback=te,this._pendingRequest=this.loadGeoJSON(W,(xe,ve)=>{if(delete this._pendingCallback,delete this._pendingRequest,xe||!ve)return te(xe);if(typeof ve!="object")return te(new Error(`Input data given to '${W.source}' is not a valid GeoJSON object.`));{U(ve,!0);try{if(W.filter){const Ee=l.createExpression(W.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ee.result==="error")throw new Error(Ee.value.map($e=>`${$e.key}: ${$e.message}`).join(", "));ve={type:"FeatureCollection",features:ve.features.filter($e=>Ee.value.evaluate({zoom:0},$e))}}this._geoJSONIndex=W.cluster?new ht(function({superclusterOptions:Ee,clusterProperties:Oe}){if(!Oe||!Ee)return Ee;const $e={},tt={},Ze={accumulated:null,zoom:0},Ot={properties:null},Ut=Object.keys(Oe);for(const Pt of Ut){const[zt,ln]=Oe[Pt],On=l.createExpression(ln),rn=l.createExpression(typeof zt=="string"?[zt,["accumulated"],["get",Pt]]:zt);$e[Pt]=On.value,tt[Pt]=rn.value}return Ee.map=Pt=>{Ot.properties=Pt;const zt={};for(const ln of Ut)zt[ln]=$e[ln].evaluate(Ze,Ot);return zt},Ee.reduce=(Pt,zt)=>{Ot.properties=zt;for(const ln of Ut)Ze.accumulated=Pt[ln],Pt[ln]=tt[ln].evaluate(Ze,Ot)},Ee}(W)).load(ve.features):function(Ee,Oe){return new Vt(Ee,Oe)}(ve,W.geojsonVtOptions)}catch(Ee){return te(Ee)}this.loaded={};const Ce={};if(me){const Ee=me.finish();Ee&&(Ce.resourceTiming={},Ce.resourceTiming[W.source]=JSON.parse(JSON.stringify(Ee)))}te(null,Ce)}})}reloadTile(W,te){const ue=this.loaded;return ue&&ue[W.uid]?super.reloadTile(W,te):this.loadTile(W,te)}removeSource(W,te){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),te()}getClusterExpansionZoom(W,te){try{te(null,this._geoJSONIndex.getClusterExpansionZoom(W.clusterId))}catch(ue){te(ue)}}getClusterChildren(W,te){try{te(null,this._geoJSONIndex.getChildren(W.clusterId))}catch(ue){te(ue)}}getClusterLeaves(W,te){try{te(null,this._geoJSONIndex.getLeaves(W.clusterId,W.limit,W.offset))}catch(ue){te(ue)}}}class kr{constructor(W){this.self=W,this.actor=new l.Actor(W,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:V,geojson:Tr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(te,ue)=>{if(this.workerSourceTypes[te])throw new Error(`Worker source with name "${te}" already registered.`);this.workerSourceTypes[te]=ue},this.self.registerRTLTextPlugin=te=>{if(l.plugin.isParsed())throw new Error("RTL text plugin already registered.");l.plugin.applyArabicShaping=te.applyArabicShaping,l.plugin.processBidirectionalText=te.processBidirectionalText,l.plugin.processStyledBidirectionalText=te.processStyledBidirectionalText}}setReferrer(W,te){this.referrer=te}setImages(W,te,ue){this.availableImages[W]=te;for(const me in this.workerSources[W]){const xe=this.workerSources[W][me];for(const ve in xe)xe[ve].availableImages=te}ue()}setLayers(W,te,ue){this.getLayerIndex(W).replace(te),ue()}updateLayers(W,te,ue){this.getLayerIndex(W).update(te.layers,te.removedIds),ue()}loadTile(W,te,ue){this.getWorkerSource(W,te.type,te.source).loadTile(te,ue)}loadDEMTile(W,te,ue){this.getDEMWorkerSource(W,te.source).loadTile(te,ue)}reloadTile(W,te,ue){this.getWorkerSource(W,te.type,te.source).reloadTile(te,ue)}abortTile(W,te,ue){this.getWorkerSource(W,te.type,te.source).abortTile(te,ue)}removeTile(W,te,ue){this.getWorkerSource(W,te.type,te.source).removeTile(te,ue)}removeDEMTile(W,te){this.getDEMWorkerSource(W,te.source).removeTile(te)}removeSource(W,te,ue){if(!this.workerSources[W]||!this.workerSources[W][te.type]||!this.workerSources[W][te.type][te.source])return;const me=this.workerSources[W][te.type][te.source];delete this.workerSources[W][te.type][te.source],me.removeSource!==void 0?me.removeSource(te,ue):ue()}loadWorkerSource(W,te,ue){try{this.self.importScripts(te.url),ue()}catch(me){ue(me.toString())}}syncRTLPluginState(W,te,ue){try{l.plugin.setState(te);const me=l.plugin.getPluginURL();if(l.plugin.isLoaded()&&!l.plugin.isParsed()&&me!=null){this.self.importScripts(me);const xe=l.plugin.isParsed();ue(xe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${me}`),xe)}}catch(me){ue(me.toString())}}getAvailableImages(W){let te=this.availableImages[W];return te||(te=[]),te}getLayerIndex(W){let te=this.layerIndexes[W];return te||(te=this.layerIndexes[W]=new C),te}getWorkerSource(W,te,ue){if(this.workerSources[W]||(this.workerSources[W]={}),this.workerSources[W][te]||(this.workerSources[W][te]={}),!this.workerSources[W][te][ue]){const me={send:(xe,ve,Ce)=>{this.actor.send(xe,ve,Ce,W)}};this.workerSources[W][te][ue]=new this.workerSourceTypes[te](me,this.getLayerIndex(W),this.getAvailableImages(W))}return this.workerSources[W][te][ue]}getDEMWorkerSource(W,te){return this.demWorkerSources[W]||(this.demWorkerSources[W]={}),this.demWorkerSources[W][te]||(this.demWorkerSources[W][te]=new Z),this.demWorkerSources[W][te]}}return l.isWorker()&&(self.worker=new kr(self)),kr}),u(["./shared"],function(l){var y=w;function w(v){return!function(a){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var m,_,S=new Blob([""],{type:"text/javascript"}),A=URL.createObjectURL(S);try{_=new Worker(A),m=!0}catch{m=!1}return _&&_.terminate(),URL.revokeObjectURL(A),m}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var m=document.createElement("canvas");m.width=m.height=1;var _=m.getContext("2d");if(!_)return!1;var S=_.getImageData(0,0,1,1);return S&&S.width===m.width}()?(C[f=a&&a.failIfMajorPerformanceCaveat]===void 0&&(C[f]=function(m){var _,S=function(A){var M=document.createElement("canvas"),z=Object.create(w.webGLContextAttributes);return z.failIfMajorPerformanceCaveat=A,M.getContext("webgl",z)||M.getContext("experimental-webgl",z)}(m);if(!S)return!1;try{_=S.createShader(S.VERTEX_SHADER)}catch{return!1}return!(!_||S.isContextLost())&&(S.shaderSource(_,"void main() {}"),S.compileShader(_),S.getShaderParameter(_,S.COMPILE_STATUS)===!0)}(f)),C[f]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var f}(v)}var C={};w.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var P="3.0.0-pre.4";function O(v,a){if(Array.isArray(v)){if(!Array.isArray(a)||v.length!==a.length)return!1;for(let f=0;f<v.length;f++)if(!O(v[f],a[f]))return!1;return!0}if(typeof v=="object"&&v!==null&&a!==null){if(typeof a!="object"||Object.keys(v).length!==Object.keys(a).length)return!1;for(const f in v)if(!O(v[f],a[f]))return!1;return!0}return v===a}class I{static testProp(a){if(!I.docStyle)return a[0];for(let f=0;f<a.length;f++)if(a[f]in I.docStyle)return a[f];return a[0]}static create(a,f,m){const _=window.document.createElement(a);return f!==void 0&&(_.className=f),m&&m.appendChild(_),_}static createNS(a,f){return window.document.createElementNS(a,f)}static disableDrag(){I.docStyle&&I.selectProp&&(I.userSelect=I.docStyle[I.selectProp],I.docStyle[I.selectProp]="none")}static enableDrag(){I.docStyle&&I.selectProp&&(I.docStyle[I.selectProp]=I.userSelect)}static setTransform(a,f){a.style[I.transformProp]=f}static addEventListener(a,f,m,_={}){a.addEventListener(f,m,"passive"in _?_:_.capture)}static removeEventListener(a,f,m,_={}){a.removeEventListener(f,m,"passive"in _?_:_.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",I.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",I.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",I.suppressClickInternal,!0)},0)}static mousePos(a,f){const m=a.getBoundingClientRect();return new l.pointGeometry(f.clientX-m.left-a.clientLeft,f.clientY-m.top-a.clientTop)}static touchPos(a,f){const m=a.getBoundingClientRect(),_=[];for(let S=0;S<f.length;S++)_.push(new l.pointGeometry(f[S].clientX-m.left-a.clientLeft,f[S].clientY-m.top-a.clientTop));return _}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}I.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,I.selectProp=I.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),I.transformProp=I.testProp(["transform","WebkitTransform"]);const F={supported:!1,testSupport:function(v){!U&&Z&&(N?j(v):V=v)}};let V,Z,U=!1,N=!1;function j(v){const a=v.createTexture();v.bindTexture(v.TEXTURE_2D,a);try{if(v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,Z),v.isContextLost())return;F.supported=!0}catch{}v.deleteTexture(a),U=!0}var Q;typeof document<"u"&&(Z=document.createElement("img"),Z.onload=function(){V&&j(V),V=null,N=!0},Z.onerror=function(){U=!0,V=null},Z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(v){let a,f,m,_;v.resetRequestQueue=()=>{a=[],f=0,m=0,_={}},v.addThrottleControl=M=>{const z=m++;return _[z]=M,z},v.removeThrottleControl=M=>{delete _[M]};const S=()=>{const M=Object.keys(_);let z=!1;if(M.length>0){for(const B of M)if(z=_[B](),z)break}return z};v.getImage=(M,z)=>{F.supported&&(M.headers||(M.headers={}),M.headers.accept="image/webp,*/*");const B={requestParameters:M,callback:z,cancelled:!1,completed:!1,cancel:()=>{}};return a.push(B),S()||v.processQueue(),B};const A=M=>{const{requestParameters:z,callback:B}=M;return l.getArrayBuffer(z,(K,H,ne,de)=>{K?B(K):H&&((pe,fe)=>{typeof createImageBitmap=="function"?l.arrayBufferToImageBitmap(pe,fe):l.arrayBufferToImage(pe,fe)})(H,(pe,fe)=>{pe!=null?B(pe):fe!=null&&B(null,fe,{cacheControl:ne,expires:de})}),M.cancelled||(M.completed=!0,f--,S()||v.processQueue())})};v.processQueue=(M=0)=>{M<=0&&(M=S()?l.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:l.config.MAX_PARALLEL_IMAGE_REQUESTS);for(let z=f;z<M&&a.length>0;z++){const B=a.shift();if(B.cancelled)continue;const K=A(B);f++,B.innerRequest=K,B.cancel=()=>{var H;(H=B).completed||H.cancelled||(f--,H.cancelled=!0,H.innerRequest.cancel(),v.processQueue())}}return a.length}}(Q||(Q={})),Q.resetRequestQueue();var ee,Y=Q;(function(v){v.Glyphs="Glyphs",v.Image="Image",v.Source="Source",v.SpriteImage="SpriteImage",v.SpriteJSON="SpriteJSON",v.Style="Style",v.Tile="Tile",v.Unknown="Unknown"})(ee||(ee={}));class J{constructor(a){this._transformRequestFn=a}transformRequest(a,f){return this._transformRequestFn&&this._transformRequestFn(a,f)||{url:a}}normalizeSpriteURL(a,f,m){const _=function(S){const A=S.match(se);if(!A)throw new Error(`Unable to parse URL "${S}"`);return{protocol:A[1],authority:A[2],path:A[3]||"/",params:A[4]?A[4].split("&"):[]}}(a);return _.path+=`${f}${m}`,function(S){const A=S.params.length?`?${S.params.join("&")}`:"";return`${S.protocol}://${S.authority}${S.path}${A}`}(_)}setTransformRequest(a){this._transformRequestFn=a}}const se=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ge(v){var a=new l.ARRAY_TYPE(3);return a[0]=v[0],a[1]=v[1],a[2]=v[2],a}var he,Se=function(v,a,f){return v[0]=a[0]-f[0],v[1]=a[1]-f[1],v[2]=a[2]-f[2],v};he=new l.ARRAY_TYPE(3),l.ARRAY_TYPE!=Float32Array&&(he[0]=0,he[1]=0,he[2]=0);var De=function(v){var a=v[0],f=v[1];return a*a+f*f};function He(v){return typeof v=="string"?[{id:"default",url:v}]:v??[]}(function(){var v=new l.ARRAY_TYPE(2);l.ARRAY_TYPE!=Float32Array&&(v[0]=0,v[1]=0)})();class Be{constructor(a,f,m,_){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(f,_)}update(a,f,m){const{width:_,height:S}=a,A=!(this.size&&this.size[0]===_&&this.size[1]===S||m),{context:M}=this,{gl:z}=M;if(this.useMipmap=!!(f&&f.useMipmap),z.bindTexture(z.TEXTURE_2D,this.texture),M.pixelStoreUnpackFlipY.set(!1),M.pixelStoreUnpack.set(1),M.pixelStoreUnpackPremultiplyAlpha.set(this.format===z.RGBA&&(!f||f.premultiply!==!1)),A)this.size=[_,S],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||l.isImageBitmap(a)?z.texImage2D(z.TEXTURE_2D,0,this.format,this.format,z.UNSIGNED_BYTE,a):z.texImage2D(z.TEXTURE_2D,0,this.format,_,S,0,this.format,z.UNSIGNED_BYTE,a.data);else{const{x:B,y:K}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||l.isImageBitmap(a)?z.texSubImage2D(z.TEXTURE_2D,0,B,K,z.RGBA,z.UNSIGNED_BYTE,a):z.texSubImage2D(z.TEXTURE_2D,0,B,K,_,S,z.RGBA,z.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&z.generateMipmap(z.TEXTURE_2D)}bind(a,f,m){const{context:_}=this,{gl:S}=_;S.bindTexture(S.TEXTURE_2D,this.texture),m!==S.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=S.LINEAR),a!==this.filter&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,a),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,m||a),this.filter=a),f!==this.wrap&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,f),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,f),this.wrap=f)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function Je(v){const{userImage:a}=v;return!!(a&&a.render&&a.render())&&(v.data.replace(new Uint8Array(a.data.buffer)),!0)}class Ge extends l.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:f,callback:m}of this.requestors)this._notify(f,m);this.requestors=[]}}getImage(a){const f=this.images[a];if(f&&!f.data&&f.spriteData){const m=f.spriteData;f.data=new l.RGBAImage({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),f.spriteData=null}return f}addImage(a,f){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,f)&&(this.images[a]=f)}_validate(a,f){let m=!0;const _=f.data||f.spriteData;return this._validateStretch(f.stretchX,_&&_.width)||(this.fire(new l.ErrorEvent(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(f.stretchY,_&&_.height)||(this.fire(new l.ErrorEvent(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(f.content,f)||(this.fire(new l.ErrorEvent(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,f){if(!a)return!0;let m=0;for(const _ of a){if(_[0]<m||_[1]<_[0]||f<_[1])return!1;m=_[1]}return!0}_validateContent(a,f){if(!a)return!0;if(a.length!==4)return!1;const m=f.spriteData,_=m&&m.width||f.data.width,S=m&&m.height||f.data.height;return!(a[0]<0||_<a[0]||a[1]<0||S<a[1]||a[2]<0||_<a[2]||a[3]<0||S<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,f,m=!0){const _=this.getImage(a);if(m&&(_.data.width!==f.data.width||_.data.height!==f.data.height))throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=_.version+1,this.images[a]=f,this.updatedImages[a]=!0}removeImage(a){const f=this.images[a];delete this.images[a],delete this.patterns[a],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,f){let m=!0;if(!this.isLoaded())for(const _ of a)this.images[_]||(m=!1);this.isLoaded()||m?this._notify(a,f):this.requestors.push({ids:a,callback:f})}_notify(a,f){const m={};for(const _ of a){const S=this.getImage(_);S?m[_]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,hasRenderCallback:!!(S.userImage&&S.userImage.render)}:(this.fire(new l.Event("styleimagemissing",{id:_})),l.warnOnce(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`))}f(null,m)}getPixelSize(){const{width:a,height:f}=this.atlasImage;return{width:a,height:f}}getPattern(a){const f=this.patterns[a],m=this.getImage(a);if(!m)return null;if(f&&f.position.version===m.version)return f.position;if(f)f.position.version=m.version;else{const _={w:m.data.width+2,h:m.data.height+2,x:0,y:0},S=new l.ImagePosition(_,m);this.patterns[a]={bin:_,position:S}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const f=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Be(a,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const S in this.patterns)a.push(this.patterns[S].bin);const{w:f,h:m}=l.potpack(a),_=this.atlasImage;_.resize({width:f||1,height:m||1});for(const S in this.patterns){const{bin:A}=this.patterns[S],M=A.x+1,z=A.y+1,B=this.getImage(S).data,K=B.width,H=B.height;l.RGBAImage.copy(B,_,{x:0,y:0},{x:M,y:z},{width:K,height:H}),l.RGBAImage.copy(B,_,{x:0,y:H-1},{x:M,y:z-1},{width:K,height:1}),l.RGBAImage.copy(B,_,{x:0,y:0},{x:M,y:z+H},{width:K,height:1}),l.RGBAImage.copy(B,_,{x:K-1,y:0},{x:M-1,y:z},{width:1,height:H}),l.RGBAImage.copy(B,_,{x:0,y:0},{x:M+K,y:z},{width:1,height:H})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const f of a){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const m=this.getImage(f);m||l.warnOnce(`Image with ID: "${f}" was not found`),Je(m)&&this.updateImage(f,m)}}}const ut=1e20;function Pe(v,a,f,m,_,S,A,M,z){for(let B=a;B<a+m;B++)We(v,f*S+B,S,_,A,M,z);for(let B=f;B<f+_;B++)We(v,B*S+a,1,m,A,M,z)}function We(v,a,f,m,_,S,A){S[0]=0,A[0]=-ut,A[1]=ut,_[0]=v[a];for(let M=1,z=0,B=0;M<m;M++){_[M]=v[a+M*f];const K=M*M;do{const H=S[z];B=(_[M]-_[H]+K-H*H)/(M-H)/2}while(B<=A[z]&&--z>-1);z++,S[z]=M,A[z]=B,A[z+1]=ut}for(let M=0,z=0;M<m;M++){for(;A[z+1]<M;)z++;const B=S[z],K=M-B;v[a+M*f]=_[B]+K*K}}class Me{constructor(a,f){this.requestManager=a,this.localIdeographFontFamily=f,this.entries={}}setURL(a){this.url=a}getGlyphs(a,f){const m=[];for(const _ in a)for(const S of a[_])m.push({stack:_,id:S});l.asyncAll(m,({stack:_,id:S},A)=>{let M=this.entries[_];M||(M=this.entries[_]={glyphs:{},requests:{},ranges:{}});let z=M.glyphs[S];if(z!==void 0)return void A(null,{stack:_,id:S,glyph:z});if(z=this._tinySDF(M,_,S),z)return M.glyphs[S]=z,void A(null,{stack:_,id:S,glyph:z});const B=Math.floor(S/256);if(256*B>65535)return void A(new Error("glyphs > 65535 not supported"));if(M.ranges[B])return void A(null,{stack:_,id:S,glyph:z});if(!this.url)return void A(new Error("glyphsUrl is not set"));let K=M.requests[B];K||(K=M.requests[B]=[],Me.loadGlyphRange(_,B,this.url,this.requestManager,(H,ne)=>{if(ne){for(const de in ne)this._doesCharSupportLocalGlyph(+de)||(M.glyphs[+de]=ne[+de]);M.ranges[B]=!0}for(const de of K)de(H,ne);delete M.requests[B]})),K.push((H,ne)=>{H?A(H):ne&&A(null,{stack:_,id:S,glyph:ne[S]||null})})},(_,S)=>{if(_)f(_);else if(S){const A={};for(const{stack:M,id:z,glyph:B}of S)(A[M]||(A[M]={}))[z]=B&&{id:B.id,bitmap:B.bitmap.clone(),metrics:B.metrics};f(null,A)}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(l.unicodeBlockLookup["CJK Unified Ideographs"](a)||l.unicodeBlockLookup["Hangul Syllables"](a)||l.unicodeBlockLookup.Hiragana(a)||l.unicodeBlockLookup.Katakana(a))}_tinySDF(a,f,m){const _=this.localIdeographFontFamily;if(!_||!this._doesCharSupportLocalGlyph(m))return;let S=a.tinySDF;if(!S){let M="400";/bold/i.test(f)?M="900":/medium/i.test(f)?M="500":/light/i.test(f)&&(M="200"),S=a.tinySDF=new Me.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:_,fontWeight:M})}const A=S.draw(String.fromCharCode(m));return{id:m,bitmap:new l.AlphaImage({width:A.width||30,height:A.height||30},A.data),metrics:{width:A.glyphWidth||24,height:A.glyphHeight||24,left:A.glyphLeft||0,top:A.glyphTop-27||-8,advance:A.glyphAdvance||24}}}}Me.loadGlyphRange=function(v,a,f,m,_){const S=256*a,A=S+255,M=m.transformRequest(f.replace("{fontstack}",v).replace("{range}",`${S}-${A}`),ee.Glyphs);l.getArrayBuffer(M,(z,B)=>{if(z)_(z);else if(B){const K={};for(const H of l.parseGlyphPbf(B))K[H.id]=H;_(null,K)}})},Me.TinySDF=class{constructor({fontSize:v=24,buffer:a=3,radius:f=8,cutoff:m=.25,fontFamily:_="sans-serif",fontWeight:S="normal",fontStyle:A="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=f;const M=this.size=v+4*a,z=this._createCanvas(M),B=this.ctx=z.getContext("2d",{willReadFrequently:!0});B.font=`${A} ${S} ${v}px ${_}`,B.textBaseline="alphabetic",B.textAlign="left",B.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(v){const a=document.createElement("canvas");return a.width=a.height=v,a}draw(v){const{width:a,actualBoundingBoxAscent:f,actualBoundingBoxDescent:m,actualBoundingBoxLeft:_,actualBoundingBoxRight:S}=this.ctx.measureText(v),A=Math.ceil(f),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(S-_))),z=Math.min(this.size-this.buffer,A+Math.ceil(m)),B=M+2*this.buffer,K=z+2*this.buffer,H=Math.max(B*K,0),ne=new Uint8ClampedArray(H),de={data:ne,width:B,height:K,glyphWidth:M,glyphHeight:z,glyphTop:A,glyphLeft:0,glyphAdvance:a};if(M===0||z===0)return de;const{ctx:pe,buffer:fe,gridInner:we,gridOuter:ke}=this;pe.clearRect(fe,fe,M,z),pe.fillText(v,fe,fe+A);const Ae=pe.getImageData(fe,fe,M,z);ke.fill(ut,0,H),we.fill(0,0,H);for(let ye=0;ye<z;ye++)for(let Re=0;Re<M;Re++){const Ve=Ae.data[4*(ye*M+Re)+3]/255;if(Ve===0)continue;const je=(ye+fe)*B+Re+fe;if(Ve===1)ke[je]=0,we[je]=ut;else{const Ke=.5-Ve;ke[je]=Ke>0?Ke*Ke:0,we[je]=Ke<0?Ke*Ke:0}}Pe(ke,0,0,B,K,B,this.f,this.v,this.z),Pe(we,fe,fe,M,z,B,this.f,this.v,this.z);for(let ye=0;ye<H;ye++){const Re=Math.sqrt(ke[ye])-Math.sqrt(we[ye]);ne[ye]=Math.round(255-255*(Re/this.radius+this.cutoff))}return de}};const Xe=new l.Properties({anchor:new l.DataConstantProperty(l.spec.light.anchor),position:new class{constructor(){this.specification=l.spec.light.position}possiblyEvaluate(v,a){return l.sphericalToCartesian(v.expression.evaluate(a))}interpolate(v,a,f){return{x:l.number(v.x,a.x,f),y:l.number(v.y,a.y,f),z:l.number(v.z,a.z,f)}}},color:new l.DataConstantProperty(l.spec.light.color),intensity:new l.DataConstantProperty(l.spec.light.intensity)}),et="-transition";class mt extends l.Evented{constructor(a){super(),this._transitionable=new l.Transitionable(Xe),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,f={}){if(!this._validate(l.validateLight,a,f))for(const m in a){const _=a[m];m.endsWith(et)?this._transitionable.setTransition(m.slice(0,-et.length),_):this._transitionable.setValue(m,_)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,f,m){return(!m||m.validate!==!1)&&l.emitValidationErrors(this,a.call(l.validateStyle,l.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:l.spec})))}}class ct{constructor(a,f){this.width=a,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,f){const m=a.join(",")+String(f);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,f)),this.dashEntry[m]}getDashRanges(a,f,m){const _=[];let S=a.length%2==1?-a[a.length-1]*m:0,A=a[0]*m,M=!0;_.push({left:S,right:A,isDash:M,zeroLength:a[0]===0});let z=a[0];for(let B=1;B<a.length;B++){M=!M;const K=a[B];S=z*m,z+=K,A=z*m,_.push({left:S,right:A,isDash:M,zeroLength:K===0})}return _}addRoundDash(a,f,m){const _=f/2;for(let S=-m;S<=m;S++){const A=this.width*(this.nextRow+m+S);let M=0,z=a[M];for(let B=0;B<this.width;B++){B/z.right>1&&(z=a[++M]);const K=Math.abs(B-z.left),H=Math.abs(B-z.right),ne=Math.min(K,H);let de;const pe=S/m*(_+1);if(z.isDash){const fe=_-Math.abs(pe);de=Math.sqrt(ne*ne+fe*fe)}else de=_-Math.sqrt(ne*ne+pe*pe);this.data[A+B]=Math.max(0,Math.min(255,de+128))}}}addRegularDash(a){for(let M=a.length-1;M>=0;--M){const z=a[M],B=a[M+1];z.zeroLength?a.splice(M,1):B&&B.isDash===z.isDash&&(B.left=z.left,a.splice(M,1))}const f=a[0],m=a[a.length-1];f.isDash===m.isDash&&(f.left=m.left-this.width,m.right=f.right+this.width);const _=this.width*this.nextRow;let S=0,A=a[S];for(let M=0;M<this.width;M++){M/A.right>1&&(A=a[++S]);const z=Math.abs(M-A.left),B=Math.abs(M-A.right),K=Math.min(z,B);this.data[_+M]=Math.max(0,Math.min(255,(A.isDash?K:-K)+128))}}addDash(a,f){const m=f?7:0,_=2*m+1;if(this.nextRow+_>this.height)return l.warnOnce("LineAtlas out of space"),null;let S=0;for(let M=0;M<a.length;M++)S+=a[M];if(S!==0){const M=this.width/S,z=this.getDashRanges(a,this.width,M);f?this.addRoundDash(z,M,m):this.addRegularDash(z)}const A={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:S};return this.nextRow+=_,this.dirty=!0,A}bind(a){const f=a.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}class ht{constructor(a,f,m){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=m;const _=this.workerPool.acquire(m);for(let S=0;S<_.length;S++){const A=new ht.Actor(_[S],f,m);A.name=`Worker ${S}`,this.actors.push(A)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,f,m){l.asyncAll(this.actors,(_,S)=>{_.send(a,f,S)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}}function pt(v,a,f){const m=function(_,S){if(_)return f(_);if(S){const A=l.pick(l.extend(S,v),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);S.vector_layers&&(A.vectorLayers=S.vector_layers,A.vectorLayerIds=A.vectorLayers.map(M=>M.id)),f(null,A)}};return v.url?l.getJSON(a.transformRequest(v.url,ee.Source),m):l.exported.frame(()=>m(null,v))}ht.Actor=l.Actor;class Et{constructor(a,f,m){this.bounds=l.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=f||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const f=Math.pow(2,a.z),m=Math.floor(l.mercatorXfromLng(this.bounds.getWest())*f),_=Math.floor(l.mercatorYfromLat(this.bounds.getNorth())*f),S=Math.ceil(l.mercatorXfromLng(this.bounds.getEast())*f),A=Math.ceil(l.mercatorYfromLat(this.bounds.getSouth())*f);return a.x>=m&&a.x<S&&a.y>=_&&a.y<A}}class an extends l.Evented{constructor(a,f,m,_){if(super(),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.extend(this,l.pick(f,["url","scheme","tileSize","promoteId"])),this._options=l.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}load(){this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=pt(this._options,this.map._requestManager,(a,f)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a?this.fire(new l.ErrorEvent(a)):f&&(l.extend(this,f),f.bounds&&(this.tileBounds=new Et(f.bounds,this.minzoom,this.maxzoom)),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return l.extend({},this._options)}loadTile(a,f){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(m,ee.Tile),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function S(A,M){return delete a.request,a.aborted?f(null):A&&A.status!==404?f(A):(M&&M.resourceTiming&&(a.resourceTiming=M.resourceTiming),this.map._refreshExpiredTiles&&M&&a.setExpiryData(M),a.loadVectorData(M,this.map.painter),f(null),void(a.reloadCallback&&(this.loadTile(a,a.reloadCallback),a.reloadCallback=null)))}_.request.collectResourceTiming=this._collectResourceTiming,a.actor&&a.state!=="expired"?a.state==="loading"?a.reloadCallback=f:a.request=a.actor.send("reloadTile",_,S.bind(this)):(a.actor=this.dispatcher.getActor(),a.request=a.actor.send("loadTile",_,S.bind(this)))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.actor&&a.actor.send("abortTile",{uid:a.uid,type:this.type,source:this.id},void 0)}unloadTile(a){a.unloadVectorData(),a.actor&&a.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Pn extends l.Evented{constructor(a,f,m,_){super(),this.id=a,this.dispatcher=m,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.extend({type:"raster"},f),l.extend(this,l.pick(f,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=pt(this._options,this.map._requestManager,(a,f)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new l.ErrorEvent(a)):f&&(l.extend(this,f),f.bounds&&(this.tileBounds=new Et(f.bounds,this.minzoom,this.maxzoom)),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return l.extend({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,f){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.request=Y.getImage(this.map._requestManager.transformRequest(m,ee.Tile),(_,S,A)=>{if(delete a.request,a.aborted)a.state="unloaded",f(null);else if(_)a.state="errored",f(_);else if(S){this.map._refreshExpiredTiles&&a.setExpiryData(A);const M=this.map.painter.context,z=M.gl;a.texture=this.map.painter.getTileTexture(S.width),a.texture?a.texture.update(S,{useMipmap:!0}):(a.texture=new Be(M,S,z.RGBA,{useMipmap:!0}),a.texture.bind(z.LINEAR,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),M.extTextureFilterAnisotropic&&z.texParameterf(z.TEXTURE_2D,M.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,M.extTextureFilterAnisotropicMax)),a.state="loaded",f(null)}})}abortTile(a,f){a.request&&(a.request.cancel(),delete a.request),f()}unloadTile(a,f){a.texture&&this.map.painter.saveTileTexture(a.texture),f()}hasTransition(){return!1}}let Fe;class rt extends Pn{constructor(a,f,m,_){super(a,f,m,_),this.type="raster-dem",this.maxzoom=22,this._options=l.extend({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(a,f){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function _(S,A){S&&(a.state="errored",f(S)),A&&(a.dem=A,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded",f(null))}a.request=Y.getImage(this.map._requestManager.transformRequest(m,ee.Tile),(function(S,A){if(delete a.request,a.aborted)a.state="unloaded",f(null);else if(S)a.state="errored",f(S);else if(A){this.map._refreshExpiredTiles&&a.setExpiryData(A),delete A.cacheControl,delete A.expires;const M=l.isImageBitmap(A)&&(Fe==null&&(Fe=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Fe)?A:l.exported.getImageData(A,1),z={uid:a.uid,coord:a.tileID,source:this.id,rawImageData:M,encoding:this.encoding};a.actor&&a.state!=="expired"||(a.actor=this.dispatcher.getActor(),a.actor.send("loadDEMTile",z,_.bind(this)))}}).bind(this)),a.neighboringTiles=this._getNeighboringTiles(a.tileID)}_getNeighboringTiles(a){const f=a.canonical,m=Math.pow(2,f.z),_=(f.x-1+m)%m,S=f.x===0?a.wrap-1:a.wrap,A=(f.x+1+m)%m,M=f.x+1===m?a.wrap+1:a.wrap,z={};return z[new l.OverscaledTileID(a.overscaledZ,S,f.z,_,f.y).key]={backfilled:!1},z[new l.OverscaledTileID(a.overscaledZ,M,f.z,A,f.y).key]={backfilled:!1},f.y>0&&(z[new l.OverscaledTileID(a.overscaledZ,S,f.z,_,f.y-1).key]={backfilled:!1},z[new l.OverscaledTileID(a.overscaledZ,a.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},z[new l.OverscaledTileID(a.overscaledZ,M,f.z,A,f.y-1).key]={backfilled:!1}),f.y+1<m&&(z[new l.OverscaledTileID(a.overscaledZ,S,f.z,_,f.y+1).key]={backfilled:!1},z[new l.OverscaledTileID(a.overscaledZ,a.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},z[new l.OverscaledTileID(a.overscaledZ,M,f.z,A,f.y+1).key]={backfilled:!1}),z}unloadTile(a){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&a.actor.send("removeDEMTile",{uid:a.uid,source:this.id})}}class Kt extends l.Evented{constructor(a,f,m,_){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(_),this._data=f.data,this._options=l.extend({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;const S=l.EXTENT/this.tileSize;this.workerOptions=l.extend({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(f.buffer!==void 0?f.buffer:128)*S,tolerance:(f.tolerance!==void 0?f.tolerance:.375)*S,extent:l.EXTENT,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:f.clusterMaxZoom!==void 0?f.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:l.EXTENT,radius:(f.clusterRadius||50)*S,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){this._updateWorkerData()}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a,f){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:a,source:this.id},f),this}getClusterChildren(a,f){return this.actor.send("geojson.getClusterChildren",{clusterId:a,source:this.id},f),this}getClusterLeaves(a,f,m,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:a,limit:f,offset:m},_),this}_updateWorkerData(a){const f=l.extend({},this.workerOptions);a?f.dataDiff=a:typeof this._data=="string"?(f.request=this.map._requestManager.transformRequest(l.exported.resolveURL(this._data),ee.Source),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new l.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,f,(m,_)=>{if(this._pendingLoads--,this._removed||_&&_.abandoned)return void this.fire(new l.Event("dataabort",{dataType:"source"}));let S=null;if(_&&_.resourceTiming&&_.resourceTiming[this.id]&&(S=_.resourceTiming[this.id].slice(0)),m)return void this.fire(new l.ErrorEvent(m));const A={dataType:"source"};this._collectResourceTiming&&S&&S.length>0&&l.extend(A,{resourceTiming:S}),this.fire(new l.Event("data",{...A,sourceDataType:"metadata"})),this.fire(new l.Event("data",{...A,sourceDataType:"content"}))})}loaded(){return this._pendingLoads===0}loadTile(a,f){const m=a.actor?"reloadTile":"loadTile";a.actor=this.actor;const _={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.request=this.actor.send(m,_,(S,A)=>(delete a.request,a.unloadVectorData(),a.aborted?f(null):S?f(S):(a.loadVectorData(A,this.map.painter,m==="reloadTile"),f(null))))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.aborted=!0}unloadTile(a){a.unloadVectorData(),this.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return l.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var xn=l.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class tn extends l.Evented{constructor(a,f,m,_){super(),this.id=a,this.dispatcher=m,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=f}load(a,f){this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=Y.getImage(this.map._requestManager.transformRequest(this.url,ee.Image),(m,_)=>{this._request=null,this._loaded=!0,m?this.fire(new l.ErrorEvent(m)):_&&(this.image=_,a&&(this.coordinates=a),f&&f(),this._finishLoading())})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=a.url,this.load(a.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(a){this.coordinates=a;const f=a.map(l.MercatorCoordinate.fromLngLat);this.tileID=function(_){let S=1/0,A=1/0,M=-1/0,z=-1/0;for(const ne of _)S=Math.min(S,ne.x),A=Math.min(A,ne.y),M=Math.max(M,ne.x),z=Math.max(z,ne.y);const B=Math.max(M-S,z-A),K=Math.max(0,Math.floor(-Math.log(B)/Math.LN2)),H=Math.pow(2,K);return new l.CanonicalTileID(K,Math.floor((S+M)/2*H),Math.floor((A+z)/2*H))}(f),this.minzoom=this.maxzoom=this.tileID.z;const m=f.map(_=>this.tileID.getTilePoint(_)._round());return this._boundsArray=new l.RasterBoundsArray,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,l.EXTENT,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,l.EXTENT),this._boundsArray.emplaceBack(m[2].x,m[2].y,l.EXTENT,l.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const a=this.map.painter.context,f=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,xn.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Be(a,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));for(const m in this.tiles){const _=this.tiles[m];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture)}}loadTile(a,f){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},f(null)):(a.state="errored",f(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Zn extends tn{constructor(a,f,m,_){super(a,f,m,_),this.roundZoom=!0,this.type="video",this.options=f}load(){this._loaded=!1;const a=this.options;this.urls=[];for(const f of a.urls)this.urls.push(this.map._requestManager.transformRequest(f,ee.Source).url);l.getVideo(this.urls,(f,m)=>{this._loaded=!0,f?this.fire(new l.ErrorEvent(f)):m&&(this.video=m,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){const f=this.video.seekable;a<f.start(0)||a>f.end(0)?this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const a=this.map.painter.context,f=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,xn.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new Be(a,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));for(const m in this.tiles){const _=this.tiles[m];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Wn extends tn{constructor(a,f,m,_){super(a,f,m,_),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(S=>!Array.isArray(S)||S.length!==2||S.some(A=>typeof A!="number"))||this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${a}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${a}`,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${a}`,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${a}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.ErrorEvent(new l.ValidationError(`sources.${a}`,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const f=this.map.painter.context,m=f.gl;this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,xn.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Be(f,this.canvas,m.RGBA,{premultiply:!0});for(const _ in this.tiles){const S=this.tiles[_];S.state!=="loaded"&&(S.state="loaded",S.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}const Ur={vector:an,raster:Pn,"raster-dem":rt,geojson:Kt,video:Zn,image:tn,canvas:Wn};function ir(v,a){const f=l.create();return l.translate(f,f,[1,1,0]),l.scale(f,f,[.5*v.width,.5*v.height,1]),l.multiply(f,f,v.calculatePosMatrix(a.toUnwrapped()))}function dt(v,a,f,m,_,S){const A=function(H,ne,de){if(H)for(const pe of H){const fe=ne[pe];if(fe&&fe.source===de&&fe.type==="fill-extrusion")return!0}else for(const pe in ne){const fe=ne[pe];if(fe.source===de&&fe.type==="fill-extrusion")return!0}return!1}(_&&_.layers,a,v.id),M=S.maxPitchScaleFactor(),z=v.tilesIn(m,M,A);z.sort(Zt);const B=[];for(const H of z)B.push({wrappedTileID:H.tileID.wrapped().key,queryResults:H.tile.queryRenderedFeatures(a,f,v._state,H.queryGeometry,H.cameraQueryGeometry,H.scale,_,S,M,ir(v.transform,H.tileID))});const K=function(H){const ne={},de={};for(const pe of H){const fe=pe.queryResults,we=pe.wrappedTileID,ke=de[we]=de[we]||{};for(const Ae in fe){const ye=fe[Ae],Re=ke[Ae]=ke[Ae]||{},Ve=ne[Ae]=ne[Ae]||[];for(const je of ye)Re[je.featureIndex]||(Re[je.featureIndex]=!0,Ve.push(je))}}return ne}(B);for(const H in K)K[H].forEach(ne=>{const de=ne.feature,pe=v.getFeatureState(de.layer["source-layer"],de.id);de.source=de.layer.source,de.layer["source-layer"]&&(de.sourceLayer=de.layer["source-layer"]),de.state=pe});return K}function Zt(v,a){const f=v.tileID,m=a.tileID;return f.overscaledZ-m.overscaledZ||f.canonical.y-m.canonical.y||f.wrap-m.wrap||f.canonical.x-m.canonical.x}class qt{constructor(a,f){this.tileID=a,this.uid=l.uniqueId(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){const f=a+this.timeAdded;f<l.exported.now()||this.fadeEndTime&&f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,f,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(_,S){const A={};if(!S)return A;for(const M of _){const z=M.layerIds.map(B=>S.getLayer(B)).filter(Boolean);if(z.length!==0){M.layers=z,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map(B=>z.filter(K=>K.id===B)[0]));for(const B of z)A[B.id]=M}}return A}(a.buckets,f.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const S=this.buckets[_];if(S instanceof l.SymbolBucket){if(this.hasSymbolBuckets=!0,!m)break;S.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const S=this.buckets[_];if(S instanceof l.SymbolBucket&&S.hasRTLText){this.hasRTLText=!0,l.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const _ in this.buckets){const S=this.buckets[_];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(_).queryRadius(S))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new l.CollisionBoxArray}unloadVectorData(){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(const m in this.buckets){const _=this.buckets[m];_.uploadPending()&&_.upload(a)}const f=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Be(a,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Be(a,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,f,m,_,S,A,M,z,B,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:_,cameraQueryGeometry:S,scale:A,tileSize:this.tileSize,pixelPosMatrix:K,transform:z,params:M,queryPadding:this.queryPadding*B},a,f,m):{}}querySourceFeatures(a,f){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const _=m.loadVTLayers(),S=f&&f.sourceLayer?f.sourceLayer:"",A=_._geojsonTileLayer||_[S];if(!A)return;const M=l.createFilter(f&&f.filter),{z,x:B,y:K}=this.tileID.canonical,H={z,x:B,y:K};for(let ne=0;ne<A.length;ne++){const de=A.feature(ne);if(M.needGeometry){const we=l.toEvaluationFeature(de,!0);if(!M.filter(new l.EvaluationParameters(this.tileID.overscaledZ),we,this.tileID.canonical))continue}else if(!M.filter(new l.EvaluationParameters(this.tileID.overscaledZ),de))continue;const pe=m.getId(de,S),fe=new l.GeoJSONFeature(de,z,B,K,pe);fe.tile=H,a.push(fe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const f=this.expirationTime;if(a.cacheControl){const m=l.parseCacheControl(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const m=Date.now();let _=!1;if(this.expirationTime>m)_=!1;else if(f)if(this.expirationTime<f)_=!0;else{const S=this.expirationTime-f;S?this.expirationTime=m+Math.max(S,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;const m=this.latestFeatureIndex.loadVTLayers();for(const _ in this.buckets){if(!f.style.hasLayer(_))continue;const S=this.buckets[_],A=S.layers[0].sourceLayer||"_geojsonTileLayer",M=m[A],z=a[A];if(!M||!z||Object.keys(z).length===0)continue;S.update(z,M,this.imageAtlas&&this.imageAtlas.patternPositions||{});const B=f&&f.style&&f.style.getLayer(_);B&&(this.queryPadding=Math.max(this.queryPadding,B.queryRadius(S)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<l.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=l.exported.now()+a}setDependencies(a,f){const m={};for(const _ of f)m[_]=!0;this.dependencies[a]=m}hasDependency(a,f){for(const m of a){const _=this.dependencies[m];if(_){for(const S of f)if(_[S])return!0}}return!1}}class hr{constructor(a,f){this.max=a,this.onRemove=f,this.reset()}reset(){for(const a in this.data)for(const f of this.data[a])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(a,f,m){const _=a.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const S={value:f,timeout:void 0};if(m!==void 0&&(S.timeout=setTimeout(()=>{this.remove(a,S)},m)),this.data[_].push(S),this.order.push(_),this.order.length>this.max){const A=this._getAndRemoveByKey(this.order[0]);A&&this.onRemove(A)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const f=this.data[a].shift();return f.timeout&&clearTimeout(f.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),f.value}getByKey(a){const f=this.data[a];return f?f[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,f){if(!this.has(a))return this;const m=a.wrapped().key,_=f===void 0?0:this.data[m].indexOf(f),S=this.data[m][_];return this.data[m].splice(_,1),S.timeout&&clearTimeout(S.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(S.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(a){const f=[];for(const m in this.data)for(const _ of this.data[m])a(_.value)||f.push(_);for(const m of f)this.remove(m.value.tileID,m)}}class Kn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,f,m){const _=String(f);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][_]=this.stateChanges[a][_]||{},l.extend(this.stateChanges[a][_],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(const S in this.state[a])S!==_&&(this.deletedStates[a][S]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][_]===null){this.deletedStates[a][_]={};for(const S in this.state[a][_])m[S]||(this.deletedStates[a][_][S]=null)}else for(const S in m)this.deletedStates[a]&&this.deletedStates[a][_]&&this.deletedStates[a][_][S]===null&&delete this.deletedStates[a][_][S]}removeFeatureState(a,f,m){if(this.deletedStates[a]===null)return;const _=String(f);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&f!==void 0)this.deletedStates[a][_]!==null&&(this.deletedStates[a][_]=this.deletedStates[a][_]||{},this.deletedStates[a][_][m]=null);else if(f!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][_])for(m in this.deletedStates[a][_]={},this.stateChanges[a][_])this.deletedStates[a][_][m]=null;else this.deletedStates[a][_]=null;else this.deletedStates[a]=null}getState(a,f){const m=String(f),_=l.extend({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const S=this.deletedStates[a][f];if(S===null)return{};for(const A in S)delete _[A]}return _}initializeTileState(a,f){a.setFeatureState(this.state,f)}coalesceChanges(a,f){const m={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const S={};for(const A in this.stateChanges[_])this.state[_][A]||(this.state[_][A]={}),l.extend(this.state[_][A],this.stateChanges[_][A]),S[A]=this.state[_][A];m[_]=S}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const S={};if(this.deletedStates[_]===null)for(const A in this.state[_])S[A]={},this.state[_][A]={};else for(const A in this.deletedStates[_]){if(this.deletedStates[_][A]===null)this.state[_][A]={};else for(const M of Object.keys(this.deletedStates[_][A]))delete this.state[_][A][M];S[A]=this.state[_][A]}m[_]=m[_]||{},l.extend(m[_],S)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const _ in a)a[_].setFeatureState(m,f)}}class Ct extends l.Evented{constructor(a,f,m){super(),this.id=a,this.dispatcher=m,this.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(_,S,A,M){const z=new Ur[S.type](_,S,A,M);if(z.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${z.id}`);return l.bindAll(["load","abort","unload","serialize","prepare"],z),z}(a,f,m,this),this._tiles={},this._cache=new hr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Kn}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const a in this._tiles){const f=this._tiles[a];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,f){return this._source.loadTile(a,f)}_unloadTile(a){if(this._source.unloadTile)return this._source.unloadTile(a,()=>{})}_abortTile(a){this._source.abortTile&&this._source.abortTile(a,()=>{}),this._source.fire(new l.Event("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const m=this._tiles[f];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(Ir).map(a=>a.key)}getRenderableIds(a){const f=[];for(const m in this._tiles)this._isIdRenderable(m,a)&&f.push(this._tiles[m]);return a?f.sort((m,_)=>{const S=m.tileID,A=_.tileID,M=new l.pointGeometry(S.canonical.x,S.canonical.y)._rotate(this.transform.angle),z=new l.pointGeometry(A.canonical.x,A.canonical.y)._rotate(this.transform.angle);return S.overscaledZ-A.overscaledZ||z.y-M.y||z.x-M.x}).map(m=>m.tileID.key):f.map(m=>m.tileID).sort(Ir).map(m=>m.key)}hasRenderableParent(a){const f=this.findLoadedParent(a,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(a,f){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(f||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,f){const m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=f),this._loadTile(m,this._tileLoaded.bind(this,m,a,f)))}_tileLoaded(a,f,m,_){if(_)return a.state="errored",void(_.status!==404?this._source.fire(new l.ErrorEvent(_,{tile:a})):this.update(this.transform,this.terrain));a.timeAdded=l.exported.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(f,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new l.Event("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){const f=this.getRenderableIds();for(let _=0;_<f.length;_++){const S=f[_];if(a.neighboringTiles&&a.neighboringTiles[S]){const A=this.getTileByID(S);m(a,A),m(A,a)}}function m(_,S){_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let A=S.tileID.canonical.x-_.tileID.canonical.x;const M=S.tileID.canonical.y-_.tileID.canonical.y,z=Math.pow(2,_.tileID.canonical.z),B=S.tileID.key;A===0&&M===0||Math.abs(M)>1||(Math.abs(A)>1&&(Math.abs(A+z)===1?A+=z:Math.abs(A-z)===1&&(A-=z)),S.dem&&_.dem&&(_.dem.backfillBorder(S.dem,A,M),_.neighboringTiles&&_.neighboringTiles[B]&&(_.neighboringTiles[B].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,f,m,_){for(const S in this._tiles){let A=this._tiles[S];if(_[S]||!A.hasData()||A.tileID.overscaledZ<=f||A.tileID.overscaledZ>m)continue;let M=A.tileID;for(;A&&A.tileID.overscaledZ>f+1;){const B=A.tileID.scaledTo(A.tileID.overscaledZ-1);A=this._tiles[B.key],A&&A.hasData()&&(M=B)}let z=M;for(;z.overscaledZ>f;)if(z=z.scaledTo(z.overscaledZ-1),a[z.key]){_[M.key]=M;break}}}findLoadedParent(a,f){if(a.key in this._loadedParentTiles){const m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=f?m:null}for(let m=a.overscaledZ-1;m>=f;m--){const _=a.scaledTo(m),S=this._getLoadedTile(_);if(S)return S}}_getLoadedTile(a){const f=this._tiles[a.key];return f&&f.hasData()?f:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){const f=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,_=Math.floor(f*m*5),S=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(S)}handleWrapJump(a){const f=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,f){const m={};for(const _ in this._tiles){const S=this._tiles[_];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+f),m[S.tileID.key]=S}this._tiles=m;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(_,this._tiles[_])}}update(a,f){if(this.transform=a,this.terrain=f,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(B=>new l.OverscaledTileID(B.canonical.z,B.wrap,B.canonical.z,B.canonical.x,B.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f}),this._source.hasTile&&(m=m.filter(B=>this._source.hasTile(B)))):m=[];const _=a.coveringZoomLevel(this._source),S=Math.max(_-Ct.maxOverzooming,this._source.minzoom),A=Math.max(_+Ct.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const B={};for(const K of m)if(K.canonical.z>this._source.minzoom){const H=K.scaledTo(K.canonical.z-1);B[H.key]=H;const ne=K.scaledTo(Math.max(this._source.minzoom,Math.min(K.canonical.z,5)));B[ne.key]=ne}m=m.concat(Object.values(B))}const M=this._updateRetainedTiles(m,_);if(fn(this._source.type)){const B={},K={},H=Object.keys(M);for(const ne of H){const de=M[ne],pe=this._tiles[ne];if(!pe||pe.fadeEndTime&&pe.fadeEndTime<=l.exported.now())continue;const fe=this.findLoadedParent(de,S);fe&&(this._addTile(fe.tileID),B[fe.tileID.key]=fe.tileID),K[ne]=de}this._retainLoadedChildren(K,_,A,M);for(const ne in B)M[ne]||(this._coveredTiles[ne]=!0,M[ne]=B[ne]);if(f){const ne={},de={};for(const pe of m)this._tiles[pe.key].hasData()?ne[pe.key]=pe:de[pe.key]=pe;for(const pe in de){const fe=de[pe].children(this._source.maxzoom);this._tiles[fe[0].key]&&this._tiles[fe[1].key]&&this._tiles[fe[2].key]&&this._tiles[fe[3].key]&&(ne[fe[0].key]=M[fe[0].key]=fe[0],ne[fe[1].key]=M[fe[1].key]=fe[1],ne[fe[2].key]=M[fe[2].key]=fe[2],ne[fe[3].key]=M[fe[3].key]=fe[3],delete de[pe])}for(const pe in de){const fe=this.findLoadedParent(de[pe],this._source.minzoom);if(fe){ne[fe.tileID.key]=M[fe.tileID.key]=fe.tileID;for(const we in ne)ne[we].isChildOf(fe.tileID)&&delete ne[we]}}for(const pe in this._tiles)ne[pe]||(this._coveredTiles[pe]=!0)}}for(const B in M)this._tiles[B].clearFadeHold();const z=l.keysDifference(this._tiles,M);for(const B of z){const K=this._tiles[B];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(B)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,f){const m={},_={},S=Math.max(f-Ct.maxOverzooming,this._source.minzoom),A=Math.max(f+Ct.maxUnderzooming,this._source.minzoom),M={};for(const z of a){const B=this._addTile(z);m[z.key]=z,B.hasData()||f<this._source.maxzoom&&(M[z.key]=z)}this._retainLoadedChildren(M,f,A,m);for(const z of a){let B=this._tiles[z.key];if(B.hasData())continue;if(f+1>this._source.maxzoom){const H=z.children(this._source.maxzoom)[0],ne=this.getTile(H);if(ne&&ne.hasData()){m[H.key]=H;continue}}else{const H=z.children(this._source.maxzoom);if(m[H[0].key]&&m[H[1].key]&&m[H[2].key]&&m[H[3].key])continue}let K=B.wasRequested();for(let H=z.overscaledZ-1;H>=S;--H){const ne=z.scaledTo(H);if(_[ne.key]||(_[ne.key]=!0,B=this.getTile(ne),!B&&K&&(B=this._addTile(ne)),B&&(m[ne.key]=ne,K=B.wasRequested(),B.hasData())))break}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const f=[];let m,_=this._tiles[a].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){m=this._loadedParentTiles[_.key];break}f.push(_.key);const S=_.scaledTo(_.overscaledZ-1);if(m=this._getLoadedTile(S),m)break;_=S}for(const S of f)this._loadedParentTiles[S]=m}}_addTile(a){let f=this._tiles[a.key];if(f)return f;f=this._cache.getAndRemove(a),f&&(this._setTileReloadTimer(a.key,f),f.tileID=a,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,f)));const m=f;return f||(f=new qt(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(f,this._tileLoaded.bind(this,f,a.key,f.state))),f.uses++,this._tiles[a.key]=f,m||this._source.fire(new l.Event("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(a,f){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const m=f.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){const f=this._tiles[a];f&&(f.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,f,m){const _=[],S=this.transform;if(!S)return _;const A=m?S.getCameraQueryGeometry(a):a,M=a.map(pe=>S.pointCoordinate(pe,this.terrain)),z=A.map(pe=>S.pointCoordinate(pe,this.terrain)),B=this.getIds();let K=1/0,H=1/0,ne=-1/0,de=-1/0;for(const pe of z)K=Math.min(K,pe.x),H=Math.min(H,pe.y),ne=Math.max(ne,pe.x),de=Math.max(de,pe.y);for(let pe=0;pe<B.length;pe++){const fe=this._tiles[B[pe]];if(fe.holdingForFade())continue;const we=fe.tileID,ke=Math.pow(2,S.zoom-fe.tileID.overscaledZ),Ae=f*fe.queryPadding*l.EXTENT/fe.tileSize/ke,ye=[we.getTilePoint(new l.MercatorCoordinate(K,H)),we.getTilePoint(new l.MercatorCoordinate(ne,de))];if(ye[0].x-Ae<l.EXTENT&&ye[0].y-Ae<l.EXTENT&&ye[1].x+Ae>=0&&ye[1].y+Ae>=0){const Re=M.map(je=>we.getTilePoint(je)),Ve=z.map(je=>we.getTilePoint(je));_.push({tile:fe,tileID:we,queryGeometry:Re,cameraQueryGeometry:Ve,scale:ke})}}return _}getVisibleCoordinates(a){const f=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(const m of f)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return f}hasTransition(){if(this._source.hasTransition())return!0;if(fn(this._source.type))for(const a in this._tiles){const f=this._tiles[a];if(f.fadeEndTime!==void 0&&f.fadeEndTime>=l.exported.now())return!0}return!1}setFeatureState(a,f,m){this._state.updateState(a=a||"_geojsonTileLayer",f,m)}removeFeatureState(a,f,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",f,m)}getFeatureState(a,f){return this._state.getState(a=a||"_geojsonTileLayer",f)}setDependencies(a,f,m){const _=this._tiles[a];_&&_.setDependencies(f,m)}reloadTilesForDependencies(a,f){for(const m in this._tiles)this._tiles[m].hasDependency(a,f)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,f))}}function Ir(v,a){const f=Math.abs(2*v.wrap)-+(v.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return v.overscaledZ-a.overscaledZ||m-f||a.canonical.y-v.canonical.y||a.canonical.x-v.canonical.x}function fn(v){return v==="raster"||v==="image"||v==="video"}Ct.maxOverzooming=10,Ct.maxUnderzooming=3;const Li="mapboxgl_preloaded_worker_pool";class or{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<or.workerCount;)this.workers.push(new Worker(Js.workerUrl));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Li]}numActive(){return Object.keys(this.active).length}}const zn=Math.floor(l.exported.hardwareConcurrency/2);let wn;function na(){return wn||(wn=new or),wn}function ii(v,a){const f={};for(const m in v)m!=="ref"&&(f[m]=v[m]);return l.refProperties.forEach(m=>{m in a&&(f[m]=a[m])}),f}function Xi(v){v=v.slice();const a=Object.create(null);for(let f=0;f<v.length;f++)a[v[f].id]=v[f];for(let f=0;f<v.length;f++)"ref"in v[f]&&(v[f]=ii(v[f],a[v[f].ref]));return v}or.workerCount=Math.max(Math.min(zn,6),1);const sn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ot(v,a,f){f.push({command:sn.addSource,args:[v,a[v]]})}function Wt(v,a,f){a.push({command:sn.removeSource,args:[v]}),f[v]=!0}function At(v,a,f,m){Wt(v,f,m),ot(v,a,f)}function un(v,a,f){let m;for(m in v[f])if(Object.prototype.hasOwnProperty.call(v[f],m)&&m!=="data"&&!O(v[f][m],a[f][m]))return!1;for(m in a[f])if(Object.prototype.hasOwnProperty.call(a[f],m)&&m!=="data"&&!O(v[f][m],a[f][m]))return!1;return!0}function An(v,a,f,m,_,S){let A;for(A in a=a||{},v=v||{})Object.prototype.hasOwnProperty.call(v,A)&&(O(v[A],a[A])||f.push({command:S,args:[m,A,a[A],_]}));for(A in a)Object.prototype.hasOwnProperty.call(a,A)&&!Object.prototype.hasOwnProperty.call(v,A)&&(O(v[A],a[A])||f.push({command:S,args:[m,A,a[A],_]}))}function cn(v){return v.id}function Vt(v,a){return v[a.id]=a,v}class In{constructor(a,f){this.reset(a,f)}reset(a,f){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=l.clamp(a,0,1);let f=1,m=this._distances[f];const _=a*this.paddedLength+this.padding;for(;m<_&&f<this._distances.length;)m=this._distances[++f];const S=f-1,A=this._distances[S],M=m-A,z=M>0?(_-A)/M:0;return this.points[S].mult(1-z).add(this.points[f].mult(z))}}function Sn(v,a){let f=!0;return v==="always"||v!=="never"&&a!=="never"||(f=!1),f}class Ht{constructor(a,f,m){const _=this.boxCells=[],S=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(f/m);for(let A=0;A<this.xCellCount*this.yCellCount;A++)_.push([]),S.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=f,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,f,m,_,S){this._forEachCell(f,m,_,S,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(S)}insertCircle(a,f,m,_){this._forEachCell(f-_,m-_,f+_,m+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(f),this.circles.push(m),this.circles.push(_)}_insertBoxCell(a,f,m,_,S,A){this.boxCells[S].push(A)}_insertCircleCell(a,f,m,_,S,A){this.circleCells[S].push(A)}_query(a,f,m,_,S,A,M){if(m<0||a>this.width||_<0||f>this.height)return[];const z=[];if(a<=0&&f<=0&&this.width<=m&&this.height<=_){if(S)return[{key:null,x1:a,y1:f,x2:m,y2:_}];for(let B=0;B<this.boxKeys.length;B++)z.push({key:this.boxKeys[B],x1:this.bboxes[4*B],y1:this.bboxes[4*B+1],x2:this.bboxes[4*B+2],y2:this.bboxes[4*B+3]});for(let B=0;B<this.circleKeys.length;B++){const K=this.circles[3*B],H=this.circles[3*B+1],ne=this.circles[3*B+2];z.push({key:this.circleKeys[B],x1:K-ne,y1:H-ne,x2:K+ne,y2:H+ne})}}else this._forEachCell(a,f,m,_,this._queryCell,z,{hitTest:S,overlapMode:A,seenUids:{box:{},circle:{}}},M);return z}query(a,f,m,_){return this._query(a,f,m,_,!1,null)}hitTest(a,f,m,_,S,A){return this._query(a,f,m,_,!0,S,A).length>0}hitTestCircle(a,f,m,_,S){const A=a-m,M=a+m,z=f-m,B=f+m;if(M<0||A>this.width||B<0||z>this.height)return!1;const K=[];return this._forEachCell(A,z,M,B,this._queryCellCircle,K,{hitTest:!0,overlapMode:_,circle:{x:a,y:f,radius:m},seenUids:{box:{},circle:{}}},S),K.length>0}_queryCell(a,f,m,_,S,A,M,z){const{seenUids:B,hitTest:K,overlapMode:H}=M,ne=this.boxCells[S];if(ne!==null){const pe=this.bboxes;for(const fe of ne)if(!B.box[fe]){B.box[fe]=!0;const we=4*fe,ke=this.boxKeys[fe];if(a<=pe[we+2]&&f<=pe[we+3]&&m>=pe[we+0]&&_>=pe[we+1]&&(!z||z(ke))&&(!K||!Sn(H,ke.overlapMode))&&(A.push({key:ke,x1:pe[we],y1:pe[we+1],x2:pe[we+2],y2:pe[we+3]}),K))return!0}}const de=this.circleCells[S];if(de!==null){const pe=this.circles;for(const fe of de)if(!B.circle[fe]){B.circle[fe]=!0;const we=3*fe,ke=this.circleKeys[fe];if(this._circleAndRectCollide(pe[we],pe[we+1],pe[we+2],a,f,m,_)&&(!z||z(ke))&&(!K||!Sn(H,ke.overlapMode))){const Ae=pe[we],ye=pe[we+1],Re=pe[we+2];if(A.push({key:ke,x1:Ae-Re,y1:ye-Re,x2:Ae+Re,y2:ye+Re}),K)return!0}}}return!1}_queryCellCircle(a,f,m,_,S,A,M,z){const{circle:B,seenUids:K,overlapMode:H}=M,ne=this.boxCells[S];if(ne!==null){const pe=this.bboxes;for(const fe of ne)if(!K.box[fe]){K.box[fe]=!0;const we=4*fe,ke=this.boxKeys[fe];if(this._circleAndRectCollide(B.x,B.y,B.radius,pe[we+0],pe[we+1],pe[we+2],pe[we+3])&&(!z||z(ke))&&!Sn(H,ke.overlapMode))return A.push(!0),!0}}const de=this.circleCells[S];if(de!==null){const pe=this.circles;for(const fe of de)if(!K.circle[fe]){K.circle[fe]=!0;const we=3*fe,ke=this.circleKeys[fe];if(this._circlesCollide(pe[we],pe[we+1],pe[we+2],B.x,B.y,B.radius)&&(!z||z(ke))&&!Sn(H,ke.overlapMode))return A.push(!0),!0}}}_forEachCell(a,f,m,_,S,A,M,z){const B=this._convertToXCellCoord(a),K=this._convertToYCellCoord(f),H=this._convertToXCellCoord(m),ne=this._convertToYCellCoord(_);for(let de=B;de<=H;de++)for(let pe=K;pe<=ne;pe++)if(S.call(this,a,f,m,_,this.xCellCount*pe+de,A,M,z))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,f,m,_,S,A){const M=_-a,z=S-f,B=m+A;return B*B>M*M+z*z}_circleAndRectCollide(a,f,m,_,S,A,M){const z=(A-_)/2,B=Math.abs(a-(_+z));if(B>z+m)return!1;const K=(M-S)/2,H=Math.abs(f-(S+K));if(H>K+m)return!1;if(B<=z||H<=K)return!0;const ne=B-z,de=H-K;return ne*ne+de*de<=m*m}}function Yt(v,a,f,m,_){const S=l.create();return a?(l.scale(S,S,[1/_,1/_,1]),f||l.rotateZ(S,S,m.angle)):l.multiply(S,m.labelPlaneMatrix,v),S}function Hn(v,a,f,m,_){if(a){const S=l.clone(v);return l.scale(S,S,[_,_,1]),f||l.rotateZ(S,S,-m.angle),S}return m.glCoordMatrix}function Tr(v,a,f){let m;f?(m=[v.x,v.y,f(v.x,v.y),1],l.transformMat4(m,m,a)):(m=[v.x,v.y,0,1],Oe(m,m,a));const _=m[3];return{point:new l.pointGeometry(m[0]/_,m[1]/_),signedDistanceFromCamera:_}}function kr(v,a){return .5+v/a*.5}function le(v,a){const f=v[0]/v[3],m=v[1]/v[3];return f>=-a[0]&&f<=a[0]&&m>=-a[1]&&m<=a[1]}function W(v,a,f,m,_,S,A,M,z,B){const K=m?v.textSizeData:v.iconSizeData,H=l.evaluateSizeForZoom(K,f.transform.zoom),ne=[256/f.width*2+1,256/f.height*2+1],de=m?v.text.dynamicLayoutVertexArray:v.icon.dynamicLayoutVertexArray;de.clear();const pe=v.lineVertexArray,fe=m?v.text.placedSymbolArray:v.icon.placedSymbolArray,we=f.transform.width/f.transform.height;let ke=!1;for(let Ae=0;Ae<fe.length;Ae++){const ye=fe.get(Ae);if(ye.hidden||ye.writingMode===l.WritingMode.vertical&&!ke){Ee(ye.numGlyphs,de);continue}let Re;if(ke=!1,B?(Re=[ye.anchorX,ye.anchorY,B(ye.anchorX,ye.anchorY),1],l.transformMat4(Re,Re,a)):(Re=[ye.anchorX,ye.anchorY,0,1],Oe(Re,Re,a)),!le(Re,ne)){Ee(ye.numGlyphs,de);continue}const Ve=kr(f.transform.cameraToCenterDistance,Re[3]),je=l.evaluateSizeForFeature(K,H,ye),Ke=A?je/Ve:je*Ve,Ye=new l.pointGeometry(ye.anchorX,ye.anchorY),st=Tr(Ye,_,B).point,it={},ft=me(ye,Ke,!1,M,a,_,S,v.glyphOffsetArray,pe,de,st,Ye,it,we,z,B);ke=ft.useVertical,(ft.notEnoughRoom||ke||ft.needsFlipping&&me(ye,Ke,!0,M,a,_,S,v.glyphOffsetArray,pe,de,st,Ye,it,we,z,B).notEnoughRoom)&&Ee(ye.numGlyphs,de)}m?v.text.dynamicLayoutVertexBuffer.updateData(de):v.icon.dynamicLayoutVertexBuffer.updateData(de)}function te(v,a,f,m,_,S,A,M,z,B,K,H,ne){const de=M.glyphStartIndex+M.numGlyphs,pe=M.lineStartIndex,fe=M.lineStartIndex+M.lineLength,we=a.getoffsetX(M.glyphStartIndex),ke=a.getoffsetX(de-1),Ae=ve(v*we,f,m,_,S,A,M.segment,pe,fe,z,B,K,H,ne);if(!Ae)return null;const ye=ve(v*ke,f,m,_,S,A,M.segment,pe,fe,z,B,K,H,ne);return ye?{first:Ae,last:ye}:null}function ue(v,a,f,m){return v===l.WritingMode.horizontal&&Math.abs(f.y-a.y)>Math.abs(f.x-a.x)*m?{useVertical:!0}:(v===l.WritingMode.vertical?a.y<f.y:a.x>f.x)?{needsFlipping:!0}:null}function me(v,a,f,m,_,S,A,M,z,B,K,H,ne,de,pe,fe){const we=a/24,ke=v.lineOffsetX*we,Ae=v.lineOffsetY*we;let ye;if(v.numGlyphs>1){const Re=v.glyphStartIndex+v.numGlyphs,Ve=v.lineStartIndex,je=v.lineStartIndex+v.lineLength,Ke=te(we,M,ke,Ae,f,K,H,v,z,S,ne,pe,fe);if(!Ke)return{notEnoughRoom:!0};const Ye=Tr(Ke.first.point,A,fe).point,st=Tr(Ke.last.point,A,fe).point;if(m&&!f){const it=ue(v.writingMode,Ye,st,de);if(it)return it}ye=[Ke.first];for(let it=v.glyphStartIndex+1;it<Re-1;it++)ye.push(ve(we*M.getoffsetX(it),ke,Ae,f,K,H,v.segment,Ve,je,z,S,ne,pe,fe));ye.push(Ke.last)}else{if(m&&!f){const Ve=Tr(H,_,fe).point,je=v.lineStartIndex+v.segment+1,Ke=new l.pointGeometry(z.getx(je),z.gety(je)),Ye=Tr(Ke,_,fe),st=Ye.signedDistanceFromCamera>0?Ye.point:xe(H,Ke,Ve,1,_,fe),it=ue(v.writingMode,Ve,st,de);if(it)return it}const Re=ve(we*M.getoffsetX(v.glyphStartIndex),ke,Ae,f,K,H,v.segment,v.lineStartIndex,v.lineStartIndex+v.lineLength,z,S,ne,pe,fe);if(!Re)return{notEnoughRoom:!0};ye=[Re]}for(const Re of ye)l.addDynamicAttributes(B,Re.point,Re.angle);return{}}function xe(v,a,f,m,_,S){const A=Tr(v.add(v.sub(a)._unit()),_,S).point,M=f.sub(A);return f.add(M._mult(m/M.mag()))}function ve(v,a,f,m,_,S,A,M,z,B,K,H,ne,de){const pe=m?v-a:v+a;let fe=pe>0?1:-1,we=0;m&&(fe*=-1,we=Math.PI),fe<0&&(we+=Math.PI);let ke=fe>0?M+A:M+A+1,Ae=_,ye=_,Re=0,Ve=0;const je=Math.abs(pe),Ke=[];for(;Re+Ve<=je;){if(ke+=fe,ke<M||ke>=z)return null;if(ye=Ae,Ke.push(Ae),Ae=H[ke],Ae===void 0){const It=new l.pointGeometry(B.getx(ke),B.gety(ke)),Xt=Tr(It,K,de);if(Xt.signedDistanceFromCamera>0)Ae=H[ke]=Xt.point;else{const Jt=ke-fe;Ae=xe(Re===0?S:new l.pointGeometry(B.getx(Jt),B.gety(Jt)),It,ye,je-Re+1,K,de)}}Re+=Ve,Ve=ye.dist(Ae)}const Ye=(je-Re)/Ve,st=Ae.sub(ye),it=st.mult(Ye)._add(ye);it._add(st._unit()._perp()._mult(f*fe));const ft=we+Math.atan2(Ae.y-ye.y,Ae.x-ye.x);return Ke.push(it),{point:it,angle:ne?ft:0,path:Ke}}const Ce=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ee(v,a){for(let f=0;f<v;f++){const m=a.length;a.resize(m+4),a.float32.set(Ce,3*m)}}function Oe(v,a,f){const m=a[0],_=a[1];return v[0]=f[0]*m+f[4]*_+f[12],v[1]=f[1]*m+f[5]*_+f[13],v[3]=f[3]*m+f[7]*_+f[15],v}const $e=100;class tt{constructor(a,f=new Ht(a.width+200,a.height+200,25),m=new Ht(a.width+200,a.height+200,25)){this.transform=a,this.grid=f,this.ignoredGrid=m,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+$e,this.screenBottomBoundary=a.height+$e,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,f,m,_,S,A){const M=this.projectAndGetPerspectiveRatio(_,a.anchorPointX,a.anchorPointY,A),z=m*M.perspectiveRatio,B=a.x1*z+M.point.x,K=a.y1*z+M.point.y,H=a.x2*z+M.point.x,ne=a.y2*z+M.point.y;return!this.isInsideGrid(B,K,H,ne)||f!=="always"&&this.grid.hitTest(B,K,H,ne,f,S)||M.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[B,K,H,ne],offscreen:this.isOffscreen(B,K,H,ne)}}placeCollisionCircles(a,f,m,_,S,A,M,z,B,K,H,ne,de,pe){const fe=[],we=new l.pointGeometry(f.anchorX,f.anchorY),ke=Tr(we,A,pe),Ae=kr(this.transform.cameraToCenterDistance,ke.signedDistanceFromCamera),ye=(K?S/Ae:S*Ae)/l.ONE_EM,Re=Tr(we,M,pe).point,Ve=te(ye,_,f.lineOffsetX*ye,f.lineOffsetY*ye,!1,Re,we,f,m,M,{},!1,pe);let je=!1,Ke=!1,Ye=!0;if(Ve){const st=.5*ne*Ae+de,it=new l.pointGeometry(-100,-100),ft=new l.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),It=new In,Xt=Ve.first,Jt=Ve.last;let Lt=[];for(let hn=Xt.path.length-1;hn>=1;hn--)Lt.push(Xt.path[hn]);for(let hn=1;hn<Jt.path.length;hn++)Lt.push(Jt.path[hn]);const Nn=2.5*st;if(z){const hn=Lt.map(kn=>Tr(kn,z,pe));Lt=hn.some(kn=>kn.signedDistanceFromCamera<=0)?[]:hn.map(kn=>kn.point)}let Bn=[];if(Lt.length>0){const hn=Lt[0].clone(),kn=Lt[0].clone();for(let Qn=1;Qn<Lt.length;Qn++)hn.x=Math.min(hn.x,Lt[Qn].x),hn.y=Math.min(hn.y,Lt[Qn].y),kn.x=Math.max(kn.x,Lt[Qn].x),kn.y=Math.max(kn.y,Lt[Qn].y);Bn=hn.x>=it.x&&kn.x<=ft.x&&hn.y>=it.y&&kn.y<=ft.y?[Lt]:kn.x<it.x||hn.x>ft.x||kn.y<it.y||hn.y>ft.y?[]:l.clipLine([Lt],it.x,it.y,ft.x,ft.y)}for(const hn of Bn){It.reset(hn,.25*st);let kn=0;kn=It.length<=.5*st?1:Math.ceil(It.paddedLength/Nn)+1;for(let Qn=0;Qn<kn;Qn++){const Un=Qn/Math.max(kn-1,1),Ho=It.lerp(Un),Zo=Ho.x+$e,bi=Ho.y+$e;fe.push(Zo,bi,st,0);const So=Zo-st,Mi=bi-st,ga=Zo+st,el=bi+st;if(Ye=Ye&&this.isOffscreen(So,Mi,ga,el),Ke=Ke||this.isInsideGrid(So,Mi,ga,el),a!=="always"&&this.grid.hitTestCircle(Zo,bi,st,a,H)&&(je=!0,!B))return{circles:[],offscreen:!1,collisionDetected:je}}}}return{circles:!B&&je||!Ke||Ae<this.perspectiveRatioCutoff?[]:fe,offscreen:Ye,collisionDetected:je}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let m=1/0,_=1/0,S=-1/0,A=-1/0;for(const K of a){const H=new l.pointGeometry(K.x+$e,K.y+$e);m=Math.min(m,H.x),_=Math.min(_,H.y),S=Math.max(S,H.x),A=Math.max(A,H.y),f.push(H)}const M=this.grid.query(m,_,S,A).concat(this.ignoredGrid.query(m,_,S,A)),z={},B={};for(const K of M){const H=K.key;if(z[H.bucketInstanceId]===void 0&&(z[H.bucketInstanceId]={}),z[H.bucketInstanceId][H.featureIndex])continue;const ne=[new l.pointGeometry(K.x1,K.y1),new l.pointGeometry(K.x2,K.y1),new l.pointGeometry(K.x2,K.y2),new l.pointGeometry(K.x1,K.y2)];l.polygonIntersectsPolygon(f,ne)&&(z[H.bucketInstanceId][H.featureIndex]=!0,B[H.bucketInstanceId]===void 0&&(B[H.bucketInstanceId]=[]),B[H.bucketInstanceId].push(H.featureIndex))}return B}insertCollisionBox(a,f,m,_,S,A){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:S,collisionGroupID:A,overlapMode:f},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,f,m,_,S,A){const M=m?this.ignoredGrid:this.grid,z={bucketInstanceId:_,featureIndex:S,collisionGroupID:A,overlapMode:f};for(let B=0;B<a.length;B+=4)M.insertCircle(z,a[B],a[B+1],a[B+2])}projectAndGetPerspectiveRatio(a,f,m,_){let S;return _?(S=[f,m,_(f,m),1],l.transformMat4(S,S,a)):(S=[f,m,0,1],Oe(S,S,a)),{point:new l.pointGeometry((S[0]/S[3]+1)/2*this.transform.width+$e,(-S[1]/S[3]+1)/2*this.transform.height+$e),perspectiveRatio:.5+this.transform.cameraToCenterDistance/S[3]*.5}}isOffscreen(a,f,m,_){return m<$e||a>=this.screenRightBoundary||_<$e||f>this.screenBottomBoundary}isInsideGrid(a,f,m,_){return m>=0&&a<this.gridRightBoundary&&_>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const a=l.identity([]);return l.translate(a,a,[-100,-100,0]),a}}function Ze(v,a,f){return a*(l.EXTENT/(v.tileSize*Math.pow(2,f-v.tileID.overscaledZ)))}class Ot{constructor(a,f,m,_){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?f:-f))):_&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Ut{constructor(a,f,m,_,S){this.text=new Ot(a?a.text:null,f,m,S),this.icon=new Ot(a?a.icon:null,f,_,S)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Pt{constructor(a,f,m){this.text=a,this.icon=f,this.skipFade=m}}class zt{constructor(){this.invProjMatrix=l.create(),this.viewportMatrix=l.create(),this.circles=[]}}class ln{constructor(a,f,m,_,S){this.bucketInstanceId=a,this.featureIndex=f,this.sourceLayerIndex=m,this.bucketIndex=_,this.tileID=S}}class On{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const f=++this.maxGroupID;this.collisionGroups[a]={ID:f,predicate:m=>m.collisionGroupID===f}}return this.collisionGroups[a]}}function rn(v,a,f,m,_){const{horizontalAlign:S,verticalAlign:A}=l.getAnchorAlignment(v),M=-(S-.5)*a,z=-(A-.5)*f,B=l.evaluateVariableOffset(v,m);return new l.pointGeometry(M+B[0]*_,z+B[1]*_)}function dn(v,a,f,m,_,S){const{x1:A,x2:M,y1:z,y2:B,anchorPointX:K,anchorPointY:H}=v,ne=new l.pointGeometry(a,f);return m&&ne._rotate(_?S:-S),{x1:A+ne.x,y1:z+ne.y,x2:M+ne.x,y2:B+ne.y,anchorPointX:K,anchorPointY:H}}class Ln{constructor(a,f,m,_,S){this.transform=a.clone(),this.terrain=f,this.collisionIndex=new tt(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new On(_),this.collisionCircleArrays={},this.prevPlacement=S,S&&(S.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,f,m,_){const S=m.getBucket(f),A=m.latestFeatureIndex;if(!S||!A||f.id!==S.layerIds[0])return;const M=m.collisionBoxArray,z=S.layers[0].layout,B=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),K=m.tileSize/l.EXTENT,H=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),ne=z.get("text-pitch-alignment")==="map",de=z.get("text-rotation-alignment")==="map",pe=Ze(m,1,this.transform.zoom),fe=Yt(H,ne,de,this.transform,pe);let we=null;if(ne){const Ae=Hn(H,ne,de,this.transform,pe);we=l.multiply([],this.transform.labelPlaneMatrix,Ae)}this.retainedQueryData[S.bucketInstanceId]=new ln(S.bucketInstanceId,A,S.sourceLayerIndex,S.index,m.tileID);const ke={bucket:S,layout:z,posMatrix:H,textLabelPlaneMatrix:fe,labelToScreenMatrix:we,scale:B,textPixelRatio:K,holdingForFade:m.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:l.evaluateSizeForZoom(S.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(S.sourceID)};if(_)for(const Ae of S.sortKeyRanges){const{sortKey:ye,symbolInstanceStart:Re,symbolInstanceEnd:Ve}=Ae;a.push({sortKey:ye,symbolInstanceStart:Re,symbolInstanceEnd:Ve,parameters:ke})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:S.symbolInstances.length,parameters:ke})}attemptAnchorPlacement(a,f,m,_,S,A,M,z,B,K,H,ne,de,pe,fe,we){const ke=[ne.textOffset0,ne.textOffset1],Ae=rn(a,m,_,ke,S),ye=this.collisionIndex.placeCollisionBox(dn(f,Ae.x,Ae.y,A,M,this.transform.angle),H,z,B,K.predicate,we);if((!fe||this.collisionIndex.placeCollisionBox(dn(fe,Ae.x,Ae.y,A,M,this.transform.angle),H,z,B,K.predicate,we).box.length!==0)&&ye.box.length>0){let Re;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ne.crossTileID]&&this.prevPlacement.placements[ne.crossTileID]&&this.prevPlacement.placements[ne.crossTileID].text&&(Re=this.prevPlacement.variableOffsets[ne.crossTileID].anchor),ne.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ne.crossTileID]={textOffset:ke,width:m,height:_,anchor:a,textBoxScale:S,prevAnchor:Re},this.markUsedJustification(de,a,ne,pe),de.allowVerticalPlacement&&(this.markUsedOrientation(de,pe,ne),this.placedOrientations[ne.crossTileID]=pe),{shift:Ae,placedGlyphBoxes:ye}}}placeLayerBucketPart(a,f,m){const{bucket:_,layout:S,posMatrix:A,textLabelPlaneMatrix:M,labelToScreenMatrix:z,textPixelRatio:B,holdingForFade:K,collisionBoxArray:H,partiallyEvaluatedTextSize:ne,collisionGroup:de}=a.parameters,pe=S.get("text-optional"),fe=S.get("icon-optional"),we=l.getOverlapMode(S,"text-overlap","text-allow-overlap"),ke=we==="always",Ae=l.getOverlapMode(S,"icon-overlap","icon-allow-overlap"),ye=Ae==="always",Re=S.get("text-rotation-alignment")==="map",Ve=S.get("text-pitch-alignment")==="map",je=S.get("icon-text-fit")!=="none",Ke=S.get("symbol-z-order")==="viewport-y",Ye=ke&&(ye||!_.hasIconData()||fe),st=ye&&(ke||!_.hasTextData()||pe);!_.collisionArrays&&H&&_.deserializeCollisionBoxes(H);const it=(ft,It)=>{if(f[ft.crossTileID])return;if(K)return void(this.placements[ft.crossTileID]=new Pt(!1,!1,!1));let Xt=!1,Jt=!1,Lt=!0,Nn=null,Bn={box:null,offscreen:null},hn={box:null,offscreen:null},kn=null,Qn=null,Un=null,Ho=0,Zo=0,bi=0;It.textFeatureIndex?Ho=It.textFeatureIndex:ft.useRuntimeCollisionCircles&&(Ho=ft.featureIndex),It.verticalTextFeatureIndex&&(Zo=It.verticalTextFeatureIndex);const So=this.retainedQueryData[_.bucketInstanceId].tileID,Mi=this.terrain?(Wr,br)=>this.terrain.getElevation(So,Wr,br):null;for(const Wr of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const br=It[Wr];br&&(br.elevation=Mi?Mi(br.anchorPointX,br.anchorPointY):0)}const ga=It.textBox;if(ga){const Wr=Vn=>{let Di=l.WritingMode.horizontal;if(_.allowVerticalPlacement&&!Vn&&this.prevPlacement){const zi=this.prevPlacement.placedOrientations[ft.crossTileID];zi&&(this.placedOrientations[ft.crossTileID]=zi,Di=zi,this.markUsedOrientation(_,Di,ft))}return Di},br=(Vn,Di)=>{if(_.allowVerticalPlacement&&ft.numVerticalGlyphVertices>0&&It.verticalTextBox){for(const zi of _.writingModes)if(zi===l.WritingMode.vertical?(Bn=Di(),hn=Bn):Bn=Vn(),Bn&&Bn.box&&Bn.box.length)break}else Bn=Vn()};if(S.get("text-variable-anchor")){let Vn=S.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[ft.crossTileID]){const wr=this.prevPlacement.variableOffsets[ft.crossTileID];Vn.indexOf(wr.anchor)>0&&(Vn=Vn.filter(Va=>Va!==wr.anchor),Vn.unshift(wr.anchor))}const Di=(wr,Va,va)=>{const Rd=wr.x2-wr.x1,jl=wr.y2-wr.y1,Kh=ft.textBoxScale,Xh=je&&Ae==="never"?Va:null;let nh={box:[],offscreen:!1};const d0=we!=="never"?2*Vn.length:Vn.length;for(let ei=0;ei<d0;++ei){const tl=this.attemptAnchorPlacement(Vn[ei%Vn.length],wr,Rd,jl,Kh,Re,Ve,B,A,de,ei>=Vn.length?we:"never",ft,_,va,Xh,Mi);if(tl&&(nh=tl.placedGlyphBoxes,nh&&nh.box&&nh.box.length)){Xt=!0,Nn=tl.shift;break}}return nh};br(()=>Di(ga,It.iconBox,l.WritingMode.horizontal),()=>{const wr=It.verticalTextBox;return _.allowVerticalPlacement&&!(Bn&&Bn.box&&Bn.box.length)&&ft.numVerticalGlyphVertices>0&&wr?Di(wr,It.verticalIconBox,l.WritingMode.vertical):{box:null,offscreen:null}}),Bn&&(Xt=Bn.box,Lt=Bn.offscreen);const zi=Wr(Bn&&Bn.box);if(!Xt&&this.prevPlacement){const wr=this.prevPlacement.variableOffsets[ft.crossTileID];wr&&(this.variableOffsets[ft.crossTileID]=wr,this.markUsedJustification(_,wr.anchor,ft,zi))}}else{const Vn=(Di,zi)=>{const wr=this.collisionIndex.placeCollisionBox(Di,we,B,A,de.predicate,Mi);return wr&&wr.box&&wr.box.length&&(this.markUsedOrientation(_,zi,ft),this.placedOrientations[ft.crossTileID]=zi),wr};br(()=>Vn(ga,l.WritingMode.horizontal),()=>{const Di=It.verticalTextBox;return _.allowVerticalPlacement&&ft.numVerticalGlyphVertices>0&&Di?Vn(Di,l.WritingMode.vertical):{box:null,offscreen:null}}),Wr(Bn&&Bn.box&&Bn.box.length)}}if(kn=Bn,Xt=kn&&kn.box&&kn.box.length>0,Lt=kn&&kn.offscreen,ft.useRuntimeCollisionCircles){const Wr=_.text.placedSymbolArray.get(ft.centerJustifiedTextSymbolIndex),br=l.evaluateSizeForFeature(_.textSizeData,ne,Wr),Vn=S.get("text-padding");Qn=this.collisionIndex.placeCollisionCircles(we,Wr,_.lineVertexArray,_.glyphOffsetArray,br,A,M,z,m,Ve,de.predicate,ft.collisionCircleDiameter,Vn,Mi),Qn.circles.length&&Qn.collisionDetected&&!m&&l.warnOnce("Collisions detected, but collision boxes are not shown"),Xt=ke||Qn.circles.length>0&&!Qn.collisionDetected,Lt=Lt&&Qn.offscreen}if(It.iconFeatureIndex&&(bi=It.iconFeatureIndex),It.iconBox){const Wr=br=>{const Vn=je&&Nn?dn(br,Nn.x,Nn.y,Re,Ve,this.transform.angle):br;return this.collisionIndex.placeCollisionBox(Vn,Ae,B,A,de.predicate,Mi)};hn&&hn.box&&hn.box.length&&It.verticalIconBox?(Un=Wr(It.verticalIconBox),Jt=Un.box.length>0):(Un=Wr(It.iconBox),Jt=Un.box.length>0),Lt=Lt&&Un.offscreen}const el=pe||ft.numHorizontalGlyphVertices===0&&ft.numVerticalGlyphVertices===0,Wh=fe||ft.numIconVertices===0;if(el||Wh?Wh?el||(Jt=Jt&&Xt):Xt=Jt&&Xt:Jt=Xt=Jt&&Xt,Xt&&kn&&kn.box&&this.collisionIndex.insertCollisionBox(kn.box,we,S.get("text-ignore-placement"),_.bucketInstanceId,hn&&hn.box&&Zo?Zo:Ho,de.ID),Jt&&Un&&this.collisionIndex.insertCollisionBox(Un.box,Ae,S.get("icon-ignore-placement"),_.bucketInstanceId,bi,de.ID),Qn&&(Xt&&this.collisionIndex.insertCollisionCircles(Qn.circles,we,S.get("text-ignore-placement"),_.bucketInstanceId,Ho,de.ID),m)){const Wr=_.bucketInstanceId;let br=this.collisionCircleArrays[Wr];br===void 0&&(br=this.collisionCircleArrays[Wr]=new zt);for(let Vn=0;Vn<Qn.circles.length;Vn+=4)br.circles.push(Qn.circles[Vn+0]),br.circles.push(Qn.circles[Vn+1]),br.circles.push(Qn.circles[Vn+2]),br.circles.push(Qn.collisionDetected?1:0)}if(ft.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(_.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[ft.crossTileID]=new Pt(Xt||Ye,Jt||st,Lt||_.justReloaded),f[ft.crossTileID]=!0};if(Ke){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const ft=_.getSortedSymbolIndexes(this.transform.angle);for(let It=ft.length-1;It>=0;--It){const Xt=ft[It];it(_.symbolInstances.get(Xt),_.collisionArrays[Xt])}}else for(let ft=a.symbolInstanceStart;ft<a.symbolInstanceEnd;ft++)it(_.symbolInstances.get(ft),_.collisionArrays[ft]);if(m&&_.bucketInstanceId in this.collisionCircleArrays){const ft=this.collisionCircleArrays[_.bucketInstanceId];l.invert(ft.invProjMatrix,A),ft.viewportMatrix=this.collisionIndex.getViewportMatrix()}_.justReloaded=!1}markUsedJustification(a,f,m,_){let S;S=_===l.WritingMode.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[l.getAnchorJustification(f)];const A=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const M of A)M>=0&&(a.text.placedSymbolArray.get(M).crossTileID=S>=0&&M!==S?0:m.crossTileID)}markUsedOrientation(a,f,m){const _=f===l.WritingMode.horizontal||f===l.WritingMode.horizontalOnly?f:0,S=f===l.WritingMode.vertical?f:0,A=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const M of A)a.text.placedSymbolArray.get(M).placedOrientation=_;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=S)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let m=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const _=f?f.symbolFadeChange(a):1,S=f?f.opacities:{},A=f?f.variableOffsets:{},M=f?f.placedOrientations:{};for(const z in this.placements){const B=this.placements[z],K=S[z];K?(this.opacities[z]=new Ut(K,_,B.text,B.icon),m=m||B.text!==K.text.placed||B.icon!==K.icon.placed):(this.opacities[z]=new Ut(null,_,B.text,B.icon,B.skipFade),m=m||B.text||B.icon)}for(const z in S){const B=S[z];if(!this.opacities[z]){const K=new Ut(B,_,!1,!1);K.isHidden()||(this.opacities[z]=K,m=m||B.text.placed||B.icon.placed)}}for(const z in A)this.variableOffsets[z]||!this.opacities[z]||this.opacities[z].isHidden()||(this.variableOffsets[z]=A[z]);for(const z in M)this.placedOrientations[z]||!this.opacities[z]||this.opacities[z].isHidden()||(this.placedOrientations[z]=M[z]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:a)}updateLayerOpacities(a,f){const m={};for(const _ of f){const S=_.getBucket(a);S&&_.latestFeatureIndex&&a.id===S.layerIds[0]&&this.updateBucketOpacities(S,m,_.collisionBoxArray)}}updateBucketOpacities(a,f,m){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const _=a.layers[0].layout,S=new Ut(null,0,!1,!1,!0),A=_.get("text-allow-overlap"),M=_.get("icon-allow-overlap"),z=_.get("text-variable-anchor"),B=_.get("text-rotation-alignment")==="map",K=_.get("text-pitch-alignment")==="map",H=_.get("icon-text-fit")!=="none",ne=new Ut(null,0,A&&(M||!a.hasIconData()||_.get("icon-optional")),M&&(A||!a.hasTextData()||_.get("text-optional")),!0);!a.collisionArrays&&m&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(m);const de=(pe,fe,we)=>{for(let ke=0;ke<fe/4;ke++)pe.opacityVertexArray.emplaceBack(we);pe.hasVisibleVertices=pe.hasVisibleVertices||we!==Yi};for(let pe=0;pe<a.symbolInstances.length;pe++){const fe=a.symbolInstances.get(pe),{numHorizontalGlyphVertices:we,numVerticalGlyphVertices:ke,crossTileID:Ae}=fe;let ye=this.opacities[Ae];f[Ae]?ye=S:ye||(ye=ne,this.opacities[Ae]=ye),f[Ae]=!0;const Re=fe.numIconVertices>0,Ve=this.placedOrientations[fe.crossTileID],je=Ve===l.WritingMode.vertical,Ke=Ve===l.WritingMode.horizontal||Ve===l.WritingMode.horizontalOnly;if(we>0||ke>0){const Ye=ns(ye.text);de(a.text,we,je?Yi:Ye),de(a.text,ke,Ke?Yi:Ye);const st=ye.text.isHidden();[fe.rightJustifiedTextSymbolIndex,fe.centerJustifiedTextSymbolIndex,fe.leftJustifiedTextSymbolIndex].forEach(It=>{It>=0&&(a.text.placedSymbolArray.get(It).hidden=st||je?1:0)}),fe.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(fe.verticalPlacedTextSymbolIndex).hidden=st||Ke?1:0);const it=this.variableOffsets[fe.crossTileID];it&&this.markUsedJustification(a,it.anchor,fe,Ve);const ft=this.placedOrientations[fe.crossTileID];ft&&(this.markUsedJustification(a,"left",fe,ft),this.markUsedOrientation(a,ft,fe))}if(Re){const Ye=ns(ye.icon),st=!(H&&fe.verticalPlacedIconSymbolIndex&&je);fe.placedIconSymbolIndex>=0&&(de(a.icon,fe.numIconVertices,st?Ye:Yi),a.icon.placedSymbolArray.get(fe.placedIconSymbolIndex).hidden=ye.icon.isHidden()),fe.verticalPlacedIconSymbolIndex>=0&&(de(a.icon,fe.numVerticalIconVertices,st?Yi:Ye),a.icon.placedSymbolArray.get(fe.verticalPlacedIconSymbolIndex).hidden=ye.icon.isHidden())}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const Ye=a.collisionArrays[pe];if(Ye){let st=new l.pointGeometry(0,0);if(Ye.textBox||Ye.verticalTextBox){let ft=!0;if(z){const It=this.variableOffsets[Ae];It?(st=rn(It.anchor,It.width,It.height,It.textOffset,It.textBoxScale),B&&st._rotate(K?this.transform.angle:-this.transform.angle)):ft=!1}Ye.textBox&&ar(a.textCollisionBox.collisionVertexArray,ye.text.placed,!ft||je,st.x,st.y),Ye.verticalTextBox&&ar(a.textCollisionBox.collisionVertexArray,ye.text.placed,!ft||Ke,st.x,st.y)}const it=!!(!Ke&&Ye.verticalIconBox);Ye.iconBox&&ar(a.iconCollisionBox.collisionVertexArray,ye.icon.placed,it,H?st.x:0,H?st.y:0),Ye.verticalIconBox&&ar(a.iconCollisionBox.collisionVertexArray,ye.icon.placed,!it,H?st.x:0,H?st.y:0)}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){const pe=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=pe.invProjMatrix,a.placementViewportMatrix=pe.viewportMatrix,a.collisionCircleArray=pe.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,f){const m=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function ar(v,a,f,m,_){v.emplaceBack(a?1:0,f?1:0,m||0,_||0),v.emplaceBack(a?1:0,f?1:0,m||0,_||0),v.emplaceBack(a?1:0,f?1:0,m||0,_||0),v.emplaceBack(a?1:0,f?1:0,m||0,_||0)}const Mr=Math.pow(2,25),fr=Math.pow(2,24),ra=Math.pow(2,17),Mh=Math.pow(2,16),fu=Math.pow(2,9),go=Math.pow(2,8),El=Math.pow(2,1);function ns(v){if(v.opacity===0&&!v.placed)return 0;if(v.opacity===1&&v.placed)return 4294967295;const a=v.placed?1:0,f=Math.floor(127*v.opacity);return f*Mr+a*fr+f*ra+a*Mh+f*fu+a*go+f*El+a}const Yi=0;class Cn{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,f,m,_,S){const A=this._bucketParts;for(;this._currentTileIndex<a.length;)if(f.getBucketParts(A,_,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,S())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,A.sort((M,z)=>M.sortKey-z.sortKey));this._currentPartIndex<A.length;)if(f.placeLayerBucketPart(A[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,S())return!0;return!1}}class sr{constructor(a,f,m,_,S,A,M,z){this.placement=new Ln(a,f,A,M,z),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=S,this._done=!1}isDone(){return this._done}continuePlacement(a,f,m){const _=l.exported.now(),S=()=>{const A=l.exported.now()-_;return!this._forceFullPlacement&&A>2};for(;this._currentPlacementIndex>=0;){const A=f[a[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(A.type==="symbol"&&(!A.minzoom||A.minzoom<=M)&&(!A.maxzoom||A.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new Cn(A)),this._inProgressLayer.continuePlacement(m[A.source],this.placement,this._showCollisionBoxes,A,S))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const ia=512/l.EXTENT/2;class La{constructor(a,f,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};const _=new Map;for(let S=0;S<f.length;S++){const A=f.get(S),M=A.key,z=_.get(M);z?z.push(A):_.set(M,[A])}for(const[S,A]of _){const M={positions:A.map(z=>({x:Math.floor(z.anchorX*ia),y:Math.floor(z.anchorY*ia)})),crossTileIDs:A.map(z=>z.crossTileID)};if(M.positions.length>128){const z=new l.KDBush(M.positions,B=>B.x,B=>B.y,16,Uint16Array);delete z.points,delete M.positions,M.index=z}this._symbolsByKey[S]=M}}getScaledCoordinates(a,f){const{x:m,y:_,z:S}=this.tileID.canonical,{x:A,y:M,z}=f.canonical,B=ia/Math.pow(2,z-S),K=(M*l.EXTENT+a.anchorY)*B,H=_*l.EXTENT*ia;return{x:Math.floor((A*l.EXTENT+a.anchorX)*B-m*l.EXTENT*ia),y:Math.floor(K-H)}}findMatches(a,f,m){const _=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let S=0;S<a.length;S++){const A=a.get(S);if(A.crossTileID)continue;const M=this._symbolsByKey[A.key];if(!M)continue;const z=this.getScaledCoordinates(A,f);if(M.index){const B=M.index.range(z.x-_,z.y-_,z.x+_,z.y+_).sort();for(const K of B){const H=M.crossTileIDs[K];if(!m[H]){m[H]=!0,A.crossTileID=H;break}}}else if(M.positions)for(let B=0;B<M.positions.length;B++){const K=M.positions[B],H=M.crossTileIDs[B];if(Math.abs(K.x-z.x)<=_&&Math.abs(K.y-z.y)<=_&&!m[H]){m[H]=!0,A.crossTileID=H;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class oa{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class rs{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const f=Math.round((a-this.lng)/360);if(f!==0)for(const m in this.indexes){const _=this.indexes[m],S={};for(const A in _){const M=_[A];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+f),S[M.tileID.key]=M}this.indexes[m]=S}this.lng=a}addBucket(a,f,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let S=0;S<f.symbolInstances.length;S++)f.symbolInstances.get(S).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const _=this.usedCrossTileIDs[a.overscaledZ];for(const S in this.indexes){const A=this.indexes[S];if(Number(S)>a.overscaledZ)for(const M in A){const z=A[M];z.tileID.isChildOf(a)&&z.findMatches(f.symbolInstances,a,_)}else{const M=A[a.scaledTo(Number(S)).key];M&&M.findMatches(f.symbolInstances,a,_)}}for(let S=0;S<f.symbolInstances.length;S++){const A=f.symbolInstances.get(S);A.crossTileID||(A.crossTileID=m.generate(),_[A.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new La(a,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(a,f){for(const m of f.getCrossTileIDsLists())for(const _ of m)delete this.usedCrossTileIDs[a][_]}removeStaleBuckets(a){let f=!1;for(const m in this.indexes){const _=this.indexes[m];for(const S in _)a[_[S].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,_[S]),delete _[S],f=!0)}return f}}class Nt{constructor(){this.layerIndexes={},this.crossTileIDs=new oa,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,f,m){let _=this.layerIndexes[a.id];_===void 0&&(_=this.layerIndexes[a.id]=new rs);let S=!1;const A={};_.handleWrapJump(m);for(const M of f){const z=M.getBucket(a);z&&a.id===z.layerIds[0]&&(z.bucketInstanceId||(z.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(M.tileID,z,this.crossTileIDs)&&(S=!0),A[z.bucketInstanceId]=!0)}return _.removeStaleBuckets(A)&&(S=!0),S}pruneUnusedLayers(a){const f={};a.forEach(m=>{f[m]=!0});for(const m in this.layerIndexes)f[m]||delete this.layerIndexes[m]}}const Xn=(v,a)=>l.emitValidationErrors(v,a&&a.filter(f=>f.identifier!=="source.canvas")),du=l.pick(sn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Tl=l.pick(sn,["setCenter","setZoom","setBearing","setPitch"]),Ri=function(){const v={},a=l.spec.$version;for(const f in l.spec.$root){const m=l.spec.$root[f];if(m.required){let _=null;_=f==="version"?a:m.type==="array"?[]:{},_!=null&&(v[f]=_)}}return v}();class Qi extends l.Evented{constructor(a,f={}){super(),this.map=a,this.dispatcher=new ht(na(),this,a._getMapId()),this.imageManager=new Ge,this.imageManager.setEventedParent(this),this.glyphManager=new Me(a._requestManager,f.localIdeographFontFamily),this.lineAtlas=new ct(256,512),this.crossTileSymbolIndex=new Nt,this._spritesImagesIds={},this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new l.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",l.getReferrer());const m=this;this._rtlTextPluginCallback=Qi.registerForPluginStateChange(_=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(S,A)=>{if(l.triggerPluginCompletionEvent(S),A&&A.every(M=>M))for(const M in m.sourceCaches)m.sourceCaches[M].reload()})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const S=this.sourceCaches[_.sourceId];if(!S)return;const A=S.getSource();if(A&&A.vectorLayerIds)for(const M in this._layers){const z=this._layers[M];z.source===A.id&&this._validateLayer(z)}})}loadURL(a,f={},m){this.fire(new l.Event("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;const _=this.map._requestManager.transformRequest(a,ee.Style);this._request=l.getJSON(_,(S,A)=>{this._request=null,S?this.fire(new l.ErrorEvent(S)):A&&this._load(A,f,m)})}loadJSON(a,f={},m){this.fire(new l.Event("dataloading",{dataType:"style"})),this._request=l.exported.frame(()=>{this._request=null,f.validate=f.validate!==!1,this._load(a,f,m)})}loadEmpty(){this.fire(new l.Event("dataloading",{dataType:"style"})),this._load(Ri,{validate:!1})}_load(a,f,m){const _=f.transformStyle?f.transformStyle(m,a):a;if(f.validate&&Xn(this,l.validateStyle(_)))return;this._loaded=!0,this.stylesheet=_;for(const A in _.sources)this.addSource(A,_.sources[A],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs);const S=Xi(this.stylesheet.layers);this._order=S.map(A=>A.id),this._layers={},this._serializedLayers={};for(let A of S)A=l.createStyleLayer(A),A.setEventedParent(this,{layer:{id:A.id}}),this._layers[A.id]=A,this._serializedLayers[A.id]=A.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new mt(this.stylesheet.light),this.map.setTerrain(this.stylesheet.terrain),this.fire(new l.Event("data",{dataType:"style"})),this.fire(new l.Event("style.load"))}_loadSprite(a,f=!1,m){this.imageManager.setLoaded(!1),this._spriteRequest=function(_,S,A,M){const z=He(_),B=A>1?"@2x":"";let K;const H=[],ne=[],de={},pe={};for(const{id:we,url:ke}of z){const Ae=H.push(l.getJSON(S.transformRequest(S.normalizeSpriteURL(ke,B,".json"),ee.SpriteJSON),(Re,Ve)=>{H.splice(Ae,1),K||(K=Re,de[we]=Ve,fe())})),ye=ne.push(Y.getImage(S.transformRequest(S.normalizeSpriteURL(ke,B,".png"),ee.SpriteImage),(Re,Ve)=>{ne.splice(ye,1),K||(K=Re,pe[we]=Ve,fe())}))}function fe(){const we=Object.values(de).length,ke=Object.values(pe).length;if(K)M(K);else if(z.length===we&&we===ke){const Ae={};for(const ye in de){Ae[ye]={};const Re=l.exported.getImageCanvasContext(pe[ye]),Ve=de[ye];for(const je in Ve){const{width:Ke,height:Ye,x:st,y:it,sdf:ft,pixelRatio:It,stretchX:Xt,stretchY:Jt,content:Lt}=Ve[je];Ae[ye][je]={data:null,pixelRatio:It,sdf:ft,stretchX:Xt,stretchY:Jt,content:Lt,spriteData:{width:Ke,height:Ye,x:st,y:it,context:Re}}}}M(null,Ae)}}return{cancel(){if(H.length)for(const we of H)we.cancel(),H.splice(H.indexOf(we),1);if(ne.length)for(const we of ne)we.cancel(),ne.splice(ne.indexOf(we),1)}}}(a,this.map._requestManager,this.map.getPixelRatio(),(_,S)=>{if(this._spriteRequest=null,_)this.fire(new l.ErrorEvent(_));else if(S)for(const A in S){this._spritesImagesIds[A]=[];const M=this._spritesImagesIds[A]?this._spritesImagesIds[A].filter(z=>!(z in S)):[];for(const z of M)this.imageManager.removeImage(z),this._changedImages[z]=!0;for(const z in S[A]){const B=A==="default"?z:`${A}:${z}`;this._spritesImagesIds[A].push(B),B in this.imageManager.images?this.imageManager.updateImage(B,S[A][z],!1):this.imageManager.addImage(B,S[A][z]),f&&(this._changedImages[B]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new l.Event("data",{dataType:"style"})),m&&m(_)})}_unloadSprite(){for(const a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new l.Event("data",{dataType:"style"}))}_validateLayer(a){const f=this.sourceCaches[a.source];if(!f)return;const m=a.sourceLayer;if(!m)return;const _=f.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(m)===-1)&&this.fire(new l.ErrorEvent(new Error(`Source layer "${m}" does not exist on source "${_.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(a){const f=[];for(const m of a){const _=this._layers[m];_.type!=="custom"&&f.push(_.serialize())}return f}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;const f=this._changed;if(this._changed){const _=Object.keys(this._updatedLayers),S=Object.keys(this._removedLayers);(_.length||S.length)&&this._updateWorkerLayers(_,S);for(const A in this._updatedSources){const M=this._updatedSources[A];if(M==="reload")this._reloadSource(A);else{if(M!=="clear")throw new Error(`Invalid action ${M}`);this._clearSource(A)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const A in this._updatedPaintProps)this._layers[A].updateTransitions(a);this.light.updateTransitions(a),this._resetUpdates()}const m={};for(const _ in this.sourceCaches){const S=this.sourceCaches[_];m[_]=S.used,S.used=!1}for(const _ of this._order){const S=this._layers[_];S.recalculate(a,this._availableImages),!S.isHidden(a.zoom)&&S.source&&(this.sourceCaches[S.source].used=!0)}for(const _ in m){const S=this.sourceCaches[_];m[_]!==S.used&&S.fire(new l.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:_}))}this.light.recalculate(a),this.z=a.zoom,f&&this.fire(new l.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,f={}){if(this._checkLoaded(),a=f.transformStyle?f.transformStyle(this.serialize(),a):a,Xn(this,l.validateStyle(a)))return!1;(a=l.clone$1(a)).layers=Xi(a.layers);const m=function(S,A){if(!S)return[{command:sn.setStyle,args:[A]}];let M=[];try{if(!O(S.version,A.version))return[{command:sn.setStyle,args:[A]}];O(S.center,A.center)||M.push({command:sn.setCenter,args:[A.center]}),O(S.zoom,A.zoom)||M.push({command:sn.setZoom,args:[A.zoom]}),O(S.bearing,A.bearing)||M.push({command:sn.setBearing,args:[A.bearing]}),O(S.pitch,A.pitch)||M.push({command:sn.setPitch,args:[A.pitch]}),O(S.sprite,A.sprite)||M.push({command:sn.setSprite,args:[A.sprite]}),O(S.glyphs,A.glyphs)||M.push({command:sn.setGlyphs,args:[A.glyphs]}),O(S.transition,A.transition)||M.push({command:sn.setTransition,args:[A.transition]}),O(S.light,A.light)||M.push({command:sn.setLight,args:[A.light]});const z={},B=[];(function(H,ne,de,pe){let fe;for(fe in ne=ne||{},H=H||{})Object.prototype.hasOwnProperty.call(H,fe)&&(Object.prototype.hasOwnProperty.call(ne,fe)||Wt(fe,de,pe));for(fe in ne)Object.prototype.hasOwnProperty.call(ne,fe)&&(Object.prototype.hasOwnProperty.call(H,fe)?O(H[fe],ne[fe])||(H[fe].type==="geojson"&&ne[fe].type==="geojson"&&un(H,ne,fe)?de.push({command:sn.setGeoJSONSourceData,args:[fe,ne[fe].data]}):At(fe,ne,de,pe)):ot(fe,ne,de))})(S.sources,A.sources,B,z);const K=[];S.layers&&S.layers.forEach(H=>{z[H.source]?M.push({command:sn.removeLayer,args:[H.id]}):K.push(H)}),M=M.concat(B),function(H,ne,de){ne=ne||[];const pe=(H=H||[]).map(cn),fe=ne.map(cn),we=H.reduce(Vt,{}),ke=ne.reduce(Vt,{}),Ae=pe.slice(),ye=Object.create(null);let Re,Ve,je,Ke,Ye,st,it;for(Re=0,Ve=0;Re<pe.length;Re++)je=pe[Re],Object.prototype.hasOwnProperty.call(ke,je)?Ve++:(de.push({command:sn.removeLayer,args:[je]}),Ae.splice(Ae.indexOf(je,Ve),1));for(Re=0,Ve=0;Re<fe.length;Re++)je=fe[fe.length-1-Re],Ae[Ae.length-1-Re]!==je&&(Object.prototype.hasOwnProperty.call(we,je)?(de.push({command:sn.removeLayer,args:[je]}),Ae.splice(Ae.lastIndexOf(je,Ae.length-Ve),1)):Ve++,st=Ae[Ae.length-Re],de.push({command:sn.addLayer,args:[ke[je],st]}),Ae.splice(Ae.length-Re,0,je),ye[je]=!0);for(Re=0;Re<fe.length;Re++)if(je=fe[Re],Ke=we[je],Ye=ke[je],!ye[je]&&!O(Ke,Ye))if(O(Ke.source,Ye.source)&&O(Ke["source-layer"],Ye["source-layer"])&&O(Ke.type,Ye.type)){for(it in An(Ke.layout,Ye.layout,de,je,null,sn.setLayoutProperty),An(Ke.paint,Ye.paint,de,je,null,sn.setPaintProperty),O(Ke.filter,Ye.filter)||de.push({command:sn.setFilter,args:[je,Ye.filter]}),O(Ke.minzoom,Ye.minzoom)&&O(Ke.maxzoom,Ye.maxzoom)||de.push({command:sn.setLayerZoomRange,args:[je,Ye.minzoom,Ye.maxzoom]}),Ke)Object.prototype.hasOwnProperty.call(Ke,it)&&it!=="layout"&&it!=="paint"&&it!=="filter"&&it!=="metadata"&&it!=="minzoom"&&it!=="maxzoom"&&(it.indexOf("paint.")===0?An(Ke[it],Ye[it],de,je,it.slice(6),sn.setPaintProperty):O(Ke[it],Ye[it])||de.push({command:sn.setLayerProperty,args:[je,it,Ye[it]]}));for(it in Ye)Object.prototype.hasOwnProperty.call(Ye,it)&&!Object.prototype.hasOwnProperty.call(Ke,it)&&it!=="layout"&&it!=="paint"&&it!=="filter"&&it!=="metadata"&&it!=="minzoom"&&it!=="maxzoom"&&(it.indexOf("paint.")===0?An(Ke[it],Ye[it],de,je,it.slice(6),sn.setPaintProperty):O(Ke[it],Ye[it])||de.push({command:sn.setLayerProperty,args:[je,it,Ye[it]]}))}else de.push({command:sn.removeLayer,args:[je]}),st=Ae[Ae.lastIndexOf(je)+1],de.push({command:sn.addLayer,args:[Ye,st]})}(K,A.layers,M)}catch(z){console.warn("Unable to compute style diff:",z),M=[{command:sn.setStyle,args:[A]}]}return M}(this.serialize(),a).filter(S=>!(S.command in Tl));if(m.length===0)return!1;const _=m.filter(S=>!(S.command in du));if(_.length>0)throw new Error(`Unimplemented: ${_.map(S=>S.command).join(", ")}.`);return m.forEach(S=>{S.command!=="setTransition"&&this[S.command].apply(this,S.args)}),this.stylesheet=a,!0}addImage(a,f){if(this.getImage(a))return this.fire(new l.ErrorEvent(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,f),this._afterImageUpdated(a)}updateImage(a,f){this.imageManager.updateImage(a,f)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new l.ErrorEvent(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new l.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,f,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(l.validateStyle.source,`sources.${a}`,f,null,m))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const _=this.sourceCaches[a]=new Ct(a,f,this.dispatcher);_.style=this,_.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:_.serialize(),sourceId:a})),_.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===a)return this.fire(new l.ErrorEvent(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));const f=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],f.fire(new l.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,f){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);const m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(f),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,f,m={}){this._checkLoaded();const _=a.id;if(this.getLayer(_))return void this.fire(new l.ErrorEvent(new Error(`Layer "${_}" already exists on this map.`)));let S;if(a.type==="custom"){if(Xn(this,l.validateCustomStyleLayer(a)))return;S=l.createStyleLayer(a)}else{if(typeof a.source=="object"&&(this.addSource(_,a.source),a=l.clone$1(a),a=l.extend(a,{source:_})),this._validate(l.validateStyle.layer,`layers.${_}`,a,{arrayIndex:-1},m))return;S=l.createStyleLayer(a),this._validateLayer(S),S.setEventedParent(this,{layer:{id:_}}),this._serializedLayers[S.id]=S.serialize()}const A=f?this._order.indexOf(f):this._order.length;if(f&&A===-1)this.fire(new l.ErrorEvent(new Error(`Cannot add layer "${_}" before non-existing layer "${f}".`)));else{if(this._order.splice(A,0,_),this._layerOrderChanged=!0,this._layers[_]=S,this._removedLayers[_]&&S.source&&S.type!=="custom"){const M=this._removedLayers[_];delete this._removedLayers[_],M.type!==S.type?this._updatedSources[S.source]="clear":(this._updatedSources[S.source]="reload",this.sourceCaches[S.source].pause())}this._updateLayer(S),S.onAdd&&S.onAdd(this.map)}}moveLayer(a,f){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new l.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===f)return;const m=this._order.indexOf(a);this._order.splice(m,1);const _=f?this._order.indexOf(f):this._order.length;f&&_===-1?this.fire(new l.ErrorEvent(new Error(`Cannot move layer "${a}" before non-existing layer "${f}".`))):(this._order.splice(_,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();const f=this._layers[a];if(!f)return void this.fire(new l.ErrorEvent(new Error(`Cannot remove non-existing layer "${a}".`)));f.setEventedParent(null);const m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=f,delete this._layers[a],delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],f.onRemove&&f.onRemove(this.map)}getLayer(a){return this._layers[a]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,f,m){this._checkLoaded();const _=this.getLayer(a);_?_.minzoom===f&&_.maxzoom===m||(f!=null&&(_.minzoom=f),m!=null&&(_.maxzoom=m),this._updateLayer(_)):this.fire(new l.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,f,m={}){this._checkLoaded();const _=this.getLayer(a);if(_){if(!O(_.filter,f))return f==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(l.validateStyle.filter,`layers.${_.id}.filter`,f,null,m)||(_.filter=l.clone$1(f),this._updateLayer(_)))}else this.fire(new l.ErrorEvent(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return l.clone$1(this.getLayer(a).filter)}setLayoutProperty(a,f,m,_={}){this._checkLoaded();const S=this.getLayer(a);S?O(S.getLayoutProperty(f),m)||(S.setLayoutProperty(f,m,_),this._updateLayer(S)):this.fire(new l.ErrorEvent(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,f){const m=this.getLayer(a);if(m)return m.getLayoutProperty(f);this.fire(new l.ErrorEvent(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,f,m,_={}){this._checkLoaded();const S=this.getLayer(a);S?O(S.getPaintProperty(f),m)||(S.setPaintProperty(f,m,_)&&this._updateLayer(S),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new l.ErrorEvent(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,f){return this.getLayer(a).getPaintProperty(f)}setFeatureState(a,f){this._checkLoaded();const m=a.source,_=a.sourceLayer,S=this.sourceCaches[m];if(S===void 0)return void this.fire(new l.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const A=S.getSource().type;A==="geojson"&&_?this.fire(new l.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):A!=="vector"||_?(a.id===void 0&&this.fire(new l.ErrorEvent(new Error("The feature id parameter must be provided."))),S.setFeatureState(_,a.id,f)):this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,f){this._checkLoaded();const m=a.source,_=this.sourceCaches[m];if(_===void 0)return void this.fire(new l.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const S=_.getSource().type,A=S==="vector"?a.sourceLayer:void 0;S!=="vector"||A?f&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new l.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):_.removeFeatureState(A,a.id,f):this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();const f=a.source,m=a.sourceLayer,_=this.sourceCaches[f];if(_!==void 0)return _.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new l.ErrorEvent(new Error("The feature id parameter must be provided."))),_.getFeatureState(m,a.id)):void this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new l.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return l.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return l.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:l.mapObject(this.sourceCaches,a=>a.serialize()),layers:this._serializeLayers(this._order)},a=>a!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(a){const f=A=>this._layers[A].type==="fill-extrusion",m={},_=[];for(let A=this._order.length-1;A>=0;A--){const M=this._order[A];if(f(M)){m[M]=A;for(const z of a){const B=z[M];if(B)for(const K of B)_.push(K)}}}_.sort((A,M)=>M.intersectionZ-A.intersectionZ);const S=[];for(let A=this._order.length-1;A>=0;A--){const M=this._order[A];if(f(M))for(let z=_.length-1;z>=0;z--){const B=_[z].feature;if(m[B.layer.id]<A)break;S.push(B),_.pop()}else for(const z of a){const B=z[M];if(B)for(const K of B)S.push(K.feature)}}return S}queryRenderedFeatures(a,f,m){f&&f.filter&&this._validate(l.validateStyle.filter,"queryRenderedFeatures.filter",f.filter,null,f);const _={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new l.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const A of f.layers){const M=this._layers[A];if(!M)return this.fire(new l.ErrorEvent(new Error(`The layer '${A}' does not exist in the map's style and cannot be queried for features.`))),[];_[M.source]=!0}}const S=[];f.availableImages=this._availableImages;for(const A in this.sourceCaches)f.layers&&!_[A]||S.push(dt(this.sourceCaches[A],this._layers,this._serializedLayers,a,f,m));return this.placement&&S.push(function(A,M,z,B,K,H,ne){const de={},pe=H.queryRenderedSymbols(B),fe=[];for(const we of Object.keys(pe).map(Number))fe.push(ne[we]);fe.sort(Zt);for(const we of fe){const ke=we.featureIndex.lookupSymbolFeatures(pe[we.bucketInstanceId],M,we.bucketIndex,we.sourceLayerIndex,K.filter,K.layers,K.availableImages,A);for(const Ae in ke){const ye=de[Ae]=de[Ae]||[],Re=ke[Ae];Re.sort((Ve,je)=>{const Ke=we.featureSortOrder;if(Ke){const Ye=Ke.indexOf(Ve.featureIndex);return Ke.indexOf(je.featureIndex)-Ye}return je.featureIndex-Ve.featureIndex});for(const Ve of Re)ye.push(Ve)}}for(const we in de)de[we].forEach(ke=>{const Ae=ke.feature,ye=z[A[we].source].getFeatureState(Ae.layer["source-layer"],Ae.id);Ae.source=Ae.layer.source,Ae.layer["source-layer"]&&(Ae.sourceLayer=Ae.layer["source-layer"]),Ae.state=ye});return de}(this._layers,this._serializedLayers,this.sourceCaches,a,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(S)}querySourceFeatures(a,f){f&&f.filter&&this._validate(l.validateStyle.filter,"querySourceFeatures.filter",f.filter,null,f);const m=this.sourceCaches[a];return m?function(_,S){const A=_.getRenderableIds().map(B=>_.getTileByID(B)),M=[],z={};for(let B=0;B<A.length;B++){const K=A[B],H=K.tileID.canonical.key;z[H]||(z[H]=!0,K.querySourceFeatures(M,S))}return M}(m,f):[]}addSourceType(a,f,m){return Qi.getSourceType(a)?m(new Error(`A source type called "${a}" already exists.`)):(Qi.setSourceType(a,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:f.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(a,f={}){this._checkLoaded();const m=this.light.getLight();let _=!1;for(const A in a)if(!O(a[A],m[A])){_=!0;break}if(!_)return;const S={now:l.exported.now(),transition:l.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,f),this.light.updateTransitions(S)}_validate(a,f,m,_,S={}){return(!S||S.validate!==!1)&&Xn(this,a.call(l.validateStyle,l.extend({key:f,style:this.serialize(),value:m,styleSpec:l.spec},_)))}_remove(a=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),l.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.sourceCaches){const m=this.sourceCaches[f];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(const f in this.sourceCaches)this.sourceCaches[f].update(a,this.map.terrain)}_generateCollisionBoxes(){for(const a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,f,m,_,S=!1){let A=!1,M=!1;const z={};for(const B of this._order){const K=this._layers[B];if(K.type!=="symbol")continue;if(!z[K.source]){const ne=this.sourceCaches[K.source];z[K.source]=ne.getRenderableIds(!0).map(de=>ne.getTileByID(de)).sort((de,pe)=>pe.tileID.overscaledZ-de.tileID.overscaledZ||(de.tileID.isLessThan(pe.tileID)?-1:1))}const H=this.crossTileSymbolIndex.addLayer(K,z[K.source],a.center.lng);A=A||H}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((S=S||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(l.exported.now(),a.zoom))&&(this.pauseablePlacement=new sr(a,this.map.terrain,this._order,S,f,m,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,z),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(l.exported.now()),M=!0),A&&this.pauseablePlacement.placement.setStale()),M||A)for(const B of this._order){const K=this._layers[B];K.type==="symbol"&&this.placement.updateLayerOpacities(K,z[K.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(l.exported.now())}_releaseSymbolFadeTiles(){for(const a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,f,m){this.imageManager.getImages(f.icons,m),this._updateTilesForChangedImages();const _=this.sourceCaches[f.source];_&&_.setDependencies(f.tileID.key,f.type,f.icons)}getGlyphs(a,f,m){this.glyphManager.getGlyphs(f.stacks,m);const _=this.sourceCaches[f.source];_&&_.setDependencies(f.tileID.key,f.type,[""])}getResource(a,f,m){return l.makeRequest(f,m)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,f={}){this._checkLoaded(),a&&this._validate(l.validateStyle.glyphs,"glyphs",a,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,f,m={},_){this._checkLoaded();const S=[{id:a,url:f}],A=[...He(this.stylesheet.sprite),...S];this._validate(l.validateStyle.sprite,"sprite",A,null,m)||(this.stylesheet.sprite=A,this._loadSprite(S,!0,_))}removeSprite(a){this._checkLoaded();const f=He(this.stylesheet.sprite);if(f.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(const m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;f.splice(f.findIndex(m=>m.id===a),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new l.Event("data",{dataType:"style"}))}else this.fire(new l.ErrorEvent(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return He(this.stylesheet.sprite)}setSprite(a,f={},m){this._checkLoaded(),a&&this._validate(l.validateStyle.sprite,"sprite",a,null,f)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m(null)))}}Qi.getSourceType=function(v){return Ur[v]},Qi.setSourceType=function(v,a){Ur[v]=a},Qi.registerForPluginStateChange=l.registerForPluginStateChange;var is=l.createLayout([{name:"a_pos",type:"Int16",components:2}]),aa="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const dr={prelude:bn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:bn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:bn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:bn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:bn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:bn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:bn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:bn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:bn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:bn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:bn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:bn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:bn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:bn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:bn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:bn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:bn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:bn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:bn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:bn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:bn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:bn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:bn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:bn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:bn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:bn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:bn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",aa),terrainDepth:bn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",aa),terrainCoords:bn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",aa)};function bn(v,a){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),_=v.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),S=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),A=S?S.concat(_):_,M={};return{fragmentSource:v=v.replace(f,(z,B,K,H,ne)=>(M[ne]=!0,B==="define"?`
#ifndef HAS_UNIFORM_u_${ne}
varying ${K} ${H} ${ne};
#else
uniform ${K} ${H} u_${ne};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ne}
    ${K} ${H} ${ne} = u_${ne};
#endif
`)),vertexSource:a=a.replace(f,(z,B,K,H,ne)=>{const de=H==="float"?"vec2":"vec4",pe=ne.match(/color/)?"color":de;return M[ne]?B==="define"?`
#ifndef HAS_UNIFORM_u_${ne}
uniform lowp float u_${ne}_t;
attribute ${K} ${de} a_${ne};
varying ${K} ${H} ${ne};
#else
uniform ${K} ${H} u_${ne};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ne}
    ${ne} = a_${ne};
#else
    ${K} ${H} ${ne} = u_${ne};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ne}
    ${ne} = unpack_mix_${pe}(a_${ne}, u_${ne}_t);
#else
    ${K} ${H} ${ne} = u_${ne};
#endif
`:B==="define"?`
#ifndef HAS_UNIFORM_u_${ne}
uniform lowp float u_${ne}_t;
attribute ${K} ${de} a_${ne};
#else
uniform ${K} ${H} u_${ne};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ne}
    ${K} ${H} ${ne} = a_${ne};
#else
    ${K} ${H} ${ne} = u_${ne};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ne}
    ${K} ${H} ${ne} = unpack_mix_${pe}(a_${ne}, u_${ne}_t);
#else
    ${K} ${H} ${ne} = u_${ne};
#endif
`}),staticAttributes:m,staticUniforms:A}}class os{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,f,m,_,S,A,M,z,B){this.context=a;let K=this.boundPaintVertexBuffers.length!==_.length;for(let H=0;!K&&H<_.length;H++)this.boundPaintVertexBuffers[H]!==_[H]&&(K=!0);a.extVertexArrayObject&&this.vao&&this.boundProgram===f&&this.boundLayoutVertexBuffer===m&&!K&&this.boundIndexBuffer===S&&this.boundVertexOffset===A&&this.boundDynamicVertexBuffer===M&&this.boundDynamicVertexBuffer2===z&&this.boundDynamicVertexBuffer3===B?(a.bindVertexArrayOES.set(this.vao),M&&M.bind(),S&&S.dynamicDraw&&S.bind(),z&&z.bind(),B&&B.bind()):this.freshBind(f,m,_,S,A,M,z,B)}freshBind(a,f,m,_,S,A,M,z){let B;const K=a.numAttributes,H=this.context,ne=H.gl;if(H.extVertexArrayObject)this.vao&&this.destroy(),this.vao=H.extVertexArrayObject.createVertexArrayOES(),H.bindVertexArrayOES.set(this.vao),B=0,this.boundProgram=a,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=_,this.boundVertexOffset=S,this.boundDynamicVertexBuffer=A,this.boundDynamicVertexBuffer2=M,this.boundDynamicVertexBuffer3=z;else{B=H.currentNumAttributes||0;for(let de=K;de<B;de++)ne.disableVertexAttribArray(de)}f.enableAttributes(ne,a);for(const de of m)de.enableAttributes(ne,a);A&&A.enableAttributes(ne,a),M&&M.enableAttributes(ne,a),z&&z.enableAttributes(ne,a),f.bind(),f.setVertexAttribPointers(ne,a,S);for(const de of m)de.bind(),de.setVertexAttribPointers(ne,a,S);A&&(A.bind(),A.setVertexAttribPointers(ne,a,S)),_&&_.bind(),M&&(M.bind(),M.setVertexAttribPointers(ne,a,S)),z&&(z.bind(),z.setVertexAttribPointers(ne,a,S)),H.currentNumAttributes=K}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function sa(v){const a=[];for(let f=0;f<v.length;f++){if(v[f]===null)continue;const m=v[f].split(" ");a.push(m.pop())}return a}class Cl{constructor(a,f,m,_,S,A,M){const z=a.gl;this.program=z.createProgram();const B=sa(m.staticAttributes),K=_?_.getBinderAttributes():[],H=B.concat(K),ne=dr.prelude.staticUniforms?sa(dr.prelude.staticUniforms):[],de=m.staticUniforms?sa(m.staticUniforms):[],pe=_?_.getBinderUniforms():[],fe=ne.concat(de).concat(pe),we=[];for(const Ke of fe)we.indexOf(Ke)<0&&we.push(Ke);const ke=_?_.defines():[];A&&ke.push("#define OVERDRAW_INSPECTOR;"),M&&ke.push("#define TERRAIN3D;");const Ae=ke.concat(dr.prelude.fragmentSource,m.fragmentSource).join(`
`),ye=ke.concat(dr.prelude.vertexSource,m.vertexSource).join(`
`),Re=z.createShader(z.FRAGMENT_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);z.shaderSource(Re,Ae),z.compileShader(Re),z.attachShader(this.program,Re);const Ve=z.createShader(z.VERTEX_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);z.shaderSource(Ve,ye),z.compileShader(Ve),z.attachShader(this.program,Ve),this.attributes={};const je={};this.numAttributes=H.length;for(let Ke=0;Ke<this.numAttributes;Ke++)H[Ke]&&(z.bindAttribLocation(this.program,Ke,H[Ke]),this.attributes[H[Ke]]=Ke);z.linkProgram(this.program),z.deleteShader(Ve),z.deleteShader(Re);for(let Ke=0;Ke<we.length;Ke++){const Ye=we[Ke];if(Ye&&!je[Ye]){const st=z.getUniformLocation(this.program,Ye);st&&(je[Ye]=st)}}this.fixedUniforms=S(a,je),this.terrainUniforms=((Ke,Ye)=>({u_depth:new l.Uniform1i(Ke,Ye.u_depth),u_terrain:new l.Uniform1i(Ke,Ye.u_terrain),u_terrain_dim:new l.Uniform1f(Ke,Ye.u_terrain_dim),u_terrain_matrix:new l.UniformMatrix4f(Ke,Ye.u_terrain_matrix),u_terrain_unpack:new l.Uniform4f(Ke,Ye.u_terrain_unpack),u_terrain_exaggeration:new l.Uniform1f(Ke,Ye.u_terrain_exaggeration)}))(a,je),this.binderUniforms=_?_.getUniforms(a,je):[]}draw(a,f,m,_,S,A,M,z,B,K,H,ne,de,pe,fe,we,ke,Ae){const ye=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(_),a.setColorMode(S),a.setCullFace(A),z){a.activeTexture.set(ye.TEXTURE2),ye.bindTexture(ye.TEXTURE_2D,z.depthTexture),a.activeTexture.set(ye.TEXTURE3),ye.bindTexture(ye.TEXTURE_2D,z.texture);for(const Ve in this.terrainUniforms)this.terrainUniforms[Ve].set(z[Ve])}for(const Ve in this.fixedUniforms)this.fixedUniforms[Ve].set(M[Ve]);fe&&fe.setUniforms(a,this.binderUniforms,de,{zoom:pe});let Re=0;switch(f){case ye.LINES:Re=2;break;case ye.TRIANGLES:Re=3;break;case ye.LINE_STRIP:Re=1}for(const Ve of ne.get()){const je=Ve.vaos||(Ve.vaos={});(je[B]||(je[B]=new os)).bind(a,this,K,fe?fe.getPaintVertexBuffers():[],H,Ve.vertexOffset,we,ke,Ae),ye.drawElements(f,Ve.primitiveLength*Re,ye.UNSIGNED_SHORT,Ve.primitiveOffset*Re*2)}}}function as(v,a,f){const m=1/Ze(f,1,a.transform.tileZoom),_=Math.pow(2,f.tileID.overscaledZ),S=f.tileSize*Math.pow(2,a.transform.tileZoom)/_,A=S*(f.tileID.canonical.x+f.tileID.wrap*_),M=S*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[m,v.fromScale,v.toScale],u_fade:v.t,u_pixel_coord_upper:[A>>16,M>>16],u_pixel_coord_lower:[65535&A,65535&M]}}const Pl=(v,a,f,m)=>{const _=a.style.light,S=_.properties.get("position"),A=[S.x,S.y,S.z],M=function(){var B=new l.ARRAY_TYPE(9);return l.ARRAY_TYPE!=Float32Array&&(B[1]=0,B[2]=0,B[3]=0,B[5]=0,B[6]=0,B[7]=0),B[0]=1,B[4]=1,B[8]=1,B}();_.properties.get("anchor")==="viewport"&&function(B,K){var H=Math.sin(K),ne=Math.cos(K);B[0]=ne,B[1]=H,B[2]=0,B[3]=-H,B[4]=ne,B[5]=0,B[6]=0,B[7]=0,B[8]=1}(M,-a.transform.angle),function(B,K,H){var ne=K[0],de=K[1],pe=K[2];B[0]=ne*H[0]+de*H[3]+pe*H[6],B[1]=ne*H[1]+de*H[4]+pe*H[7],B[2]=ne*H[2]+de*H[5]+pe*H[8]}(A,A,M);const z=_.properties.get("color");return{u_matrix:v,u_lightpos:A,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[z.r,z.g,z.b],u_vertical_gradient:+f,u_opacity:m}},Oc=(v,a,f,m,_,S,A)=>l.extend(Pl(v,a,f,m),as(S,a,A),{u_height_factor:-Math.pow(2,_.overscaledZ)/A.tileSize/8}),la=v=>({u_matrix:v}),Ra=(v,a,f,m)=>l.extend(la(v),as(f,a,m)),pu=(v,a)=>({u_matrix:v,u_world:a}),oi=(v,a,f,m,_)=>l.extend(Ra(v,a,f,m),{u_world:_}),mu=(v,a,f,m)=>{const _=v.transform;let S,A;if(m.paint.get("circle-pitch-alignment")==="map"){const M=Ze(f,1,_.zoom);S=!0,A=[M,M]}else S=!1,A=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:v.translatePosMatrix(a.posMatrix,f,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+S,u_device_pixel_ratio:v.pixelRatio,u_extrude_scale:A}},Ns=(v,a,f)=>{const m=Ze(f,1,a.zoom),_=Math.pow(2,a.zoom-f.tileID.overscaledZ),S=f.tileID.overscaleFactor();return{u_matrix:v,u_camera_to_center_distance:a.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[a.pixelsToGLUnits[0]/(m*_),a.pixelsToGLUnits[1]/(m*_)],u_overscale_factor:S}},Al=(v,a,f=1)=>({u_matrix:v,u_color:a,u_overlay:0,u_overlay_scale:f}),nn=v=>({u_matrix:v}),Ji=(v,a,f,m)=>({u_matrix:v,u_extrude_scale:Ze(a,1,f),u_intensity:m});function qn(v,a){const f=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new l.MercatorCoordinate(0,m/f).toLngLat().lat,new l.MercatorCoordinate(0,(m+1)/f).toLngLat().lat]}const Bs=(v,a,f,m)=>{const _=v.transform;return{u_matrix:ca(v,a,f,m),u_ratio:1/Ze(a,1,_.zoom),u_device_pixel_ratio:v.pixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Il=(v,a,f,m,_)=>l.extend(Bs(v,a,f,_),{u_image:0,u_image_height:m}),Us=(v,a,f,m,_)=>{const S=v.transform,A=ua(a,S);return{u_matrix:ca(v,a,f,_),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Ze(a,1,S.zoom),u_device_pixel_ratio:v.pixelRatio,u_image:0,u_scale:[A,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},gu=(v,a,f,m,_,S)=>{const A=v.lineAtlas,M=ua(a,v.transform),z=f.layout.get("line-cap")==="round",B=A.getDash(m.from,z),K=A.getDash(m.to,z),H=B.width*_.fromScale,ne=K.width*_.toScale;return l.extend(Bs(v,a,f,S),{u_patternscale_a:[M/H,-B.height/2],u_patternscale_b:[M/ne,-K.height/2],u_sdfgamma:A.width/(256*Math.min(H,ne)*v.pixelRatio)/2,u_image:0,u_tex_y_a:B.y,u_tex_y_b:K.y,u_mix:_.t})};function ua(v,a){return 1/Ze(v,1,a.tileZoom)}function ca(v,a,f,m){return v.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const kl=(v,a,f,m,_)=>{return{u_matrix:v,u_tl_parent:a,u_scale_parent:f,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(A=_.paint.get("raster-saturation"),A>0?1-1/(1.001-A):-A),u_contrast_factor:(S=_.paint.get("raster-contrast"),S>0?1/(1-S):1+S),u_spin_weights:Jr(_.paint.get("raster-hue-rotate"))};var S,A};function Jr(v){v*=Math.PI/180;const a=Math.sin(v),f=Math.cos(v);return[(2*f+1)/3,(-Math.sqrt(3)*a-f+1)/3,(Math.sqrt(3)*a-f+1)/3]}const Ma=(v,a,f,m,_,S,A,M,z,B)=>{const K=_.transform;return{u_is_size_zoom_constant:+(v==="constant"||v==="source"),u_is_size_feature_constant:+(v==="constant"||v==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:K.cameraToCenterDistance,u_pitch:K.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:K.width/K.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:S,u_label_plane_matrix:A,u_coord_matrix:M,u_is_text:+z,u_pitch_with_map:+m,u_texsize:B,u_texture:0}},Lc=(v,a,f,m,_,S,A,M,z,B,K)=>{const H=_.transform;return l.extend(Ma(v,a,f,m,_,S,A,M,z,B),{u_gamma_scale:m?Math.cos(H._pitch)*H.cameraToCenterDistance:1,u_device_pixel_ratio:_.pixelRatio,u_is_halo:+K})},Dh=(v,a,f,m,_,S,A,M,z,B)=>l.extend(Lc(v,a,f,m,_,S,A,M,!0,z,!0),{u_texsize_icon:B,u_texture_icon:1}),Id=(v,a,f)=>({u_matrix:v,u_opacity:a,u_color:f}),vu=(v,a,f,m,_,S)=>l.extend(function(A,M,z,B){const K=z.imageManager.getPattern(A.from.toString()),H=z.imageManager.getPattern(A.to.toString()),{width:ne,height:de}=z.imageManager.getPixelSize(),pe=Math.pow(2,B.tileID.overscaledZ),fe=B.tileSize*Math.pow(2,z.transform.tileZoom)/pe,we=fe*(B.tileID.canonical.x+B.tileID.wrap*pe),ke=fe*B.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:K.tl,u_pattern_br_a:K.br,u_pattern_tl_b:H.tl,u_pattern_br_b:H.br,u_texsize:[ne,de],u_mix:M.t,u_pattern_size_a:K.displaySize,u_pattern_size_b:H.displaySize,u_scale_a:M.fromScale,u_scale_b:M.toScale,u_tile_units_to_pixels:1/Ze(B,1,z.transform.tileZoom),u_pixel_coord_upper:[we>>16,ke>>16],u_pixel_coord_lower:[65535&we,65535&ke]}}(m,S,f,_),{u_matrix:v,u_opacity:a}),Vs={fillExtrusion:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_lightpos:new l.Uniform3f(v,a.u_lightpos),u_lightintensity:new l.Uniform1f(v,a.u_lightintensity),u_lightcolor:new l.Uniform3f(v,a.u_lightcolor),u_vertical_gradient:new l.Uniform1f(v,a.u_vertical_gradient),u_opacity:new l.Uniform1f(v,a.u_opacity)}),fillExtrusionPattern:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_lightpos:new l.Uniform3f(v,a.u_lightpos),u_lightintensity:new l.Uniform1f(v,a.u_lightintensity),u_lightcolor:new l.Uniform3f(v,a.u_lightcolor),u_vertical_gradient:new l.Uniform1f(v,a.u_vertical_gradient),u_height_factor:new l.Uniform1f(v,a.u_height_factor),u_image:new l.Uniform1i(v,a.u_image),u_texsize:new l.Uniform2f(v,a.u_texsize),u_pixel_coord_upper:new l.Uniform2f(v,a.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(v,a.u_pixel_coord_lower),u_scale:new l.Uniform3f(v,a.u_scale),u_fade:new l.Uniform1f(v,a.u_fade),u_opacity:new l.Uniform1f(v,a.u_opacity)}),fill:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix)}),fillPattern:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_image:new l.Uniform1i(v,a.u_image),u_texsize:new l.Uniform2f(v,a.u_texsize),u_pixel_coord_upper:new l.Uniform2f(v,a.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(v,a.u_pixel_coord_lower),u_scale:new l.Uniform3f(v,a.u_scale),u_fade:new l.Uniform1f(v,a.u_fade)}),fillOutline:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_world:new l.Uniform2f(v,a.u_world)}),fillOutlinePattern:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_world:new l.Uniform2f(v,a.u_world),u_image:new l.Uniform1i(v,a.u_image),u_texsize:new l.Uniform2f(v,a.u_texsize),u_pixel_coord_upper:new l.Uniform2f(v,a.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(v,a.u_pixel_coord_lower),u_scale:new l.Uniform3f(v,a.u_scale),u_fade:new l.Uniform1f(v,a.u_fade)}),circle:(v,a)=>({u_camera_to_center_distance:new l.Uniform1f(v,a.u_camera_to_center_distance),u_scale_with_map:new l.Uniform1i(v,a.u_scale_with_map),u_pitch_with_map:new l.Uniform1i(v,a.u_pitch_with_map),u_extrude_scale:new l.Uniform2f(v,a.u_extrude_scale),u_device_pixel_ratio:new l.Uniform1f(v,a.u_device_pixel_ratio),u_matrix:new l.UniformMatrix4f(v,a.u_matrix)}),collisionBox:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_camera_to_center_distance:new l.Uniform1f(v,a.u_camera_to_center_distance),u_pixels_to_tile_units:new l.Uniform1f(v,a.u_pixels_to_tile_units),u_extrude_scale:new l.Uniform2f(v,a.u_extrude_scale),u_overscale_factor:new l.Uniform1f(v,a.u_overscale_factor)}),collisionCircle:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_inv_matrix:new l.UniformMatrix4f(v,a.u_inv_matrix),u_camera_to_center_distance:new l.Uniform1f(v,a.u_camera_to_center_distance),u_viewport_size:new l.Uniform2f(v,a.u_viewport_size)}),debug:(v,a)=>({u_color:new l.UniformColor(v,a.u_color),u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_overlay:new l.Uniform1i(v,a.u_overlay),u_overlay_scale:new l.Uniform1f(v,a.u_overlay_scale)}),clippingMask:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix)}),heatmap:(v,a)=>({u_extrude_scale:new l.Uniform1f(v,a.u_extrude_scale),u_intensity:new l.Uniform1f(v,a.u_intensity),u_matrix:new l.UniformMatrix4f(v,a.u_matrix)}),heatmapTexture:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_world:new l.Uniform2f(v,a.u_world),u_image:new l.Uniform1i(v,a.u_image),u_color_ramp:new l.Uniform1i(v,a.u_color_ramp),u_opacity:new l.Uniform1f(v,a.u_opacity)}),hillshade:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_image:new l.Uniform1i(v,a.u_image),u_latrange:new l.Uniform2f(v,a.u_latrange),u_light:new l.Uniform2f(v,a.u_light),u_shadow:new l.UniformColor(v,a.u_shadow),u_highlight:new l.UniformColor(v,a.u_highlight),u_accent:new l.UniformColor(v,a.u_accent)}),hillshadePrepare:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_image:new l.Uniform1i(v,a.u_image),u_dimension:new l.Uniform2f(v,a.u_dimension),u_zoom:new l.Uniform1f(v,a.u_zoom),u_unpack:new l.Uniform4f(v,a.u_unpack)}),line:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_ratio:new l.Uniform1f(v,a.u_ratio),u_device_pixel_ratio:new l.Uniform1f(v,a.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(v,a.u_units_to_pixels)}),lineGradient:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_ratio:new l.Uniform1f(v,a.u_ratio),u_device_pixel_ratio:new l.Uniform1f(v,a.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(v,a.u_units_to_pixels),u_image:new l.Uniform1i(v,a.u_image),u_image_height:new l.Uniform1f(v,a.u_image_height)}),linePattern:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_texsize:new l.Uniform2f(v,a.u_texsize),u_ratio:new l.Uniform1f(v,a.u_ratio),u_device_pixel_ratio:new l.Uniform1f(v,a.u_device_pixel_ratio),u_image:new l.Uniform1i(v,a.u_image),u_units_to_pixels:new l.Uniform2f(v,a.u_units_to_pixels),u_scale:new l.Uniform3f(v,a.u_scale),u_fade:new l.Uniform1f(v,a.u_fade)}),lineSDF:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_ratio:new l.Uniform1f(v,a.u_ratio),u_device_pixel_ratio:new l.Uniform1f(v,a.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(v,a.u_units_to_pixels),u_patternscale_a:new l.Uniform2f(v,a.u_patternscale_a),u_patternscale_b:new l.Uniform2f(v,a.u_patternscale_b),u_sdfgamma:new l.Uniform1f(v,a.u_sdfgamma),u_image:new l.Uniform1i(v,a.u_image),u_tex_y_a:new l.Uniform1f(v,a.u_tex_y_a),u_tex_y_b:new l.Uniform1f(v,a.u_tex_y_b),u_mix:new l.Uniform1f(v,a.u_mix)}),raster:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_tl_parent:new l.Uniform2f(v,a.u_tl_parent),u_scale_parent:new l.Uniform1f(v,a.u_scale_parent),u_buffer_scale:new l.Uniform1f(v,a.u_buffer_scale),u_fade_t:new l.Uniform1f(v,a.u_fade_t),u_opacity:new l.Uniform1f(v,a.u_opacity),u_image0:new l.Uniform1i(v,a.u_image0),u_image1:new l.Uniform1i(v,a.u_image1),u_brightness_low:new l.Uniform1f(v,a.u_brightness_low),u_brightness_high:new l.Uniform1f(v,a.u_brightness_high),u_saturation_factor:new l.Uniform1f(v,a.u_saturation_factor),u_contrast_factor:new l.Uniform1f(v,a.u_contrast_factor),u_spin_weights:new l.Uniform3f(v,a.u_spin_weights)}),symbolIcon:(v,a)=>({u_is_size_zoom_constant:new l.Uniform1i(v,a.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(v,a.u_is_size_feature_constant),u_size_t:new l.Uniform1f(v,a.u_size_t),u_size:new l.Uniform1f(v,a.u_size),u_camera_to_center_distance:new l.Uniform1f(v,a.u_camera_to_center_distance),u_pitch:new l.Uniform1f(v,a.u_pitch),u_rotate_symbol:new l.Uniform1i(v,a.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(v,a.u_aspect_ratio),u_fade_change:new l.Uniform1f(v,a.u_fade_change),u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(v,a.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(v,a.u_coord_matrix),u_is_text:new l.Uniform1i(v,a.u_is_text),u_pitch_with_map:new l.Uniform1i(v,a.u_pitch_with_map),u_texsize:new l.Uniform2f(v,a.u_texsize),u_texture:new l.Uniform1i(v,a.u_texture)}),symbolSDF:(v,a)=>({u_is_size_zoom_constant:new l.Uniform1i(v,a.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(v,a.u_is_size_feature_constant),u_size_t:new l.Uniform1f(v,a.u_size_t),u_size:new l.Uniform1f(v,a.u_size),u_camera_to_center_distance:new l.Uniform1f(v,a.u_camera_to_center_distance),u_pitch:new l.Uniform1f(v,a.u_pitch),u_rotate_symbol:new l.Uniform1i(v,a.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(v,a.u_aspect_ratio),u_fade_change:new l.Uniform1f(v,a.u_fade_change),u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(v,a.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(v,a.u_coord_matrix),u_is_text:new l.Uniform1i(v,a.u_is_text),u_pitch_with_map:new l.Uniform1i(v,a.u_pitch_with_map),u_texsize:new l.Uniform2f(v,a.u_texsize),u_texture:new l.Uniform1i(v,a.u_texture),u_gamma_scale:new l.Uniform1f(v,a.u_gamma_scale),u_device_pixel_ratio:new l.Uniform1f(v,a.u_device_pixel_ratio),u_is_halo:new l.Uniform1i(v,a.u_is_halo)}),symbolTextAndIcon:(v,a)=>({u_is_size_zoom_constant:new l.Uniform1i(v,a.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(v,a.u_is_size_feature_constant),u_size_t:new l.Uniform1f(v,a.u_size_t),u_size:new l.Uniform1f(v,a.u_size),u_camera_to_center_distance:new l.Uniform1f(v,a.u_camera_to_center_distance),u_pitch:new l.Uniform1f(v,a.u_pitch),u_rotate_symbol:new l.Uniform1i(v,a.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(v,a.u_aspect_ratio),u_fade_change:new l.Uniform1f(v,a.u_fade_change),u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(v,a.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(v,a.u_coord_matrix),u_is_text:new l.Uniform1i(v,a.u_is_text),u_pitch_with_map:new l.Uniform1i(v,a.u_pitch_with_map),u_texsize:new l.Uniform2f(v,a.u_texsize),u_texsize_icon:new l.Uniform2f(v,a.u_texsize_icon),u_texture:new l.Uniform1i(v,a.u_texture),u_texture_icon:new l.Uniform1i(v,a.u_texture_icon),u_gamma_scale:new l.Uniform1f(v,a.u_gamma_scale),u_device_pixel_ratio:new l.Uniform1f(v,a.u_device_pixel_ratio),u_is_halo:new l.Uniform1i(v,a.u_is_halo)}),background:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_opacity:new l.Uniform1f(v,a.u_opacity),u_color:new l.UniformColor(v,a.u_color)}),backgroundPattern:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_opacity:new l.Uniform1f(v,a.u_opacity),u_image:new l.Uniform1i(v,a.u_image),u_pattern_tl_a:new l.Uniform2f(v,a.u_pattern_tl_a),u_pattern_br_a:new l.Uniform2f(v,a.u_pattern_br_a),u_pattern_tl_b:new l.Uniform2f(v,a.u_pattern_tl_b),u_pattern_br_b:new l.Uniform2f(v,a.u_pattern_br_b),u_texsize:new l.Uniform2f(v,a.u_texsize),u_mix:new l.Uniform1f(v,a.u_mix),u_pattern_size_a:new l.Uniform2f(v,a.u_pattern_size_a),u_pattern_size_b:new l.Uniform2f(v,a.u_pattern_size_b),u_scale_a:new l.Uniform1f(v,a.u_scale_a),u_scale_b:new l.Uniform1f(v,a.u_scale_b),u_pixel_coord_upper:new l.Uniform2f(v,a.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(v,a.u_pixel_coord_lower),u_tile_units_to_pixels:new l.Uniform1f(v,a.u_tile_units_to_pixels)}),terrain:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_texture:new l.Uniform1i(v,a.u_texture),u_ele_delta:new l.Uniform1f(v,a.u_ele_delta)}),terrainDepth:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_ele_delta:new l.Uniform1f(v,a.u_ele_delta)}),terrainCoords:(v,a)=>({u_matrix:new l.UniformMatrix4f(v,a.u_matrix),u_texture:new l.Uniform1i(v,a.u_texture),u_terrain_coords_id:new l.Uniform1f(v,a.u_terrain_coords_id),u_ele_delta:new l.Uniform1f(v,a.u_ele_delta)})};class Rc{constructor(a,f,m){this.context=a;const _=a.gl;this.buffer=_.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const yu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class pn{constructor(a,f,m,_){this.length=f.length,this.attributes=m,this.itemSize=f.bytesPerElement,this.dynamicDraw=_,this.context=a;const S=a.gl;this.buffer=S.createBuffer(),a.bindVertexBuffer.set(this.buffer),S.bufferData(S.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,f){for(let m=0;m<this.attributes.length;m++){const _=f.attributes[this.attributes[m].name];_!==void 0&&a.enableVertexAttribArray(_)}}setVertexAttribPointers(a,f,m){for(let _=0;_<this.attributes.length;_++){const S=this.attributes[_],A=f.attributes[S.name];A!==void 0&&a.vertexAttribPointer(A,S.components,a[yu[S.type]],!1,this.itemSize,S.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Rn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class eo extends Rn{getDefault(){return l.Color.transparent}set(a){const f=this.current;(a.r!==f.r||a.g!==f.g||a.b!==f.b||a.a!==f.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class ss extends Rn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Da extends Rn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class zh extends Rn{getDefault(){return[!0,!0,!0,!0]}set(a){const f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||a[3]!==f[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class za extends Rn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class $s extends Rn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class Mc extends Rn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const f=this.current;(a.func!==f.func||a.ref!==f.ref||a.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class Dc extends Rn{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Fn extends Rn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;a?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=a,this.dirty=!1}}class js extends Rn{getDefault(){return[0,1]}set(a){const f=this.current;(a[0]!==f[0]||a[1]!==f[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class kd extends Rn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;a?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=a,this.dirty=!1}}class vo extends Rn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Ol extends Rn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;a?f.enable(f.BLEND):f.disable(f.BLEND),this.current=a,this.dirty=!1}}class Fh extends Rn{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const f=this.current;(a[0]!==f[0]||a[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Fa extends Rn{getDefault(){return l.Color.transparent}set(a){const f=this.current;(a.r!==f.r||a.g!==f.g||a.b!==f.b||a.a!==f.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class zc extends Rn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Nh extends Rn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;a?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=a,this.dirty=!1}}class Fc extends Rn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class _u extends Rn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class qs extends Rn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Nc extends Rn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class xu extends Rn{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const f=this.current;(a[0]!==f[0]||a[1]!==f[1]||a[2]!==f[2]||a[3]!==f[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Bc extends Rn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class ls extends Rn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Bo extends Rn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class to extends Rn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Gs extends Rn{getDefault(){return null}set(a){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class yi extends Rn{constructor(a){super(a),this.vao=a.extVertexArrayObject}getDefault(){return null}set(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)}}class Uc extends Rn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class us extends Rn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class bu extends Rn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Ll extends Rn{constructor(a,f){super(a),this.context=a,this.parent=f}getDefault(){return null}}class Bh extends Ll{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Vc extends Ll{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class $c{constructor(a,f,m,_){this.context=a,this.width=f,this.height=m;const S=a.gl,A=this.framebuffer=S.createFramebuffer();if(this.colorAttachment=new Bh(a,A),_&&(this.depthAttachment=new Vc(a,A)),S.checkFramebufferStatus(S.FRAMEBUFFER)!==S.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const a=this.context.gl,f=this.colorAttachment.get();if(f&&a.deleteTexture(f),this.depthAttachment){const m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class pr{constructor(a,f,m){this.blendFunction=a,this.blendColor=f,this.mask=m}}pr.Replace=[1,0],pr.disabled=new pr(pr.Replace,l.Color.transparent,[!1,!1,!1,!1]),pr.unblended=new pr(pr.Replace,l.Color.transparent,[!0,!0,!0,!0]),pr.alphaBlended=new pr([1,771],l.Color.transparent,[!0,!0,!0,!0]);class wu{constructor(a){this.gl=a,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new eo(this),this.clearDepth=new ss(this),this.clearStencil=new Da(this),this.colorMask=new zh(this),this.depthMask=new za(this),this.stencilMask=new $s(this),this.stencilFunc=new Mc(this),this.stencilOp=new Dc(this),this.stencilTest=new Fn(this),this.depthRange=new js(this),this.depthTest=new kd(this),this.depthFunc=new vo(this),this.blend=new Ol(this),this.blendFunc=new Fh(this),this.blendColor=new Fa(this),this.blendEquation=new zc(this),this.cullFace=new Nh(this),this.cullFaceSide=new Fc(this),this.frontFace=new _u(this),this.program=new qs(this),this.activeTexture=new Nc(this),this.viewport=new xu(this),this.bindFramebuffer=new Bc(this),this.bindRenderbuffer=new ls(this),this.bindTexture=new Bo(this),this.bindVertexBuffer=new to(this),this.bindElementBuffer=new Gs(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new yi(this),this.pixelStoreUnpack=new Uc(this),this.pixelStoreUnpackPremultiplyAlpha=new us(this),this.pixelStoreUnpackFlipY=new bu(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=a.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(a.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=a.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,f){return new Rc(this,a,f)}createVertexBuffer(a,f,m){return new pn(this,a,f,m)}createRenderbuffer(a,f,m){const _=this.gl,S=_.createRenderbuffer();return this.bindRenderbuffer.set(S),_.renderbufferStorage(_.RENDERBUFFER,a,f,m),this.bindRenderbuffer.set(null),S}createFramebuffer(a,f,m){return new $c(this,a,f,m)}clear({color:a,depth:f}){const m=this.gl;let _=0;a&&(_|=m.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(_|=m.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),m.clear(_)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){O(a.blendFunction,pr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class mn{constructor(a,f,m){this.func=a,this.mask=f,this.range=m}}mn.ReadOnly=!1,mn.ReadWrite=!0,mn.disabled=new mn(519,mn.ReadOnly,[0,1]);const Rl=7680;class lr{constructor(a,f,m,_,S,A){this.test=a,this.ref=f,this.mask=m,this.fail=_,this.depthFail=S,this.pass=A}}lr.disabled=new lr({func:519,mask:0},0,0,Rl,Rl,Rl);class gn{constructor(a,f,m){this.enable=a,this.mode=f,this.frontFace=m}}let yo;function jc(v,a,f,m,_,S,A){const M=v.context,z=M.gl,B=v.useProgram("collisionBox"),K=[];let H=0,ne=0;for(let ye=0;ye<m.length;ye++){const Re=m[ye],Ve=a.getTile(Re),je=Ve.getBucket(f);if(!je)continue;let Ke=Re.posMatrix;_[0]===0&&_[1]===0||(Ke=v.translatePosMatrix(Re.posMatrix,Ve,_,S));const Ye=A?je.textCollisionBox:je.iconCollisionBox,st=je.collisionCircleArray;if(st.length>0){const it=l.create(),ft=Ke;l.mul(it,je.placementInvProjMatrix,v.transform.glCoordMatrix),l.mul(it,it,je.placementViewportMatrix),K.push({circleArray:st,circleOffset:ne,transform:ft,invTransform:it,coord:Re}),H+=st.length/4,ne=H}Ye&&B.draw(M,z.LINES,mn.disabled,lr.disabled,v.colorModeForRenderPass(),gn.disabled,Ns(Ke,v.transform,Ve),v.style.map.terrain&&v.style.map.terrain.getTerrainData(Re),f.id,Ye.layoutVertexBuffer,Ye.indexBuffer,Ye.segments,null,v.transform.zoom,null,null,Ye.collisionVertexBuffer)}if(!A||!K.length)return;const de=v.useProgram("collisionCircle"),pe=new l.CollisionCircleLayoutArray;pe.resize(4*H),pe._trim();let fe=0;for(const ye of K)for(let Re=0;Re<ye.circleArray.length/4;Re++){const Ve=4*Re,je=ye.circleArray[Ve+0],Ke=ye.circleArray[Ve+1],Ye=ye.circleArray[Ve+2],st=ye.circleArray[Ve+3];pe.emplace(fe++,je,Ke,Ye,st,0),pe.emplace(fe++,je,Ke,Ye,st,1),pe.emplace(fe++,je,Ke,Ye,st,2),pe.emplace(fe++,je,Ke,Ye,st,3)}(!yo||yo.length<2*H)&&(yo=function(ye){const Re=2*ye,Ve=new l.QuadTriangleArray;Ve.resize(Re),Ve._trim();for(let je=0;je<Re;je++){const Ke=6*je;Ve.uint16[Ke+0]=4*je+0,Ve.uint16[Ke+1]=4*je+1,Ve.uint16[Ke+2]=4*je+2,Ve.uint16[Ke+3]=4*je+2,Ve.uint16[Ke+4]=4*je+3,Ve.uint16[Ke+5]=4*je+0}return Ve}(H));const we=M.createIndexBuffer(yo,!0),ke=M.createVertexBuffer(pe,l.collisionCircleLayout.members,!0);for(const ye of K){const Re={u_matrix:ye.transform,u_inv_matrix:ye.invTransform,u_camera_to_center_distance:(Ae=v.transform).cameraToCenterDistance,u_viewport_size:[Ae.width,Ae.height]};de.draw(M,z.TRIANGLES,mn.disabled,lr.disabled,v.colorModeForRenderPass(),gn.disabled,Re,v.style.map.terrain&&v.style.map.terrain.getTerrainData(ye.coord),f.id,ke,we,l.SegmentVector.simpleSegment(0,2*ye.circleOffset,ye.circleArray.length,ye.circleArray.length/2),null,v.transform.zoom,null,null,null)}var Ae;ke.destroy(),we.destroy()}gn.disabled=new gn(!1,1029,2305),gn.backCCW=new gn(!0,1029,2305);const Uo=l.identity(new Float32Array(16));function Uh(v,a,f,m,_,S){const{horizontalAlign:A,verticalAlign:M}=l.getAnchorAlignment(v),z=-(A-.5)*a,B=-(M-.5)*f,K=l.evaluateVariableOffset(v,m);return new l.pointGeometry((z/_+K[0])*S,(B/_+K[1])*S)}function cs(v,a,f,m,_,S,A,M,z,B,K){const H=v.text.placedSymbolArray,ne=v.text.dynamicLayoutVertexArray,de=v.icon.dynamicLayoutVertexArray,pe={};ne.clear();for(let fe=0;fe<H.length;fe++){const we=H.get(fe),ke=we.hidden||!we.crossTileID||v.allowVerticalPlacement&&!we.placedOrientation?null:m[we.crossTileID];if(ke){const Ae=new l.pointGeometry(we.anchorX,we.anchorY),ye=Tr(Ae,f?A:S,K),Re=kr(_.cameraToCenterDistance,ye.signedDistanceFromCamera);let Ve=l.evaluateSizeForFeature(v.textSizeData,z,we)*Re/l.ONE_EM;f&&(Ve*=v.tilePixelRatio/M);const{width:je,height:Ke,anchor:Ye,textOffset:st,textBoxScale:it}=ke,ft=Uh(Ye,je,Ke,st,it,Ve),It=f?Tr(Ae.add(ft),S,K).point:ye.point.add(a?ft.rotate(-_.angle):ft),Xt=v.allowVerticalPlacement&&we.placedOrientation===l.WritingMode.vertical?Math.PI/2:0;for(let Jt=0;Jt<we.numGlyphs;Jt++)l.addDynamicAttributes(ne,It,Xt);B&&we.associatedIconIndex>=0&&(pe[we.associatedIconIndex]={shiftedAnchor:It,angle:Xt})}else Ee(we.numGlyphs,ne)}if(B){de.clear();const fe=v.icon.placedSymbolArray;for(let we=0;we<fe.length;we++){const ke=fe.get(we);if(ke.hidden)Ee(ke.numGlyphs,de);else{const Ae=pe[we];if(Ae)for(let ye=0;ye<ke.numGlyphs;ye++)l.addDynamicAttributes(de,Ae.shiftedAnchor,Ae.angle);else Ee(ke.numGlyphs,de)}}v.icon.dynamicLayoutVertexBuffer.updateData(de)}v.text.dynamicLayoutVertexBuffer.updateData(ne)}function Vh(v,a,f){return f.iconsInText&&a?"symbolTextAndIcon":v?"symbolSDF":"symbolIcon"}function no(v,a,f,m,_,S,A,M,z,B,K,H){const ne=v.context,de=ne.gl,pe=v.transform,fe=M==="map",we=z==="map",ke=M!=="viewport"&&f.layout.get("symbol-placement")!=="point",Ae=fe&&!we&&!ke,ye=!f.layout.get("symbol-sort-key").isConstant();let Re=!1;const Ve=v.depthModeForSublayer(0,mn.ReadOnly),je=f.layout.get("text-variable-anchor"),Ke=[];for(const Ye of m){const st=a.getTile(Ye),it=st.getBucket(f);if(!it)continue;const ft=_?it.text:it.icon;if(!ft||!ft.segments.get().length||!ft.hasVisibleVertices)continue;const It=ft.programConfigurations.get(f.id),Xt=_||it.sdfIcons,Jt=_?it.textSizeData:it.iconSizeData,Lt=we||pe.pitch!==0,Nn=v.useProgram(Vh(Xt,_,it),It),Bn=l.evaluateSizeForZoom(Jt,pe.zoom),hn=v.style.map.terrain&&v.style.map.terrain.getTerrainData(Ye);let kn,Qn,Un,Ho,Zo=[0,0],bi=null;if(_)Qn=st.glyphAtlasTexture,Un=de.LINEAR,kn=st.glyphAtlasTexture.size,it.iconsInText&&(Zo=st.imageAtlasTexture.size,bi=st.imageAtlasTexture,Ho=Lt||v.options.rotating||v.options.zooming||Jt.kind==="composite"||Jt.kind==="camera"?de.LINEAR:de.NEAREST);else{const Va=f.layout.get("icon-size").constantOr(0)!==1||it.iconsNeedLinear;Qn=st.imageAtlasTexture,Un=Xt||v.options.rotating||v.options.zooming||Va||Lt?de.LINEAR:de.NEAREST,kn=st.imageAtlasTexture.size}const So=Ze(st,1,v.transform.zoom),Mi=Yt(Ye.posMatrix,we,fe,v.transform,So),ga=Hn(Ye.posMatrix,we,fe,v.transform,So),el=je&&it.hasTextData(),Wh=f.layout.get("icon-text-fit")!=="none"&&el&&it.hasIconData();if(ke){const Va=v.style.map.terrain?(Rd,jl)=>v.style.map.terrain.getElevation(Ye,Rd,jl):null,va=f.layout.get("text-rotation-alignment")==="map";W(it,Ye.posMatrix,v,_,Mi,ga,we,B,va,Va)}const Wr=v.translatePosMatrix(Ye.posMatrix,st,S,A),br=ke||_&&je||Wh?Uo:Mi,Vn=v.translatePosMatrix(ga,st,S,A,!0),Di=Xt&&f.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let zi;zi=Xt?it.iconsInText?Dh(Jt.kind,Bn,Ae,we,v,Wr,br,Vn,kn,Zo):Lc(Jt.kind,Bn,Ae,we,v,Wr,br,Vn,_,kn,!0):Ma(Jt.kind,Bn,Ae,we,v,Wr,br,Vn,_,kn);const wr={program:Nn,buffers:ft,uniformValues:zi,atlasTexture:Qn,atlasTextureIcon:bi,atlasInterpolation:Un,atlasInterpolationIcon:Ho,isSDF:Xt,hasHalo:Di};if(ye&&it.canOverlap){Re=!0;const Va=ft.segments.get();for(const va of Va)Ke.push({segments:new l.SegmentVector([va]),sortKey:va.sortKey,state:wr,terrainData:hn})}else Ke.push({segments:ft.segments,sortKey:0,state:wr,terrainData:hn})}Re&&Ke.sort((Ye,st)=>Ye.sortKey-st.sortKey);for(const Ye of Ke){const st=Ye.state;if(ne.activeTexture.set(de.TEXTURE0),st.atlasTexture.bind(st.atlasInterpolation,de.CLAMP_TO_EDGE),st.atlasTextureIcon&&(ne.activeTexture.set(de.TEXTURE1),st.atlasTextureIcon&&st.atlasTextureIcon.bind(st.atlasInterpolationIcon,de.CLAMP_TO_EDGE)),st.isSDF){const it=st.uniformValues;st.hasHalo&&(it.u_is_halo=1,Su(st.buffers,Ye.segments,f,v,st.program,Ve,K,H,it,Ye.terrainData)),it.u_is_halo=0}Su(st.buffers,Ye.segments,f,v,st.program,Ve,K,H,st.uniformValues,Ye.terrainData)}}function Su(v,a,f,m,_,S,A,M,z,B){const K=m.context;_.draw(K,K.gl.TRIANGLES,S,A,M,gn.disabled,z,B,f.id,v.layoutVertexBuffer,v.indexBuffer,a,f.paint,m.transform.zoom,v.programConfigurations.get(f.id),v.dynamicLayoutVertexBuffer,v.opacityVertexBuffer)}function Hs(v,a,f,m,_){if(!f||!m||!m.imageAtlas)return;const S=m.imageAtlas.patternPositions;let A=S[f.to.toString()],M=S[f.from.toString()];if(!A||!M){const z=_.getPaintProperty(a);A=S[z],M=S[z]}A&&M&&v.setConstantPatternPositions(A,M)}function qc(v,a,f,m,_,S,A){const M=v.context.gl,z="fill-pattern",B=f.paint.get(z),K=B&&B.constantOr(1),H=f.getCrossfadeParameters();let ne,de,pe,fe,we;A?(de=K&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ne=M.LINES):(de=K?"fillPattern":"fill",ne=M.TRIANGLES);const ke=B.constantOr(null);for(const Ae of m){const ye=a.getTile(Ae);if(K&&!ye.patternsLoaded())continue;const Re=ye.getBucket(f);if(!Re)continue;const Ve=Re.programConfigurations.get(f.id),je=v.useProgram(de,Ve),Ke=v.style.map.terrain&&v.style.map.terrain.getTerrainData(Ae);K&&(v.context.activeTexture.set(M.TEXTURE0),ye.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),Ve.updatePaintBuffers(H)),Hs(Ve,z,ke,ye,f);const Ye=Ke?Ae:null,st=v.translatePosMatrix(Ye?Ye.posMatrix:Ae.posMatrix,ye,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(A){fe=Re.indexBuffer2,we=Re.segments2;const it=[M.drawingBufferWidth,M.drawingBufferHeight];pe=de==="fillOutlinePattern"&&K?oi(st,v,H,ye,it):pu(st,it)}else fe=Re.indexBuffer,we=Re.segments,pe=K?Ra(st,v,H,ye):la(st);je.draw(v.context,ne,_,v.stencilModeForClipping(Ae),S,gn.disabled,pe,Ke,f.id,Re.layoutVertexBuffer,fe,we,f.paint,v.transform.zoom,Ve)}}function _o(v,a,f,m,_,S,A){const M=v.context,z=M.gl,B="fill-extrusion-pattern",K=f.paint.get(B),H=K.constantOr(1),ne=f.getCrossfadeParameters(),de=f.paint.get("fill-extrusion-opacity"),pe=K.constantOr(null);for(const fe of m){const we=a.getTile(fe),ke=we.getBucket(f);if(!ke)continue;const Ae=v.style.map.terrain&&v.style.map.terrain.getTerrainData(fe),ye=ke.programConfigurations.get(f.id),Re=v.useProgram(H?"fillExtrusionPattern":"fillExtrusion",ye);H&&(v.context.activeTexture.set(z.TEXTURE0),we.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),ye.updatePaintBuffers(ne)),Hs(ye,B,pe,we,f);const Ve=v.translatePosMatrix(fe.posMatrix,we,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),je=f.paint.get("fill-extrusion-vertical-gradient"),Ke=H?Oc(Ve,v,je,de,fe,ne,we):Pl(Ve,v,je,de);Re.draw(M,M.gl.TRIANGLES,_,S,A,gn.backCCW,Ke,Ae,f.id,ke.layoutVertexBuffer,ke.indexBuffer,ke.segments,f.paint,v.transform.zoom,ye,v.style.map.terrain&&ke.centroidVertexBuffer)}}function Ml(v,a,f,m,_,S,A){const M=v.context,z=M.gl,B=f.fbo;if(!B)return;const K=v.useProgram("hillshade"),H=v.style.map.terrain&&v.style.map.terrain.getTerrainData(a);M.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,B.colorAttachment.get()),K.draw(M,z.TRIANGLES,_,S,A,gn.disabled,((ne,de,pe,fe)=>{const we=pe.paint.get("hillshade-shadow-color"),ke=pe.paint.get("hillshade-highlight-color"),Ae=pe.paint.get("hillshade-accent-color");let ye=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(ye-=ne.transform.angle);const Re=!ne.options.moving;return{u_matrix:fe?fe.posMatrix:ne.transform.calculatePosMatrix(de.tileID.toUnwrapped(),Re),u_image:0,u_latrange:qn(0,de.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),ye],u_shadow:we,u_highlight:ke,u_accent:Ae}})(v,f,m,H?a:null),H,m.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments)}function $h(v,a,f,m,_,S){const A=v.context,M=A.gl,z=a.dem;if(z&&z.data){const B=z.dim,K=z.stride,H=z.getPixels();if(A.activeTexture.set(M.TEXTURE1),A.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||v.getTileTexture(K),a.demTexture){const de=a.demTexture;de.update(H,{premultiply:!1}),de.bind(M.NEAREST,M.CLAMP_TO_EDGE)}else a.demTexture=new Be(A,H,M.RGBA,{premultiply:!1}),a.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE);A.activeTexture.set(M.TEXTURE0);let ne=a.fbo;if(!ne){const de=new Be(A,{width:B,height:B,data:null},M.RGBA);de.bind(M.LINEAR,M.CLAMP_TO_EDGE),ne=a.fbo=A.createFramebuffer(B,B,!0),ne.colorAttachment.set(de.texture)}A.bindFramebuffer.set(ne.framebuffer),A.viewport.set([0,0,B,B]),v.useProgram("hillshadePrepare").draw(A,M.TRIANGLES,m,_,S,gn.disabled,((de,pe)=>{const fe=pe.stride,we=l.create();return l.ortho(we,0,l.EXTENT,-l.EXTENT,0,0,1),l.translate(we,we,[0,-l.EXTENT,0]),{u_matrix:we,u_image:1,u_dimension:[fe,fe],u_zoom:de.overscaledZ,u_unpack:pe.getUnpackVector()}})(a.tileID,z),null,f.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function hs(v,a,f,m,_,S){const A=m.paint.get("raster-fade-duration");if(!S&&A>0){const M=l.exported.now(),z=(M-v.timeAdded)/A,B=a?(M-a.timeAdded)/A:-1,K=f.getSource(),H=_.coveringZoomLevel({tileSize:K.tileSize,roundZoom:K.roundZoom}),ne=!a||Math.abs(a.tileID.overscaledZ-H)>Math.abs(v.tileID.overscaledZ-H),de=ne&&v.refreshedUponExpiration?1:l.clamp(ne?z:1-B,0,1);return v.refreshedUponExpiration&&z>=1&&(v.refreshedUponExpiration=!1),a?{opacity:1,mix:1-de}:{opacity:de,mix:0}}return{opacity:1,mix:0}}const jh=new l.Color(1,0,0,1),Hr=new l.Color(0,1,0,1),ha=new l.Color(0,0,1,1),fs=new l.Color(1,0,1,1),fa=new l.Color(0,1,1,1);function _i(v,a,f,m){zl(v,0,a+f/2,v.transform.width,f,m)}function Dl(v,a,f,m){zl(v,a-f/2,0,f,v.transform.height,m)}function zl(v,a,f,m,_,S){const A=v.context,M=A.gl;M.enable(M.SCISSOR_TEST),M.scissor(a*v.pixelRatio,f*v.pixelRatio,m*v.pixelRatio,_*v.pixelRatio),A.clear({color:S}),M.disable(M.SCISSOR_TEST)}function Gc(v,a,f){const m=v.context,_=m.gl,S=f.posMatrix,A=v.useProgram("debug"),M=mn.disabled,z=lr.disabled,B=v.colorModeForRenderPass(),K="$debug",H=v.style.map.terrain&&v.style.map.terrain.getTerrainData(f);m.activeTexture.set(_.TEXTURE0),v.emptyTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE);const ne=a.getTileByID(f.key).latestRawTileData,de=Math.floor((ne&&ne.byteLength||0)/1024),pe=a.getTile(f).tileSize,fe=512/Math.min(pe,512)*(f.overscaledZ/v.transform.zoom)*.5;let we=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(we+=` => ${f.overscaledZ}`),function(ke,Ae){ke.initDebugOverlayCanvas();const ye=ke.debugOverlayCanvas,Re=ke.context.gl,Ve=ke.debugOverlayCanvas.getContext("2d");Ve.clearRect(0,0,ye.width,ye.height),Ve.shadowColor="white",Ve.shadowBlur=2,Ve.lineWidth=1.5,Ve.strokeStyle="white",Ve.textBaseline="top",Ve.font="bold 36px Open Sans, sans-serif",Ve.fillText(Ae,5,5),Ve.strokeText(Ae,5,5),ke.debugOverlayTexture.update(ye),ke.debugOverlayTexture.bind(Re.LINEAR,Re.CLAMP_TO_EDGE)}(v,`${we} ${de}kB`),A.draw(m,_.TRIANGLES,M,z,pr.alphaBlended,gn.disabled,Al(S,l.Color.transparent,fe),null,K,v.debugBuffer,v.quadTriangleIndexBuffer,v.debugSegments),A.draw(m,_.LINE_STRIP,M,z,B,gn.disabled,Al(S,l.Color.red),H,K,v.debugBuffer,v.tileBorderIndexBuffer,v.debugSegments)}function Zs(v,a,f){const m=v.context,_=m.gl,S=v.colorModeForRenderPass(),A=new mn(_.LEQUAL,mn.ReadWrite,v.depthRangeFor3D),M=v.useProgram("terrain"),z=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,v.width,v.height]);for(const B of f){const K=v.renderToTexture.getTexture(B),H=a.getTerrainData(B.tileID);m.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,K.texture);const ne={u_matrix:v.transform.calculatePosMatrix(B.tileID.toUnwrapped()),u_texture:0,u_ele_delta:a.getMeshFrameDelta(v.transform.zoom)};M.draw(m,_.TRIANGLES,A,lr.disabled,S,gn.backCCW,ne,H,"terrain",z.vertexBuffer,z.indexBuffer,z.segments)}}const Na={symbol:function(v,a,f,m,_){if(v.renderPass!=="translucent")return;const S=lr.disabled,A=v.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(M,z,B,K,H,ne,de){const pe=z.transform,fe=H==="map",we=ne==="map";for(const ke of M){const Ae=K.getTile(ke),ye=Ae.getBucket(B);if(!ye||!ye.text||!ye.text.segments.get().length)continue;const Re=l.evaluateSizeForZoom(ye.textSizeData,pe.zoom),Ve=Ze(Ae,1,z.transform.zoom),je=Yt(ke.posMatrix,we,fe,z.transform,Ve),Ke=B.layout.get("icon-text-fit")!=="none"&&ye.hasIconData();if(Re){const Ye=Math.pow(2,pe.zoom-Ae.tileID.overscaledZ);cs(ye,fe,we,de,pe,je,ke.posMatrix,Ye,Re,Ke,z.style.map.terrain?(st,it)=>z.style.map.terrain.getElevation(ke,st,it):null)}}}(m,v,f,a,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),_),f.paint.get("icon-opacity").constantOr(1)!==0&&no(v,a,f,m,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),S,A),f.paint.get("text-opacity").constantOr(1)!==0&&no(v,a,f,m,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),S,A),a.map.showCollisionBoxes&&(jc(v,a,f,m,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),jc(v,a,f,m,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))},circle:function(v,a,f,m){if(v.renderPass!=="translucent")return;const _=f.paint.get("circle-opacity"),S=f.paint.get("circle-stroke-width"),A=f.paint.get("circle-stroke-opacity"),M=!f.layout.get("circle-sort-key").isConstant();if(_.constantOr(1)===0&&(S.constantOr(1)===0||A.constantOr(1)===0))return;const z=v.context,B=z.gl,K=v.depthModeForSublayer(0,mn.ReadOnly),H=lr.disabled,ne=v.colorModeForRenderPass(),de=[];for(let pe=0;pe<m.length;pe++){const fe=m[pe],we=a.getTile(fe),ke=we.getBucket(f);if(!ke)continue;const Ae=ke.programConfigurations.get(f.id),ye=v.useProgram("circle",Ae),Re=ke.layoutVertexBuffer,Ve=ke.indexBuffer,je=v.style.map.terrain&&v.style.map.terrain.getTerrainData(fe),Ke={programConfiguration:Ae,program:ye,layoutVertexBuffer:Re,indexBuffer:Ve,uniformValues:mu(v,fe,we,f),terrainData:je};if(M){const Ye=ke.segments.get();for(const st of Ye)de.push({segments:new l.SegmentVector([st]),sortKey:st.sortKey,state:Ke})}else de.push({segments:ke.segments,sortKey:0,state:Ke})}M&&de.sort((pe,fe)=>pe.sortKey-fe.sortKey);for(const pe of de){const{programConfiguration:fe,program:we,layoutVertexBuffer:ke,indexBuffer:Ae,uniformValues:ye,terrainData:Re}=pe.state;we.draw(z,B.TRIANGLES,K,H,ne,gn.disabled,ye,Re,f.id,ke,Ae,pe.segments,f.paint,v.transform.zoom,fe)}},heatmap:function(v,a,f,m){if(f.paint.get("heatmap-opacity")!==0)if(v.renderPass==="offscreen"){const _=v.context,S=_.gl,A=lr.disabled,M=new pr([S.ONE,S.ONE],l.Color.transparent,[!0,!0,!0,!0]);(function(z,B,K){const H=z.gl;z.activeTexture.set(H.TEXTURE1),z.viewport.set([0,0,B.width/4,B.height/4]);let ne=K.heatmapFbo;if(ne)H.bindTexture(H.TEXTURE_2D,ne.colorAttachment.get()),z.bindFramebuffer.set(ne.framebuffer);else{const de=H.createTexture();H.bindTexture(H.TEXTURE_2D,de),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_S,H.CLAMP_TO_EDGE),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_WRAP_T,H.CLAMP_TO_EDGE),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,H.LINEAR),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.LINEAR),ne=K.heatmapFbo=z.createFramebuffer(B.width/4,B.height/4,!1),function(pe,fe,we,ke){const Ae=pe.gl;Ae.texImage2D(Ae.TEXTURE_2D,0,Ae.RGBA,fe.width/4,fe.height/4,0,Ae.RGBA,pe.extRenderToTextureHalfFloat?pe.extTextureHalfFloat.HALF_FLOAT_OES:Ae.UNSIGNED_BYTE,null),ke.colorAttachment.set(we)}(z,B,de,ne)}})(_,v,f),_.clear({color:l.Color.transparent});for(let z=0;z<m.length;z++){const B=m[z];if(a.hasRenderableParent(B))continue;const K=a.getTile(B),H=K.getBucket(f);if(!H)continue;const ne=H.programConfigurations.get(f.id),de=v.useProgram("heatmap",ne),{zoom:pe}=v.transform;de.draw(_,S.TRIANGLES,mn.disabled,A,M,gn.disabled,Ji(B.posMatrix,K,pe,f.paint.get("heatmap-intensity")),null,f.id,H.layoutVertexBuffer,H.indexBuffer,H.segments,f.paint,v.transform.zoom,ne)}_.viewport.set([0,0,v.width,v.height])}else v.renderPass==="translucent"&&(v.context.setColorMode(v.colorModeForRenderPass()),function(_,S){const A=_.context,M=A.gl,z=S.heatmapFbo;if(!z)return;A.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,z.colorAttachment.get()),A.activeTexture.set(M.TEXTURE1);let B=S.colorRampTexture;B||(B=S.colorRampTexture=new Be(A,S.colorRamp,M.RGBA)),B.bind(M.LINEAR,M.CLAMP_TO_EDGE),_.useProgram("heatmapTexture").draw(A,M.TRIANGLES,mn.disabled,lr.disabled,_.colorModeForRenderPass(),gn.disabled,((K,H,ne,de)=>{const pe=l.create();l.ortho(pe,0,K.width,K.height,0,0,1);const fe=K.context.gl;return{u_matrix:pe,u_world:[fe.drawingBufferWidth,fe.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:H.paint.get("heatmap-opacity")}})(_,S),null,S.id,_.viewportBuffer,_.quadTriangleIndexBuffer,_.viewportSegments,S.paint,_.transform.zoom)}(v,f))},line:function(v,a,f,m){if(v.renderPass!=="translucent")return;const _=f.paint.get("line-opacity"),S=f.paint.get("line-width");if(_.constantOr(1)===0||S.constantOr(1)===0)return;const A=v.depthModeForSublayer(0,mn.ReadOnly),M=v.colorModeForRenderPass(),z=f.paint.get("line-dasharray"),B=f.paint.get("line-pattern"),K=B.constantOr(1),H=f.paint.get("line-gradient"),ne=f.getCrossfadeParameters(),de=K?"linePattern":z?"lineSDF":H?"lineGradient":"line",pe=v.context,fe=pe.gl;let we=!0;for(const ke of m){const Ae=a.getTile(ke);if(K&&!Ae.patternsLoaded())continue;const ye=Ae.getBucket(f);if(!ye)continue;const Re=ye.programConfigurations.get(f.id),Ve=v.context.program.get(),je=v.useProgram(de,Re),Ke=we||je.program!==Ve,Ye=v.style.map.terrain&&v.style.map.terrain.getTerrainData(ke),st=B.constantOr(null);if(st&&Ae.imageAtlas){const It=Ae.imageAtlas,Xt=It.patternPositions[st.to.toString()],Jt=It.patternPositions[st.from.toString()];Xt&&Jt&&Re.setConstantPatternPositions(Xt,Jt)}const it=Ye?ke:null,ft=K?Us(v,Ae,f,ne,it):z?gu(v,Ae,f,z,ne,it):H?Il(v,Ae,f,ye.lineClipsArray.length,it):Bs(v,Ae,f,it);if(K)pe.activeTexture.set(fe.TEXTURE0),Ae.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),Re.updatePaintBuffers(ne);else if(z&&(Ke||v.lineAtlas.dirty))pe.activeTexture.set(fe.TEXTURE0),v.lineAtlas.bind(pe);else if(H){const It=ye.gradients[f.id];let Xt=It.texture;if(f.gradientVersion!==It.version){let Jt=256;if(f.stepInterpolant){const Lt=a.getSource().maxzoom,Nn=ke.canonical.z===Lt?Math.ceil(1<<v.transform.maxZoom-ke.canonical.z):1;Jt=l.clamp(l.nextPowerOfTwo(ye.maxLineLength/l.EXTENT*1024*Nn),256,pe.maxTextureSize)}It.gradient=l.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:Jt,image:It.gradient||void 0,clips:ye.lineClipsArray}),It.texture?It.texture.update(It.gradient):It.texture=new Be(pe,It.gradient,fe.RGBA),It.version=f.gradientVersion,Xt=It.texture}pe.activeTexture.set(fe.TEXTURE0),Xt.bind(f.stepInterpolant?fe.NEAREST:fe.LINEAR,fe.CLAMP_TO_EDGE)}je.draw(pe,fe.TRIANGLES,A,v.stencilModeForClipping(ke),M,gn.disabled,ft,Ye,f.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,f.paint,v.transform.zoom,Re,ye.layoutVertexBuffer2),we=!1}},fill:function(v,a,f,m){const _=f.paint.get("fill-color"),S=f.paint.get("fill-opacity");if(S.constantOr(1)===0)return;const A=v.colorModeForRenderPass(),M=f.paint.get("fill-pattern"),z=v.opaquePassEnabledForLayer()&&!M.constantOr(1)&&_.constantOr(l.Color.transparent).a===1&&S.constantOr(0)===1?"opaque":"translucent";if(v.renderPass===z){const B=v.depthModeForSublayer(1,v.renderPass==="opaque"?mn.ReadWrite:mn.ReadOnly);qc(v,a,f,m,B,A,!1)}if(v.renderPass==="translucent"&&f.paint.get("fill-antialias")){const B=v.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,mn.ReadOnly);qc(v,a,f,m,B,A,!0)}},"fill-extrusion":function(v,a,f,m){const _=f.paint.get("fill-extrusion-opacity");if(_!==0&&v.renderPass==="translucent"){const S=new mn(v.context.gl.LEQUAL,mn.ReadWrite,v.depthRangeFor3D);if(_!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))_o(v,a,f,m,S,lr.disabled,pr.disabled),_o(v,a,f,m,S,v.stencilModeFor3D(),v.colorModeForRenderPass());else{const A=v.colorModeForRenderPass();_o(v,a,f,m,S,lr.disabled,A)}}},hillshade:function(v,a,f,m){if(v.renderPass!=="offscreen"&&v.renderPass!=="translucent")return;const _=v.context,S=v.depthModeForSublayer(0,mn.ReadOnly),A=v.colorModeForRenderPass(),[M,z]=v.renderPass==="translucent"?v.stencilConfigForOverlap(m):[{},m];for(const B of z){const K=a.getTile(B);K.needsHillshadePrepare!==void 0&&K.needsHillshadePrepare&&v.renderPass==="offscreen"?$h(v,K,f,S,lr.disabled,A):v.renderPass==="translucent"&&Ml(v,B,K,f,S,M[B.overscaledZ],A)}_.viewport.set([0,0,v.width,v.height])},raster:function(v,a,f,m){if(v.renderPass!=="translucent"||f.paint.get("raster-opacity")===0||!m.length)return;const _=v.context,S=_.gl,A=a.getSource(),M=v.useProgram("raster"),z=v.colorModeForRenderPass(),[B,K]=A instanceof tn?[{},m]:v.stencilConfigForOverlap(m),H=K[K.length-1].overscaledZ,ne=!v.options.moving;for(const de of K){const pe=v.depthModeForSublayer(de.overscaledZ-H,f.paint.get("raster-opacity")===1?mn.ReadWrite:mn.ReadOnly,S.LESS),fe=a.getTile(de);fe.registerFadeDuration(f.paint.get("raster-fade-duration"));const we=a.findLoadedParent(de,0),ke=hs(fe,we,a,f,v.transform,v.style.map.terrain);let Ae,ye;const Re=f.paint.get("raster-resampling")==="nearest"?S.NEAREST:S.LINEAR;_.activeTexture.set(S.TEXTURE0),fe.texture.bind(Re,S.CLAMP_TO_EDGE,S.LINEAR_MIPMAP_NEAREST),_.activeTexture.set(S.TEXTURE1),we?(we.texture.bind(Re,S.CLAMP_TO_EDGE,S.LINEAR_MIPMAP_NEAREST),Ae=Math.pow(2,we.tileID.overscaledZ-fe.tileID.overscaledZ),ye=[fe.tileID.canonical.x*Ae%1,fe.tileID.canonical.y*Ae%1]):fe.texture.bind(Re,S.CLAMP_TO_EDGE,S.LINEAR_MIPMAP_NEAREST);const Ve=v.style.map.terrain&&v.style.map.terrain.getTerrainData(de),je=Ve?de:null,Ke=je?je.posMatrix:v.transform.calculatePosMatrix(de.toUnwrapped(),ne),Ye=kl(Ke,ye||[0,0],Ae||1,ke,f);A instanceof tn?M.draw(_,S.TRIANGLES,pe,lr.disabled,z,gn.disabled,Ye,Ve,f.id,A.boundsBuffer,v.quadTriangleIndexBuffer,A.boundsSegments):M.draw(_,S.TRIANGLES,pe,B[de.overscaledZ],z,gn.disabled,Ye,Ve,f.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments)}},background:function(v,a,f,m){const _=f.paint.get("background-color"),S=f.paint.get("background-opacity");if(S===0)return;const A=v.context,M=A.gl,z=v.transform,B=z.tileSize,K=f.paint.get("background-pattern");if(v.isPatternMissing(K))return;const H=!K&&_.a===1&&S===1&&v.opaquePassEnabledForLayer()?"opaque":"translucent";if(v.renderPass!==H)return;const ne=lr.disabled,de=v.depthModeForSublayer(0,H==="opaque"?mn.ReadWrite:mn.ReadOnly),pe=v.colorModeForRenderPass(),fe=v.useProgram(K?"backgroundPattern":"background"),we=m||z.coveringTiles({tileSize:B,terrain:v.style.map.terrain});K&&(A.activeTexture.set(M.TEXTURE0),v.imageManager.bind(v.context));const ke=f.getCrossfadeParameters();for(const Ae of we){const ye=m?Ae.posMatrix:v.transform.calculatePosMatrix(Ae.toUnwrapped()),Re=K?vu(ye,S,v,K,{tileID:Ae,tileSize:B},ke):Id(ye,S,_),Ve=v.style.map.terrain&&v.style.map.terrain.getTerrainData(Ae);fe.draw(A,M.TRIANGLES,de,ne,pe,gn.disabled,Re,Ve,f.id,v.tileExtentBuffer,v.quadTriangleIndexBuffer,v.tileExtentSegments)}},debug:function(v,a,f){for(let m=0;m<f.length;m++)Gc(v,a,f[m])},custom:function(v,a,f){const m=v.context,_=f.implementation;if(v.renderPass==="offscreen"){const S=_.prerender;S&&(v.setCustomLayerDefaults(),m.setColorMode(v.colorModeForRenderPass()),S.call(_,m.gl,v.transform.customLayerMatrix()),m.setDirty(),v.setBaseState())}else if(v.renderPass==="translucent"){v.setCustomLayerDefaults(),m.setColorMode(v.colorModeForRenderPass()),m.setStencilMode(lr.disabled);const S=_.renderingMode==="3d"?new mn(v.context.gl.LEQUAL,mn.ReadWrite,v.depthRangeFor3D):v.depthModeForSublayer(0,mn.ReadOnly);m.setDepthMode(S),_.render(m.gl,v.transform.customLayerMatrix()),m.setDirty(),v.setBaseState(),m.bindFramebuffer.set(null)}}};class xo{constructor(a,f){this.context=new wu(a),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:l.create(),renderTime:0},this.setup(),this.numSublayers=Ct.maxUnderzooming+Ct.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Nt,this.gpuTimers={}}resize(a,f,m){if(this.width=a*m,this.height=f*m,this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style._order)this.style._layers[_].resize()}setup(){const a=this.context,f=new l.PosArray;f.emplaceBack(0,0),f.emplaceBack(l.EXTENT,0),f.emplaceBack(0,l.EXTENT),f.emplaceBack(l.EXTENT,l.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(f,is.members),this.tileExtentSegments=l.SegmentVector.simpleSegment(0,0,4,2);const m=new l.PosArray;m.emplaceBack(0,0),m.emplaceBack(l.EXTENT,0),m.emplaceBack(0,l.EXTENT),m.emplaceBack(l.EXTENT,l.EXTENT),this.debugBuffer=a.createVertexBuffer(m,is.members),this.debugSegments=l.SegmentVector.simpleSegment(0,0,4,5);const _=new l.RasterBoundsArray;_.emplaceBack(0,0,0,0),_.emplaceBack(l.EXTENT,0,l.EXTENT,0),_.emplaceBack(0,l.EXTENT,0,l.EXTENT),_.emplaceBack(l.EXTENT,l.EXTENT,l.EXTENT,l.EXTENT),this.rasterBoundsBuffer=a.createVertexBuffer(_,xn.members),this.rasterBoundsSegments=l.SegmentVector.simpleSegment(0,0,4,2);const S=new l.PosArray;S.emplaceBack(0,0),S.emplaceBack(1,0),S.emplaceBack(0,1),S.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(S,is.members),this.viewportSegments=l.SegmentVector.simpleSegment(0,0,4,2);const A=new l.LineStripIndexArray;A.emplaceBack(0),A.emplaceBack(1),A.emplaceBack(3),A.emplaceBack(2),A.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(A);const M=new l.TriangleIndexArray;M.emplaceBack(0,1,2),M.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(M),this.emptyTexture=new Be(a,{width:1,height:1,data:new Uint8Array([0,0,0,0])},a.gl.RGBA);const z=this.context.gl;this.stencilClearMode=new lr({func:z.ALWAYS,mask:0},0,255,z.ZERO,z.ZERO,z.ZERO)}clearStencil(){const a=this.context,f=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=l.create();l.ortho(m,0,this.width,this.height,0,0,1),l.scale(m,m,[f.drawingBufferWidth,f.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,f.TRIANGLES,mn.disabled,this.stencilClearMode,pr.disabled,gn.disabled,nn(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,f){if(this.currentStencilSource===a.source||!a.isTileClipped()||!f||!f.length)return;this.currentStencilSource=a.source;const m=this.context,_=m.gl;this.nextStencilID+f.length>256&&this.clearStencil(),m.setColorMode(pr.disabled),m.setDepthMode(mn.disabled);const S=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const A of f){const M=this._tileClippingMaskIDs[A.key]=this.nextStencilID++,z=this.style.map.terrain&&this.style.map.terrain.getTerrainData(A);S.draw(m,_.TRIANGLES,mn.disabled,new lr({func:_.ALWAYS,mask:0},M,255,_.KEEP,_.KEEP,_.REPLACE),pr.disabled,gn.disabled,nn(A.posMatrix),z,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,f=this.context.gl;return new lr({func:f.NOTEQUAL,mask:255},a,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(a){const f=this.context.gl;return new lr({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(a){const f=this.context.gl,m=a.sort((A,M)=>M.overscaledZ-A.overscaledZ),_=m[m.length-1].overscaledZ,S=m[0].overscaledZ-_+1;if(S>1){this.currentStencilSource=void 0,this.nextStencilID+S>256&&this.clearStencil();const A={};for(let M=0;M<S;M++)A[M+_]=new lr({func:f.GEQUAL,mask:255},M+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=S,[A,m]}return[{[_]:lr.disabled},m]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new pr([a.CONSTANT_COLOR,a.ONE],new l.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?pr.unblended:pr.alphaBlended}depthModeForSublayer(a,f,m){if(!this.opaquePassEnabledForLayer())return mn.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new mn(m||this.context.gl.LEQUAL,f,[_,_])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,f){this.style=a,this.options=f,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(l.exported.now()),this.imageManager.beginFrame();const m=this.style._order,_=this.style.sourceCaches,S={},A={},M={};for(const z in _){const B=_[z];B.used&&B.prepare(this.context),S[z]=B.getVisibleCoordinates(),A[z]=S[z].slice().reverse(),M[z]=B.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let z=0;z<m.length;z++)if(this.style._layers[m[z]].is3D()){this.opaquePassCutoff=z;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const z=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!l.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||z.length)&&(l.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(B,K){const H=B.context,ne=H.gl,de=pr.unblended,pe=new mn(ne.LEQUAL,mn.ReadWrite,[0,1]),fe=K.getTerrainMesh(),we=K.sourceCache.getRenderableTiles(),ke=B.useProgram("terrainDepth");H.bindFramebuffer.set(K.getFramebuffer("depth").framebuffer),H.viewport.set([0,0,B.width/devicePixelRatio,B.height/devicePixelRatio]),H.clear({color:l.Color.transparent,depth:1});for(const Ae of we){const ye=K.getTerrainData(Ae.tileID),Re={u_matrix:B.transform.calculatePosMatrix(Ae.tileID.toUnwrapped()),u_ele_delta:K.getMeshFrameDelta(B.transform.zoom)};ke.draw(H,ne.TRIANGLES,pe,lr.disabled,de,gn.backCCW,Re,ye,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}H.bindFramebuffer.set(null),H.viewport.set([0,0,B.width,B.height])}(this,this.style.map.terrain),function(B,K){const H=B.context,ne=H.gl,de=pr.unblended,pe=new mn(ne.LEQUAL,mn.ReadWrite,[0,1]),fe=K.getTerrainMesh(),we=K.getCoordsTexture(),ke=K.sourceCache.getRenderableTiles(),Ae=B.useProgram("terrainCoords");H.bindFramebuffer.set(K.getFramebuffer("coords").framebuffer),H.viewport.set([0,0,B.width/devicePixelRatio,B.height/devicePixelRatio]),H.clear({color:l.Color.transparent,depth:1}),K.coordsIndex=[];for(const ye of ke){const Re=K.getTerrainData(ye.tileID);H.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,we.texture);const Ve={u_matrix:B.transform.calculatePosMatrix(ye.tileID.toUnwrapped()),u_terrain_coords_id:(255-K.coordsIndex.length)/255,u_texture:0,u_ele_delta:K.getMeshFrameDelta(B.transform.zoom)};Ae.draw(H,ne.TRIANGLES,pe,lr.disabled,de,gn.backCCW,Ve,Re,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments),K.coordsIndex.push(ye.tileID.key)}H.bindFramebuffer.set(null),H.viewport.set([0,0,B.width,B.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const z of m){const B=this.style._layers[z];if(!B.hasOffscreenPass()||B.isHidden(this.transform.zoom))continue;const K=A[B.source];(B.type==="custom"||K.length)&&this.renderLayer(this,_[B.source],B,K)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?l.Color.black:l.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const z=this.style._layers[m[this.currentLayer]],B=_[z.source],K=S[z.source];this._renderTileClippingMasks(z,K),this.renderLayer(this,B,z,K)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const z=this.style._layers[m[this.currentLayer]],B=_[z.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(z))continue;const K=(z.type==="symbol"?M:A)[z.source];this._renderTileClippingMasks(z,S[z.source]),this.renderLayer(this,B,z,K)}if(this.options.showTileBoundaries){const z=function(B,K){let H=null;const ne=Object.values(B._layers).flatMap(we=>we.source&&!we.isHidden(K)?[B.sourceCaches[we.source]]:[]),de=ne.filter(we=>we.getSource().type==="vector"),pe=ne.filter(we=>we.getSource().type!=="vector"),fe=we=>{(!H||H.getSource().maxzoom<we.getSource().maxzoom)&&(H=we)};return de.forEach(we=>fe(we)),H||pe.forEach(we=>fe(we)),H}(this.style,this.transform.zoom);z&&Na.debug(this,z,z.getVisibleCoordinates())}this.options.showPadding&&function(z){const B=z.transform.padding;_i(z,z.transform.height-(B.top||0),3,jh),_i(z,B.bottom||0,3,Hr),Dl(z,B.left||0,3,ha),Dl(z,z.transform.width-(B.right||0),3,fs);const K=z.transform.centerPoint;(function(H,ne,de,pe){zl(H,ne-1,de-10,2,20,pe),zl(H,ne-10,de-1,20,2,pe)})(z,K.x,z.transform.height-K.y,fa)}(this),this.context.setDefault()}renderLayer(a,f,m,_){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="custom"||(_||[]).length)&&(this.id=m.id,this.gpuTimingStart(m),Na[m.type](a,f,m,_,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(a){if(!this.options.gpuTiming)return;const f=this.context.extTimerQuery;let m=this.gpuTimers[a.id];m||(m=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:f.createQueryEXT()}),m.calls++,f.beginQueryEXT(f.TIME_ELAPSED_EXT,m.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}collectGpuTimers(){const a=this.gpuTimers;return this.gpuTimers={},a}queryGpuTimers(a){const f={};for(const m in a){const _=a[m],S=this.context.extTimerQuery,A=S.getQueryObjectEXT(_.query,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(_.query),f[m]=A}return f}translatePosMatrix(a,f,m,_,S){if(!m[0]&&!m[1])return a;const A=S?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(A){const B=Math.sin(A),K=Math.cos(A);m=[m[0]*K-m[1]*B,m[0]*B+m[1]*K]}const M=[S?m[0]:Ze(f,m[0],this.transform.zoom),S?m[1]:Ze(f,m[1],this.transform.zoom),0],z=new Float32Array(16);return l.translate(z,a,M),z}saveTileTexture(a){const f=this._tileTextures[a.size[0]];f?f.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const f=this._tileTextures[a];return f&&f.length>0?f.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;const f=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!f||!m}useProgram(a,f){this.cache=this.cache||{};const m=a+(f?f.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new Cl(this.context,a,dr[a],f,Vs[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Be(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class bt{constructor(a,f){this.points=a,this.planes=f}static fromInvProjectionMatrix(a,f,m){const _=Math.pow(2,m),S=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(M=>{const z=1/(M=l.transformMat4([],M,a))[3]/f*_;return l.mul$1(M,M,[z,z,1/M[3],z])}),A=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(M=>{const z=function(ne,de){var pe=de[0],fe=de[1],we=de[2],ke=pe*pe+fe*fe+we*we;return ke>0&&(ke=1/Math.sqrt(ke)),ne[0]=de[0]*ke,ne[1]=de[1]*ke,ne[2]=de[2]*ke,ne}([],function(ne,de,pe){var fe=de[0],we=de[1],ke=de[2],Ae=pe[0],ye=pe[1],Re=pe[2];return ne[0]=we*Re-ke*ye,ne[1]=ke*Ae-fe*Re,ne[2]=fe*ye-we*Ae,ne}([],Se([],S[M[0]],S[M[1]]),Se([],S[M[2]],S[M[1]]))),B=-((K=z)[0]*(H=S[M[1]])[0]+K[1]*H[1]+K[2]*H[2]);var K,H;return z.concat(B)});return new bt(S,A)}}class Ba{constructor(a,f){this.min=a,this.max=f,this.center=function(m,_,S){return m[0]=.5*_[0],m[1]=.5*_[1],m[2]=.5*_[2],m}([],function(m,_,S){return m[0]=_[0]+S[0],m[1]=_[1]+S[1],m[2]=_[2]+S[2],m}([],this.min,this.max))}quadrant(a){const f=[a%2==0,a<2],m=ge(this.min),_=ge(this.max);for(let S=0;S<f.length;S++)m[S]=f[S]?this.min[S]:this.center[S],_[S]=f[S]?this.center[S]:this.max[S];return _[2]=this.max[2],new Ba(m,_)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){const f=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let _=0;_<a.planes.length;_++){const S=a.planes[_];let A=0;for(let M=0;M<f.length;M++)l.dot(S,f[M])>=0&&A++;if(A===0)return 0;A!==f.length&&(m=!1)}if(m)return 2;for(let _=0;_<3;_++){let S=Number.MAX_VALUE,A=-Number.MAX_VALUE;for(let M=0;M<a.points.length;M++){const z=a.points[M][_]-this.min[_];S=Math.min(S,z),A=Math.max(A,z)}if(A<0||S>this.max[_]-this.min[_])return 0}return 1}}class da{constructor(a=0,f=0,m=0,_=0){if(isNaN(a)||a<0||isNaN(f)||f<0||isNaN(m)||m<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=f,this.left=m,this.right=_}interpolate(a,f,m){return f.top!=null&&a.top!=null&&(this.top=l.number(a.top,f.top,m)),f.bottom!=null&&a.bottom!=null&&(this.bottom=l.number(a.bottom,f.bottom,m)),f.left!=null&&a.left!=null&&(this.left=l.number(a.left,f.left,m)),f.right!=null&&a.right!=null&&(this.right=l.number(a.right,f.right,m)),this}getCenter(a,f){const m=l.clamp((this.left+a-this.right)/2,0,a),_=l.clamp((this.top+f-this.bottom)/2,0,f);return new l.pointGeometry(m,_)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new da(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Ua{constructor(a,f,m,_,S){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=S===void 0||!!S,this._minZoom=a||0,this._maxZoom=f||22,this._minPitch=m??0,this._maxPitch=_??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new l.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new da,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const a=new Ua(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.tileSize=this.tileSize,a.latRange=this.latRange,a.width=this.width,a.height=this.height,a._center=this._center,a._elevation=this._elevation,a.zoom=this.zoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._unmodified=this._unmodified,a._edgeInsets=this._edgeInsets.clone(),a._calcMatrices(),a}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new l.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){const f=-l.wrap(a,-180,180)*Math.PI/180;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=function(){var m=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,_,S){var A=_[0],M=_[1],z=_[2],B=_[3],K=Math.sin(S),H=Math.cos(S);m[0]=A*H+z*K,m[1]=M*H+B*K,m[2]=A*-K+z*H,m[3]=M*-K+B*H}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const f=l.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){const f=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this.tileZoom=Math.max(0,Math.floor(f)),this.scale=this.zoomScale(f),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,f,m){this._unmodified=!1,this._edgeInsets.interpolate(a,f,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const f=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(a){const f=[new l.UnwrappedTileID(0,a)];if(this._renderWorldCopies){const m=this.pointCoordinate(new l.pointGeometry(0,0)),_=this.pointCoordinate(new l.pointGeometry(this.width,0)),S=this.pointCoordinate(new l.pointGeometry(this.width,this.height)),A=this.pointCoordinate(new l.pointGeometry(0,this.height)),M=Math.floor(Math.min(m.x,_.x,S.x,A.x)),z=Math.floor(Math.max(m.x,_.x,S.x,A.x)),B=1;for(let K=M-B;K<=z+B;K++)K!==0&&f.push(new l.UnwrappedTileID(K,a))}return f}coveringTiles(a){var f,m;let _=this.coveringZoomLevel(a);const S=_;if(a.minzoom!==void 0&&_<a.minzoom)return[];a.maxzoom!==void 0&&_>a.maxzoom&&(_=a.maxzoom);const A=this.pointCoordinate(this.getCameraPoint()),M=l.MercatorCoordinate.fromLngLat(this.center),z=Math.pow(2,_),B=[z*A.x,z*A.y,0],K=[z*M.x,z*M.y,0],H=bt.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,_);let ne=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ne=_);const de=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,pe=ye=>({aabb:new Ba([ye*z,0,0],[(ye+1)*z,z,0]),zoom:0,x:0,y:0,wrap:ye,fullyVisible:!1}),fe=[],we=[],ke=_,Ae=a.reparseOverscaled?S:_;if(this._renderWorldCopies)for(let ye=1;ye<=3;ye++)fe.push(pe(-ye)),fe.push(pe(ye));for(fe.push(pe(0));fe.length>0;){const ye=fe.pop(),Re=ye.x,Ve=ye.y;let je=ye.fullyVisible;if(!je){const ft=ye.aabb.intersects(H);if(ft===0)continue;je=ft===2}const Ke=a.terrain?B:K,Ye=ye.aabb.distanceX(Ke),st=ye.aabb.distanceY(Ke),it=Math.max(Math.abs(Ye),Math.abs(st));if(ye.zoom===ke||it>de+(1<<ke-ye.zoom)-2&&ye.zoom>=ne){const ft=ke-ye.zoom,It=B[0]-.5-(Re<<ft),Xt=B[1]-.5-(Ve<<ft);we.push({tileID:new l.OverscaledTileID(ye.zoom===ke?Ae:ye.zoom,ye.wrap,ye.zoom,Re,Ve),distanceSq:De([K[0]-.5-Re,K[1]-.5-Ve]),tileDistanceToCamera:Math.sqrt(It*It+Xt*Xt)})}else for(let ft=0;ft<4;ft++){const It=(Re<<1)+ft%2,Xt=(Ve<<1)+(ft>>1),Jt=ye.zoom+1;let Lt=ye.aabb.quadrant(ft);if(a.terrain){const Nn=new l.OverscaledTileID(Jt,ye.wrap,Jt,It,Xt),Bn=a.terrain.getMinMaxElevation(Nn),hn=(f=Bn.minElevation)!==null&&f!==void 0?f:this.elevation,kn=(m=Bn.maxElevation)!==null&&m!==void 0?m:this.elevation;Lt=new Ba([Lt.min[0],Lt.min[1],hn],[Lt.max[0],Lt.max[1],kn])}fe.push({aabb:Lt,zoom:Jt,x:It,y:Xt,wrap:ye.wrap,fullyVisible:je})}}return we.sort((ye,Re)=>ye.distanceSq-Re.distanceSq).map(ye=>ye.tileID)}resize(a,f){this.width=a,this.height=f,this.pixelsToGLUnits=[2/a,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const f=l.clamp(a.lat,-this.maxValidLatitude,this.maxValidLatitude);return new l.pointGeometry(l.mercatorXfromLng(a.lng)*this.worldSize,l.mercatorYfromLat(f)*this.worldSize)}unproject(a){return new l.MercatorCoordinate(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(a){this.freezeElevation||(this.elevation=a?this.getElevation(this._center,a):0)}getElevation(a,f){const m=l.MercatorCoordinate.fromLngLat(a),_=(1<<this.tileZoom)*l.EXTENT,S=m.x*_,A=m.y*_,M=Math.floor(S/l.EXTENT),z=Math.floor(A/l.EXTENT),B=new l.OverscaledTileID(this.tileZoom,0,this.tileZoom,M,z);return f.getElevation(B,S%l.EXTENT,A%l.EXTENT,l.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){const f=this.pointLocation(this.centerPoint,a),m=this.getElevation(f,a);if(!(this.elevation-m))return;const _=this.getCameraPosition(),S=l.MercatorCoordinate.fromLngLat(_.lngLat,_.altitude),A=l.MercatorCoordinate.fromLngLat(f,m),M=S.x-A.x,z=S.y-A.y,B=S.z-A.z,K=Math.sqrt(M*M+z*z+B*B),H=this.scaleZoom(this.cameraToCenterDistance/K/this.tileSize);this._elevation=m,this._center=f,this.zoom=H}setLocationAtPoint(a,f){const m=this.pointCoordinate(f),_=this.pointCoordinate(this.centerPoint),S=this.locationCoordinate(a),A=new l.MercatorCoordinate(S.x-(m.x-_.x),S.y-(m.y-_.y));this.center=this.coordinateLocation(A),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,f){return f?this.coordinatePoint(this.locationCoordinate(a),this.getElevation(a,f),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,f){return this.coordinateLocation(this.pointCoordinate(a,f))}locationCoordinate(a){return l.MercatorCoordinate.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,f){if(f){const ne=f.pointCoordinate(a);if(ne!=null)return ne}const m=[a.x,a.y,0,1],_=[a.x,a.y,1,1];l.transformMat4(m,m,this.pixelMatrixInverse),l.transformMat4(_,_,this.pixelMatrixInverse);const S=m[3],A=_[3],M=m[1]/S,z=_[1]/A,B=m[2]/S,K=_[2]/A,H=B===K?0:(0-B)/(K-B);return new l.MercatorCoordinate(l.number(m[0]/S,_[0]/A,H)/this.worldSize,l.number(M,z,H)/this.worldSize)}coordinatePoint(a,f=0,m=this.pixelMatrix){const _=[a.x*this.worldSize,a.y*this.worldSize,f,1];return l.transformMat4(_,_,m),new l.pointGeometry(_[0]/_[3],_[1]/_[3])}getBounds(){const a=Math.max(0,this.height/2-this.getHorizon());return new l.LngLatBounds().extend(this.pointLocation(new l.pointGeometry(0,a))).extend(this.pointLocation(new l.pointGeometry(this.width,a))).extend(this.pointLocation(new l.pointGeometry(this.width,this.height))).extend(this.pointLocation(new l.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new l.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(a,f=!1){const m=a.key,_=f?this._alignedPosMatrixCache:this._posMatrixCache;if(_[m])return _[m];const S=a.canonical,A=this.worldSize/this.zoomScale(S.z),M=S.x+Math.pow(2,S.z)*a.wrap,z=l.identity(new Float64Array(16));return l.translate(z,z,[M*A,S.y*A,0]),l.scale(z,z,[A/l.EXTENT,A/l.EXTENT,1]),l.multiply(z,f?this.alignedProjMatrix:this.projMatrix,z),_[m]=new Float32Array(z),_[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a,f,m,_,S=-90,A=90,M=-180,z=180;const B=this.size,K=this._unmodified;if(this.latRange){const de=this.latRange;S=l.mercatorYfromLat(de[1])*this.worldSize,A=l.mercatorYfromLat(de[0])*this.worldSize,a=A-S<B.y?B.y/(A-S):0}if(this.lngRange){const de=this.lngRange;M=l.wrap(l.mercatorXfromLng(de[0])*this.worldSize,0,this.worldSize),z=l.wrap(l.mercatorXfromLng(de[1])*this.worldSize,0,this.worldSize),z<M&&(z+=this.worldSize),f=z-M<B.x?B.x/(z-M):0}const H=this.point,ne=Math.max(f||0,a||0);if(ne)return this.center=this.unproject(new l.pointGeometry(f?(z+M)/2:H.x,a?(A+S)/2:H.y)),this.zoom+=this.scaleZoom(ne),this._unmodified=K,void(this._constraining=!1);if(this.latRange){const de=H.y,pe=B.y/2;de-pe<S&&(_=S+pe),de+pe>A&&(_=A-pe)}if(this.lngRange){const de=(M+z)/2,pe=l.wrap(H.x,de-this.worldSize/2,de+this.worldSize/2),fe=B.x/2;pe-fe<M&&(m=M+fe),pe+fe>z&&(m=z-fe)}m===void 0&&_===void 0||(this.center=this.unproject(new l.pointGeometry(m!==void 0?m:H.x,_!==void 0?_:H.y)).wrap()),this._unmodified=K,this._constraining=!1}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,f=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=l.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let _=l.identity(new Float64Array(16));l.scale(_,_,[this.width/2,-this.height/2,1]),l.translate(_,_,[1,-1,0]),this.labelPlaneMatrix=_,_=l.identity(new Float64Array(16)),l.scale(_,_,[1,-1,1]),l.translate(_,_,[-1,-1,0]),l.scale(_,_,[2/this.width,2/this.height,1]),this.glCoordMatrix=_,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const S=this._elevation<0?this.cameraToCenterDistance:this.cameraToSeaLevelDistance,A=Math.PI/2+this._pitch,M=this._fov*(.5+a.y/this.height),z=Math.sin(M)*S/Math.sin(l.clamp(Math.PI-A-M,.01,Math.PI-.01)),B=this.getHorizon(),K=2*Math.atan(B/this.cameraToCenterDistance)*(.5+a.y/(2*B)),H=Math.sin(K)*S/Math.sin(l.clamp(Math.PI-A-K,.01,Math.PI-.01)),ne=Math.min(z,H),de=1.01*(Math.cos(Math.PI/2-this._pitch)*ne+S),pe=this.height/50;_=new Float64Array(16),l.perspective(_,this._fov,this.width/this.height,pe,de),_[8]=2*-a.x/this.width,_[9]=2*a.y/this.height,l.scale(_,_,[1,-1,1]),l.translate(_,_,[0,0,-this.cameraToCenterDistance]),l.rotateX(_,_,this._pitch),l.rotateZ(_,_,this.angle),l.translate(_,_,[-f,-m,0]),this.mercatorMatrix=l.scale([],_,[this.worldSize,this.worldSize,this.worldSize]),l.scale(_,_,[1,1,this._pixelPerMeter]),this.pixelMatrix=l.multiply(new Float64Array(16),this.labelPlaneMatrix,_),l.translate(_,_,[0,0,-this.elevation]),this.projMatrix=_,this.invProjMatrix=l.invert([],_),this.pixelMatrix3D=l.multiply(new Float64Array(16),this.labelPlaneMatrix,_);const fe=this.width%2/2,we=this.height%2/2,ke=Math.cos(this.angle),Ae=Math.sin(this.angle),ye=f-Math.round(f)+ke*fe+Ae*we,Re=m-Math.round(m)+ke*we+Ae*fe,Ve=new Float64Array(_);if(l.translate(Ve,Ve,[ye>.5?ye-1:ye,Re>.5?Re-1:Re,0]),this.alignedProjMatrix=Ve,_=l.invert(new Float64Array(16),this.pixelMatrix),!_)throw new Error("failed to invert matrix");this.pixelMatrixInverse=_,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const a=this.pointCoordinate(new l.pointGeometry(0,0)),f=[a.x*this.worldSize,a.y*this.worldSize,0,1];return l.transformMat4(f,f,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.pointGeometry(0,a))}getCameraQueryGeometry(a){const f=this.getCameraPoint();if(a.length===1)return[a[0],f];{let m=f.x,_=f.y,S=f.x,A=f.y;for(const M of a)m=Math.min(m,M.x),_=Math.min(_,M.y),S=Math.max(S,M.x),A=Math.max(A,M.y);return[new l.pointGeometry(m,_),new l.pointGeometry(S,_),new l.pointGeometry(S,A),new l.pointGeometry(m,A),new l.pointGeometry(m,_)]}}}class qh{constructor(a){this._hashName=a&&encodeURIComponent(a),l.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(f,m){let _=!1,S=null;const A=()=>{S=null,_&&(f(),S=setTimeout(A,300),_=!1)};return()=>(_=!0,S||A(),S)}(this._updateHashUnthrottled.bind(this))}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(a){const f=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,_=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),S=Math.pow(10,_),A=Math.round(f.lng*S)/S,M=Math.round(f.lat*S)/S,z=this._map.getBearing(),B=this._map.getPitch();let K="";if(K+=a?`/${A}/${M}/${m}`:`${m}/${M}/${A}`,(z||B)&&(K+="/"+Math.round(10*z)/10),B&&(K+=`/${Math.round(B)}`),this._hashName){const H=this._hashName;let ne=!1;const de=window.location.hash.slice(1).split("&").map(pe=>{const fe=pe.split("=")[0];return fe===H?(ne=!0,`${fe}=${K}`):pe}).filter(pe=>pe);return ne||de.push(`${H}=${K}`),`#${de.join("&")}`}return`#${K}`}_getCurrentHash(){const a=window.location.hash.replace("#","");if(this._hashName){let f;return a.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(f=m)}),(f&&f[1]||"").split("/")}return a.split("/")}_onHashChange(){const a=this._getCurrentHash();if(a.length>=3&&!a.some(f=>isNaN(f))){const f=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(a[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+a[2],+a[1]],zoom:+a[0],bearing:f,pitch:+(a[4]||0)}),!0}return!1}_updateHashUnthrottled(){const a=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,a)}catch{}}}const yt={linearity:.3,easing:l.bezier(0,0,.3,1)},Hc=l.extend({deceleration:2500,maxSpeed:1400},yt),Gh=l.extend({deceleration:20,maxSpeed:1400},yt),Od=l.extend({deceleration:1e3,maxSpeed:360},yt),Eu=l.extend({deceleration:1e3,maxSpeed:90},yt);class Hh{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:l.exported.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,f=l.exported.now();for(;a.length>0&&f-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,pan:new l.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:S}of this._inertiaBuffer)f.zoom+=S.zoomDelta||0,f.bearing+=S.bearingDelta||0,f.pitch+=S.pitchDelta||0,S.panDelta&&f.pan._add(S.panDelta),S.around&&(f.around=S.around),S.pinchAround&&(f.pinchAround=S.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(f.pan.mag()){const S=ds(f.pan.mag(),m,l.extend({},Hc,a||{}));_.offset=f.pan.mult(S.amount/f.pan.mag()),_.center=this._map.transform.center,xi(_,S)}if(f.zoom){const S=ds(f.zoom,m,Gh);_.zoom=this._map.transform.zoom+S.amount,xi(_,S)}if(f.bearing){const S=ds(f.bearing,m,Od);_.bearing=this._map.transform.bearing+l.clamp(S.amount,-179,179),xi(_,S)}if(f.pitch){const S=ds(f.pitch,m,Eu);_.pitch=this._map.transform.pitch+S.amount,xi(_,S)}if(_.zoom||_.bearing){const S=f.pinchAround===void 0?f.around:f.pinchAround;_.around=S?this._map.unproject(S):this._map.getCenter()}return this.clear(),l.extend(_,{noMoveStart:!0})}}function xi(v,a){(!v.duration||v.duration<a.duration)&&(v.duration=a.duration,v.easing=a.easing)}function ds(v,a,f){const{maxSpeed:m,linearity:_,deceleration:S}=f,A=l.clamp(v*_/(a/1e3),-m,m),M=Math.abs(A)/(S*_);return{easing:f.easing,duration:1e3*M,amount:A*(M/2)}}class ro extends l.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m,_={}){const S=I.mousePos(f.getCanvasContainer(),m),A=f.unproject(S);super(a,l.extend({point:S,lngLat:A,originalEvent:m},_)),this._defaultPrevented=!1,this.target=f}}class pa extends l.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m){const _=a==="touchend"?m.changedTouches:m.touches,S=I.touchPos(f.getCanvasContainer(),_),A=S.map(z=>f.unproject(z)),M=S.reduce((z,B,K,H)=>z.add(B.div(H.length)),new l.pointGeometry(0,0));super(a,{points:S,point:M,lngLats:A,lngLat:f.unproject(M),originalEvent:m}),this._defaultPrevented=!1}}class Zc extends l.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,f,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class Tu{constructor(a,f){this._map=a,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new Zc(a.type,this._map,a))}mousedown(a,f){return this._mousedownPos=f,this._firePreventable(new ro(a.type,this._map,a))}mouseup(a){this._map.fire(new ro(a.type,this._map,a))}click(a,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new ro(a.type,this._map,a))}dblclick(a){return this._firePreventable(new ro(a.type,this._map,a))}mouseover(a){this._map.fire(new ro(a.type,this._map,a))}mouseout(a){this._map.fire(new ro(a.type,this._map,a))}touchstart(a){return this._firePreventable(new pa(a.type,this._map,a))}touchmove(a){this._map.fire(new pa(a.type,this._map,a))}touchend(a){this._map.fire(new pa(a.type,this._map,a))}touchcancel(a){this._map.fire(new pa(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Wc{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new ro(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ro("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new ro(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Zr{constructor(a,f){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,f){this.isEnabled()&&a.shiftKey&&a.button===0&&(I.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(a,f){if(!this._active)return;const m=f;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=m,this._box||(this._box=I.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));const S=Math.min(_.x,m.x),A=Math.max(_.x,m.x),M=Math.min(_.y,m.y),z=Math.max(_.y,m.y);I.setTransform(this._box,`translate(${S}px,${M}px)`),this._box.style.width=A-S+"px",this._box.style.height=z-M+"px"}mouseupWindow(a,f){if(!this._active||a.button!==0)return;const m=this._startPos,_=f;if(this.reset(),I.suppressClick(),m.x!==_.x||m.y!==_.y)return this._map.fire(new l.Event("boxzoomend",{originalEvent:a})),{cameraAnimation:S=>S.fitScreenCoordinates(m,_,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(I.remove(this._box),this._box=null),I.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,f){return this._map.fire(new l.Event(a,{originalEvent:f}))}}function Vo(v,a){if(v.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${v.length}, points ${a.length}`);const f={};for(let m=0;m<v.length;m++)f[v[m].identifier]=a[m];return f}class ps{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,f,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(_){const S=new l.pointGeometry(0,0);for(const A of _)S._add(A);return S.div(_.length)}(f),this.touches=Vo(m,f)))}touchmove(a,f,m){if(this.aborted||!this.centroid)return;const _=Vo(m,f);for(const S in this.touches){const A=_[S];(!A||A.dist(this.touches[S])>30)&&(this.aborted=!0)}}touchend(a,f,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class Ws{constructor(a){this.singleTap=new ps(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,f,m){this.singleTap.touchstart(a,f,m)}touchmove(a,f,m){this.singleTap.touchmove(a,f,m)}touchend(a,f,m){const _=this.singleTap.touchend(a,f,m);if(_){const S=a.timeStamp-this.lastTime<500,A=!this.lastTap||this.lastTap.dist(_)<30;if(S&&A||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class Cu{constructor(){this._zoomIn=new Ws({numTouches:1,numTaps:2}),this._zoomOut=new Ws({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,f,m){this._zoomIn.touchstart(a,f,m),this._zoomOut.touchstart(a,f,m)}touchmove(a,f,m){this._zoomIn.touchmove(a,f,m),this._zoomOut.touchmove(a,f,m)}touchend(a,f,m){const _=this._zoomIn.touchend(a,f,m),S=this._zoomOut.touchend(a,f,m);return _?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:A.getZoom()+1,around:A.unproject(_)},{originalEvent:a})}):S?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:A.getZoom()-1,around:A.unproject(S)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ms{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){const f=this._moveFunction(...a);if(f.bearingDelta||f.pitchDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(a,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=f.length?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,f){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);const _=f.length?f[0]:f;return!this._moved&&_.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=_,this._move(m,_))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&I.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const $o={0:1,2:2};class hi{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){const f=I.mouseButton(a);this._eventButton=f}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(f,m){const _=$o[m];return f.buttons===void 0||(f.buttons&_)!==_}(a,this._eventButton)}isValidEndEvent(a){return I.mouseButton(a)===this._eventButton}}class Yn{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}const jo=v=>{v.mousedown=v.dragStart,v.mousemoveWindow=v.dragMove,v.mouseup=v.dragEnd,v.contextmenu=function(a){a.preventDefault()}},Pu=({enable:v,clickTolerance:a,bearingDegreesPerPixelMoved:f=.8})=>{const m=new hi({checkCorrectEvent:_=>I.mouseButton(_)===0&&_.ctrlKey||I.mouseButton(_)===2});return new ms({clickTolerance:a,move:(_,S)=>({bearingDelta:(S.x-_.x)*f}),moveStateManager:m,enable:v,assignEvents:jo})},Ks=({enable:v,clickTolerance:a,pitchDegreesPerPixelMoved:f=-.5})=>{const m=new hi({checkCorrectEvent:_=>I.mouseButton(_)===0&&_.ctrlKey||I.mouseButton(_)===2});return new ms({clickTolerance:a,move:(_,S)=>({pitchDelta:(S.y-_.y)*f}),moveStateManager:m,enable:v,assignEvents:jo})};class Xs{constructor(a,f){this._minTouches=a.cooperativeGestures?2:1,this._clickTolerance=a.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new l.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(a,f,m){return this._calculateTransform(a,f,m)}touchmove(a,f,m){if(this._map._cooperativeGestures&&(this._minTouches===2&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(a,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return a.preventDefault(),this._calculateTransform(a,f,m)}touchend(a,f,m){this._calculateTransform(a,f,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,f,m){m.length>0&&(this._active=!0);const _=Vo(m,f),S=new l.pointGeometry(0,0),A=new l.pointGeometry(0,0);let M=0;for(const B in _){const K=_[B],H=this._touches[B];H&&(S._add(K),A._add(K.sub(H)),M++,_[B]=K)}if(this._touches=_,M<this._minTouches||!A.mag())return;const z=A.div(M);return this._sum._add(z),this._sum.mag()<this._clickTolerance?void 0:{around:S.div(M),panDelta:z}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fl{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(a){}_move(a,f,m){return{}}touchstart(a,f,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([f[0],f[1]]))}touchmove(a,f,m){if(!this._firstTwoTouches)return;a.preventDefault();const[_,S]=this._firstTwoTouches,A=Nl(m,f,_),M=Nl(m,f,S);if(!A||!M)return;const z=this._aroundCenter?null:A.add(M).div(2);return this._move([A,M],z,a)}touchend(a,f,m){if(!this._firstTwoTouches)return;const[_,S]=this._firstTwoTouches,A=Nl(m,f,_),M=Nl(m,f,S);A&&M||(this._active&&I.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Nl(v,a,f){for(let m=0;m<v.length;m++)if(v[m].identifier===f)return a[m]}function bo(v,a){return Math.log(v/a)/Math.LN2}class Bl extends Fl{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,f){const m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(bo(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:bo(this._distance,m),pinchAround:f}}}function Mt(v,a){return 180*v.angleWith(a)/Math.PI}class Gt extends Fl{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,f){const m=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Mt(this._vector,m),pinchAround:f}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const f=25/(Math.PI*this._minDiameter)*360,m=Mt(a,this._startVector);return Math.abs(m)<f}}function gs(v){return Math.abs(v.y)>Math.abs(v.x)}class Au extends Fl{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,f,m){super.touchstart(a,f,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,gs(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,f,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const _=a[0].sub(this._lastPoints[0]),S=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(_,S,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(_.y+S.y)/2*-.5}):void 0}gestureBeginsVertically(a,f,m){if(this._valid!==void 0)return this._valid;const _=a.mag()>=2,S=f.mag()>=2;if(!_&&!S)return;if(!_||!S)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;const A=a.y>0==f.y>0;return gs(a)&&gs(f)&&A}}const Kc={panStep:100,bearingStep:15,pitchStep:10};class fi{constructor(){const a=Kc;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let f=0,m=0,_=0,S=0,A=0;switch(a.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),S=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),S=1);break;case 38:a.shiftKey?_=1:(a.preventDefault(),A=-1);break;case 40:a.shiftKey?_=-1:(a.preventDefault(),A=1);break;default:return}return this._rotationDisabled&&(m=0,_=0),{cameraAnimation:M=>{const z=M.getZoom();M.easeTo({duration:300,easeId:"keyboardHandler",easing:Ul,zoom:f?Math.round(z)+f*(a.shiftKey?2:1):z,bearing:M.getBearing()+m*this._bearingStep,pitch:M.getPitch()+_*this._pitchStep,offset:[-S*this._panStep,-A*this._panStep],center:M.getCenter()},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ul(v){return v*(2-v)}const wo=4.000244140625;class h{constructor(a,f){this._map=a,this._el=a.getCanvasContainer(),this._handler=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,l.bindAll(["_onTimeout"],this)}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;a.preventDefault()}let f=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const m=l.exported.now(),_=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,f!==0&&f%wo==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(_*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),a.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=a,this._delta-=f,this._active||this._start(a)),a.preventDefault()}_onTimeout(a){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(a)}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=I.mousePos(this._el,a);this._around=l.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(f)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._map.transform;if(this._delta!==0){const M=this._type==="wheel"&&Math.abs(this._delta)>wo?this._wheelZoomRate:this._defaultZoomRate;let z=2/(1+Math.exp(-Math.abs(this._delta*M)));this._delta<0&&z!==0&&(z=1/z);const B=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(B*z))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,_=this._easing;let S,A=!1;if(this._type==="wheel"&&m&&_){const M=Math.min((l.exported.now()-this._lastWheelEventTime)/200,1),z=_(M);S=l.number(m,f,z),M<1?this._frameId||(this._frameId=!0):A=!0}else S=f,A=!0;return this._active=!0,A&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!A,zoomDelta:S-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let f=l.ease;if(this._prevEase){const m=this._prevEase,_=(l.exported.now()-m.start)/m.duration,S=m.easing(_+.01)-m.easing(_),A=.27/Math.sqrt(S*S+1e-4)*.01,M=Math.sqrt(.0729-A*A);f=l.bezier(A,M,.25,1)}return this._prevEase={start:l.exported.now(),duration:a,easing:f},f}reset(){this._active=!1}}class g{constructor(a,f){this._clickZoom=a,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class T{constructor(){this.reset()}reset(){this._active=!1}dblclick(a,f){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(a.shiftKey?-1:1),around:m.unproject(f)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class R{constructor(){this._tap=new Ws({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(a,f,m){this._swipePoint||(this._tapTime&&a.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=f[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(a,f,m))}touchmove(a,f,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const _=f[0],S=_.y-this._swipePoint.y;return this._swipePoint=_,a.preventDefault(),this._active=!0,{zoomDelta:S/128}}}else this._tap.touchmove(a,f,m)}touchend(a,f,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(a,f,m)&&(this._tapTime=a.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class q{constructor(a,f,m){this._el=a,this._mousePan=f,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class oe{constructor(a,f,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=f,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Te{constructor(a,f,m,_){this._el=a,this._touchZoom=f,this._touchRotate=m,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const ze=v=>v.zoom||v.drag||v.pitch||v.rotate;class qe extends l.Event{}function at(v){return v.panDelta&&v.panDelta.mag()||v.zoomDelta||v.bearingDelta||v.pitchDelta}class Tt{constructor(a,f){this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Hh(a),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f),l.bindAll(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,S,A]of this._listeners)I.addEventListener(_,S,_===document?this.handleWindowEvent:this.handleEvent,A)}destroy(){for(const[a,f,m]of this._listeners)I.removeEventListener(a,f,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){const f=this._map,m=f.getCanvasContainer();this._add("mapEvent",new Tu(f,a));const _=f.boxZoom=new Zr(f,a);this._add("boxZoom",_);const S=new Cu,A=new T;f.doubleClickZoom=new g(A,S),this._add("tapZoom",S),this._add("clickZoom",A);const M=new R;this._add("tapDragZoom",M);const z=f.touchPitch=new Au(f);this._add("touchPitch",z);const B=Pu(a),K=Ks(a);f.dragRotate=new oe(a,B,K),this._add("mouseRotate",B,["mousePitch"]),this._add("mousePitch",K,["mouseRotate"]);const H=(({enable:ke,clickTolerance:Ae})=>{const ye=new hi({checkCorrectEvent:Re=>I.mouseButton(Re)===0&&!Re.ctrlKey});return new ms({clickTolerance:Ae,move:(Re,Ve)=>({around:Ve,panDelta:Ve.sub(Re)}),activateOnStart:!0,moveStateManager:ye,enable:ke,assignEvents:jo})})(a),ne=new Xs(a,f);f.dragPan=new q(m,H,ne),this._add("mousePan",H),this._add("touchPan",ne,["touchZoom","touchRotate"]);const de=new Gt,pe=new Bl;f.touchZoomRotate=new Te(m,pe,de,M),this._add("touchRotate",de,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]);const fe=f.scrollZoom=new h(f,this);this._add("scrollZoom",fe,["mousePan"]);const we=f.keyboard=new fi;this._add("keyboard",we),this._add("blockableMapEvent",new Wc(f));for(const ke of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])a.interactive&&a[ke]&&f[ke].enable(a[ke])}_add(a,f,m){this._handlers.push({handlerName:a,handler:f,allowed:m}),this._handlersById[a]=f}stop(a){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ze(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,f,m){for(const _ in a)if(_!==m&&(!f||f.indexOf(_)<0))return!0;return!1}handleWindowEvent(a){this.handleEvent(a,`${a.type}Window`)}_getMapTouches(a){const f=[];for(const m of a)this._el.contains(m.target)&&f.push(m);return f}handleEvent(a,f){if(a.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const m=a.type==="renderFrame"?void 0:a,_={needsRenderFrame:!1},S={},A={},M=a.touches,z=M?this._getMapTouches(M):void 0,B=z?I.touchPos(this._el,z):I.mousePos(this._el,a);for(const{handlerName:ne,handler:de,allowed:pe}of this._handlers){if(!de.isEnabled())continue;let fe;this._blockedByActive(A,pe,ne)?de.reset():de[f||a.type]&&(fe=de[f||a.type](a,B,z),this.mergeHandlerResult(_,S,fe,ne,m),fe&&fe.needsRenderFrame&&this._triggerRenderFrame()),(fe||de.isActive())&&(A[ne]=de)}const K={};for(const ne in this._previousActiveHandlers)A[ne]||(K[ne]=m);this._previousActiveHandlers=A,(Object.keys(K).length||at(_))&&(this._changes.push([_,S,K]),this._triggerRenderFrame()),(Object.keys(A).length||at(_))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:H}=_;H&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],H(this._map))}mergeHandlerResult(a,f,m,_,S){if(!m)return;l.extend(a,m);const A={handlerName:_,originalEvent:m.originalEvent||S};m.zoomDelta!==void 0&&(f.zoom=A),m.panDelta!==void 0&&(f.drag=A),m.pitchDelta!==void 0&&(f.pitch=A),m.bearingDelta!==void 0&&(f.rotate=A)}_applyChanges(){const a={},f={},m={};for(const[_,S,A]of this._changes)_.panDelta&&(a.panDelta=(a.panDelta||new l.pointGeometry(0,0))._add(_.panDelta)),_.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(a.around=_.around),_.pinchAround!==void 0&&(a.pinchAround=_.pinchAround),_.noInertia&&(a.noInertia=_.noInertia),l.extend(f,S),l.extend(m,A);this._updateMapTransform(a,f,m),this._changes=[]}_updateMapTransform(a,f,m){const _=this._map,S=_.transform,A=_.terrain;if(!(at(a)||A&&this._terrainMovement))return this._fireEvents(f,m,!0);let{panDelta:M,zoomDelta:z,bearingDelta:B,pitchDelta:K,around:H,pinchAround:ne}=a;ne!==void 0&&(H=ne),_._stop(!0),H=H||_.transform.centerPoint;const de=S.pointLocation(M?H.sub(M):H);B&&(S.bearing+=B),K&&(S.pitch+=K),z&&(S.zoom+=z),A?this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?S.center=S.pointLocation(S.centerPoint.sub(M)):S.setLocationAtPoint(de,H):(this._terrainMovement=!0,S.freezeElevation=!0,S.setLocationAtPoint(de,H),this._map.once("moveend",()=>{S.freezeElevation=!1,this._terrainMovement=!1,S.recalculateZoom(_.terrain)})):S.setLocationAtPoint(de,H),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(f,m,!0)}_fireEvents(a,f,m){const _=ze(this._eventsInProgress),S=ze(a),A={};for(const K in a){const{originalEvent:H}=a[K];this._eventsInProgress[K]||(A[`${K}start`]=H),this._eventsInProgress[K]=a[K]}!_&&S&&this._fireEvent("movestart",S.originalEvent);for(const K in A)this._fireEvent(K,A[K]);S&&this._fireEvent("move",S.originalEvent);for(const K in a){const{originalEvent:H}=a[K];this._fireEvent(K,H)}const M={};let z;for(const K in this._eventsInProgress){const{handlerName:H,originalEvent:ne}=this._eventsInProgress[K];this._handlersById[H].isActive()||(delete this._eventsInProgress[K],z=f[H]||ne,M[`${K}end`]=z)}for(const K in M)this._fireEvent(K,M[K]);const B=ze(this._eventsInProgress);if(m&&(_||S)&&!B){this._updatingCamera=!0;const K=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),H=ne=>ne!==0&&-this._bearingSnap<ne&&ne<this._bearingSnap;K?(H(K.bearing||this._map.getBearing())&&(K.bearing=0),K.freezeElevation=!0,this._map.easeTo(K,{originalEvent:z})):(this._map.fire(new l.Event("moveend",{originalEvent:z})),H(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(a,f){this._map.fire(new l.Event(a,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new qe("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Qt={extend:(v,...a)=>l.extend(v,...a),run(v){v()},logToElement(v,a=!1,f="log"){const m=window.document.getElementById(f);m&&(a&&(m.innerHTML=""),m.innerHTML+=`<br>${v}`)}};class vn extends l.Evented{constructor(a,f){super(),this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=f.bearingSnap,l.bindAll(["_renderFrameCallback"],this)}getCenter(){return new l.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(a,f){return this.jumpTo({center:a},f)}panBy(a,f,m){return a=l.pointGeometry.convert(a).mult(-1),this.panTo(this.transform.center,l.extend({offset:a},f),m)}panTo(a,f,m){return this.easeTo(l.extend({center:a},f),m)}getZoom(){return this.transform.zoom}setZoom(a,f){return this.jumpTo({zoom:a},f),this}zoomTo(a,f,m){return this.easeTo(l.extend({zoom:a},f),m)}zoomIn(a,f){return this.zoomTo(this.getZoom()+1,a,f),this}zoomOut(a,f){return this.zoomTo(this.getZoom()-1,a,f),this}getBearing(){return this.transform.bearing}setBearing(a,f){return this.jumpTo({bearing:a},f),this}getPadding(){return this.transform.padding}setPadding(a,f){return this.jumpTo({padding:a},f),this}rotateTo(a,f,m){return this.easeTo(l.extend({bearing:a},f),m)}resetNorth(a,f){return this.rotateTo(0,l.extend({duration:1e3},a),f),this}resetNorthPitch(a,f){return this.easeTo(l.extend({bearing:0,pitch:0,duration:1e3},a),f),this}snapToNorth(a,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,f):this}getPitch(){return this.transform.pitch}setPitch(a,f){return this.jumpTo({pitch:a},f),this}cameraForBounds(a,f){a=l.LngLatBounds.convert(a);const m=f&&f.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,f)}_cameraForBoxAndBearing(a,f,m,_){const S={top:0,bottom:0,right:0,left:0};if(typeof(_=l.extend({padding:S,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const Ve=_.padding;_.padding={top:Ve,bottom:Ve,right:Ve,left:Ve}}_.padding=l.extend(S,_.padding);const A=this.transform,M=A.padding,z=A.project(l.LngLat.convert(a)),B=A.project(l.LngLat.convert(f)),K=z.rotate(-m*Math.PI/180),H=B.rotate(-m*Math.PI/180),ne=new l.pointGeometry(Math.max(K.x,H.x),Math.max(K.y,H.y)),de=new l.pointGeometry(Math.min(K.x,H.x),Math.min(K.y,H.y)),pe=ne.sub(de),fe=(A.width-(M.left+M.right+_.padding.left+_.padding.right))/pe.x,we=(A.height-(M.top+M.bottom+_.padding.top+_.padding.bottom))/pe.y;if(we<0||fe<0)return void l.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const ke=Math.min(A.scaleZoom(A.scale*Math.min(fe,we)),_.maxZoom),Ae=l.pointGeometry.convert(_.offset),ye=new l.pointGeometry((_.padding.left-_.padding.right)/2,(_.padding.top-_.padding.bottom)/2).rotate(m*Math.PI/180),Re=Ae.add(ye).mult(A.scale/A.zoomScale(ke));return{center:A.unproject(z.add(B).div(2).sub(Re)),zoom:ke,bearing:m}}fitBounds(a,f,m){return this._fitInternal(this.cameraForBounds(a,f),f,m)}fitScreenCoordinates(a,f,m,_,S){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(l.pointGeometry.convert(a)),this.transform.pointLocation(l.pointGeometry.convert(f)),m,_),_,S)}_fitInternal(a,f,m){return a?(delete(f=l.extend(a,f)).padding,f.linear?this.easeTo(f,m):this.flyTo(f,m)):this}jumpTo(a,f){this.stop();const m=this.transform;let _=!1,S=!1,A=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(_=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=l.LngLat.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(S=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(A=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this.fire(new l.Event("movestart",f)).fire(new l.Event("move",f)),_&&this.fire(new l.Event("zoomstart",f)).fire(new l.Event("zoom",f)).fire(new l.Event("zoomend",f)),S&&this.fire(new l.Event("rotatestart",f)).fire(new l.Event("rotate",f)).fire(new l.Event("rotateend",f)),A&&this.fire(new l.Event("pitchstart",f)).fire(new l.Event("pitch",f)).fire(new l.Event("pitchend",f)),this.fire(new l.Event("moveend",f))}calculateCameraOptionsFromTo(a,f,m,_=0){const S=l.MercatorCoordinate.fromLngLat(a,f),A=l.MercatorCoordinate.fromLngLat(m,_),M=A.x-S.x,z=A.y-S.y,B=A.z-S.z,K=Math.hypot(M,z,B);if(K===0)throw new Error("Can't calculate camera options with same From and To");const H=Math.hypot(M,z),ne=this.transform.scaleZoom(this.transform.cameraToCenterDistance/K/this.transform.tileSize),de=180*Math.atan2(M,-z)/Math.PI;let pe=180*Math.acos(H/K)/Math.PI;return pe=B<0?90-pe:90+pe,{center:A.toLngLat(),zoom:ne,pitch:pe,bearing:de}}easeTo(a,f){this._stop(!1,a.easeId),((a=l.extend({offset:[0,0],duration:500,easing:l.ease},a)).animate===!1||!a.essential&&l.exported.prefersReducedMotion)&&(a.duration=0);const m=this.transform,_=this.getZoom(),S=this.getBearing(),A=this.getPitch(),M=this.getPadding(),z="zoom"in a?+a.zoom:_,B="bearing"in a?this._normalizeBearing(a.bearing,S):S,K="pitch"in a?+a.pitch:A,H="padding"in a?a.padding:m.padding,ne=l.pointGeometry.convert(a.offset);let de=m.centerPoint.add(ne);const pe=m.pointLocation(de),fe=l.LngLat.convert(a.center||pe);this._normalizeCenter(fe);const we=m.project(pe),ke=m.project(fe).sub(we),Ae=m.zoomScale(z-_);let ye,Re;a.around&&(ye=l.LngLat.convert(a.around),Re=m.locationPoint(ye));const Ve={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||z!==_,this._rotating=this._rotating||S!==B,this._pitching=this._pitching||K!==A,this._padding=!m.isPaddingEqual(H),this._easeId=a.easeId,this._prepareEase(f,a.noMoveStart,Ve),this.terrain&&this._prepareElevation(fe),this._ease(je=>{if(this._zooming&&(m.zoom=l.number(_,z,je)),this._rotating&&(m.bearing=l.number(S,B,je)),this._pitching&&(m.pitch=l.number(A,K,je)),this._padding&&(m.interpolatePadding(M,H,je),de=m.centerPoint.add(ne)),this.terrain&&!a.freezeElevation&&this._updateElevation(je),ye)m.setLocationAtPoint(ye,Re);else{const Ke=m.zoomScale(m.zoom-_),Ye=z>_?Math.min(2,Ae):Math.max(.5,Ae),st=Math.pow(Ye,1-je),it=m.unproject(we.add(ke.mult(je*st)).mult(Ke));m.setLocationAtPoint(m.renderWorldCopies?it.wrap():it,de)}this._fireMoveEvents(f)},je=>{this.terrain&&this._finalizeElevation(),this._afterEase(f,je)},a),this}_prepareEase(a,f,m={}){this._moving=!0,f||m.moving||this.fire(new l.Event("movestart",a)),this._zooming&&!m.zooming&&this.fire(new l.Event("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new l.Event("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new l.Event("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.transform.getElevation(a,this.terrain),this.transform.freezeElevation=!0}_updateElevation(a){const f=this.transform.getElevation(this._elevationCenter,this.terrain);if(a<1&&f!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(f-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=f}this.transform.elevation=l.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this.transform.freezeElevation=!1,this.transform.recalculateZoom(this.terrain)}_fireMoveEvents(a){this.fire(new l.Event("move",a)),this._zooming&&this.fire(new l.Event("zoom",a)),this._rotating&&this.fire(new l.Event("rotate",a)),this._pitching&&this.fire(new l.Event("pitch",a))}_afterEase(a,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const m=this._zooming,_=this._rotating,S=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new l.Event("zoomend",a)),_&&this.fire(new l.Event("rotateend",a)),S&&this.fire(new l.Event("pitchend",a)),this.fire(new l.Event("moveend",a))}flyTo(a,f){if(!a.essential&&l.exported.prefersReducedMotion){const Lt=l.pick(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Lt,f)}this.stop(),a=l.extend({offset:[0,0],speed:1.2,curve:1.42,easing:l.ease},a);const m=this.transform,_=this.getZoom(),S=this.getBearing(),A=this.getPitch(),M=this.getPadding(),z="zoom"in a?l.clamp(+a.zoom,m.minZoom,m.maxZoom):_,B="bearing"in a?this._normalizeBearing(a.bearing,S):S,K="pitch"in a?+a.pitch:A,H="padding"in a?a.padding:m.padding,ne=m.zoomScale(z-_),de=l.pointGeometry.convert(a.offset);let pe=m.centerPoint.add(de);const fe=m.pointLocation(pe),we=l.LngLat.convert(a.center||fe);this._normalizeCenter(we);const ke=m.project(fe),Ae=m.project(we).sub(ke);let ye=a.curve;const Re=Math.max(m.width,m.height),Ve=Re/ne,je=Ae.mag();if("minZoom"in a){const Lt=l.clamp(Math.min(a.minZoom,_,z),m.minZoom,m.maxZoom),Nn=Re/m.zoomScale(Lt-_);ye=Math.sqrt(Nn/je*2)}const Ke=ye*ye;function Ye(Lt){const Nn=(Ve*Ve-Re*Re+(Lt?-1:1)*Ke*Ke*je*je)/(2*(Lt?Ve:Re)*Ke*je);return Math.log(Math.sqrt(Nn*Nn+1)-Nn)}function st(Lt){return(Math.exp(Lt)-Math.exp(-Lt))/2}function it(Lt){return(Math.exp(Lt)+Math.exp(-Lt))/2}const ft=Ye(0);let It=function(Lt){return it(ft)/it(ft+ye*Lt)},Xt=function(Lt){return Re*((it(ft)*(st(Nn=ft+ye*Lt)/it(Nn))-st(ft))/Ke)/je;var Nn},Jt=(Ye(1)-ft)/ye;if(Math.abs(je)<1e-6||!isFinite(Jt)){if(Math.abs(Re-Ve)<1e-6)return this.easeTo(a,f);const Lt=Ve<Re?-1:1;Jt=Math.abs(Math.log(Ve/Re))/ye,Xt=function(){return 0},It=function(Nn){return Math.exp(Lt*ye*Nn)}}return a.duration="duration"in a?+a.duration:1e3*Jt/("screenSpeed"in a?+a.screenSpeed/ye:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=S!==B,this._pitching=K!==A,this._padding=!m.isPaddingEqual(H),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(we),this._ease(Lt=>{const Nn=Lt*Jt,Bn=1/It(Nn);m.zoom=Lt===1?z:_+m.scaleZoom(Bn),this._rotating&&(m.bearing=l.number(S,B,Lt)),this._pitching&&(m.pitch=l.number(A,K,Lt)),this._padding&&(m.interpolatePadding(M,H,Lt),pe=m.centerPoint.add(de)),this.terrain&&!a.freezeElevation&&this._updateElevation(Lt);const hn=Lt===1?we:m.unproject(ke.add(Ae.mult(Xt(Nn))).mult(Bn));m.setLocationAtPoint(m.renderWorldCopies?hn.wrap():hn,pe),this._fireMoveEvents(f)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(f)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,f)}if(!a){const m=this.handlers;m&&m.stop(!1)}return this}_ease(a,f,m){m.animate===!1||m.duration===0?(a(1),f()):(this._easeStart=l.exported.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const a=Math.min((l.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(a)),a<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(a,f){a=l.wrap(a,-180,180);const m=Math.abs(a-f);return Math.abs(a-360-f)<m&&(a-=360),Math.abs(a+360-f)<m&&(a+=360),a}_normalizeCenter(a){const f=this.transform;if(!f.renderWorldCopies||f.lngRange)return;const m=a.lng-f.center.lng;a.lng+=m>180?-360:m<-180?360:0}}class di{constructor(a={}){this.options=a,l.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options&&this.options.compact,this._container=I.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=I.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=I.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){I.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,f){const m=this._map._getUIString(`AttributionControl.${f}`);a.title=m,a.setAttribute("aria-label",m)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))}_updateData(a){!a||a.sourceDataType!=="metadata"&&a.sourceDataType!=="visibility"&&a.dataType!=="style"&&a.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(_=>typeof _!="string"?"":_)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const f=this._map.style.sourceCaches;for(const _ in f){const S=f[_];if(S.used||S.usedForTerrain){const A=S.getSource();A.attribution&&a.indexOf(A.attribution)<0&&a.push(A.attribution)}}a=a.filter(_=>String(_).trim()),a.sort((_,S)=>_.length-S.length),a=a.filter((_,S)=>{for(let A=S+1;A<a.length;A++)if(a[A].indexOf(_)>=0)return!1;return!0});const m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")}}class qo{constructor(a={}){this.options=a,l.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=I.create("div","maplibregl-ctrl");const f=I.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){I.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const a=this._container.children;if(a.length){const f=a[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&f.classList.add("maplibregl-compact"):f.classList.remove("maplibregl-compact")}}}class Ys{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const f=++this._id;return this._queue.push({callback:a,id:f,cancelled:!1}),f}remove(a){const f=this._currentlyRunning,m=f?this._queue.concat(f):this._queue;for(const _ of m)if(_.id===a)return void(_.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const m of f)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Go={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Vl=l.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class Xc extends l.Evented{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,f){this.sourceCache.update(a,f),this._renderableTilesKeys=[];const m={};for(const _ of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f}))m[_.key]=!0,this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.posMatrix=new Float64Array(16),l.ortho(_.posMatrix,0,l.EXTENT,0,l.EXTENT,0,1),this._tiles[_.key]=new qt(_,this.tileSize));for(const _ in this._tiles)m[_]||delete this._tiles[_]}freeRtt(a){for(const f in this._tiles){const m=this._tiles[f];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){const f={};for(const m of this._renderableTilesKeys){const _=this._tiles[m].tileID;if(_.canonical.equals(a.canonical)){const S=a.clone();S.posMatrix=new Float64Array(16),l.ortho(S.posMatrix,0,l.EXTENT,0,l.EXTENT,0,1),f[m]=S}else if(_.canonical.isChildOf(a.canonical)){const S=a.clone();S.posMatrix=new Float64Array(16);const A=_.canonical.z-a.canonical.z,M=_.canonical.x-(_.canonical.x>>A<<A),z=_.canonical.y-(_.canonical.y>>A<<A),B=l.EXTENT>>A;l.ortho(S.posMatrix,0,B,0,B,0,1),l.translate(S.posMatrix,S.posMatrix,[-M*B,-z*B,0]),f[m]=S}else if(a.canonical.isChildOf(_.canonical)){const S=a.clone();S.posMatrix=new Float64Array(16);const A=a.canonical.z-_.canonical.z,M=a.canonical.x-(a.canonical.x>>A<<A),z=a.canonical.y-(a.canonical.y>>A<<A),B=l.EXTENT>>A;l.ortho(S.posMatrix,0,l.EXTENT,0,l.EXTENT,0,1),l.translate(S.posMatrix,S.posMatrix,[M*B,z*B,0]),l.scale(S.posMatrix,S.posMatrix,[1/2**A,1/2**A,0]),f[m]=S}}return f}getSourceTile(a,f){const m=this.sourceCache._source;let _=a.overscaledZ-this.deltaZoom;if(_>m.maxzoom&&(_=m.maxzoom),_<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(_).key);let S=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!S||!S.dem)&&f)for(;_>=m.minzoom&&(!S||!S.dem);)S=this.sourceCache.getTileByID(a.scaledTo(_--).key);return S}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(f=>f.timeAdded>=a)}}class Iu{constructor(a,f,m){this.painter=a,this.sourceCache=new Xc(f),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,f,m,_=l.EXTENT){if(!(f>=0&&f<_&&m>=0&&m<_))return 0;let S=0;const A=this.getTerrainData(a);if(A.tile&&A.tile.dem){const M=function(pe,fe,we){var ke=fe[0],Ae=fe[1];return pe[0]=we[0]*ke+we[4]*Ae+we[12],pe[1]=we[1]*ke+we[5]*Ae+we[13],pe}([],[f/_*l.EXTENT,m/_*l.EXTENT],A.u_terrain_matrix),z=[M[0]*A.tile.dem.dim,M[1]*A.tile.dem.dim],B=[Math.floor(z[0]),Math.floor(z[1])],K=A.tile.dem.get(B[0],B[1]),H=A.tile.dem.get(B[0],B[1]+1),ne=A.tile.dem.get(B[0]+1,B[1]),de=A.tile.dem.get(B[0]+1,B[1]+1);S=l.number(l.number(K,H,z[0]-B[0]),l.number(ne,de,z[0]-B[0]),z[1]-B[1])}return S}getElevation(a,f,m,_=l.EXTENT){return this.getDEMElevation(a,f,m,_)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){const _=this.painter.context,S=new l.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Be(_,S,_.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Be(_,new l.RGBAImage({width:1,height:1}),_.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=l.identity([])}const f=this.sourceCache.getSourceTile(a,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const _=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new Be(_,f.dem.getPixels(),_.gl.RGBA,{premultiply:!1}),f.demTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const m=f&&f+f.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){const _=this.sourceCache.sourceCache._source.maxzoom;let S=a.canonical.z-f.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=_?S=a.canonical.z-_:l.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const A=a.canonical.x-(a.canonical.x>>S<<S),M=a.canonical.y-(a.canonical.y>>S<<S),z=l.fromScaling(new Float64Array(16),[1/(l.EXTENT<<S),1/(l.EXTENT<<S),0]);l.translate(z,z,[A*l.EXTENT,M*l.EXTENT,0]),this._demMatrixCache[a.key]={matrix:z,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(a){const f=this.painter,m=f.width/devicePixelRatio,_=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===_||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Be(f.context,{width:m,height:_,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Be(f.context,{width:m,height:_,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(m,_,!0),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,m,_))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let S=0,A=0;S<this._coordsTextureSize;S++)for(let M=0;M<this._coordsTextureSize;M++,A+=4)f[A+0]=255&M,f[A+1]=255&S,f[A+2]=M>>8<<4|S>>8,f[A+3]=0;const m=new l.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),_=new Be(a,m,a.gl.RGBA,{premultiply:!1});return _.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=_,_}pointCoordinate(a){const f=new Uint8Array(4),m=this.painter.context,_=m.gl;m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,f),m.bindFramebuffer.set(null);const S=f[0]+(f[2]>>4<<8),A=f[1]+((15&f[2])<<8),M=this.coordsIndex[255-f[3]],z=M&&this.sourceCache.getTileByID(M);if(!z)return null;const B=this._coordsTextureSize,K=(1<<z.tileID.canonical.z)*B;return new l.MercatorCoordinate((z.tileID.canonical.x*B+S)/K,(z.tileID.canonical.y*B+A)/K,this.getElevation(z.tileID,S,A,B))}getTerrainMesh(){if(this._mesh)return this._mesh;const a=this.painter.context,f=new l.Pos3dArray,m=new l.TriangleIndexArray,_=this.meshSize,S=l.EXTENT/_,A=_*_;for(let H=0;H<=_;H++)for(let ne=0;ne<=_;ne++)f.emplaceBack(ne*S,H*S,0);for(let H=0;H<A;H+=_+1)for(let ne=0;ne<_;ne++)m.emplaceBack(ne+H,_+ne+H+1,_+ne+H+2),m.emplaceBack(ne+H,_+ne+H+2,ne+H+1);const M=f.length,z=M+2*(_+1);for(const H of[0,1])for(let ne=0;ne<=_;ne++)for(const de of[0,1])f.emplaceBack(ne*S,H*l.EXTENT,de);for(let H=0;H<2*_;H+=2)m.emplaceBack(z+H,z+H+1,z+H+3),m.emplaceBack(z+H,z+H+3,z+H+2),m.emplaceBack(M+H,M+H+3,M+H+1),m.emplaceBack(M+H,M+H+2,M+H+3);const B=f.length,K=B+2*(_+1);for(const H of[0,1])for(let ne=0;ne<=_;ne++)for(const de of[0,1])f.emplaceBack(H*l.EXTENT,ne*S,de);for(let H=0;H<2*_;H+=2)m.emplaceBack(B+H,B+H+1,B+H+3),m.emplaceBack(B+H,B+H+3,B+H+2),m.emplaceBack(K+H,K+H+3,K+H+1),m.emplaceBack(K+H,K+H+2,K+H+3);return this._mesh={indexBuffer:a.createIndexBuffer(m),vertexBuffer:a.createVertexBuffer(f,Vl.members),segments:l.SegmentVector.simpleSegment(0,0,f.length,m.length)},this._mesh}getMeshFrameDelta(a){return 2*Math.PI*l.earthRadius/Math.pow(2,a)/5}getMinMaxElevation(a){const f=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return f&&f.dem&&(m.minElevation=f.dem.min*this.exaggeration,m.maxElevation=f.dem.max*this.exaggeration),m}}class Yc{constructor(a,f,m){this._context=a,this._size=f,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0),m=new Be(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_COMPONENT16,this._tileSize,this._tileSize)),f.colorAttachment.set(m.texture),{id:a,fbo:f,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>a.id!==f),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(const a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}const ma={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class ku{constructor(a,f){this.painter=a,this.terrain=f,this.pool=new Yc(a.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(f)),this._coordsDescendingInv={};for(const m in a.sourceCaches){this._coordsDescendingInv[m]={};const _=a.sourceCaches[m].getVisibleCoordinates();for(const S of _){const A=this.terrain.sourceCache.getTerrainCoords(S);for(const M in A)this._coordsDescendingInv[m][M]||(this._coordsDescendingInv[m][M]=[]),this._coordsDescendingInv[m][M].push(A[M])}}this._coordsDescendingInvStr={};for(const m of a._order){const _=a._layers[m],S=_.source;if(ma[_.type]&&!this._coordsDescendingInvStr[S]){this._coordsDescendingInvStr[S]={};for(const A in this._coordsDescendingInv[S])this._coordsDescendingInvStr[S][A]=this._coordsDescendingInv[S][A].map(M=>M.key).sort().join()}}for(const m of this._renderableTiles)for(const _ in this._coordsDescendingInvStr){const S=this._coordsDescendingInvStr[_][m.tileID.key];S&&S!==m.rttCoords[_]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;const f=a.type,m=this.painter,_=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(ma[f]&&(this._prevType&&ma[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(a.id),!_))return!0;if(ma[this._prevType]||ma[f]&&_){this._prevType=f;const S=this._stacks.length-1,A=this._stacks[S]||[];for(const M of this._renderableTiles){if(this.pool.isFull()&&(Zs(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(M),M.rtt[S]){const B=this.pool.getObjectForId(M.rtt[S].id);if(B.stamp===M.rtt[S].stamp){this.pool.useObject(B);continue}}const z=this.pool.getOrCreateFreeObject();this.pool.useObject(z),this.pool.stampObject(z),M.rtt[S]={id:z.id,stamp:z.stamp},m.context.bindFramebuffer.set(z.fbo.framebuffer),m.context.clear({color:l.Color.transparent});for(let B=0;B<A.length;B++){const K=m.style._layers[A[B]],H=K.source?this._coordsDescendingInv[K.source][M.tileID.key]:[M.tileID];m.context.viewport.set([0,0,z.fbo.width,z.fbo.height]),m._renderTileClippingMasks(K,H),m.renderLayer(m,m.style.sourceCaches[K.source],K,H),K.source&&(M.rttCoords[K.source]=this._coordsDescendingInvStr[K.source][M.tileID.key])}}return Zs(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),ma[f]}return!1}}const Ou=P,Cr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},vs=v=>{v.touchstart=v.dragStart,v.touchmoveWindow=v.dragMove,v.touchend=v.dragEnd},Qc={showCompass:!0,showZoom:!0,visualizePitch:!1};class Zh{constructor(a,f,m=!1){this._clickTolerance=10;const _=a.dragRotate._mouseRotate.getClickTolerance(),S=a.dragRotate._mousePitch.getClickTolerance();this.element=f,this.mouseRotate=Pu({clickTolerance:_,enable:!0}),this.touchRotate=(({enable:A,clickTolerance:M,bearingDegreesPerPixelMoved:z=.8})=>{const B=new Yn;return new ms({clickTolerance:M,move:(K,H)=>({bearingDelta:(H.x-K.x)*z}),moveStateManager:B,enable:A,assignEvents:vs})})({clickTolerance:_,enable:!0}),this.map=a,m&&(this.mousePitch=Ks({clickTolerance:S,enable:!0}),this.touchPitch=(({enable:A,clickTolerance:M,pitchDegreesPerPixelMoved:z=-.5})=>{const B=new Yn;return new ms({clickTolerance:M,move:(K,H)=>({pitchDelta:(H.y-K.y)*z}),moveStateManager:B,enable:A,assignEvents:vs})})({clickTolerance:S,enable:!0})),l.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),I.addEventListener(f,"mousedown",this.mousedown),I.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),I.addEventListener(f,"touchcancel",this.reset)}startMouse(a,f){this.mouseRotate.dragStart(a,f),this.mousePitch&&this.mousePitch.dragStart(a,f),I.disableDrag()}startTouch(a,f){this.touchRotate.dragStart(a,f),this.touchPitch&&this.touchPitch.dragStart(a,f),I.disableDrag()}moveMouse(a,f){const m=this.map,{bearingDelta:_}=this.mouseRotate.dragMove(a,f)||{};if(_&&m.setBearing(m.getBearing()+_),this.mousePitch){const{pitchDelta:S}=this.mousePitch.dragMove(a,f)||{};S&&m.setPitch(m.getPitch()+S)}}moveTouch(a,f){const m=this.map,{bearingDelta:_}=this.touchRotate.dragMove(a,f)||{};if(_&&m.setBearing(m.getBearing()+_),this.touchPitch){const{pitchDelta:S}=this.touchPitch.dragMove(a,f)||{};S&&m.setPitch(m.getPitch()+S)}}off(){const a=this.element;I.removeEventListener(a,"mousedown",this.mousedown),I.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),I.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),I.removeEventListener(window,"touchend",this.touchend),I.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){I.enableDrag(),I.removeEventListener(window,"mousemove",this.mousemove),I.removeEventListener(window,"mouseup",this.mouseup),I.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),I.removeEventListener(window,"touchend",this.touchend)}mousedown(a){this.startMouse(l.extend({},a,{ctrlKey:!0,preventDefault:()=>a.preventDefault()}),I.mousePos(this.element,a)),I.addEventListener(window,"mousemove",this.mousemove),I.addEventListener(window,"mouseup",this.mouseup)}mousemove(a){this.moveMouse(a,I.mousePos(this.element,a))}mouseup(a){this.mouseRotate.dragEnd(a),this.mousePitch&&this.mousePitch.dragEnd(a),this.offTemp()}touchstart(a){a.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=I.touchPos(this.element,a.targetTouches)[0],this.startTouch(a,this._startPos),I.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),I.addEventListener(window,"touchend",this.touchend))}touchmove(a){a.targetTouches.length!==1?this.reset():(this._lastPos=I.touchPos(this.element,a.targetTouches)[0],this.moveTouch(a,this._lastPos))}touchend(a){a.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Jc(v,a,f){if(v=new l.LngLat(v.lng,v.lat),a){const m=new l.LngLat(v.lng-360,v.lat),_=new l.LngLat(v.lng+360,v.lat),S=f.locationPoint(v).distSqr(a);f.locationPoint(m).distSqr(a)<S?v=m:f.locationPoint(_).distSqr(a)<S&&(v=_)}for(;Math.abs(v.lng-f.center.lng)>180;){const m=f.locationPoint(v);if(m.x>=0&&m.y>=0&&m.x<=f.width&&m.y<=f.height)break;v.lng>f.center.lng?v.lng-=360:v.lng+=360}return v}const Qs={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Lu(v,a,f){const m=v.classList;for(const _ in Qs)m.remove(`maplibregl-${f}-anchor-${_}`);m.add(`maplibregl-${f}-anchor-${a}`)}class Ru extends l.Evented{constructor(a,f){if(super(),(a instanceof HTMLElement||f)&&(a=l.extend({element:a},f)),l.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,a&&a.element)this._element=a.element,this._offset=l.pointGeometry.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=I.create("div"),this._element.setAttribute("aria-label","Map marker");const m=I.createNS("http://www.w3.org/2000/svg","svg"),_=41,S=27;m.setAttributeNS(null,"display","block"),m.setAttributeNS(null,"height",`${_}px`),m.setAttributeNS(null,"width",`${S}px`),m.setAttributeNS(null,"viewBox",`0 0 ${S} ${_}`);const A=I.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"stroke","none"),A.setAttributeNS(null,"stroke-width","1"),A.setAttributeNS(null,"fill","none"),A.setAttributeNS(null,"fill-rule","evenodd");const M=I.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"fill-rule","nonzero");const z=I.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"transform","translate(3.0, 29.0)"),z.setAttributeNS(null,"fill","#000000");const B=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ae of B){const ye=I.createNS("http://www.w3.org/2000/svg","ellipse");ye.setAttributeNS(null,"opacity","0.04"),ye.setAttributeNS(null,"cx","10.5"),ye.setAttributeNS(null,"cy","5.80029008"),ye.setAttributeNS(null,"rx",Ae.rx),ye.setAttributeNS(null,"ry",Ae.ry),z.appendChild(ye)}const K=I.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"fill",this._color);const H=I.createNS("http://www.w3.org/2000/svg","path");H.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),K.appendChild(H);const ne=I.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"opacity","0.25"),ne.setAttributeNS(null,"fill","#000000");const de=I.createNS("http://www.w3.org/2000/svg","path");de.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ne.appendChild(de);const pe=I.createNS("http://www.w3.org/2000/svg","g");pe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),pe.setAttributeNS(null,"fill","#FFFFFF");const fe=I.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const we=I.createNS("http://www.w3.org/2000/svg","circle");we.setAttributeNS(null,"fill","#000000"),we.setAttributeNS(null,"opacity","0.25"),we.setAttributeNS(null,"cx","5.5"),we.setAttributeNS(null,"cy","5.5"),we.setAttributeNS(null,"r","5.4999962");const ke=I.createNS("http://www.w3.org/2000/svg","circle");ke.setAttributeNS(null,"fill","#FFFFFF"),ke.setAttributeNS(null,"cx","5.5"),ke.setAttributeNS(null,"cy","5.5"),ke.setAttributeNS(null,"r","5.4999962"),fe.appendChild(we),fe.appendChild(ke),M.appendChild(z),M.appendChild(K),M.appendChild(ne),M.appendChild(pe),M.appendChild(fe),m.appendChild(M),m.setAttributeNS(null,"height",_*this._scale+"px"),m.setAttributeNS(null,"width",S*this._scale+"px"),this._element.appendChild(m),this._offset=l.pointGeometry.convert(a&&a.offset||[0,-14])}this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",m=>{m.preventDefault()}),this._element.addEventListener("mousedown",m=>{m.preventDefault()}),Lu(this._element,this._anchor,"marker"),this._popup=null}addTo(a){return this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),I.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=l.LngLat.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const _=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(a){const f=a.code,m=a.charCode||a.keyCode;f!=="Space"&&f!=="Enter"&&m!==32&&m!==13||this.togglePopup()}_onMapClick(a){const f=a.originalEvent.target,m=this._element;this._popup&&(f===m||m.contains(f))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?a.remove():a.addTo(this._map),this):this}_update(a){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Jc(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(f=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let m="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?m="rotateX(0deg)":this._pitchAlignment==="map"&&(m=`rotateX(${this._map.getPitch()}deg)`),a&&a.type!=="moveend"||(this._pos=this._pos.round()),I.setTransform(this._element,`${Qs[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${m} ${f}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const _=this._map.unproject(this._pos),S=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=_.distanceTo(this._lngLat)>20*S?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(a){return this._offset=l.pointGeometry.convert(a),this._update(),this}_onMove(a){if(!this._isDragging){const f=this._clickTolerance||this._map._clickTolerance;this._isDragging=a.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=a.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new l.Event("dragstart"))),this.fire(new l.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new l.Event("dragend")),this._state="inactive"}_addDragHandler(a){this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(this._pos).add(this._offset),this._pointerdownPos=a.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Wm={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let $l,eh=0,Mu=!1;const Km={maxWidth:100,unit:"metric"};function Ld(v,a,f){const m=f&&f.maxWidth||100,_=v._container.clientHeight/2,S=v.unproject([0,_]),A=v.unproject([m,_]),M=S.distanceTo(A);if(f&&f.unit==="imperial"){const z=3.2808*M;z>5280?th(a,m,z/5280,v._getUIString("ScaleControl.Miles")):th(a,m,z,v._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?th(a,m,M/1852,v._getUIString("ScaleControl.NauticalMiles")):M>=1e3?th(a,m,M/1e3,v._getUIString("ScaleControl.Kilometers")):th(a,m,M,v._getUIString("ScaleControl.Meters"))}function th(v,a,f,m){const _=function(S){const A=Math.pow(10,`${Math.floor(S)}`.length-1);let M=S/A;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:function(z){const B=Math.pow(10,Math.ceil(-Math.log(z)/Math.LN10));return Math.round(z*B)/B}(M),A*M}(f);v.style.width=a*(_/f)+"px",v.innerHTML=`${_}&nbsp;${m}`}const c0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},h0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Xm(v){if(v){if(typeof v=="number"){const a=Math.round(Math.sqrt(.5*Math.pow(v,2)));return{center:new l.pointGeometry(0,0),top:new l.pointGeometry(0,v),"top-left":new l.pointGeometry(a,a),"top-right":new l.pointGeometry(-a,a),bottom:new l.pointGeometry(0,-v),"bottom-left":new l.pointGeometry(a,-a),"bottom-right":new l.pointGeometry(-a,-a),left:new l.pointGeometry(v,0),right:new l.pointGeometry(-v,0)}}if(v instanceof l.pointGeometry||Array.isArray(v)){const a=l.pointGeometry.convert(v);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:l.pointGeometry.convert(v.center||[0,0]),top:l.pointGeometry.convert(v.top||[0,0]),"top-left":l.pointGeometry.convert(v["top-left"]||[0,0]),"top-right":l.pointGeometry.convert(v["top-right"]||[0,0]),bottom:l.pointGeometry.convert(v.bottom||[0,0]),"bottom-left":l.pointGeometry.convert(v["bottom-left"]||[0,0]),"bottom-right":l.pointGeometry.convert(v["bottom-right"]||[0,0]),left:l.pointGeometry.convert(v.left||[0,0]),right:l.pointGeometry.convert(v.right||[0,0])}}return Xm(new l.pointGeometry(0,0))}const f0=P,Js={supported:y,setRTLTextPlugin:l.setRTLTextPlugin,getRTLTextPluginStatus:l.getRTLTextPluginStatus,Map:class extends vn{constructor(v){var a;if(l.PerformanceUtils.mark(l.PerformanceMarkers.create),(v=l.extend({},Cr,v)).minZoom!=null&&v.maxZoom!=null&&v.minZoom>v.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(v.minPitch!=null&&v.maxPitch!=null&&v.minPitch>v.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(v.minPitch!=null&&v.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(v.maxPitch!=null&&v.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Ua(v.minZoom,v.maxZoom,v.minPitch,v.maxPitch,v.renderWorldCopies),{bearingSnap:v.bearingSnap}),this._interactive=v.interactive,this._cooperativeGestures=v.cooperativeGestures,this._maxTileCacheSize=v.maxTileCacheSize,this._failIfMajorPerformanceCaveat=v.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=v.preserveDrawingBuffer,this._antialias=v.antialias,this._trackResize=v.trackResize,this._bearingSnap=v.bearingSnap,this._refreshExpiredTiles=v.refreshExpiredTiles,this._fadeDuration=v.fadeDuration,this._crossSourceCollisions=v.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=v.collectResourceTiming,this._renderTaskQueue=new Ys,this._controls=[],this._mapId=l.uniqueId(),this._locale=l.extend({},Go,v.locale),this._clickTolerance=v.clickTolerance,this._pixelRatio=(a=v.pixelRatio)!==null&&a!==void 0?a:devicePixelRatio,this._imageQueueHandle=Y.addThrottleControl(()=>this.isMoving()),this._requestManager=new J(v.transformRequest),typeof v.container=="string"){if(this._container=document.getElementById(v.container),!this._container)throw new Error(`Container '${v.container}' not found.`)}else{if(!(v.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=v.container}v.maxBounds&&this.setMaxBounds(v.maxBounds),l.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Tt(this,v),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=v.hash&&new qh(typeof v.hash=="string"&&v.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch}),v.bounds&&(this.resize(),this.fitBounds(v.bounds,l.extend({},v.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=v.localIdeographFontFamily,v.style&&this.setStyle(v.style,{localIdeographFontFamily:v.localIdeographFontFamily}),v.attributionControl&&this.addControl(new di({customAttribution:v.customAttribution})),v.maplibreLogo&&this.addControl(new qo,v.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",f=>{this._update(f.dataType==="style"),this.fire(new l.Event(`${f.dataType}data`,f))}),this.on("dataloading",f=>{this.fire(new l.Event(`${f.dataType}dataloading`,f))}),this.on("dataabort",f=>{this.fire(new l.Event("sourcedataabort",f))})}_getMapId(){return this._mapId}addControl(v,a){if(a===void 0&&(a=v.getDefaultPosition?v.getDefaultPosition():"top-right"),!v||!v.onAdd)return this.fire(new l.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=v.onAdd(this);this._controls.push(v);const m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(f,m.firstChild):m.appendChild(f),this}removeControl(v){if(!v||!v.onRemove)return this.fire(new l.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(v);return a>-1&&this._controls.splice(a,1),v.onRemove(this),this}hasControl(v){return this._controls.indexOf(v)>-1}calculateCameraOptionsFromTo(v,a,f,m){return m==null&&this.terrain&&(m=this.transform.getElevation(f,this.terrain)),super.calculateCameraOptionsFromTo(v,a,f,m)}resize(v){const a=this._containerDimensions(),f=a[0],m=a[1];this._resizeCanvas(f,m,this.getPixelRatio()),this.transform.resize(f,m),this.painter.resize(f,m,this.getPixelRatio());const _=!this._moving;return _&&(this.stop(),this.fire(new l.Event("movestart",v)).fire(new l.Event("move",v))),this.fire(new l.Event("resize",v)),_&&this.fire(new l.Event("moveend",v)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(v){const[a,f]=this._containerDimensions();this._pixelRatio=v,this._resizeCanvas(a,f,v),this.painter.resize(a,f,v)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(v){return this.transform.setMaxBounds(l.LngLatBounds.convert(v)),this._update()}setMinZoom(v){if((v=v??-2)>=-2&&v<=this.transform.maxZoom)return this.transform.minZoom=v,this._update(),this.getZoom()<v&&this.setZoom(v),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(v){if((v=v??22)>=this.transform.minZoom)return this.transform.maxZoom=v,this._update(),this.getZoom()>v&&this.setZoom(v),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(v){if((v=v??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(v>=0&&v<=this.transform.maxPitch)return this.transform.minPitch=v,this._update(),this.getPitch()<v&&this.setPitch(v),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(v){if((v=v??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(v>=this.transform.minPitch)return this.transform.maxPitch=v,this._update(),this.getPitch()>v&&this.setPitch(v),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(v){return this.transform.renderWorldCopies=v,this._update()}project(v){return this.transform.locationPoint(l.LngLat.convert(v),this.style&&this.terrain)}unproject(v){return this.transform.pointLocation(l.pointGeometry.convert(v),this.terrain)}isMoving(){var v;return this._moving||((v=this.handlers)===null||v===void 0?void 0:v.isMoving())}isZooming(){var v;return this._zooming||((v=this.handlers)===null||v===void 0?void 0:v.isZooming())}isRotating(){var v;return this._rotating||((v=this.handlers)===null||v===void 0?void 0:v.isRotating())}_createDelegatedListener(v,a,f){if(v==="mouseenter"||v==="mouseover"){let m=!1;return{layer:a,listener:f,delegates:{mousemove:S=>{const A=this.getLayer(a)?this.queryRenderedFeatures(S.point,{layers:[a]}):[];A.length?m||(m=!0,f.call(this,new ro(v,this,S.originalEvent,{features:A}))):m=!1},mouseout:()=>{m=!1}}}}if(v==="mouseleave"||v==="mouseout"){let m=!1;return{layer:a,listener:f,delegates:{mousemove:A=>{(this.getLayer(a)?this.queryRenderedFeatures(A.point,{layers:[a]}):[]).length?m=!0:m&&(m=!1,f.call(this,new ro(v,this,A.originalEvent)))},mouseout:A=>{m&&(m=!1,f.call(this,new ro(v,this,A.originalEvent)))}}}}{const m=_=>{const S=this.getLayer(a)?this.queryRenderedFeatures(_.point,{layers:[a]}):[];S.length&&(_.features=S,f.call(this,_),delete _.features)};return{layer:a,listener:f,delegates:{[v]:m}}}}on(v,a,f){if(f===void 0)return super.on(v,a);const m=this._createDelegatedListener(v,a,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[v]=this._delegatedListeners[v]||[],this._delegatedListeners[v].push(m);for(const _ in m.delegates)this.on(_,m.delegates[_]);return this}once(v,a,f){if(f===void 0)return super.once(v,a);const m=this._createDelegatedListener(v,a,f);for(const _ in m.delegates)this.once(_,m.delegates[_]);return this}off(v,a,f){return f===void 0?super.off(v,a):(this._delegatedListeners&&this._delegatedListeners[v]&&(m=>{const _=this._delegatedListeners[v];for(let S=0;S<_.length;S++){const A=_[S];if(A.layer===a&&A.listener===f){for(const M in A.delegates)this.off(M,A.delegates[M]);return _.splice(S,1),this}}})(),this)}queryRenderedFeatures(v,a){if(!this.style)return[];let f;const m=v instanceof l.pointGeometry||Array.isArray(v),_=m?v:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:v)||{},_ instanceof l.pointGeometry||typeof _[0]=="number")f=[l.pointGeometry.convert(_)];else{const S=l.pointGeometry.convert(_[0]),A=l.pointGeometry.convert(_[1]);f=[S,new l.pointGeometry(A.x,S.y),A,new l.pointGeometry(S.x,A.y),S]}return this.style.queryRenderedFeatures(f,a,this.transform)}querySourceFeatures(v,a){return this.style.querySourceFeatures(v,a)}setStyle(v,a){return(a=l.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&v?(this._diffStyle(v,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(v,a))}setTransformRequest(v){return this._requestManager.setTransformRequest(v),this}_getUIString(v){const a=this._locale[v];if(a==null)throw new Error(`Missing UI string '${v}'`);return a}_updateStyle(v,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(v,a));const f=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!v)),v?(this.style=new Qi(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof v=="string"?this.style.loadURL(v,a,f):this.style.loadJSON(v,a,f),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Qi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(v,a){if(typeof v=="string"){const f=this._requestManager.transformRequest(v,ee.Style);l.getJSON(f,(m,_)=>{m?this.fire(new l.ErrorEvent(m)):_&&this._updateDiff(_,a)})}else typeof v=="object"&&this._updateDiff(v,a)}_updateDiff(v,a){try{this.style.setState(v,a)&&this._update(!0)}catch(f){l.warnOnce(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(v,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():l.warnOnce("There is no style added to the map.")}addSource(v,a){return this._lazyInitEmptyStyle(),this.style.addSource(v,a),this._update(!0)}isSourceLoaded(v){const a=this.style&&this.style.sourceCaches[v];if(a!==void 0)return a.loaded();this.fire(new l.ErrorEvent(new Error(`There is no source with ID '${v}'`)))}setTerrain(v){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),v){const a=this.style.sourceCaches[v.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${v.source}`);this.terrain=new Iu(this.painter,a,v),this.painter.renderToTexture=new ku(this.painter,this.terrain),this.transform.updateElevation(this.terrain),this._terrainDataCallback=f=>{f.dataType==="style"?this.terrain.sourceCache.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId===v.source&&this.transform.updateElevation(this.terrain),this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.updateElevation(this.terrain);return this.fire(new l.Event("terrain",{terrain:v})),this}getTerrain(){return this.terrain&&this.terrain.options}areTilesLoaded(){const v=this.style&&this.style.sourceCaches;for(const a in v){const f=v[a]._tiles;for(const m in f){const _=f[m];if(_.state!=="loaded"&&_.state!=="errored")return!1}}return!0}addSourceType(v,a,f){return this._lazyInitEmptyStyle(),this.style.addSourceType(v,a,f)}removeSource(v){return this.style.removeSource(v),this._update(!0)}getSource(v){return this.style.getSource(v)}addImage(v,a,{pixelRatio:f=1,sdf:m=!1,stretchX:_,stretchY:S,content:A}={}){if(this._lazyInitEmptyStyle(),a instanceof HTMLImageElement||l.isImageBitmap(a)){const{width:M,height:z,data:B}=l.exported.getImageData(a);this.style.addImage(v,{data:new l.RGBAImage({width:M,height:z},B),pixelRatio:f,stretchX:_,stretchY:S,content:A,sdf:m,version:0})}else{if(a.width===void 0||a.height===void 0)return this.fire(new l.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:M,height:z,data:B}=a,K=a;this.style.addImage(v,{data:new l.RGBAImage({width:M,height:z},new Uint8Array(B)),pixelRatio:f,stretchX:_,stretchY:S,content:A,sdf:m,version:0,userImage:K}),K.onAdd&&K.onAdd(this,v)}}}updateImage(v,a){const f=this.style.getImage(v);if(!f)return this.fire(new l.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=a instanceof HTMLImageElement||l.isImageBitmap(a)?l.exported.getImageData(a):a,{width:_,height:S,data:A}=m;if(_===void 0||S===void 0)return this.fire(new l.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==f.data.width||S!==f.data.height)return this.fire(new l.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const M=!(a instanceof HTMLImageElement||l.isImageBitmap(a));f.data.replace(A,M),this.style.updateImage(v,f)}hasImage(v){return v?!!this.style.getImage(v):(this.fire(new l.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(v){this.style.removeImage(v)}loadImage(v,a){Y.getImage(this._requestManager.transformRequest(v,ee.Image),a)}listImages(){return this.style.listImages()}addLayer(v,a){return this._lazyInitEmptyStyle(),this.style.addLayer(v,a),this._update(!0)}moveLayer(v,a){return this.style.moveLayer(v,a),this._update(!0)}removeLayer(v){return this.style.removeLayer(v),this._update(!0)}getLayer(v){return this.style.getLayer(v)}setLayerZoomRange(v,a,f){return this.style.setLayerZoomRange(v,a,f),this._update(!0)}setFilter(v,a,f={}){return this.style.setFilter(v,a,f),this._update(!0)}getFilter(v){return this.style.getFilter(v)}setPaintProperty(v,a,f,m={}){return this.style.setPaintProperty(v,a,f,m),this._update(!0)}getPaintProperty(v,a){return this.style.getPaintProperty(v,a)}setLayoutProperty(v,a,f,m={}){return this.style.setLayoutProperty(v,a,f,m),this._update(!0)}getLayoutProperty(v,a){return this.style.getLayoutProperty(v,a)}setGlyphs(v,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(v,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(v,a,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(v,a,f,m=>{m||this._update(!0)}),this}removeSprite(v){return this._lazyInitEmptyStyle(),this.style.removeSprite(v),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(v,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(v,a,f=>{f||this._update(!0)}),this}setLight(v,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(v,a),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(v,a){return this.style.setFeatureState(v,a),this._update()}removeFeatureState(v,a){return this.style.removeFeatureState(v,a),this._update()}getFeatureState(v){return this.style.getFeatureState(v)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let v=0,a=0;return this._container&&(v=this._container.clientWidth||400,a=this._container.clientHeight||300),[v,a]}_setupContainer(){const v=this._container;v.classList.add("maplibregl-map");const a=this._canvasContainer=I.create("div","maplibregl-canvas-container",v);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=I.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const f=this._containerDimensions();this._resizeCanvas(f[0],f[1],this.getPixelRatio());const m=this._controlContainer=I.create("div","maplibregl-control-container",v),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(S=>{_[S]=I.create("div",`maplibregl-ctrl-${S} `,m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const v=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=I.create("div","maplibregl-cooperative-gesture-screen",v);let a="Control",f=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(f=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map",a="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${f}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",m=>{m.key===a&&(this._metaPress=!0)}),document.addEventListener("keyup",m=>{m.key===a&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",m=>{this._onCooperativeGesture(m,this._metaPress,1)},!1),this._canvasContainer.classList.remove("maplibregl-touch-drag-pan")}_resizeCanvas(v,a,f){this._canvas.width=f*v,this._canvas.height=f*a,this._canvas.style.width=`${v}px`,this._canvas.style.height=`${a}px`}_setupPainter(){const v=l.extend({},y.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1});let a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:v},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});const f=this._canvas.getContext("webgl",v)||this._canvas.getContext("experimental-webgl",v);if(!f){const m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new xo(f,this.transform),F.testSupport(f)}_contextLost(v){v.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new l.Event("webglcontextlost",{originalEvent:v}))}_contextRestored(v){this._setupPainter(),this.resize(),this._update(),this.fire(new l.Event("webglcontextrestored",{originalEvent:v}))}_onMapScroll(v){if(v.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(v,a,f){return!a&&f<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(v){return this.style?(this._styleDirty=this._styleDirty||v,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(v){return this._update(),this._renderTaskQueue.add(v)}_cancelRenderFrame(v){this._renderTaskQueue.remove(v)}_render(v){let a,f=0;const m=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(a=m.createQueryEXT(),m.beginQueryEXT(m.TIME_ELAPSED_EXT,a),f=l.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(v),this._removed)return;let _=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const A=this.transform.zoom,M=l.exported.now();this.style.zoomHistory.update(A,M);const z=new l.EvaluationParameters(A,{now:M,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),B=z.crossFadingFactor();B===1&&B===this._crossFadingFactor||(_=!0,this._crossFadingFactor=B),this.style.update(z)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain&&this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.updateElevation(this.terrain),this._imageQueueDirty=Y.processQueue()>0,this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new l.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,l.PerformanceUtils.mark(l.PerformanceMarkers.load),this.fire(new l.Event("load"))),this.style&&(this.style.hasTransitions()||_)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const A=l.exported.now()-f;m.endQueryEXT(m.TIME_ELAPSED_EXT,a),setTimeout(()=>{const M=m.getQueryObjectEXT(a,m.QUERY_RESULT_EXT)/1e6;m.deleteQueryEXT(a),this.fire(new l.Event("gpu-timing-frame",{cpuTime:A,gpuTime:M}))},50)}if(this.listens("gpu-timing-layer")){const A=this.painter.collectGpuTimers();setTimeout(()=>{const M=this.painter.queryGpuTimers(A);this.fire(new l.Event("gpu-timing-layer",{layerTimes:M}))},50)}const S=this._sourcesDirty||this._styleDirty||this._placementDirty||this._imageQueueDirty;return S||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new l.Event("idle")),!this._loaded||this._fullyLoaded||S||(this._fullyLoaded=!0,l.PerformanceUtils.mark(l.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const a of this._controls)a.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1)),Y.removeThrottleControl(this._imageQueueHandle);const v=this.painter.context.gl.getExtension("WEBGL_lose_context");v&&v.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),I.remove(this._canvasContainer),I.remove(this._controlContainer),this._cooperativeGestures&&I.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map"),l.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new l.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=l.exported.frame(v=>{l.PerformanceUtils.frame(v),this._frame=null,this._render(v)}))}_onWindowOnline(){this._update()}_onWindowResize(v){this._trackResize&&this.resize({originalEvent:v})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(v){this._showTileBoundaries!==v&&(this._showTileBoundaries=v,this._update())}get showPadding(){return!!this._showPadding}set showPadding(v){this._showPadding!==v&&(this._showPadding=v,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(v){this._showCollisionBoxes!==v&&(this._showCollisionBoxes=v,v?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(v){this._showOverdrawInspector!==v&&(this._showOverdrawInspector=v,this._update())}get repaint(){return!!this._repaint}set repaint(v){this._repaint!==v&&(this._repaint=v,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(v){this._vertices=v,this._update()}get version(){return Ou}getCameraTargetElevation(){return this.transform.elevation}},NavigationControl:class{constructor(v){this.options=l.extend({},Qc,v),this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(l.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),I.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),I.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(l.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=I.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const v=this._map.getZoom(),a=v===this._map.getMaxZoom(),f=v===this._map.getMinZoom();this._zoomInButton.disabled=a,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",a.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())}_rotateCompassArrow(){const v=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=v}onAdd(v){return this._map=v,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zh(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){I.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(v,a){const f=I.create("button",v,this._container);return f.type="button",f.addEventListener("click",a),f}_setButtonTitle(v,a){const f=this._map._getUIString(`NavigationControl.${a}`);v.title=f,v.setAttribute("aria-label",f)}},GeolocateControl:class extends l.Evented{constructor(v){super(),this.options=l.extend({},Wm,v),l.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(v){var a;return this._map=v,this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),a=this._setupUI,$l!==void 0?a($l):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(f=>{$l=f.state!=="denied",a($l)}):($l=!!window.navigator.geolocation,a($l)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),I.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,eh=0,Mu=!1}_isOutOfMapMaxBounds(v){const a=this._map.getMaxBounds(),f=v.coords;return a&&(f.longitude<a.getWest()||f.longitude>a.getEast()||f.latitude<a.getSouth()||f.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(v){if(this._map){if(this._isOutOfMapMaxBounds(v))return this._setErrorState(),this.fire(new l.Event("outofmaxbounds",v)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=v,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(v),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(v),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new l.Event("geolocate",v)),this._finish()}}_updateCamera(v){const a=new l.LngLat(v.coords.longitude,v.coords.latitude),f=v.coords.accuracy,m=this._map.getBearing(),_=l.extend({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(a.toBounds(f),_,{geolocateSource:!0})}_updateMarker(v){if(v){const a=new l.LngLat(v.coords.longitude,v.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=v.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const v=this._map._container.clientHeight/2,a=this._map.unproject([0,v]),f=this._map.unproject([1,v]),m=a.distanceTo(f),_=Math.ceil(2*this._accuracy/m);this._circleElement.style.width=`${_}px`,this._circleElement.style.height=`${_}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(v){if(this._map){if(this.options.trackUserLocation)if(v.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(v.code===3&&Mu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new l.Event("error",v)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(v){if(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=I.create("button","maplibregl-ctrl-geolocate",this._container),I.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",v===!1){l.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}else{const a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=I.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ru(this._dotElement),this._circleElement=I.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ru({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",a=>{a.geolocateSource||this._watchState!=="ACTIVE_LOCK"||a.originalEvent&&a.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new l.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return l.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":eh--,Mu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new l.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let v;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),eh++,eh>1?(v={maximumAge:6e5,timeout:0},Mu=!0):(v=this.options.positionOptions,Mu=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,v)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:di,LogoControl:qo,ScaleControl:class{constructor(v){this.options=l.extend({},Km,v),l.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Ld(this._map,this._container,this.options)}onAdd(v){return this._map=v,this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-scale",v.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){I.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(v){this.options.unit=v,Ld(this._map,this._container,this.options)}},FullscreenControl:class extends l.Evented{constructor(v={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,v&&v.container&&(v.container instanceof HTMLElement?this._container=v.container:l.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(v){return this._map=v,this._container||(this._container=this._map.getContainer()),this._controlContainer=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){I.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const v=this._fullscreenButton=I.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);I.create("span","maplibregl-ctrl-icon",v).setAttribute("aria-hidden","true"),v.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const v=this._getTitle();this._fullscreenButton.setAttribute("aria-label",v),this._fullscreenButton.title=v}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this.fire(new l.Event(this._fullscreen?"fullscreenstart":"fullscreenend"))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},TerrainControl:class{constructor(v){this.options=v,l.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(v){return this._map=v,this._container=I.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=I.create("button","maplibregl-ctrl-terrain",this._container),I.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){I.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends l.Evented{constructor(v){super(),this.options=l.extend(Object.create(c0),v),l.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(v){return this._map&&this.remove(),this._map=v,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new l.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&I.remove(this._content),this._container&&(I.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new l.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(v){return this._lngLat=l.LngLat.convert(v),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(v){return this.setDOMContent(document.createTextNode(v))}setHTML(v){const a=document.createDocumentFragment(),f=document.createElement("body");let m;for(f.innerHTML=v;m=f.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(v){return this.options.maxWidth=v,this._update(),this}setDOMContent(v){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=I.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(v),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(v){this._container&&this._container.classList.add(v)}removeClassName(v){this._container&&this._container.classList.remove(v)}setOffset(v){return this.options.offset=v,this._update(),this}toggleClassName(v){if(this._container)return this._container.classList.toggle(v)}_createCloseButton(){this.options.closeButton&&(this._closeButton=I.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(v){this._update(v.point)}_onMouseMove(v){this._update(v.point)}_onDrag(v){this._update(v.point)}_update(v){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=I.create("div","maplibregl-popup",this._map.getContainer()),this._tip=I.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(S=>this._container.classList.add(S)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Jc(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!v))return;const a=this._pos=this._trackPointer&&v?v:this._map.project(this._lngLat);let f=this.options.anchor;const m=Xm(this.options.offset);if(!f){const S=this._container.offsetWidth,A=this._container.offsetHeight;let M;M=a.y+m.bottom.y<A?["top"]:a.y>this._map.transform.height-A?["bottom"]:[],a.x<S/2?M.push("left"):a.x>this._map.transform.width-S/2&&M.push("right"),f=M.length===0?"bottom":M.join("-")}const _=a.add(m[f]).round();I.setTransform(this._container,`${Qs[f]} translate(${_.x}px,${_.y}px)`),Lu(this._container,f,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const v=this._container.querySelector(h0);v&&v.focus()}_onClose(){this.remove()}},Marker:Ru,Style:Qi,LngLat:l.LngLat,LngLatBounds:l.LngLatBounds,Point:l.pointGeometry,MercatorCoordinate:l.MercatorCoordinate,Evented:l.Evented,AJAXError:l.AJAXError,config:l.config,CanvasSource:Wn,GeoJSONSource:Kt,ImageSource:tn,RasterDEMTileSource:rt,RasterTileSource:Pn,VectorTileSource:an,VideoSource:Zn,prewarm:function(){na().acquire(Li)},clearPrewarmedResources:function(){const v=wn;v&&(v.isPreloaded()&&v.numActive()===1?(v.release(Li),wn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return f0},get workerCount(){return or.workerCount},set workerCount(v){or.workerCount=v},get maxParallelImageRequests(){return l.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(v){l.config.MAX_PARALLEL_IMAGE_REQUESTS=v},workerUrl:"",addProtocol(v,a){l.config.REGISTERED_PROTOCOLS[v]=a},removeProtocol(v){delete l.config.REGISTERED_PROTOCOLS[v]}};return Qt.extend(Js,{isSafari:l.isSafari,getPerformanceMetrics:l.PerformanceUtils.getPerformanceMetrics}),Js});var d=i;return d})})(iD);var JH=iD.exports;const Tn=md(JH),aD="3.7.5",eZ=aD,tZ=typeof atob=="function",nZ=typeof btoa=="function",Ad=typeof Buffer=="function",PA=typeof TextDecoder=="function"?new TextDecoder:void 0,AA=typeof TextEncoder=="function"?new TextEncoder:void 0,rZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Tp=Array.prototype.slice.call(rZ),ov=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Tp),iZ=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Gi=String.fromCharCode.bind(String),IA=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),sD=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),lD=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),uD=e=>{let t,n,r,i,u="";const d=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(i=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,u+=Tp[t>>18&63]+Tp[t>>12&63]+Tp[t>>6&63]+Tp[t&63]}return d?u.slice(0,d-3)+"===".substring(d):u},WS=nZ?e=>btoa(e):Ad?e=>Buffer.from(e,"binary").toString("base64"):uD,rw=Ad?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,i=e.length;r<i;r+=4096)n.push(Gi.apply(null,e.subarray(r,r+4096)));return WS(n.join(""))},Bv=(e,t=!1)=>t?sD(rw(e)):rw(e),oZ=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Gi(192|t>>>6)+Gi(128|t&63):Gi(224|t>>>12&15)+Gi(128|t>>>6&63)+Gi(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Gi(240|t>>>18&7)+Gi(128|t>>>12&63)+Gi(128|t>>>6&63)+Gi(128|t&63)}},aZ=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,cD=e=>e.replace(aZ,oZ),kA=Ad?e=>Buffer.from(e,"utf8").toString("base64"):AA?e=>rw(AA.encode(e)):e=>WS(cD(e)),Wf=(e,t=!1)=>t?sD(kA(e)):kA(e),OA=e=>Wf(e,!0),sZ=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,lZ=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Gi((n>>>10)+55296)+Gi((n&1023)+56320);case 3:return Gi((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Gi((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},hD=e=>e.replace(sZ,lZ),fD=e=>{if(e=e.replace(/\s+/g,""),!iZ.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,i;for(let u=0;u<e.length;)t=ov[e.charAt(u++)]<<18|ov[e.charAt(u++)]<<12|(r=ov[e.charAt(u++)])<<6|(i=ov[e.charAt(u++)]),n+=r===64?Gi(t>>16&255):i===64?Gi(t>>16&255,t>>8&255):Gi(t>>16&255,t>>8&255,t&255);return n},KS=tZ?e=>atob(lD(e)):Ad?e=>Buffer.from(e,"base64").toString("binary"):fD,dD=Ad?e=>IA(Buffer.from(e,"base64")):e=>IA(KS(e).split("").map(t=>t.charCodeAt(0))),pD=e=>dD(mD(e)),uZ=Ad?e=>Buffer.from(e,"base64").toString("utf8"):PA?e=>PA.decode(dD(e)):e=>hD(KS(e)),mD=e=>lD(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),iw=e=>uZ(mD(e)),cZ=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},gD=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),vD=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,gD(n));e("fromBase64",function(){return iw(this)}),e("toBase64",function(t){return Wf(this,t)}),e("toBase64URI",function(){return Wf(this,!0)}),e("toBase64URL",function(){return Wf(this,!0)}),e("toUint8Array",function(){return pD(this)})},yD=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,gD(n));e("toBase64",function(t){return Bv(this,t)}),e("toBase64URI",function(){return Bv(this,!0)}),e("toBase64URL",function(){return Bv(this,!0)})},hZ=()=>{vD(),yD()},fZ={version:aD,VERSION:eZ,atob:KS,atobPolyfill:fD,btoa:WS,btoaPolyfill:uD,fromBase64:iw,toBase64:Wf,encode:Wf,encodeURI:OA,encodeURL:OA,utob:cD,btou:hD,decode:iw,isValid:cZ,fromUint8Array:Bv,toUint8Array:pD,extendString:vD,extendUint8Array:yD,extendBuiltins:hZ};let av;const dZ=new Uint8Array(16);function pZ(){if(!av&&(av=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!av))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return av(dZ)}const Ui=[];for(let e=0;e<256;++e)Ui.push((e+256).toString(16).slice(1));function mZ(e,t=0){return(Ui[e[t+0]]+Ui[e[t+1]]+Ui[e[t+2]]+Ui[e[t+3]]+"-"+Ui[e[t+4]]+Ui[e[t+5]]+"-"+Ui[e[t+6]]+Ui[e[t+7]]+"-"+Ui[e[t+8]]+Ui[e[t+9]]+"-"+Ui[e[t+10]]+Ui[e[t+11]]+Ui[e[t+12]]+Ui[e[t+13]]+Ui[e[t+14]]+Ui[e[t+15]]).toLowerCase()}const gZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),LA={randomUUID:gZ};function vZ(e,t,n){if(LA.randomUUID&&!t&&!e)return LA.randomUUID();e=e||{};const r=e.random||(e.rng||pZ)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return mZ(r)}var XS={exports:{}},Kf=typeof Reflect=="object"?Reflect:null,RA=Kf&&typeof Kf.apply=="function"?Kf.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Uv;Kf&&typeof Kf.ownKeys=="function"?Uv=Kf.ownKeys:Object.getOwnPropertySymbols?Uv=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Uv=function(t){return Object.getOwnPropertyNames(t)};function yZ(e){console&&console.warn&&console.warn(e)}var _D=Number.isNaN||function(t){return t!==t};function _r(){_r.init.call(this)}XS.exports=_r;XS.exports.once=wZ;_r.EventEmitter=_r;_r.prototype._events=void 0;_r.prototype._eventsCount=0;_r.prototype._maxListeners=void 0;var MA=10;function s0(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(_r,"defaultMaxListeners",{enumerable:!0,get:function(){return MA},set:function(e){if(typeof e!="number"||e<0||_D(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");MA=e}});_r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};_r.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||_D(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function xD(e){return e._maxListeners===void 0?_r.defaultMaxListeners:e._maxListeners}_r.prototype.getMaxListeners=function(){return xD(this)};_r.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",u=this._events;if(u!==void 0)i=i&&u.error===void 0;else if(!i)return!1;if(i){var d;if(n.length>0&&(d=n[0]),d instanceof Error)throw d;var l=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw l.context=d,l}var y=u[t];if(y===void 0)return!1;if(typeof y=="function")RA(y,this,n);else for(var w=y.length,C=TD(y,w),r=0;r<w;++r)RA(C[r],this,n);return!0};function bD(e,t,n,r){var i,u,d;if(s0(n),u=e._events,u===void 0?(u=e._events=Object.create(null),e._eventsCount=0):(u.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),u=e._events),d=u[t]),d===void 0)d=u[t]=n,++e._eventsCount;else if(typeof d=="function"?d=u[t]=r?[n,d]:[d,n]:r?d.unshift(n):d.push(n),i=xD(e),i>0&&d.length>i&&!d.warned){d.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=d.length,yZ(l)}return e}_r.prototype.addListener=function(t,n){return bD(this,t,n,!1)};_r.prototype.on=_r.prototype.addListener;_r.prototype.prependListener=function(t,n){return bD(this,t,n,!0)};function _Z(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function wD(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=_Z.bind(r);return i.listener=n,r.wrapFn=i,i}_r.prototype.once=function(t,n){return s0(n),this.on(t,wD(this,t,n)),this};_r.prototype.prependOnceListener=function(t,n){return s0(n),this.prependListener(t,wD(this,t,n)),this};_r.prototype.removeListener=function(t,n){var r,i,u,d,l;if(s0(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(u=-1,d=r.length-1;d>=0;d--)if(r[d]===n||r[d].listener===n){l=r[d].listener,u=d;break}if(u<0)return this;u===0?r.shift():xZ(r,u),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,l||n)}return this};_r.prototype.off=_r.prototype.removeListener;_r.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var u=Object.keys(r),d;for(i=0;i<u.length;++i)d=u[i],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function SD(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?bZ(i):TD(i,i.length)}_r.prototype.listeners=function(t){return SD(this,t,!0)};_r.prototype.rawListeners=function(t){return SD(this,t,!1)};_r.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):ED.call(e,t)};_r.prototype.listenerCount=ED;function ED(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}_r.prototype.eventNames=function(){return this._eventsCount>0?Uv(this._events):[]};function TD(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function xZ(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function bZ(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function wZ(e,t){return new Promise(function(n,r){function i(d){e.removeListener(t,u),r(d)}function u(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}CD(e,t,u,{once:!0}),t!=="error"&&SZ(e,i,{once:!0})})}function SZ(e,t,n){typeof e.on=="function"&&CD(e,"error",t,n)}function CD(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(u){r.once&&e.removeEventListener(t,i),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var EZ=XS.exports;const TZ=md(EZ);function CZ(){return typeof self<"u"?fetch.bind(self):typeof global<"u"&&global.fetch?global.fetch:null}class PZ{constructor(){this._apiKey="",this._fetch=CZ()}set apiKey(t){this._apiKey=t}get apiKey(){return this._apiKey}set fetch(t){this._fetch=t}get fetch(){return this._fetch}}const Xf=new PZ,AZ={AUTO:"auto",ALBANIAN:"sq",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HUNGARIAN:"hu",ICELANDIC:"is",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALTESE:"mt",NORWEGIAN:"no",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(AZ));var IZ=(e,t,n)=>new Promise((r,i)=>{var u=y=>{try{l(n.next(y))}catch(w){i(w)}},d=y=>{try{l(n.throw(y))}catch(w){i(w)}},l=y=>y.done?r(y.value):Promise.resolve(y.value).then(u,d);l((n=n.apply(e,t)).next())});function kZ(e){return IZ(this,arguments,function*(t,n={}){if(Xf.fetch===null)throw new Error("The fetch function was not found. If on NodeJS < 18 please specify the fetch function with config.fetch");if(new URL(t).searchParams.get("key").trim()==="")throw new Error("The MapTiler Cloud API key is missing. Set it in `config.apiKey` or get one for free at https://maptiler.com");return Xf.fetch(t,n)})}const PD={maptilerApiURL:"https://api.maptiler.com/",mapStyle:"streets-v2"};Object.freeze(PD);class OZ extends Error{constructor(t,n=""){super(`Call to enpoint ${t.url} failed with the status code ${t.status}. ${n}`),this.res=t}}var LZ=(e,t,n)=>new Promise((r,i)=>{var u=y=>{try{l(n.next(y))}catch(w){i(w)}},d=y=>{try{l(n.throw(y))}catch(w){i(w)}},l=y=>y.done?r(y.value):Promise.resolve(y.value).then(u,d);l((n=n.apply(e,t)).next())});const DA={403:"Key is missing, invalid or restricted"};function RZ(){return LZ(this,arguments,function*(e={}){var t;const n=new URL("geolocation/ip.json",PD.maptilerApiURL);n.searchParams.set("key",(t=e.apiKey)!=null?t:Xf.apiKey);const r=n.toString(),i=yield kZ(r);if(!i.ok)throw new OZ(i,i.status in DA?DA[i.status]:"");return yield i.json()})}const zA={info:RZ};function AD(e){const t=/^maptiler:\/\/(.*)/;let n;const r=e.trim();let i;return r.startsWith("http://")||r.startsWith("https://")?i=r:(n=t.exec(r))!==null?i=`https://api.maptiler.com/maps/${n[1]}/style.json`:i=`https://api.maptiler.com/maps/${r}/style.json`,i}class ID{constructor(t,n,r,i,u,d){this.name=t,this.variantType=n,this.id=r,this.referenceStyle=i,this.description=u,this.imageURL=d}getName(){return this.name}getFullName(){return`${this.referenceStyle.getName()} ${this.name}`}getType(){return this.variantType}getId(){return this.id}getDescription(){return this.description}getReferenceStyle(){return this.referenceStyle}hasVariant(t){return this.referenceStyle.hasVariant(t)}getVariant(t){return this.referenceStyle.getVariant(t)}getVariants(){return this.referenceStyle.getVariants().filter(t=>t!==this)}getImageURL(){return this.imageURL}getExpandedStyleURL(){return AD(this.getId())}}class kD{constructor(t,n){this.name=t,this.id=n,this.variants={},this.orderedVariants=[]}getName(){return this.name}getId(){return this.id}addVariant(t){this.variants[t.getType()]=t,this.orderedVariants.push(t)}hasVariant(t){return t in this.variants}getVariant(t){return t in this.variants?this.variants[t]:this.orderedVariants[0]}getVariants(){return Object.values(this.variants)}getDefaultVariant(){return this.orderedVariants[0]}}const ow=[{referenceStyleID:"STREETS",name:"Streets",description:"",variants:[{id:"streets-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"streets-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"streets-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"streets-v2-night",name:"Night",variantType:"NIGHT",description:"",imageURL:""},{id:"streets-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OUTDOOR",name:"Outdoor",description:"",variants:[{id:"outdoor-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"outdoor-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"WINTER",name:"Winter",description:"",variants:[{id:"winter-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"winter-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"SATELLITE",name:"Satellite",description:"",variants:[{id:"satellite",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"HYBRID",name:"Hybrid",description:"",variants:[{id:"hybrid",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"BASIC",name:"Basic",description:"",variants:[{id:"basic-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"basic-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"basic-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BRIGHT",name:"Bright",description:"",variants:[{id:"bright-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"bright-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"bright-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"bright-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OPENSTREETMAP",name:"OpenStreetMap",description:"",variants:[{id:"openstreetmap",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"TOPO",name:"Topo",description:"",variants:[{id:"topo-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"topo-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"topo-v2-shiny",name:"Shiny",variantType:"SHINY",description:"",imageURL:""},{id:"topo-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""},{id:"topo-v2-topographique",name:"Topographique",variantType:"TOPOGRAPHIQUE",description:"",imageURL:""}]},{referenceStyleID:"VOYAGER",name:"Voyager",description:"",variants:[{id:"voyager-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"voyager-v2-darkmatter",name:"Darkmatter",variantType:"DARK",description:"",imageURL:""},{id:"voyager-v2-positron",name:"Positron",variantType:"LIGHT",description:"",imageURL:""},{id:"voyager-v2-vintage",name:"Vintage",variantType:"VINTAGE",description:"",imageURL:""}]},{referenceStyleID:"TONER",name:"Toner",description:"",variants:[{id:"toner-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"toner-v2-background",name:"Background",variantType:"BACKGROUND",description:"",imageURL:""},{id:"toner-v2-lite",name:"Lite",variantType:"LITE",description:"",imageURL:""},{id:"toner-v2-lines",name:"Lines",variantType:"LINES",description:"",imageURL:""}]},{referenceStyleID:"DATAVIZ",name:"Dataviz",description:"",variants:[{id:"dataviz",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"dataviz-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"dataviz-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"OCEAN",name:"Ocean",description:"",variants:[{id:"ocean",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]}];function MZ(e){return new Proxy(e,{get(t,n,r){return t.hasVariant(n)?t.getVariant(n):n.toString().toUpperCase()===n?e.getDefaultVariant():Reflect.get(t,n,r)}})}function DZ(){const e={};for(let t=0;t<ow.length;t+=1){const n=ow[t],r=MZ(new kD(n.name,n.referenceStyleID));for(let i=0;i<n.variants.length;i+=1){const u=n.variants[i],d=new ID(u.name,u.variantType,u.id,r,u.description,u.imageURL);r.addVariant(d)}e[n.referenceStyleID]=r}return e}const zZ=DZ(),ou={AUTO:"auto",LATIN:"latin",NON_LATIN:"nonlatin",LOCAL:"",ALBANIAN:"sq",AMHARIC:"am",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BASQUE:"eu",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CORSICAN:"co",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HINDI:"hi",HUNGARIAN:"hu",ICELANDIC:"is",INDONESIAN:"id",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",JAPANESE_HIRAGANA:"ja-Hira",JAPANESE_KANA:"ja_kana",JAPANESE_LATIN:"ja_rm",JAPANESE_2018:"ja-Latn",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",KOREAN_LATIN:"ko-Latn",KURDISH:"ku",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALAYALAM:"ml",MALTESE:"mt",NORWEGIAN:"no",OCCITAN:"oc",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SERBIAN_LATIN:"sr-Latn",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",TAMIL:"ta",TELUGU:"te",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"},FZ=new Set(Object.values(ou));function FA(e){return FZ.has(e)}const NZ=new Set(Object.values(ou));function a1(){if(typeof navigator>"u")return Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0];const e=Array.from(new Set(navigator.languages.map(t=>t.split("-")[0]))).filter(t=>NZ.has(t));return e.length?e[0]:ou.LATIN}class BZ extends TZ{constructor(){super(),this.primaryLanguage=ou.AUTO,this.secondaryLanguage=null,this.session=!0,this._unit="metric",this._apiKey=""}set unit(t){this._unit=t,this.emit("unit",t)}get unit(){return this._unit}set apiKey(t){this._apiKey=t,Xf.apiKey=t,this.emit("apiKey",t)}get apiKey(){return this._apiKey}set fetch(t){Xf.fetch=t}get fetch(){return Xf.fetch}}const al=new BZ,Ko={maptilerLogoURL:"https://api.maptiler.com/resources/logo.svg",maptilerURL:"https://www.maptiler.com/",maptilerApiHost:"api.maptiler.com",rtlPluginURL:"https://cdn.maptiler.com/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.min.js",primaryLanguage:ou.AUTO,secondaryLanguage:ou.LOCAL,terrainSourceURL:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json",terrainSourceId:"maptiler-terrain"};Object.freeze(Ko);class UZ extends Tn.LogoControl{onAdd(t){return super.onAdd(t)}}class NA extends UZ{constructor(t={}){var n,r;super(t),this.logoURL="",this.linkURL="",this.logoURL=(n=t.logoURL)!=null?n:Ko.maptilerLogoURL,this.linkURL=(r=t.linkURL)!=null?r:Ko.maptilerURL}onAdd(t){this._map=t,this._compact=this.options&&this.options.compact,this._container=window.document.createElement("div"),this._container.className="maplibregl-ctrl";const n=window.document.createElement("a");return n.style.backgroundRepeat="no-repeat",n.style.cursor="pointer",n.style.display="block",n.style.height="23px",n.style.margin="0 0 -4px -4px",n.style.overflow="hidden",n.style.width="88px",n.style.backgroundImage=`url(${this.logoURL})`,n.style.backgroundSize="100px 30px",n.style.width="100px",n.style.height="30px",n.target="_blank",n.rel="noopener nofollow",n.href=this.linkURL,n.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),n.setAttribute("rel","noopener nofollow"),this._container.appendChild(n),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}}function VZ(){Tn.getRTLTextPluginStatus()==="unavailable"&&Tn.setRTLTextPlugin(Ko.rtlPluginURL,null,!0)}function $Z(e,t){e.forEach(n=>{t[n]&&(t[n]=t[n].bind(t))})}function mh(e,t,n){const r=window.document.createElement(e);return t!==void 0&&(r.className=t),n&&n.appendChild(r),r}function jZ(e){e.parentNode&&e.parentNode.removeChild(e)}function BA(e){return e?typeof e=="string"||e instanceof String?!e.startsWith("http")&&e.toLowerCase().includes(".json")?e:AD(e):e instanceof ID?e.getExpandedStyleURL():e instanceof kD?e.getDefaultVariant().getExpandedStyleURL():e:zZ[ow[0].referenceStyleID].getDefaultVariant().getExpandedStyleURL()}class qZ{constructor(){$Z(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=mh("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=mh("button","maplibregl-ctrl-terrain",this._container),mh("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){jZ(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}}class GZ extends Tn.NavigationControl{onAdd(t){return super.onAdd(t)}}class HZ extends GZ{constructor(){super({showCompass:!0,showZoom:!0,visualizePitch:!0}),this._compass.removeEventListener("click",this._compass.clickFunction),this._compass.addEventListener("click",t=>{this._map.getPitch()===0?this._map.easeTo({pitch:Math.min(this._map.getMaxPitch(),80)}):this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})}_createButton(t,n){const r=super._createButton(t,n);return r.clickFunction=n,r}_rotateCompassArrow(){const t=this.options.visualizePitch?`scale(${Math.min(1.5,1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5))}) rotateX(${Math.min(70,this._map.transform.pitch)}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=t}}class ZZ extends Tn.GeolocateControl{onAdd(t){return super.onAdd(t)}}var WZ=Object.defineProperty,KZ=Object.defineProperties,XZ=Object.getOwnPropertyDescriptors,UA=Object.getOwnPropertySymbols,YZ=Object.prototype.hasOwnProperty,QZ=Object.prototype.propertyIsEnumerable,VA=(e,t,n)=>t in e?WZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JZ=(e,t)=>{for(var n in t||(t={}))YZ.call(t,n)&&VA(e,n,t[n]);if(UA)for(var n of UA(t))QZ.call(t,n)&&VA(e,n,t[n]);return e},eW=(e,t)=>KZ(e,XZ(t));const $A=Tn.Marker,jA=Tn.LngLat;class tW extends ZZ{constructor(){super(...arguments),this.lastUpdatedCenter=new jA(0,0)}_updateCamera(t){const n=new jA(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),u=eW(JZ({bearing:i},this.options.fitBoundsOptions),{linear:!0}),d=this._map.getZoom();d>this.options.fitBoundsOptions.maxZoom&&(u.zoom=d),this._map.fitBounds(n.toBounds(r),u,{geolocateSource:!0});let l=!1;const y=()=>{l=!0};this._map.once("click",y),this._map.once("dblclick",y),this._map.once("dragstart",y),this._map.once("mousedown",y),this._map.once("touchstart",y),this._map.once("wheel",y),this._map.once("moveend",()=>{this._map.off("click",y),this._map.off("dblclick",y),this._map.off("dragstart",y),this._map.off("mousedown",y),this._map.off("touchstart",y),this._map.off("wheel",y),!l&&(this.lastUpdatedCenter=this._map.getCenter())})}_setupUI(t){if(this.lastUpdatedCenter=this._map.getCenter(),this._container.addEventListener("contextmenu",n=>n.preventDefault()),this._geolocateButton=mh("button","maplibregl-ctrl-geolocate",this._container),mh("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",t===!1){const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=mh("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new $A(this._dotElement),this._circleElement=mh("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new $A({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("move",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("moveend",n=>{const r=n.originalEvent&&n.originalEvent.type==="resize",i=this.lastUpdatedCenter.distanceTo(this._map.getCenter());!n.geolocateSource&&this._watchState==="ACTIVE_LOCK"&&!r&&i>1&&(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new Event("trackuserlocationend")))})}_updateCircleRadius(){if(this._watchState!=="BACKGROUND"&&this._watchState!=="ACTIVE_LOCK")return;const t=[this._lastKnownPosition.coords.longitude,this._lastKnownPosition.coords.latitude],n=this._map.project(t),r=this._map.unproject([n.x,n.y]),i=this._map.unproject([n.x+20,n.y]),u=r.distanceTo(i)/20,d=Math.ceil(2*this._accuracy/u);this._circleElement.style.width=`${d}px`,this._circleElement.style.height=`${d}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}}class nW extends Tn.AttributionControl{onAdd(t){return super.onAdd(t)}}class rW extends Tn.ScaleControl{onAdd(t){return super.onAdd(t)}}class iW extends Tn.FullscreenControl{onAdd(t){return super.onAdd(t)}}var oW=Object.defineProperty,aW=Object.defineProperties,sW=Object.getOwnPropertyDescriptors,qA=Object.getOwnPropertySymbols,lW=Object.prototype.hasOwnProperty,uW=Object.prototype.propertyIsEnumerable,GA=(e,t,n)=>t in e?oW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HA=(e,t)=>{for(var n in t||(t={}))lW.call(t,n)&&GA(e,n,t[n]);if(qA)for(var n of qA(t))uW.call(t,n)&&GA(e,n,t[n]);return e},ZA=(e,t)=>aW(e,sW(t)),dp=(e,t,n)=>new Promise((r,i)=>{var u=y=>{try{l(n.next(y))}catch(w){i(w)}},d=y=>{try{l(n.throw(y))}catch(w){i(w)}},l=y=>y.done?r(y.value):Promise.resolve(y.value).then(u,d);l((n=n.apply(e,t)).next())});const WA=vZ(),cW={POINT:"POINT",COUNTRY:"COUNTRY"};let iK=class extends Tn.Map{constructor(t){var n,r;t.apiKey&&(al.apiKey=t.apiKey);const i=BA(t.style),u=location.hash;al.apiKey||console.warn("MapTiler Cloud API key is not set. Visit https://maptiler.com and try Cloud for free!"),super(ZA(HA({},t),{style:i,maplibreLogo:!1,transformRequest:d=>{let l=null;try{l=new URL(d)}catch{return{url:d,headers:{}}}return l.host===Ko.maptilerApiHost&&(l.searchParams.has("key")||l.searchParams.append("key",al.apiKey),al.session&&l.searchParams.append("mtsid",WA)),{url:l.href,headers:{}}}})),this.isTerrainEnabled=!1,this.terrainExaggeration=1,this.primaryLanguage=null,this.secondaryLanguage=null,this.primaryLanguage=(n=t.language)!=null?n:al.primaryLanguage,this.secondaryLanguage=al.secondaryLanguage,this.once("styledata",()=>dp(this,null,function*(){if(!t.geolocate||t.center||t.hash&&u)return;try{if(t.geolocate===cW.COUNTRY){yield this.fitToIpBounds();return}}catch(y){console.warn(y.message)}let d=null;try{yield this.centerOnIpPoint(t.zoom),d=this.getCameraHash()}catch(y){console.warn(y.message)}(yield navigator.permissions.query({name:"geolocation"})).state==="granted"&&navigator.geolocation.getCurrentPosition(y=>{d===this.getCameraHash()&&this.easeTo({center:[y.coords.longitude,y.coords.latitude],zoom:t.zoom||12,duration:2e3})},null,{maximumAge:24*3600*1e3,timeout:5e3,enableHighAccuracy:!1})})),this.on("styledata",()=>{this.setPrimaryLanguage(this.primaryLanguage),this.setSecondaryLanguage(this.secondaryLanguage)}),this.on("styledata",()=>{this.getTerrain()===null&&this.isTerrainEnabled&&this.enableTerrain(this.terrainExaggeration)}),this.once("load",()=>dp(this,null,function*(){VZ()})),this.once("load",()=>dp(this,null,function*(){let d={logo:null};try{const l=Object.keys(this.style.sourceCaches).map(C=>this.getSource(C)).filter(C=>typeof C.url=="string"&&C.url.includes("tiles.json")),y=new URL(l[0].url);y.searchParams.has("key")||y.searchParams.append("key",al.apiKey),d=yield(yield fetch(y.href)).json()}catch{}if("logo"in d&&d.logo){const l=d.logo;this.addControl(new NA({logoURL:l}),t.logoPosition),t.attributionControl===!1&&this.addControl(new nW(t))}else t.maptilerLogo&&this.addControl(new NA,t.logoPosition);if(t.scaleControl){const l=t.scaleControl===!0||t.scaleControl===void 0?"bottom-right":t.scaleControl,y=new rW({unit:al.unit});this.addControl(y,l),al.on("unit",w=>{y.setUnit(w)})}if(t.navigationControl!==!1){const l=t.navigationControl===!0||t.navigationControl===void 0?"top-right":t.navigationControl;this.addControl(new HZ,l)}if(t.geolocateControl!==!1){const l=t.geolocateControl===!0||t.geolocateControl===void 0?"top-right":t.geolocateControl;this.addControl(new tW({positionOptions:{enableHighAccuracy:!0,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!0,showAccuracyCircle:!0,showUserLocation:!0}),l)}if(t.terrainControl){const l=t.terrainControl===!0||t.terrainControl===void 0?"top-right":t.terrainControl;this.addControl(new qZ,l)}if(t.fullscreenControl){const l=t.fullscreenControl===!0||t.fullscreenControl===void 0?"top-right":t.fullscreenControl;this.addControl(new iW({}),l)}})),t.terrain&&this.enableTerrain((r=t.terrainExaggeration)!=null?r:this.terrainExaggeration)}setStyle(t,n){return super.setStyle(BA(t),n)}setLanguage(t=Ko.primaryLanguage){if(t===ou.AUTO)return this.setLanguage(a1());this.setPrimaryLanguage(t)}setPrimaryLanguage(t=Ko.primaryLanguage){FA(t)&&(this.primaryLanguage=t,this.onStyleReady(()=>{if(t===ou.AUTO)return this.setPrimaryLanguage(a1());const n=this.getStyle().layers,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,i=/^\s*name\s*(:\s*(\S*))?\s*$/,u=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/,d=/^(.*)({\s*name\s*(:\s*(\S*))?\s*})(.*)$/,l=t?`name:${t}`:"name",y=["case",["has",l],["get",l],["get","name:latin"]];for(let w=0;w<n.length;w+=1){const C=n[w],P=C.layout;if(!P||!P["text-field"])continue;const O=this.getLayoutProperty(C.id,"text-field");let I;if(Array.isArray(O)&&O.length>=2&&O[0].trim().toLowerCase()==="concat"){const F=O.slice();for(let V=0;V<O.length;V+=1){const Z=O[V];if((typeof Z=="string"||Z instanceof String)&&r.exec(Z.toString())){F[V]=y;break}else if(Array.isArray(Z)&&Z.length>=2&&Z[0].trim().toLowerCase()==="get"&&i.exec(Z[1].toString())){F[V]=y;break}else if(Array.isArray(Z)&&Z.length===4&&Z[0].trim().toLowerCase()==="case"){F[V]=y;break}}this.setLayoutProperty(C.id,"text-field",F)}else if(Array.isArray(O)&&O.length>=2&&O[0].trim().toLowerCase()==="get"&&i.exec(O[1].toString())){const F=y;this.setLayoutProperty(C.id,"text-field",F)}else if((typeof O=="string"||O instanceof String)&&r.exec(O.toString())){const F=y;this.setLayoutProperty(C.id,"text-field",F)}else if(Array.isArray(O)&&O.length===4&&O[0].trim().toLowerCase()==="case"){const F=y;this.setLayoutProperty(C.id,"text-field",F)}else if((typeof O=="string"||O instanceof String)&&(I=u.exec(O.toString()))!==null){const F=`{${l}}${I[3]}{name${I[4]||""}}`;this.setLayoutProperty(C.id,"text-field",F)}else if((typeof O=="string"||O instanceof String)&&(I=d.exec(O.toString()))!==null){const F=`${I[1]}{${l}}${I[5]}`;this.setLayoutProperty(C.id,"text-field",F)}}}))}setSecondaryLanguage(t=Ko.secondaryLanguage){FA(t)&&(this.secondaryLanguage=t,this.onStyleReady(()=>{if(t===ou.AUTO)return this.setSecondaryLanguage(a1());const n=this.getStyle().layers,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,i=/^\s*name\s*(:\s*(\S*))?\s*$/,u=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/;let d;for(let l=0;l<n.length;l+=1){const y=n[l],w=y.layout;if(!w||!w["text-field"])continue;const C=this.getLayoutProperty(y.id,"text-field");let P;if(Array.isArray(C)&&C.length>=2&&C[0].trim().toLowerCase()==="concat"){P=C.slice();let O=0;for(let I=0;I<C.length;I+=1){const F=C[I];if((typeof F=="string"||F instanceof String)&&r.exec(F.toString())){if(O===1){P[I]=`{name:${t}}`;break}O+=1}else if(Array.isArray(F)&&F.length>=2&&F[0].trim().toLowerCase()==="get"&&i.exec(F[1].toString())){if(O===1){P[I][1]=`name:${t}`;break}O+=1}else if(Array.isArray(F)&&F.length===4&&F[0].trim().toLowerCase()==="case"){if(O===1){P[I]=["get",`name:${t}`];break}O+=1}}this.setLayoutProperty(y.id,"text-field",P)}else if((typeof C=="string"||C instanceof String)&&(d=u.exec(C.toString()))!==null){const O=t?`name:${t}`:"name";P=`{name${d[1]||""}}${d[3]}{${O}}`,this.setLayoutProperty(y.id,"text-field",P)}}}))}getPrimaryLanguage(){return this.primaryLanguage}getSecondaryLanguage(){return this.secondaryLanguage}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}enableTerrain(t=this.terrainExaggeration){if(t<0){console.warn("Terrain exaggeration cannot be negative.");return}const n=this.getTerrain(),r=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=t,this.addSource(Ko.terrainSourceId,{type:"raster-dem",url:Ko.terrainSourceURL}),this.setTerrain({source:Ko.terrainSourceId,exaggeration:t})};if(n){this.setTerrain(ZA(HA({},n),{exaggeration:t}));return}this.loaded()||this.isTerrainEnabled?r():this.once("load",()=>{this.getTerrain()&&this.getSource(Ko.terrainSourceId)||r()})}disableTerrain(){this.isTerrainEnabled=!1,this.setTerrain(null),this.getSource(Ko.terrainSourceId)&&this.removeSource(Ko.terrainSourceId)}setTerrainExaggeration(t){this.enableTerrain(t)}onStyleReady(t){this.isStyleLoaded()?t():this.once("styledata",()=>{t()})}fitToIpBounds(){return dp(this,null,function*(){const t=yield zA.info();this.fitBounds(t.country_bounds,{duration:0,padding:100})})}centerOnIpPoint(t){return dp(this,null,function*(){const n=yield zA.info();this.jumpTo({center:[n.longitude,n.latitude],zoom:t||11})})}getCameraHash(){const t=new Float32Array(5),n=this.getCenter();return t[0]=n.lng,t[1]=n.lat,t[2]=this.getZoom(),t[3]=this.getPitch(),t[4]=this.getBearing(),fZ.fromUint8Array(new Uint8Array(t.buffer))}getSdkConfig(){return al}getMaptilerSessionId(){return WA}};class aK extends Tn.Marker{addTo(t){return super.addTo(t)}}class sK extends Tn.Popup{addTo(t){return super.addTo(t)}}class lK extends Tn.Style{constructor(t,n={}){super(t,n)}}class uK extends Tn.CanvasSource{onAdd(t){super.onAdd(t)}}class cK extends Tn.GeoJSONSource{onAdd(t){super.onAdd(t)}}class hK extends Tn.ImageSource{onAdd(t){super.onAdd(t)}}class fK extends Tn.RasterTileSource{onAdd(t){super.onAdd(t)}}class dK extends Tn.RasterDEMTileSource{onAdd(t){super.onAdd(t)}}class pK extends Tn.VectorTileSource{onAdd(t){super.onAdd(t)}}class mK extends Tn.VideoSource{onAdd(t){super.onAdd(t)}}class gK extends Tn.TerrainControl{onAdd(t){return super.onAdd(t)}}Tn.Map;Tn.Marker;Tn.Popup;Tn.Style;Tn.CanvasSource;Tn.GeoJSONSource;Tn.ImageSource;Tn.RasterTileSource;Tn.RasterDEMTileSource;Tn.VectorTileSource;Tn.VideoSource;Tn.NavigationControl;Tn.GeolocateControl;Tn.AttributionControl;Tn.LogoControl;Tn.ScaleControl;Tn.FullscreenControl;Tn.TerrainControl;var OD={},LD={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},hW=LD;function RD(e){this.mode=hW.MODE_8BIT_BYTE,this.data=e}RD.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var fW=RD,MD={L:1,M:0,Q:3,H:2},sv=MD;function fl(e,t){this.totalCount=e,this.dataCount=t}fl.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];fl.getRSBlocks=function(e,t){var n=fl.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=new Array,u=0;u<r;u++)for(var d=n[u*3+0],l=n[u*3+1],y=n[u*3+2],w=0;w<d;w++)i.push(new fl(l,y));return i};fl.getRsBlockTable=function(e,t){switch(t){case sv.L:return fl.RS_BLOCK_TABLE[(e-1)*4+0];case sv.M:return fl.RS_BLOCK_TABLE[(e-1)*4+1];case sv.Q:return fl.RS_BLOCK_TABLE[(e-1)*4+2];case sv.H:return fl.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var dW=fl;function DD(){this.buffer=new Array,this.length=0}DD.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var pW=DD,Is={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Is.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Is.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Zi=0;Zi<8;Zi++)Is.EXP_TABLE[Zi]=1<<Zi;for(var Zi=8;Zi<256;Zi++)Is.EXP_TABLE[Zi]=Is.EXP_TABLE[Zi-4]^Is.EXP_TABLE[Zi-5]^Is.EXP_TABLE[Zi-6]^Is.EXP_TABLE[Zi-8];for(var Zi=0;Zi<255;Zi++)Is.LOG_TABLE[Is.EXP_TABLE[Zi]]=Zi;var zD=Is,ah=zD;function Vv(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}Vv.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=ah.gexp(ah.glog(this.get(n))+ah.glog(e.get(r)));return new Vv(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=ah.glog(this.get(0))-ah.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=ah.gexp(ah.glog(e.get(r))+t);return new Vv(n,0).mod(e)}};var FD=Vv,qa=LD,KA=FD,mW=zD,ju={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Vi={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Vi.getBCHDigit(t)-Vi.getBCHDigit(Vi.G15)>=0;)t^=Vi.G15<<Vi.getBCHDigit(t)-Vi.getBCHDigit(Vi.G15);return(e<<10|t)^Vi.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Vi.getBCHDigit(t)-Vi.getBCHDigit(Vi.G18)>=0;)t^=Vi.G18<<Vi.getBCHDigit(t)-Vi.getBCHDigit(Vi.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Vi.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case ju.PATTERN000:return(t+n)%2==0;case ju.PATTERN001:return t%2==0;case ju.PATTERN010:return n%3==0;case ju.PATTERN011:return(t+n)%3==0;case ju.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case ju.PATTERN101:return t*n%2+t*n%3==0;case ju.PATTERN110:return(t*n%2+t*n%3)%2==0;case ju.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new KA([1],0),n=0;n<e;n++)t=t.multiply(new KA([1,mW.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case qa.MODE_NUMBER:return 10;case qa.MODE_ALPHA_NUM:return 9;case qa.MODE_8BIT_BYTE:return 8;case qa.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case qa.MODE_NUMBER:return 12;case qa.MODE_ALPHA_NUM:return 11;case qa.MODE_8BIT_BYTE:return 16;case qa.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case qa.MODE_NUMBER:return 14;case qa.MODE_ALPHA_NUM:return 13;case qa.MODE_8BIT_BYTE:return 16;case qa.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var u=0,d=e.isDark(r,i),l=-1;l<=1;l++)if(!(r+l<0||t<=r+l))for(var y=-1;y<=1;y++)i+y<0||t<=i+y||l==0&&y==0||d==e.isDark(r+l,i+y)&&u++;u>5&&(n+=3+u-5)}for(var r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var w=0;e.isDark(r,i)&&w++,e.isDark(r+1,i)&&w++,e.isDark(r,i+1)&&w++,e.isDark(r+1,i+1)&&w++,(w==0||w==4)&&(n+=3)}for(var r=0;r<t;r++)for(var i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(var i=0;i<t;i++)for(var r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);for(var C=0,i=0;i<t;i++)for(var r=0;r<t;r++)e.isDark(r,i)&&C++;var P=Math.abs(100*C/t/t-50)/5;return n+=P*10,n}},gW=Vi,vW=fW,ND=dW,BD=pW,kc=gW,yW=FD;function ml(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Oa=ml.prototype;Oa.addData=function(e){var t=new vW(e);this.dataList.push(t),this.dataCache=null};Oa.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Oa.getModuleCount=function(){return this.moduleCount};Oa.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=ND.getRSBlocks(e,this.errorCorrectLevel),n=new BD,r=0,i=0;i<t.length;i++)r+=t[i].dataCount;for(var i=0;i<this.dataList.length;i++){var u=this.dataList[i];n.put(u.mode,4),n.put(u.getLength(),kc.getLengthInBits(u.mode,e)),u.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Oa.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=ml.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Oa.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};Oa.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=kc.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};Oa.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),i=1;this.make();for(var u=0;u<this.modules.length;u++)for(var d=u*i,l=0;l<this.modules[u].length;l++){var y=l*i,w=this.modules[u][l];w&&(r.beginFill(0,100),r.moveTo(y,d),r.lineTo(y+i,d),r.lineTo(y+i,d+i),r.lineTo(y,d+i),r.endFill())}return r};Oa.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Oa.setupPositionAdjustPattern=function(){for(var e=kc.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(this.modules[r][i]==null)for(var u=-2;u<=2;u++)for(var d=-2;d<=2;d++)u==-2||u==2||d==-2||d==2||u==0&&d==0?this.modules[r+u][i+d]=!0:this.modules[r+u][i+d]=!1}};Oa.setupTypeNumber=function(e){for(var t=kc.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};Oa.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=kc.getBCHTypeInfo(n),i=0;i<15;i++){var u=!e&&(r>>i&1)==1;i<6?this.modules[i][8]=u:i<8?this.modules[i+1][8]=u:this.modules[this.moduleCount-15+i][8]=u}for(var i=0;i<15;i++){var u=!e&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=u:i<9?this.modules[8][15-i-1+1]=u:this.modules[8][15-i-1]=u}this.modules[this.moduleCount-8][8]=!e};Oa.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,u=0,d=this.moduleCount-1;d>0;d-=2)for(d==6&&d--;;){for(var l=0;l<2;l++)if(this.modules[r][d-l]==null){var y=!1;u<e.length&&(y=(e[u]>>>i&1)==1);var w=kc.getMask(t,r,d-l);w&&(y=!y),this.modules[r][d-l]=y,i--,i==-1&&(u++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};ml.PAD0=236;ml.PAD1=17;ml.createData=function(e,t,n){for(var r=ND.getRSBlocks(e,t),i=new BD,u=0;u<n.length;u++){var d=n[u];i.put(d.mode,4),i.put(d.getLength(),kc.getLengthInBits(d.mode,e)),d.write(i)}for(var l=0,u=0;u<r.length;u++)l+=r[u].dataCount;if(i.getLengthInBits()>l*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+l*8+")");for(i.getLengthInBits()+4<=l*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=l*8||(i.put(ml.PAD0,8),i.getLengthInBits()>=l*8));)i.put(ml.PAD1,8);return ml.createBytes(i,r)};ml.createBytes=function(e,t){for(var n=0,r=0,i=0,u=new Array(t.length),d=new Array(t.length),l=0;l<t.length;l++){var y=t[l].dataCount,w=t[l].totalCount-y;r=Math.max(r,y),i=Math.max(i,w),u[l]=new Array(y);for(var C=0;C<u[l].length;C++)u[l][C]=255&e.buffer[C+n];n+=y;var P=kc.getErrorCorrectPolynomial(w),O=new yW(u[l],P.getLength()-1),I=O.mod(P);d[l]=new Array(P.getLength()-1);for(var C=0;C<d[l].length;C++){var F=C+I.getLength()-d[l].length;d[l][C]=F>=0?I.get(F):0}}for(var V=0,C=0;C<t.length;C++)V+=t[C].totalCount;for(var Z=new Array(V),U=0,C=0;C<r;C++)for(var l=0;l<t.length;l++)C<u[l].length&&(Z[U++]=u[l][C]);for(var C=0;C<i;C++)for(var l=0;l<t.length;l++)C<d[l].length&&(Z[U++]=d[l][C]);return Z};var _W=ml,YS={};Object.defineProperty(YS,"__esModule",{value:!0});var xW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bW=q_,Ga=VD(bW),UD=ce,lv=VD(UD);function VD(e){return e&&e.__esModule?e:{default:e}}function wW(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var SW={bgColor:Ga.default.oneOfType([Ga.default.object,Ga.default.string]).isRequired,bgD:Ga.default.string.isRequired,fgColor:Ga.default.oneOfType([Ga.default.object,Ga.default.string]).isRequired,fgD:Ga.default.string.isRequired,size:Ga.default.number.isRequired,title:Ga.default.string,viewBoxSize:Ga.default.number.isRequired,xmlns:Ga.default.string},EW={title:void 0,xmlns:"http://www.w3.org/2000/svg"},l0=(0,UD.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,i=e.fgD,u=e.fgColor,d=e.size,l=e.title,y=e.viewBoxSize,w=wW(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return lv.default.createElement("svg",xW({},w,{height:d,ref:t,viewBox:"0 0 "+y+" "+y,width:d}),l?lv.default.createElement("title",null,l):null,lv.default.createElement("path",{d:r,fill:n}),lv.default.createElement("path",{d:i,fill:u}))});l0.displayName="QRCodeSvg";l0.propTypes=SW;l0.defaultProps=EW;YS.default=l0;Object.defineProperty(OD,"__esModule",{value:!0});var TW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CW=_W,PW=Zm(CW),AW=MD,IW=Zm(AW),kW=q_,Kl=Zm(kW),$D=ce,OW=Zm($D),LW=YS,RW=Zm(LW);function Zm(e){return e&&e.__esModule?e:{default:e}}function MW(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var DW={bgColor:Kl.default.oneOfType([Kl.default.object,Kl.default.string]),fgColor:Kl.default.oneOfType([Kl.default.object,Kl.default.string]),level:Kl.default.string,size:Kl.default.number,value:Kl.default.string.isRequired},zW={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},u0=(0,$D.forwardRef)(function(e,t){var n=e.bgColor,r=e.fgColor,i=e.level,u=e.size,d=e.value,l=MW(e,["bgColor","fgColor","level","size","value"]),y=new PW.default(-1,IW.default[i]);y.addData(d),y.make();var w=y.modules;return OW.default.createElement(RW.default,TW({},l,{bgColor:n,bgD:w.map(function(C,P){return C.map(function(O,I){return O?"":"M "+I+" "+P+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:r,fgD:w.map(function(C,P){return C.map(function(O,I){return O?"M "+I+" "+P+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:u,viewBoxSize:w.length}))});u0.displayName="QRCode";u0.propTypes=DW;u0.defaultProps=zW;var vK=OD.default=u0;export{CV as A,WW as B,X5 as C,eK as J,KW as L,aK as M,NW as P,HW as R,YW as S,vK as _,jW as a,$W as b,sf as c,UW as d,BW as e,VW as f,qW as g,BF as h,No as i,FW as j,XW as k,iL as l,tK as m,nK as n,Er as o,sR as p,rK as q,ce as r,X$ as s,QW as t,SF as u,al as v,iK as w,zZ as x,GW as y,ZW as z};
